<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Alan&#39;s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Alan&#39;s Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Alan&#39;s Blog" href="/opensearch.xml">
<script src="/scripts/baidu.js"></script>
<script src="/scripts/bing-clarity.js"></script><title data-rh="true">Work Queues  -  Alan&#x27;s Blog</title><meta data-rh="true" name="baidu-site-verification" content="code-7RGpEH8jty"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.alanwei.com/docs/articles/rabbitmq-guide/WorkQueues/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Work Queues  -  Alan&#x27;s Blog"><meta data-rh="true" name="description" content="è‹±æ–‡åŸæ–‡"><meta data-rh="true" property="og:description" content="è‹±æ–‡åŸæ–‡"><meta data-rh="true" name="keywords" content="rabbitmq"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://blog.alanwei.com/docs/articles/rabbitmq-guide/WorkQueues/"><link data-rh="true" rel="alternate" href="https://blog.alanwei.com/docs/articles/rabbitmq-guide/WorkQueues/" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.alanwei.com/docs/articles/rabbitmq-guide/WorkQueues/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://7SQ6A6EP36-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.3fbf6686.css">
<link rel="preload" href="/assets/js/runtime~main.2ec1e6ac.js" as="script">
<link rel="preload" href="/assets/js/main.d94ec805.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_aKYr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.png" alt="logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Alan&#x27;s Blog</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/blog/">åšå®¢</a><a class="navbar__item navbar__link" href="/me/">å…³äºæˆ‘</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/alanwei43" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y sidebarWithHideableNavbar_FoYL"><a tabindex="-1" class="sidebarLogo_FJUI" href="/"><img src="/img/logo.png" alt="logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.png" alt="logo" class="themedImage_W2Cr themedImage--dark_oUvU"><b>Alan&#x27;s Blog</b></a><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">æˆ‘çš„æ–‡æ¡£åˆ—è¡¨</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/docs/articles/">ç³»åˆ—æ–‡ç« </a><button aria-label="Toggle the collapsible sidebar category &#x27;ç³»åˆ—æ–‡ç« &#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/articles/es6-in-depth/introduction/">æ·±å…¥æµ…å‡ºES6</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/articles/okhttp-guide/overview/">OkHttp ç®€ä»‹</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/articles/rabbitmq-guide/install/">RabbitMQ ç®€ä»‹</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/rabbitmq-guide/install/">å®‰è£…</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/rabbitmq-guide/hello-world/">Hello World</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/articles/rabbitmq-guide/WorkQueues/">Work Queues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/rabbitmq-guide/Publish-Subscribe/">Publish/Subscribe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/rabbitmq-guide/Routing/">Routing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/rabbitmq-guide/Topic/">Topics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/rabbitmq-guide/RPC/">Remote procedure call (RPC)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/articles/why-java-sucks-and-csharp-rocks/compare-purpose/">Why Java Sucks and C# Rocks</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/archives/">åšæ–‡å½’æ¡£</a><button aria-label="Toggle the collapsible sidebar category &#x27;åšæ–‡å½’æ¡£&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/reading/">é˜…è¯»ç¬”è®°</a><button aria-label="Toggle the collapsible sidebar category &#x27;é˜…è¯»ç¬”è®°&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/guides/api/client/">Docusaurusæ–‡æ¡£ç¿»è¯‘</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_cwdi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_xORG"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/">ğŸ </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/articles/">ç³»åˆ—æ–‡ç« </a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">RabbitMQ ç®€ä»‹</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/articles/rabbitmq-guide/WorkQueues/">Work Queues</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Work Queues</h1></header><p><a href="http://www.rabbitmq.com/tutorials/tutorial-two-dotnet.html" target="_blank" rel="noopener noreferrer">è‹±æ–‡åŸæ–‡</a></p><p>åœ¨<a href="https://github.com/Allen-Wei/GitBlog/blob/master/RabbitMQ/RabbitMQ-Tutorials-1-HelloWorld.md" target="_blank" rel="noopener noreferrer">ç¬¬ä¸€ç¯‡æ•™ç¨‹</a>é‡Œï¼Œæˆ‘ä»¬å†™äº†ä»å·²å‘½åé˜Ÿåˆ—å‘é€å’Œæ¥æ”¶æ¶ˆæ¯çš„ç¨‹åºã€‚åœ¨è¿™ç¯‡æ•™ç¨‹é‡Œï¼Œæˆ‘ä»¬å°†åˆ›å»ºå·¥ä½œé˜Ÿåˆ—åœ¨å¤šä¸ªå·¥ä½œè€…ä¸Šåˆ†å‘è€—æ—¶ä»»åŠ¡ã€‚</p><p>å·¥ä½œé˜Ÿåˆ—ï¼ˆä¹Ÿç§°ä»»åŠ¡é˜Ÿåˆ—ï¼‰çš„ä¸»è¦ç›®çš„æ˜¯é¿å…ç«‹å³æ‰§è¡Œèµ„æºå¯†é›†å‹ä»»åŠ¡è€Œä¸”å¿…é¡»ç­‰å¾…å®Œæˆã€‚ç›¸åæˆ‘ä»¬æ¨è¿Ÿä»»åŠ¡æ‰§è¡Œã€‚æˆ‘ä»¬æŠŠä¸€ä¸ªä»»åŠ¡å°è£…æˆæ¶ˆæ¯ï¼Œå‘é€åˆ°ä¸€ä¸ªé˜Ÿåˆ—ã€‚ä¸€ä¸ªå·¥ä½œè€…è¿›ç¨‹åœ¨åå°å®Œæˆä»»åŠ¡ã€‚å½“ä½ è¿è¡Œå¤šä¸ªå·¥ä½œè€…è¿›ç¨‹æ—¶ï¼Œä»»åŠ¡ä¼šè¢«åœ¨ä»–ä»¬ä¹‹é—´å…±äº«ã€‚</p><p>ä¸Šé¢æè¿°çš„æ¦‚å¿µï¼Œåœ¨çŸ­æš‚çš„HTTPè¯·æ±‚æœŸé—´å¯èƒ½è¦å¤„ç†å¤æ‚ä»»åŠ¡çš„Webç¨‹åºé‡Œå°¤å…¶æœ‰ç”¨ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="preparation">Preparation<a class="hash-link" href="#preparation" title="Direct link to heading">â€‹</a></h2><p>åœ¨è¿™ä¸ªæ•™ç¨‹çš„ä¸Šä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å‘é€äº†åŒ…å«â€œhello worldâ€çš„æ¶ˆæ¯ã€‚ç°åœ¨æˆ‘ä»¬å°†è¦å‘é€ä»£è¡¨å¤æ‚ä»»åŠ¡çš„å­—ç¬¦ä¸²ã€‚ æˆ‘ä»¬æ²¡æœ‰çœŸå®ç¯å¢ƒçš„ä»»åŠ¡ï¼Œæ¯”å¦‚å›¾ç‰‡å°ºå¯¸å¤„ç†æˆ–è€…pdfæ–‡ä»¶æ¸²æŸ“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨Thread.Sleepæ¥æ¨¡æ‹Ÿæˆ‘ä»¬å¾ˆå¿™çš„æ„å›¾ã€‚æˆ‘ä»¬ç”¨å­—ç¬¦ä¸²ä¸­çš„ç‚¹è¡¨ç¤ºå¤æ‚åº¦ï¼Œæ¯ä¸€ä¸ªç‚¹ä»£è¡¨ä¸€ç§’çš„å·¥ä½œé‡ã€‚æ¯”å¦‚æˆ‘ä»¬ä½¿ç”¨ <code>Hello...</code> æ¨¡æ‹Ÿä»»åŠ¡ï¼Œå°±ä»£è¡¨ä¸‰ç§’é’Ÿçš„ä»»åŠ¡ã€‚</p><p>æˆ‘ä»¬ä»æˆ‘ä»¬ä¹‹å‰çš„ä¾‹å­é‡Œç¨å¾®ä¿®æ”¹ä¸€ä¸‹Send.csä»£ç ï¼Œå…è®¸ä»å‘½ä»¤è¡Œå‘é€ä»»æ„æ¶ˆæ¯ã€‚è¿™ä¸ªç¨‹åºå°†ä¼šè®¡åˆ’ä»»åŠ¡åˆ°æˆ‘ä»¬çš„é˜Ÿåˆ—é‡Œï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æŠŠå®ƒå‘½åä¸º <code>NewTsk.cs</code>:</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var message = GetMessage(args);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var body = Encoding.UTF8.GetBytes(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var properties = channel.CreateBasicProperties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">properties.SetPersistent(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">channel.BasicPublish(exchange: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        routingKey: &quot;task_queue&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        basicProperties: properties,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        body: body);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¸€ä¸ªä»å‘½ä»¤è¡Œå‚æ•°è·å–ä¿¡æ¯çš„å®ç”¨æ–¹æ³•:</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">private static string GetMessage(string[] args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return ((args.Length &gt; 0) ? string.Join(&quot; &quot;, args) : &quot;Hello World!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æˆ‘ä»¬çš„ <em>Receive.cs</em> ä¹Ÿéœ€è¦åšä¸€äº›ä¿®æ”¹ï¼šå®ƒéœ€è¦ä¸ºæ¶ˆæ¯å†…å®¹é‡Œçš„æ¯ä¸ªç‚¹æ¨¡æ‹Ÿä¸€ç§’é’Ÿçš„å·¥ä½œé‡ã€‚å®ƒä¼šå¤„ç†ç»ç”±RabbitMQé€’é€çš„æ¶ˆæ¯å’Œæ‰§è¡Œä»»åŠ¡ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å«åš <code>Worker.cs</code> :</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var consumer = new EventingBasicConsumer(channel);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">consumer.Received += (model, ea) =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var body = ea.Body;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var message = Encoding.UTF8.GetString(body);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Console.WriteLine(&quot; [x] Received {0}&quot;, message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int dots = message.Split(&#x27;.&#x27;).Length - 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Thread.Sleep(dots * 1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Console.WriteLine(&quot; [x] Done&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    channel.BasicAck(deliveryTag: ea.DeliveryTag, multiple: false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">channel.BasicConsume(queue: &quot;task_queue&quot;, noAck: false, consumer: consumer);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æˆ‘ä»¬çš„ä¼ªè£…ä»»åŠ¡ä½¿ç”¨ä»¥ä¸‹ä»£ç æ¨¡æ‹Ÿæ‰§è¡Œæ—¶é—´ï¼š</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">int dots = message.Split(&#x27;.&#x27;).Length - 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Thread.Sleep(dots * 1000);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åƒæ•™ç¨‹ä¸€é‚£æ ·ç¼–è¯‘å®ƒä»¬ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ csc /r:</span><span class="token string" style="color:#e3116c">&quot;RabbitMQ.Client.dll&quot;</span><span class="token plain"> NewTask.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ csc /r:</span><span class="token string" style="color:#e3116c">&quot;RabbitMQ.Client.dll&quot;</span><span class="token plain"> Worker.cs</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="round-robin-dispatching">Round-robin dispatching<a class="hash-link" href="#round-robin-dispatching" title="Direct link to heading">â€‹</a></h2><p>ä½¿ç”¨ä»»åŠ¡é˜Ÿåˆ—çš„å…¶ä¸­ä¸€ä¸ªä¼˜ç‚¹å°±æ˜¯å¾ˆå®¹æ˜“å°±èƒ½è¿›è¡Œå¹¶è¡Œä»»åŠ¡ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåå°æ—¥å¿—ï¼Œæˆ‘ä»¬åªéœ€è¦æ·»åŠ æ›´å¤šçš„å·¥ä½œè€…è¿›ç¨‹ï¼Œæå…¶å®¹æ˜“ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¯•ç€åœ¨ç›¸åŒçš„æ—¶é—´è¿è¡Œä¸¤ä¸ª<code>Worker.cs</code>è„šæœ¬ï¼Œå®ƒä»¬ä¸¤ä¸ªéƒ½ä¼šä»é˜Ÿåˆ—ä¸­è·å–æ¶ˆæ¯ï¼Œä½†æ˜¯ç¡®åˆ‡æ˜¯æ€æ ·çš„å‘¢ï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹ï¼š</p><p>ä½ éœ€è¦æ‰“å¼€ä¸‰ä¸ªæ§åˆ¶å°ï¼Œä¸¤ä¸ªè¿è¡Œ<code>Worker.cs</code>è„šæœ¬ï¼Œè¿™ä¸¤ä¸ªå°±æ˜¯æˆ‘ä»¬çš„ä¸¤ä¸ªæ¶ˆè´¹è€… C1å’ŒC2.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">shell1$ Worker.exe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [*] Waiting for messages. To exit press CTRL+C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shell2$ Worker.exe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [*] Waiting for messages. To exit press CTRL+C</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åœ¨ç¬¬ä¸‰ä¸ªæ§åˆ¶å° æˆ‘ä»¬å‘å¸ƒæ¶ˆæ¯ã€‚ä¸€æ—¦ä½ å¼€å§‹äº†æ¶ˆè´¹è€…è¿›ç¨‹ï¼Œä½ å°±å¯ä»¥å‘å¸ƒæ¶ˆæ¯äº†ï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">shell3$ NewTask.exe First message.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shell3$ NewTask.exe Second message..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shell3$ NewTask.exe Third message...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shell3$ NewTask.exe Fourth message....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shell3$ NewTask.exe Fifth message.....</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è®©æˆ‘ä»¬çœ‹çœ‹éƒ½æœ‰ä»€ä¹ˆåˆ°è¾¾äº†æˆ‘ä»¬çš„å·¥ä½œè€…è¿›ç¨‹: </p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">shell1$ Worker.exe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [*] Waiting for messages. To exit press CTRL+C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [x] Received &#x27;First message.&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [x] Received &#x27;Third message...&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [x] Received &#x27;Fifth message.....&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shell2$ Worker.exe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [*] Waiting for messages. To exit press CTRL+C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [x] Received &#x27;Second message..&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [x] Received &#x27;Fourth message....&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>RabbitMQé»˜è®¤ä¼šå‘é€æ¯ä¸€ä¸ªæ¶ˆæ¯ç»™ä¸‹ä¸€ä¸ªé˜Ÿåˆ—ä¸­çš„æ¶ˆè´¹è€…ã€‚å¹³å‡æ¯ä¸ªæ¶ˆè´¹è€…éƒ½èƒ½è·å–ç›¸åŒæ•°é‡çš„æ¶ˆæ¯ã€‚è¿™ç§åˆ†å‘æ¶ˆæ¯çš„æ–¹å¼å«round-robin. å°è¯•ä¸‰ä¸ªæˆ–æ›´å¤šçš„å·¥ä½œè€…è¿›ç¨‹ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="message-acknowledgment">Message acknowledgment<a class="hash-link" href="#message-acknowledgment" title="Direct link to heading">â€‹</a></h2><p>å®Œæˆä¸€ä¸ªä»»åŠ¡åªéœ€æ•°ç§’ã€‚ä½ ä¹Ÿè®¸æƒ³çŸ¥é“å¦‚æœå…¶ä¸­ä¸€ä¸ªæ¶ˆè´¹è€…è¿›ç¨‹å¼€å§‹ä¸€ä¸ªè€—æ—¶ä»»åŠ¡ï¼Œåœ¨ä»…éƒ¨åˆ†å®Œæˆçš„æ—¶å€™æ­»å»äº†ä¼šå‘ç”Ÿä»€ä¹ˆã€‚å¯¹äºæˆ‘ä»¬å½“å‰çš„ä»£ç ï¼Œä¸€æ—¦RabbitMQå°†æ¶ˆæ¯é€’é€åˆ°æ¶ˆè´¹è€…ï¼Œå°±ä¼šç«‹å³å°†æ¶ˆæ¯ä»å†…å­˜ä¸­ç§»é™¤ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä½ æ€æ­»ä¸€ä¸ªå·¥ä½œè€…è¿›ç¨‹ï¼Œä½ å°±ä¼šä¸¢å¤±é‚£æ¡æ¶ˆæ¯ã€‚æˆ‘ä»¬ä¹Ÿä¼šä¸¢å¤±æ‰€æœ‰åˆ†å‘åˆ°è¿™ä¸ªå·¥ä½œè€…è¿›ç¨‹ä½†å°šæœªå¤„ç†çš„æ¶ˆæ¯ã€‚</p><p>ä¸è¿‡æˆ‘ä»¬ä¸æƒ³ä¸¢å¤±ä»»ä½•ä»»åŠ¡ã€‚å¦‚æœä¸€ä¸ªå·¥ä½œè€…è¿›ç¨‹æ­»å»ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™ä¸ªä»»åŠ¡è¢«é€’é€åˆ°å…¶ä»–å·¥ä½œè€…è¿›ç¨‹ã€‚</p><p>ä¸ºäº†ä¿è¯æ¶ˆæ¯ä¸ä¼šä¸¢å¤±ï¼ŒRabbitMQæ”¯æŒæ¶ˆæ¯ç¡®è®¤ã€‚æ¶ˆè´¹è€…å‘é€å›ä¸€ä¸ªæ¶ˆæ¯ç¡®è®¤ï¼Œå‘Šè¯‰RabbitMQæŒ‡å®šçš„æ¶ˆæ¯è¢«æ¥æ”¶ï¼Œå¤„ç†ï¼ŒRabbitMQå¯ä»¥è‡ªç”±åˆ é™¤é‚£æ¡æ¶ˆæ¯äº†ã€‚</p><p>å¦‚æœä¸€ä¸ªæ¶ˆè´¹è€…æ²¡æœ‰å‘é€æ¶ˆæ¯ç¡®è®¤å°±æ­»å»ï¼ˆæ¯”å¦‚ä¿¡é“è¢«å…³é—­ï¼Œè¿æ¥è¢«å…³é—­ï¼Œæˆ–è€…TCPè¿æ¥ä¸¢å¤±ï¼‰ï¼ŒRabbitMQä¾¿çŸ¥é“æ¶ˆæ¯æ²¡æœ‰è¢«å®Œå…¨å¤„ç†ï¼Œç„¶åä¼šé‡æ–°åŠ å…¥é˜Ÿåˆ—ã€‚æ­¤æ—¶ï¼Œå¦‚æœæœ‰å…¶ä»–çš„æ¶ˆè´¹è€…åœ¨çº¿ï¼ŒRabbitMQå¾ˆå¿«é‡æ–°é€’é€æ¶ˆæ¯ç»™å…¶ä»–æ¶ˆè´¹è€…äº†ã€‚è¿™æ ·ä½ å°±å¯ä»¥ç¡®ä¿æ²¡æœ‰æ¶ˆæ¯ä¼šä¸¢å¤±ï¼Œç”šè‡³å·¥ä½œè€…è¿›ç¨‹å¶å°”ä¼šæ­»å»ã€‚</p><p>æ²¡æœ‰æ¶ˆæ¯ä¼šè¶…æ—¶ã€‚å½“æ¶ˆè´¹è€…æ­»å»çš„æ—¶å€™ï¼ŒRabbitMQä¼šé‡æ–°é€’é€æ¶ˆæ¯ã€‚è¿™æ˜¯éå¸¸å¥½çš„è®¾è®¡ï¼Œå³ä¾¿æ¶ˆæ¯å¤„ç†èŠ±è´¹äº†å¾ˆé•¿å¾ˆé•¿çš„æ—¶é—´ã€‚</p><p>æ¶ˆæ¯ç¡®è®¤é»˜è®¤æ˜¯å¼€å¯çš„ã€‚åœ¨ä¸Šä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è®¾ç½®å‚æ•°noAck(éæ‰‹åŠ¨ç¡®è®¤)çš„å€¼ä¸ºtrueæ˜¾å¼åœ°å…³é—­äº†æ¶ˆæ¯ç¡®è®¤åŠŸèƒ½ã€‚ä¸€æ—¦æˆ‘ä»¬å®Œæˆä»»åŠ¡ï¼Œéœ€è¦ç§»é™¤è¿™ä¸ªæ ‡ç¤ºï¼Œä»å·¥ä½œè€…è¿›ç¨‹å‘é€ä¸€ä¸ªæ°å½“çš„ç¡®è®¤ã€‚</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var consumer = new EventingBasicConsumer(channel);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">consumer.Received += (model, ea) =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var body = ea.Body;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var message = Encoding.UTF8.GetString(body);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Console.WriteLine(&quot; [x] Received {0}&quot;, message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int dots = message.Split(&#x27;.&#x27;).Length - 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Thread.Sleep(dots * 1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Console.WriteLine(&quot; [x] Done&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    channel.BasicAck(deliveryTag: ea.DeliveryTag, multiple: false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">channel.BasicConsume(queue: &quot;task_queue&quot;, noAck: false, consumer: consumer);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä½¿ç”¨è¿™æ®µä»£ç æˆ‘ä»¬å¯ä»¥ç¡®ä¿å³ä¾¿æˆ‘ä»¬åœ¨å·¥ä½œè€…è¿›ç¨‹å¤„ç†æ¶ˆæ¯çš„æ—¶å€™ä½¿ç”¨Ctrl+Cæ€æ­»äº†å·¥ä½œè€…è¿›ç¨‹ï¼Œä¹Ÿä¸ä¼šæœ‰ä¸œè¥¿ä¸¢å¤±ã€‚åœ¨å·¥ä½œè€…è¿›ç¨‹æ­»å»åï¼Œæ‰€æœ‰æœªç¡®è®¤çš„æ¶ˆæ¯å¾ˆå¿«ä¼šè¢«é‡æ–°æŠ•é€’åˆ†å‘ã€‚</p><p>Note:
å¿˜è®°è°ƒç”¨BasicAckæ˜¯ä¸€ä¸ªå¸¸è§çš„é”™è¯¯ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„é”™è¯¯ï¼Œä½†å¯¹äºå¹¶å‘æ¥è¯´æ˜¯å¾ˆä¸¥é‡çš„é”™è¯¯ã€‚å½“ä½ çš„å®¢æˆ·ç«¯é€€å‡ºæ—¶æ¶ˆæ¯ä¼šè¢«é‡æ–°é€’é€ï¼ˆè¿™çœ‹èµ·æ¥åƒæ˜¯éšæœºé€’é€ï¼‰ï¼Œä½†æ˜¯RabbitMQå°†ä¼šåƒæ‰è¶Šæ¥è¶Šå¤šçš„å†…å­˜ï¼Œå› ä¸ºRanbitMQä¸èƒ½é‡Šæ”¾ä»»ä½•æœªè¢«ç¡®è®¤çš„æ¶ˆæ¯ã€‚</p><p>ä¸ºäº†è°ƒè¯•è¿™ç§ç±»å‹çš„é”™è¯¯ï¼Œä½ å¯ä»¥ä½¿ç”¨RabbitMQctlæ‰“å°messeages_unacknowledgedå­—æ®µï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo rabbitmqctl list_queues name messages_ready messages_unacknowledged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Listing queues ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello    0       0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...done.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="message-durability">Message durability<a class="hash-link" href="#message-durability" title="Direct link to heading">â€‹</a></h2><p>æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ç¡®ä¿ä»»åŠ¡ä¸ä¼šä¸¢å¤±ï¼Œå³ä¾¿æ¶ˆè´¹è€…è¿›ç¨‹æ­»å»ã€‚ä½†æ˜¯å¦‚æœRabbitMQæœåŠ¡å™¨åœæ­¢æˆ‘ä»¬ä»»åŠ¡ä»ä¼šä¸¢å¤±ã€‚</p><p> å½“RabbitMQ é€€å‡ºæˆ–è€…å´©æºƒæ—¶ä¼šå¿˜è®°é˜Ÿåˆ—å’Œæ¶ˆæ¯ï¼Œé™¤éä½ å‘Šè¯‰RabbitMQ ä¸è¦è¿™æ ·åšã€‚ç¡®ä¿æ¶ˆæ¯ä¸ä¼šä¸¢å¤±éœ€è¦ç¡®ä¿ä¸¤ä»¶äº‹ï¼šæˆ‘ä»¬éœ€è¦è®©æ¶ˆæ¯å’Œé˜Ÿåˆ—æŒä¹…åŒ–ã€‚</p><p> é¦–å…ˆæˆ‘ä»¬è¦ç¡®ä¿RabbitMQ ä¸ä¼šä¸¢å¤±æˆ‘ä»¬çš„é˜Ÿåˆ—ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦è®²é˜Ÿåˆ—å£°æ˜ç§°å¯æŒä¹…åŒ–çš„ï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">channel.QueueDeclare(queue: &quot;hello&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 durable: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 exclusive: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 autoDelete: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 arguments: null);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è™½ç„¶è¿™ä¸ªå‘½ä»¤æœ¬èº«æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬å½“å‰çš„è®¾ç½®é‡Œå®ƒä¸ä¼šå·¥ä½œã€‚é‚£æ˜¯å› ä¸ºæˆ‘ä»¬å·²ç»å®šä¹‰äº†ä¸€ä¸ªæœªæŒä¹…åŒ–çš„åä¸º<code>hello</code>çš„é˜Ÿåˆ—ã€‚</p><p>RabbitMQ ä¸å…è®¸æˆ‘ä»¬ä½¿ç”¨ä¸åŒçš„å‚æ•°é‡å®šä¹‰ä¸€ä¸ªå·²ç»å­˜åœ¨çš„é˜Ÿåˆ—ï¼Œè€Œä¸”å¦‚æœç¨‹åºè¯•ç€è¿™ä¹ˆåšäº†RabbitMQ ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªä¾¿æ·çš„æ›¿ä»£æ–¹æ¡ˆ å£°æ˜ä¸€ä¸ªä¸åŒåå­—çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚<code>task_queue</code>:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">channel.QueueDeclare(queue: &quot;task_queue&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 durable: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 exclusive: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 autoDelete: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 arguments: null);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>é˜Ÿåˆ—å£°æ˜çš„æ”¹å˜éœ€è¦åœ¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„ä»£ç ä¸­åŒæ—¶åº”ç”¨è¿™ä¸ªæ”¹å˜ã€‚</p><p>æ­¤åˆ»æˆ‘ä»¬å¯ä»¥ç¡®ä¿task_queueé˜Ÿåˆ—ä¸ä¼šä¸¢å¤±å³ä½¿RabbitMQé‡å¯äº†ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦è®©æˆ‘ä»¬çš„æ¶ˆæ¯æŒä¹…åŒ– â€” é€šè¿‡æŠŠ<code>IBasicProperties.SetPersistent</code>è®¾ç½®æˆ<code>true</code>.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var properties = channel.CreateBasicProperties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">properties.SetPersistent(true);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Note:
å…³äºæ¶ˆæ¯æŒä¹…åŒ–</p><p>è®©æ¶ˆæ¯æŒä¹…åŒ–å¹¶ä¸èƒ½ä¿è¯æ¶ˆæ¯ä¸ä¼šä¸¢å¤±ã€‚è™½ç„¶æŒä¹…åŒ–æ¶ˆæ¯ä¼šå‘Šè¯‰RabbitMQæŠŠæ¶ˆæ¯ä¿å­˜åˆ°ç¡¬ç›˜ï¼Œä½†æ˜¯ä¾ç„¶æœ‰RabbitMQæ¥æ”¶æ¶ˆæ¯ä½†æœªèƒ½ä¿å­˜æ¶ˆæ¯çš„çŸ­æ—¶çª—å£æœŸã€‚RabbitMQ ä¹Ÿä¸ä¼šä¸ºæ¯ä¸ªæ¶ˆæ¯æ‰§è¡Œ<code>fsync(2)</code>ï¼Œè¿™å°±ä»…ä»…æ˜¯è¢«ä¿å­˜åˆ°ç¼“å­˜è€Œä¸æ˜¯çœŸæ­£åœ°å†™å…¥åˆ°ç¡¬ç›˜ã€‚è¿™æ ·ç¡®ä¿æŒä¹…åŒ–å¹¶ä¸å¼ºå£®ï¼Œä½†æ˜¯è¿™å¯¹äºæˆ‘ä»¬ç®€å•çš„ä»»åŠ¡é˜Ÿåˆ—æ¥è¯´å·²ç»è¶³å¤Ÿäº†ã€‚å¦‚æœä½ éœ€è¦æ›´å¼ºå£®çš„æ¶ˆæ¯ä¿è¯ï¼Œä½ å¯ä»¥ä½¿ç”¨<strong>å‘å¸ƒè€…ç¡®è®¤</strong>ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="fair-dispatch-å…¬å¹³åˆ†å‘">Fair dispatch å…¬å¹³åˆ†å‘<a class="hash-link" href="#fair-dispatch-å…¬å¹³åˆ†å‘" title="Direct link to heading">â€‹</a></h2><p>ä½ ä¹Ÿè®¸å·²ç»æ³¨æ„åˆ°åˆ†å‘è¿˜ä¸èƒ½åƒä½ æƒ³è¦çš„é‚£æ ·å·¥ä½œã€‚æ¯”å¦‚åœ¨æœ‰ä¸¤è€…å·¥ä½œè€…è¿›ç¨‹çš„æƒ…å†µï¼Œå½“æ‰€æœ‰çš„å¥‡æ•°æ¶ˆæ¯çš„å·¥ä½œé‡å¾ˆå¤§ï¼Œå¶æ•°æ¶ˆæ¯æ˜¯è½»é‡ç®€å•çš„ï¼Œé‚£ä¹ˆä¸€ä¸ªå·¥ä½œè€…è¿›ç¨‹å¸¸å¸¸æ˜¯å¿™ç¢Œçš„ï¼Œè€Œå¦ä¸€ä¸ªå·¥ä½œè€…è¿›ç¨‹å‡ ä¹ä¸ä¼šåšä»»ä½•å·¥ä½œã€‚å—¯ï¼Œå¯¹äºè¿™ç§æƒ…å†µï¼ŒRabbitMQä¸€ç‚¹éƒ½ä¸çŸ¥é“ï¼Œå°†ä¼šä¸€ç›´è¿™æ ·å¹³å‡åœ°åˆ†å‘æ¶ˆæ¯ã€‚</p><p> å¯¼è‡´è¿™æ ·çš„äº‹æƒ…æ˜¯å› ä¸ºå½“æ¶ˆæ¯è¿›å…¥é˜Ÿåˆ—æ—¶ï¼ŒRabbitMQ åªæ˜¯åˆ†å‘æ¶ˆæ¯ã€‚å®ƒä¸ä¼šæ ¹æ®æ¯ä¸ªæ¶ˆè´¹è€…æœªç¡®è®¤æ¶ˆæ¯æ•°é‡æ¥åˆ†å‘æ¶ˆæ¯ï¼Œè€Œæ˜¯ç›²ç›®åœ°å°†ç¬¬Nä¸ªæ¶ˆæ¯å‘é€ç»™ç¬¬Nçš„æ¶ˆè´¹è€…ã€‚</p><p> <img src="http://www.rabbitmq.com/img/tutorials/prefetch-count.png" alt="fair dispatch"></p><p>ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>basicQos</code>æ–¹æ³•æŠŠ<code>prefetchCount</code>è®¾ç½®æˆ<code>1</code>ã€‚è¿™ä¼šå‘Šè¯‰RabbitMQä¸€æ¬¡ä¸è¦ç»™å·¥ä½œè€…è¿›ç¨‹è¶…è¿‡ä¸€æ¡æ¶ˆæ¯ã€‚æˆ–è€…ï¼Œæ¢å¥è¯è¯´ï¼Œç›´åˆ°å·¥ä½œè€…è¿›ç¨‹å¤„ç†å¹¶ç¡®è®¤ä¸Šä¸€æ¡æ¶ˆæ¯ä¹‹å‰ä¸è¦å†ç»™è¿™ä¸ªå·¥ä½œè€…è¿›ç¨‹åˆ†å‘æ–°çš„æ¶ˆæ¯ã€‚ç›¸åï¼ŒRabbitMQä¼šæŠŠæ¶ˆæ¯å‘é€åˆ°ä¸‹ä¸€ä¸ªä¸å¿™ç¢Œçš„å·¥ä½œè€…è¿›ç¨‹ã€‚</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">channel.BasicQos(0, 1, false);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>å…³äºé˜Ÿåˆ—å¤§å°
å¦‚æœæ‰€æœ‰çš„å·¥ä½œè€…è¿›ç¨‹éƒ½å¿™ç¢Œï¼Œä½ çš„é˜Ÿåˆ—å¯èƒ½ä¼šå¡æ»¡æ¶ˆæ¯ã€‚ä½ å¯èƒ½éœ€è¦ç›‘è§†å µå¡ï¼Œç„¶åå¯èƒ½éœ€è¦æ·»åŠ æ›´å¤šçš„å·¥ä½œè€…è¿›ç¨‹ï¼Œæˆ–è€…ä½¿ç”¨ä¸€äº›å…¶ä»–çš„ç­–ç•¥ã€‚</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="putting-it-all-together">Putting it all together<a class="hash-link" href="#putting-it-all-together" title="Direct link to heading">â€‹</a></h2><p><code>NewTask.cs</code>ç±»æœ€ç»ˆä»£ç :</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">using System;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RabbitMQ.Client;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Text;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class NewTask</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void Main(string[] args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var factory = new ConnectionFactory() { HostName = &quot;localhost&quot; };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        using(var connection = factory.CreateConnection())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        using(var channel = connection.CreateModel())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            channel.QueueDeclare(queue: &quot;task_queue&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 durable: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 exclusive: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 autoDelete: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 arguments: null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var message = GetMessage(args);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var body = Encoding.UTF8.GetBytes(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var properties = channel.CreateBasicProperties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            properties.SetPersistent(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            channel.BasicPublish(exchange: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 routingKey: &quot;task_queue&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 basicProperties: properties,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 body: body);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Console.WriteLine(&quot; [x] Sent {0}&quot;, message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Console.WriteLine(&quot; Press [enter] to exit.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Console.ReadLine();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static string GetMessage(string[] args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ((args.Length &gt; 0) ? string.Join(&quot; &quot;, args) : &quot;Hello World!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><a href="http://github.com/rabbitmq/rabbitmq-tutorials/blob/master/dotnet/NewTask.cs" target="_blank" rel="noopener noreferrer">NewTask.cs soruce</a></p><p><code>Worker.cs</code> ä»£ç :</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">using System;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RabbitMQ.Client;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RabbitMQ.Client.Events;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Text;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Threading;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void Main()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var factory = new ConnectionFactory() { HostName = &quot;localhost&quot; };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        using(var connection = factory.CreateConnection())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        using(var channel = connection.CreateModel())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            channel.QueueDeclare(queue: &quot;task_queue&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 durable: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 exclusive: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 autoDelete: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 arguments: null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            channel.BasicQos(prefetchSize: 0, prefetchCount: 1, global: false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Console.WriteLine(&quot; [*] Waiting for messages.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var consumer = new EventingBasicConsumer(channel);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            consumer.Received += (model, ea) =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                var body = ea.Body;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                var message = Encoding.UTF8.GetString(body);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Console.WriteLine(&quot; [x] Received {0}&quot;, message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                int dots = message.Split(&#x27;.&#x27;).Length - 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Thread.Sleep(dots * 1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Console.WriteLine(&quot; [x] Done&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                channel.BasicAck(deliveryTag: ea.DeliveryTag, multiple: false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            channel.BasicConsume(queue: &quot;task_queue&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 noAck: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 consumer: consumer);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Console.WriteLine(&quot; Press [enter] to exit.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Console.ReadLine();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><a href="http://github.com/rabbitmq/rabbitmq-tutorials/blob/master/dotnet/Worker.cs" target="_blank" rel="noopener noreferrer">Worker.cs</a></p><p>ä½¿ç”¨æ¶ˆæ¯ç¡®è®¤å’Œ <code>BasicQos</code> ä½ å¯ä»¥å¯¹å·¥ä½œé˜Ÿåˆ—è¿›è¡Œè®¾ç½®ã€‚æŒä¹…åŒ–é€‰é¡¹è®©ä»»åŠ¡åœ¨RabbitMQé‡å¯ä¹‹åä¹Ÿèƒ½å­˜æ´»ã€‚</p><p>ä½ å¯ä»¥æµè§ˆ <a href="http://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v3.2.2/rabbitmq-dotnet-client-3.2.2-client-htmldoc/html/index.html" target="_blank" rel="noopener noreferrer">RabbitMQ .NET API</a> åœ¨çº¿å‚è€ƒèµ„æ–™ æ¥è·å–æ›´å¤šå…³äºIModelæ–¹æ³•å’ŒIBasicPropertiesçš„ä¿¡æ¯ã€‚</p><p>ç°åœ¨æˆ‘ä»¬ç»§ç»­ç¬¬ä¸‰ç¯‡æ•™ç¨‹ï¼Œå­¦ä¹ å¦‚ä½•æƒ³å¤šä¸ªæ¶ˆè´¹è€…é€’é€ç›¸åŒçš„æ¶ˆæ¯ã€‚</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/articles/rabbitmq-guide/hello-world/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Hello World</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/articles/rabbitmq-guide/Publish-Subscribe/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Publish/Subscribe</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#preparation" class="table-of-contents__link toc-highlight">Preparation</a></li><li><a href="#round-robin-dispatching" class="table-of-contents__link toc-highlight">Round-robin dispatching</a></li><li><a href="#message-acknowledgment" class="table-of-contents__link toc-highlight">Message acknowledgment</a></li><li><a href="#message-durability" class="table-of-contents__link toc-highlight">Message durability</a></li><li><a href="#fair-dispatch-å…¬å¹³åˆ†å‘" class="table-of-contents__link toc-highlight">Fair dispatch å…¬å¹³åˆ†å‘</a></li><li><a href="#putting-it-all-together" class="table-of-contents__link toc-highlight">Putting it all together</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">æ–‡ç« åˆ—è¡¨</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/es6-in-depth/introduction/">æ·±å…¥æµ…å‡ºES6 - InfoQ.cn</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/why-java-sucks-and-csharp-rocks/compare-purpose/">Why Java Sucks and C# Rocks - èµµåŠ¼</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/reading/">é˜…è¯»ç¬”è®°</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/archives/git-guides/">åšæ–‡å½’æ¡£</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">æ–‡æ¡£ç¿»è¯‘</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/articles/rabbitmq-guide/WorkQueues/docs/guides/blog/">Docusaurus Blog</a> </li><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/articles/rabbitmq-guide/WorkQueues/docs/guides/docs/markdown-features/">Docusaurus Markdown</a> </li><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/blog/2022/03/12/caddy-intro/">Caddy ç®€ä»‹</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">æ›´å¤š</h4><ul class="footer__items"><li class="footer__item"> <a href="https://github.com/alanwei43/node-io-lib" target="_blank" rel="noopener noreferrer" class="footer__link-item">node-io-lib - GitHub</a> </li><li class="footer__item"> <a href="https://github.com/alanwei43/docker-puppeteer" target="_blank" rel="noopener noreferrer" class="footer__link-item">docker-puppeteer - GitHub</a> </li><li class="footer__item"> <a href="https://github.com/alanwei43/code-server" target="_blank" rel="noopener noreferrer" class="footer__link-item">code-server - GitHub</a> </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Alan&#x27;s Blog<!-- --> <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer"> </a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.2ec1e6ac.js"></script>
<script src="/assets/js/main.d94ec805.js"></script>
</body>
</html>