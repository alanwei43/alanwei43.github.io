<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Alan's Blog Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Alan's Blog Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WSJXZXE31N"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-WSJXZXE31N",{anonymize_ip:!0})</script>
<script src="/scripts/baidu.js"></script><title data-react-helmet="true">深入浅出 ES6（八）：Symbols  -  Alan&#x27;s Blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="深入浅出 ES6（八）：Symbols  -  Alan&#x27;s Blog"><meta data-react-helmet="true" name="description" content="深入浅出 ES6"><meta data-react-helmet="true" property="og:description" content="深入浅出 ES6"><meta data-react-helmet="true" name="keywords" content="es6,javascript,深入浅出ES6,ES6 in depth"><meta data-react-helmet="true" property="og:url" content="https://blog.alanwei.com/docs/articles/es6-in-depth/7-symbols"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://blog.alanwei.com/docs/articles/es6-in-depth/7-symbols"><link rel="stylesheet" href="/styles.66a1e391.css">
<link rel="preload" href="/styles.a4bdbde3.js" as="script">
<link rel="preload" href="/runtime~main.9381d24f.js" as="script">
<link rel="preload" href="/main.b8c2fd7c.js" as="script">
<link rel="preload" href="/1.eb871618.js" as="script">
<link rel="preload" href="/2.dc472b5b.js" as="script">
<link rel="preload" href="/3.2c06221f.js" as="script">
<link rel="preload" href="/1be78505.d8a555a9.js" as="script">
<link rel="preload" href="/472.2083bb0a.js" as="script">
<link rel="preload" href="/935f2afb.8f96b1b6.js" as="script">
<link rel="preload" href="/17896441.1b44bae1.js" as="script">
<link rel="preload" href="/0150a607.06537d54.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><div><nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_17Wu navbarHidden_19ww"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Alan&#x27;s Blog</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">文档</a><a class="navbar__item navbar__link" href="/blog">博客</a><a class="navbar__item navbar__link" href="/me">关于我</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/alanwei43" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Alan&#x27;s Blog</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">文档</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">博客</a></li><li class="menu__list-item"><a class="menu__link" href="/me">关于我</a></li><li class="menu__list-item"><a href="https://github.com/alanwei43" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy sidebarWithHideableNavbar_CROi"><a tabindex="-1" class="sidebarLogo_xFc8" href="/"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--light_3CMI"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--dark_3ARp"><strong>Alan&#x27;s Blog</strong></a><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">我的文档列表</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/docker/">Docker</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/flutter/">Flutter</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">系列文章</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/">README.md</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">深入浅出ES6</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/0-introduction">ES6是什么</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/1-iterators-and-the-for-of-loop">迭代器和 for-of 循环</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/2-generators">生成器 Generators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/3-template-string">模板字符串</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/4-rest-parameters-and-defaults">不定参数和默认参数</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/5-destructuring">解构 Destructuring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/6-arrow-functions">箭头函数 Arrow Functions</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/articles/es6-in-depth/7-symbols">Symbols</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/8-babel-and-broccoli">学习 Babel 和 Broccoli，马上就用 ES6</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/9-collections">集合</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/10-generators-continued">生成器 Generators，续篇</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/11-proxies-and-reflect">代理 Proxies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/12-classes">类 Class</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/13-let-and-const">let 和 const</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/14-subclassing">子类 Subclassing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/15-modules">模块 Modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/es6-in-depth/16-the-future">展望未来</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Why Java Sucks and C# Rocks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/why-java-sucks-and-csharp-rocks/1-compare-purpose">比较的意义与目的</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/why-java-sucks-and-csharp-rocks/2-basic-type-and-oop">基础类型与面向对象</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/why-java-sucks-and-csharp-rocks/3-attribute-and-annotation">Attribute与Annotation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/why-java-sucks-and-csharp-rocks/4-1-reddit-and-property">Reddit，兼谈C#属性</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/why-java-sucks-and-csharp-rocks/4-generics">泛型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/why-java-sucks-and-csharp-rocks/5-1-standard-event-model">标准事件模型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/why-java-sucks-and-csharp-rocks/5-anonymous-method">匿名方法</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/why-java-sucks-and-csharp-rocks/6-yield">yield及其作用</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">RabbitMQ Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/rabbitmq-guide/0-install">安装</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/rabbitmq-guide/1-hello-world">Hello World</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/rabbitmq-guide/2-WorkQueues">Work Queues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/rabbitmq-guide/3-Publish-Subscribe">Publish/Subscribe</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/rabbitmq-guide/4-Routing">Routing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/rabbitmq-guide/5-Topic">Topics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/rabbitmq-guide/6-RPC">Remote procedure call (RPC)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">OkHttp Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/okhttp-guide/1-overview">概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/okhttp-guide/2-calls">调用</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/okhttp-guide/3-caching">缓存</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/okhttp-guide/4-connections">连接</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/okhttp-guide/5-events">事件</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/okhttp-guide/6-https">HTTPS</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">博文分类</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/archives/">README.md</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/archives/program">编程语言</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/archives/literature">文章转摘</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/archives/server">系统服务</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/archives/editor">编辑器</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/archives/mirrors">镜像列表</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/archives/git-guides">Git</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/archives/bookmarks">书签</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">阅读笔记</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/">README.md</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/practical-vim">Vim实用技巧</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Mastering Spring 5.0</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/mastering-spring-5/">目录</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/mastering-spring-5/chapter-1">向 Spring Framework 5.0 进化</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/mastering-spring-5/chapter-2">依赖注入</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/mastering-spring-5/chapter-3">使用Spring MVC构建Web应用程序</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/mastering-spring-5/chapter-4">向微服务和云原生应用程序进化</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Redis入门指南 第二版</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/redis-getting-started-2nd/">目录</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/redis-getting-started-2nd/chapter-2">准备</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">React教程笔记</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/react-official-docs/">目录</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/react-official-docs/advance-context">Context</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/react-official-docs/core-12-ReactZheXue">React哲学</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/react-official-docs/core-4-components-and-props">组件 &amp; Props</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/react-official-docs/core-5-state-and-lifecycle">State &amp; 生命周期</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/react-official-docs/core-6-handling-events">事件处理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/react-official-docs/core-9-forms">表单</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/zh.javascript.info">现代 JavaScript 教程</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/understanding-ecmascript-6">Understanding ECMAScript 6</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reading/flutter-practice">Flutter实战</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docusaurus 文档翻译</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/intro">简介</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/blog">博客</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/docs/markdown-features">Markdown 特性</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/typescript-support">TypeScript支持</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/api/client">Client API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/theme">主题</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_2WRA"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_CoMu"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">深入浅出 ES6（八）：Symbols</h1></header><div class="markdown"><section><ul style="margin-left:-1em"><li>作者: <a href="https://www.infoq.cn/" target="_blank">InfoQ.cn</a></li><li>来源: <a href="https://www.infoq.cn/" target="_blank">https://www.infoq.cn/</a></li><li>本文仅用于本人学习和存档, 文章所有权归作者 <a href="https://www.infoq.cn/" target="_blank">InfoQ.cn</a> 所有, 如有侵权请发送邮件至 <a href="mailto:me@alanwei.com?subject=删除侵权文章" target="_top">me#alanwei.com(<i>#换成@</i>)</a> 删除此文.</li></ul></section><p><a href="https://www.infoq.cn/article/es6-in-depth-symbols" target="_blank" rel="noopener noreferrer">原文</a></p><p>你是否知道 ES6 中的 Symbols 是什么，它有什么作用呢？我相信你很可能不知道，那就让我们一探究竟！</p><p>Symbols 并非用来指代某种 Logo。</p><p>它们也不是可以用作代码的小图标。</p><p>它们不是代替其它东西的文学手法。</p><p>它们更不可能被用来指代谐音词 Cymbals（铙钹）。</p><p>（编程的时候最好不要演奏铙钹，它们太过吵闹，很可能导致你的程序崩溃。）</p><p>那么，Symbols 到底是什么呢？</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="它是-javascript-的第七种原始类型"></a>它是 JavaScript 的第七种原始类型<a class="hash-link" href="#它是-javascript-的第七种原始类型" title="Direct link to heading">#</a></h2><p>1997 年 JavaScript 首次被标准化，那时只有六种原始类型，在 ES6 以前，JS 程序中使用的每一个值都是以下几种类型之一：</p><ul><li><code>Undefined</code> 未定义</li><li><code>Null</code> 空值</li><li><code>Boolean</code> 布尔类型</li><li><code>Number</code> 数字类型</li><li><code>String</code> 字符串类型</li><li><code>Object</code> 对象类型</li></ul><p>每种类型都是多个值的集合，前五个集合是有限的。布尔类型只有两个值，<code>true</code>和<code>false</code>，不会再创造第三种布尔值；数字类型和字符串类型的值更多，标准指明一共有 18,437,736,874,454,810,627 种不同的数字（包括<code>NaN</code>， 亦即“Not a Number”的缩写，代表非数字），可能存在的字符串类型的值拥有无以匹敌的数量，我估算了一下大约是 (2144,115,188,075,855,872 − 1) ÷ 65,535 种……当然，我很可能得出了一个错误的答案，但字符串类型值的集合一定是有限的。</p><p>然而，对象类型值的集合是无限的。每一个对象都像珍贵的雪花一样独一无二，每一次你打开一个 Web 页面，都会创建一堆对象。</p><p>ES6 新特性中的 symbol 也是值，但它不是字符串，也不是对象，而是是全新的——第七种类型的原始值。</p><p>让我们一起探讨一下 symbol 的实际应用场景。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="从一个简单的布尔类型出发"></a>从一个简单的布尔类型出发<a class="hash-link" href="#从一个简单的布尔类型出发" title="Direct link to heading">#</a></h2><p>有时候你可以非常轻松地将别人的外部数据存储到一个 JavaScript 对象中。</p><p>举 个例子，假设你正在写一个 JS 库，可以通过 CSS transitions 使 DOM 元素在屏幕上移动。你可能会注意到，当你尝试在一个 div 元素上同时应用多重 CSS transitions 时并不会生效。实际效果是丑陋而又不连续的“跳闪”。你认为可以修复这个问题，但前提是你需要一种发现给定元素是否已经移动过的方 法。</p><p>应当如何解决这个问题呢？</p><p>一种方法是，用 CSS API 来告诉浏览器元素是否正在移动，但这样简直小题大做。在元素移动的第一时间内你的库就应该记录下移动的状态，所以它自然知道元素正在移动。</p><p>你真正想要的是一种持续跟踪某个元素正在移动的方法。你可以维护一个数组，记录所有正在移动的元素，每当你的库被调用来移动某个元素时，你可以检索数组来查看元素是否已经存在，亦即它是否正在移动中。</p><p>当然，如果数组非常大的话，线性搜索将会非常缓慢。</p><p>实际上你只想为元素设置一个标记：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">isMoving</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">smoothAnimations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">isMoving</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>这样也会有一些潜在的问题，事实上，你的代码很可能不是唯一一段操作 DOM 的代码。</p><ol><li>你创建的属性很可能影响到其它使用了for-in或<code>Object.keys()</code>的代码。</li><li>一些聪明的库作者可能已经考虑并使用了这项技术，这样一来你的库就会与已有的库产生某些冲突</li><li>当然，很可能你比他们更聪明，你先采用了这项技术，但是他们的库仍然无法与你的库默契配合。</li><li>标准委员会可能决定为所有的元素增加一个<code>.isMoving()</code> 方法，到那时你需要重写相关逻辑，必定会有深深的挫败感。</li></ol><p>当然你可以选择一个乏味而愚蠢的命名（其他人根本不会想用的那些名称）来解决最后的三个问题：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">__$jorendorff_animation_library$</span><span class="token constant" style="color:rgb(189, 147, 249)">PLEASE_DO_NOT_USE_THIS_PROPERTY</span><span class="token plain">$isMoving__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">smoothAnimations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">__$jorendorff_animation_library$</span><span class="token constant" style="color:rgb(189, 147, 249)">PLEASE_DO_NOT_USE_THIS_PROPERTY</span><span class="token plain">$isMoving__ </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>这只会造成无畏的眼疲劳。</p><p>借助于密码学，你可以生成一个唯一的属性名称：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// 获取 1024 个 Unicode 字符的无意义命名</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> isMoving </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">SecureRandom</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">generateName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token spread operator">...</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">isMoving</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">smoothAnimations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">isMoving</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><code>object[name]</code>语法允许你使用几乎任何字符串作为属性名称。所以这个方法行之有效：冲突几乎是不可能的，并且你的代码看起来也很简洁。</p><p>但是这也将带来不良的调试体验。每当你在控制台输出（<code>console.log()</code>）包含那个属性的元素时，你将会看到一堆巨大的字符串垃圾。假使你需要比这多得多的类似属性呢？你如何保持它们整齐划一？每当你重载的时候它们的命名甚至都不一样！</p><p>为什么这个问题如此困难？我们只想要一个小小的布尔值啊！</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="symbol-是最终的解决方案"></a>symbol 是最终的解决方案<a class="hash-link" href="#symbol-是最终的解决方案" title="Direct link to heading">#</a></h2><p>symbol 是程序创建并且可以用作属性键的值，并且它能避免命名冲突的风险。</p><p><code>var mySymbol = Symbol();</code>调用<code>Symbol()</code>创建一个新的 symbol，它的值与其它任何值皆不相等。</p><p>字符串或数字可以作为属性的键，symbol 也可以，它不等同于任何字符串，因而这个以 symbol 为键的属性可以保证不与任何其它属性产生冲突。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">mySymbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ok!&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 保证不会冲突</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">mySymbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ok!</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>想要在上述讨论的场景中使用 symbol，你可以这样做：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// 创建一个独一无二的 symbol</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> isMoving </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Symbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;isMoving&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token spread operator">...</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">isMoving</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">smoothAnimations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">element</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">isMoving</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>有关这段代码的一些解释：</p><ul><li><code>Symbol(&quot;isMoving&quot;)</code>中的<code>isMoving</code>被称作描述。你可以通过<code>console.log()</code>将它打印出来，对调试非常有帮助；你也可以用<code>.toString()</code>方法将它转换为字符串呈现；它也可以被用在错误信息中。</li><li><code>element[isMoving]</code>被称作一个 <em>以 symbol 为键（symbol-keyed）的属性</em> 。简而言之，它的名字是symbol而不是一个字符串。除此之外，它与一个普通的属性没有什么区别。</li><li>以 symbol 为键的属性属性与数组元素类似，不能被类似<code>obj.name</code>的点号法访问，你必须使用方括号访问这些属性。</li><li>如果你已经得到了 symbol，那么访问一个以 symbol 为键的属性同样简单，以上的示例很好地展示了如何获取<code>element[isMoving]</code>的值以及如何为它赋值。如果我们需要，可以查看属性是否存在：<code>if (isMoving in element)</code>，也可以删除属性：<code>delete element[isMoving]</code>。</li><li>另一方面，只有当<code>isMoving</code>在当前作用域中时才会生效。这是 symbol 的弱封装机制：模块创建了几个 symbol，可以在任意对象上使用，无须担心与其它代码创建的属性产生冲突。</li></ul><p>symbol 键的设计初衷是避免初衷，因此 JavaScript 中最常见的对象检查的特性会忽略 symbol 键。例如，for-in循环只会遍历对象的字符串键，symbol 键直接跳过，<code>Object.keys(obj)</code>和<code>Object.getOwnPropertyNames(obj)</code>也是一样。但是 symbols 也不完全是私有的：用新的 API <code>Object.getOwnPropertySymbols(obj)</code>就可以列出对象的 symbol 键。另一个新的 API，<code>Reflect.ownKeys(obj)</code>，会同时返回字符串键和 symbol 键。（我们将在随后的文章中讲解 Reflect(反射) API）。</p><p>慢慢地我们会发现，越来越多的库和框架将大量使用 symbol，语言本身也会将 symbol 应用于广泛的用途。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="但是，到底什么是-symbol-呢？"></a>但是，到底什么是 symbol 呢？<a class="hash-link" href="#但是，到底什么是-symbol-呢？" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">typeof</span><span class="token plain"> </span><span class="token known-class-name class-name">Symbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// =&gt; &quot;symbol&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>确切地说，symbol 与其它类型并不完全相像。</p><p>symbol 被创建后就不可变更，你不能为它设置属性（在严格模式下尝试设置属性会得到 TypeError 的错误）。他们可以用作属性名称，这些性质与字符串类似。</p><p>另一方面，每一个 symbol 都独一无二，不与其它 symbol 等同，即使二者有相同的描述也不相等；你可以轻松地创建一个新的 symbol。这些性质与对象类似。</p><p>ES6 中的 symbol 与 Lisp 和 Ruby 这些语言中<a href="https://en.wikipedia.org/wiki/Symbol_%28programming%29" target="_blank" rel="noopener noreferrer">更传统的 symbol</a> 类似，但不像它们集成得那么紧密。在 Lisp 中，所有的标识符都是 symbol；在 JS 中，标识符和大多数的属性键仍然是字符串，symbol 只是一个额外的选项。</p><p>关于 symbol 的忠告：symbol 不能被自动转换为字符串，这和语言中的其它类型不同。尝试拼接 symbol 与字符串将得到 TypeError 错误。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> sym </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Symbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;3&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;your symbol is &quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> sym</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// TypeError: can&#x27;t convert symbol to string</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">your symbol is </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">sym</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// TypeError: can&#x27;t convert symbol to string</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>通过<code>String(sym)</code>或<code>sym.toString()</code>可以显示地将 symbol 转换为一个字符串，从而回避这个问题。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="获取-symbol-的三种方法"></a>获取 symbol 的三种方法<a class="hash-link" href="#获取-symbol-的三种方法" title="Direct link to heading">#</a></h2><p>有三种获取 symbol 的方法。</p><ul><li><strong>调用 Symbol()</strong>。正如我们上文中所讨论的，这种方式每次调用都会返回一个新的唯一 symbol。</li><li><strong>调用 Symbol.for(string)</strong>。这种方式会访问 symbol 注册表，其中存储了已经存在的一系列 symbol。这种方式与通过Symbol()定义的独立 symbol 不同，symbol 注册表中的 symbol 是共享的。如果你连续三十次调用<code>Symbol.for(&quot;cat&quot;)</code>，每次都会返回相同的 symbol。注册表非常有用，在多个 web 页面或同一个 web 页面的多个模块中经常需要共享一个 symbol。</li><li><strong>使用标准定义的 symbol</strong>，例如：<code>Symbol.iterator</code>。标准根据一些特殊用途定义了少许的几个 symbol。</li></ul><p>如果你尚不确定 symbol 是否实用，最后这一章将向你展示 symbol 在实际应用中发挥的巨大作用，非常有趣！</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="symbol-在-es6-规范中的应用"></a>symbol 在 ES6 规范中的应用<a class="hash-link" href="#symbol-在-es6-规范中的应用" title="Direct link to heading">#</a></h2><p>在之前的文章<a href="/docs/articles/es6-in-depth/1-iterators-and-the-for-of-loop">《深入浅出ES6（二）：迭代器和for-of 循环》</a>中，我们已经领略了借助ES6 symbol 的力量避免代码冲突的方法，循环 <code>for (var item of myArray)</code>首先调用<code>myArray[Symbol.iterator]()</code>，当时我提到这种写法是为了替代<code>myArray.iterator()</code>，拥有更好的向后兼容性。</p><p>现在我们知道 symbol 到底是什么了，自然很容易理解为什么我们要创造一个 symbol 以及它为我们带来什么新特性。</p><p>ES6 中还有其它几处使用了 symbol 的地方。（这些特性在 Firefox 里尚未实现。）</p><ul><li><strong>使 instanceof 可扩展</strong>。在 ES6 中，表达式<code>object instanceof constructor</code>被指定为构造函数的一个方法：<code>constructor[Symbol.hasInstance](object)</code>。这意味着它是可扩展的。</li><li><strong>消除新特性和旧代码之间的冲突</strong>。这一点非常复杂，但是我们发现，添加某些 ES6 数组方法会破坏现有的 Web 网站。其它 Web 标准有相同的问题：向浏览器中添加新方法会破坏原有的网站。然而，破坏问题主要由动态作用域引起，所以 ES6 引入一个特殊的 symbol——<code>Symbol.unscopables</code>，Web 标准可以用这个 symbol 来阻止某些方法别加入到动态作用域中。</li><li><strong>支持新的字符串匹配类型</strong>。在 ES5 中，<code>str.match(myObject)</code>会尝试将<code>myObject</code>转换为正则表达式对象（RegExp）。在 ES6 中，它会首先检查<code>myObject</code>是否有一个<code>myObject[Symbol.match](str)</code>方法。现在的库可以提供自定义的字符串解析类，所有支持RegExp对象的环境都可以正常运行。</li></ul><p>这些用例的应用范围都非常小，很难看到这些特性通过它们自身影响我们每日的代码，长期来看才能体现它们的价值。实际上，symbol 是 PHP 和 Python 中的<code>__doubleUnderscores</code>在 JavaScript 语言环境中的改进版。标准将借助 symbol 的力量在未来向语言中添加新的钩子，同时无风险地将新特性添加到你已有的代码中。
我何时可以使用 ES6 symbol？</p><p>symbol 在 Firefox 36 和 Chrome 38 中均已被实现。Firefox 中的实现由我亲自完成，所以如果你的 symbol 像铙钹（cymbals）一样行为异常，请直接联系我！</p><p>为了支持那些尚未支持原生 ES6 symbol 的浏览器，你可以使用一个 polyfill，例如 <a href="https://github.com/zloirock/core-js#ecmascript-6-symbols" target="_blank" rel="noopener noreferrer">core.js</a> 。因为 symbol 与其它类型不尽相同，所以 polyfill 目前不是很完美。请阅读注意事项。</p><p>下一篇文章，我们将奉上一篇 Gastón Silva 的文章，讲解如何使用 Babel 和 Broccoli 来接触更多的 ES6 新特性，借鉴这篇文章的经验你可以轻松地开始 ES6 之旅。</p><p>接 下来，我们将深入浅出 Collections，这个特性被期待已久，最终在 ES6 版本加入到 JavaScript 中。我们将回溯到编程的起源，探索两个古 老的特性，紧接着讨论两个非常相似的特性，它们的生命周期短，但是威力巨大。所以请记得回来，一起探索接下来的旅程！到时见！</p><div>感谢<a href="http://www.infoq.com/cn/author/%E5%88%98%E6%8C%AF%E6%B6%9B">刘振涛</a>对本文的策划， <a href="http://www.infoq.com/cn/author/%E5%BE%90%E5%B7%9D">徐川</a>对本文的审校。</div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/alanwei43/blog/tree/master/src/docs/articles/es6-in-depth/7-symbols.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/articles/es6-in-depth/6-arrow-functions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 深入浅出 ES6（七）：箭头函数 Arrow Functions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/articles/es6-in-depth/8-babel-and-broccoli"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">深入浅出 ES6（九）：学习 Babel 和 Broccoli，马上就用 ES6 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#它是-javascript-的第七种原始类型" class="table-of-contents__link">它是 JavaScript 的第七种原始类型</a></li><li><a href="#从一个简单的布尔类型出发" class="table-of-contents__link">从一个简单的布尔类型出发</a></li><li><a href="#symbol-是最终的解决方案" class="table-of-contents__link">symbol 是最终的解决方案</a></li><li><a href="#但是，到底什么是-symbol-呢？" class="table-of-contents__link">但是，到底什么是 symbol 呢？</a></li><li><a href="#获取-symbol-的三种方法" class="table-of-contents__link">获取 symbol 的三种方法</a></li><li><a href="#symbol-在-es6-规范中的应用" class="table-of-contents__link">symbol 在 ES6 规范中的应用</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">文章列表</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/es6-in-depth/0-introduction">深入浅出ES6 - InfoQ.cn</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/why-java-sucks-and-csharp-rocks/1-compare-purpose">Why Java Sucks and C# Rocks - 赵劼</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/reading">阅读笔记</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/archives/git-guides">博文归档</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">文档翻译</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/guides/blog">Docusaurus Blog</a> </li><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/guides/docs/markdown-features">Docusaurus Markdown</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">更多</h4><ul class="footer__items"><li class="footer__item"> <a href="https://github.com/alanwei43/node-auto-update" target="_blank" rel="noopener noreferrer" class="footer__link-item">node-auto-update - GitHub</a> </li><li class="footer__item"> <a href="https://github.com/alanwei43/docker-puppeteer" target="_blank" rel="noopener noreferrer" class="footer__link-item">docker-puppeteer - GitHub</a> </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Alan&#x27;s Blog | <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer">...</a></div></div></div></footer></div></div></div>
<script src="/styles.a4bdbde3.js"></script>
<script src="/runtime~main.9381d24f.js"></script>
<script src="/main.b8c2fd7c.js"></script>
<script src="/1.eb871618.js"></script>
<script src="/2.dc472b5b.js"></script>
<script src="/3.2c06221f.js"></script>
<script src="/1be78505.d8a555a9.js"></script>
<script src="/472.2083bb0a.js"></script>
<script src="/935f2afb.8f96b1b6.js"></script>
<script src="/17896441.1b44bae1.js"></script>
<script src="/0150a607.06537d54.js"></script>
</body>
</html>