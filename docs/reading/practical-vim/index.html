<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Alan&#39;s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Alan&#39;s Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Alan&#39;s Blog" href="/opensearch.xml">
<script src="/scripts/baidu.js"></script>
<script src="/scripts/bing-clarity.js"></script><title data-rh="true">Vim实用技巧  -  Alan&#x27;s Blog</title><meta data-rh="true" name="baidu-site-verification" content="code-7RGpEH8jty"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.alanwei.com/docs/reading/practical-vim/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Vim实用技巧  -  Alan&#x27;s Blog"><meta data-rh="true" name="description" content="《Vim实用技巧》阅读笔记"><meta data-rh="true" property="og:description" content="《Vim实用技巧》阅读笔记"><meta data-rh="true" name="keywords" content="vim,vim实用技巧,practical vim"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://blog.alanwei.com/docs/reading/practical-vim/"><link data-rh="true" rel="alternate" href="https://blog.alanwei.com/docs/reading/practical-vim/" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.alanwei.com/docs/reading/practical-vim/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://7SQ6A6EP36-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.3fbf6686.css">
<link rel="preload" href="/assets/js/runtime~main.2f67bd00.js" as="script">
<link rel="preload" href="/assets/js/main.2f575568.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_aKYr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.png" alt="logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Alan&#x27;s Blog</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">文档</a><a class="navbar__item navbar__link" href="/blog/">博客</a><a class="navbar__item navbar__link" href="/me/">关于我</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/alanwei43" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y sidebarWithHideableNavbar_FoYL"><a tabindex="-1" class="sidebarLogo_FJUI" href="/"><img src="/img/logo.png" alt="logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.png" alt="logo" class="themedImage_W2Cr themedImage--dark_oUvU"><b>Alan&#x27;s Blog</b></a><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">我的文档列表</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/articles/">系列文章</a><button aria-label="Toggle the collapsible sidebar category &#x27;系列文章&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/archives/">博文归档</a><button aria-label="Toggle the collapsible sidebar category &#x27;博文归档&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/docs/reading/">阅读笔记</a><button aria-label="Toggle the collapsible sidebar category &#x27;阅读笔记&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/reading/flutter-practice/">Flutter实战</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flutter实战&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/reading/mastering-spring-5/">精通 Spring 5</a><button aria-label="Toggle the collapsible sidebar category &#x27;精通 Spring 5&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/reading/react-official-docs/">React 官方文档笔记</a><button aria-label="Toggle the collapsible sidebar category &#x27;React 官方文档笔记&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/reading/pro-js-web-dev/">JavaScript高级程序设计</a><button aria-label="Toggle the collapsible sidebar category &#x27;JavaScript高级程序设计&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/bulletproff-ssl-and-tls-understanding-and-deploying-ssl-tls-and-pki-to-secure-servers-and-web-applications/">HTTPS 权威指南 在服务器和Web应用上部署SSL/TLS和PKI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/core-java-for-the-impatient/">Core Java for the Impatient</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reading/practical-vim/">Vim实用技巧</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/redis-getting-started-2nd/">Redis入门指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/spring-in-action/">Spring in Action</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/understanding-ecmascript-6/">Understanding ECMAScript 6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/using-docker/">Docker开发指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/you-dont-know-js-2/">你不知道的JS(中)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/you-dont-konw-js-1/">你不知道的JS(上)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/zh.javascript.info/">现代 JavaScript 教程</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/guides/api/client/">Docusaurus文档翻译</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_cwdi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_xORG"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/">🏠</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/reading/">阅读笔记</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/reading/practical-vim/">Vim实用技巧</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Vim实用技巧</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="基本操作">基本操作<a class="hash-link" href="#基本操作" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="模式">模式<a class="hash-link" href="#模式" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="普通模式normal-mode">普通模式(normal mode)<a class="hash-link" href="#普通模式normal-mode" title="Direct link to heading">​</a></h4><p>使用 <code>&lt;Esc&gt;</code> 回到普通模式</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="插入模式insert-mode">插入模式(insert mode)<a class="hash-link" href="#插入模式insert-mode" title="Direct link to heading">​</a></h4><p>使用<code>i</code>, <code>a</code>等命令可以从普通模式进入到插入模式</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="替换模式replace-mode">替换模式(replace mode)<a class="hash-link" href="#替换模式replace-mode" title="Direct link to heading">​</a></h4><p>插入模式的一种特例,在替换模式中输入会替换文档中的已有文本,除此之外,该模式与插入模式完全相同. </p><p><code>R</code>命令会进入该模式</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="插入-普通模式">插入-普通模式<a class="hash-link" href="#插入-普通模式" title="Direct link to heading">​</a></h4><p>是插入模式的一个子模式,可以让我们执行一个普通模式命令,之后马上又回到插入模式. </p><p><code>&lt;C-o&gt;</code> 会进入该模式</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="可视模式visual-mode">可视模式(visual mode)<a class="hash-link" href="#可视模式visual-mode" title="Direct link to heading">​</a></h4><p><code>v</code> 或 <code>&lt;C-v&gt;</code>(有些插件是 <code>&lt;C-q&gt;</code>) 进入该模式</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="常用操作符列表">常用操作符列表<a class="hash-link" href="#常用操作符列表" title="Direct link to heading">​</a></h3><ul><li><code>d</code> delete</li><li><code>c</code> change </li><li><code>y</code> yank(复制操作)</li><li><code>~</code> 大小写切换</li><li><code>g~</code> 大小写切换</li><li><code>gu</code> 转成小写</li><li><code>gU</code> 转成大写</li><li><code>&gt;</code> 右缩进</li><li><code>&lt;</code> 左缩进</li><li><code>=</code> 自动缩进</li><li><code>!</code> 使用外部程序过滤 <em>{motion}</em> 所跨越的行</li></ul><p>使用介绍: <a href="#%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%AE%80%E4%BB%8B">操作符简介</a>，或者查看帮助: <code>:h operator</code>. </p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="动作命令motion">动作命令(motion)<a class="hash-link" href="#动作命令motion" title="Direct link to heading">​</a></h3><ul><li><code>j</code> 下移一行</li><li><code>k</code> 上移一行</li><li><code>h</code> 左移一个字符</li><li><code>l</code> 右移一个字符</li><li><code>w</code> 后移到下一个单词词首</li><li><code>e</code> 后移到下一个单词词尾</li></ul><p>上述位移操作可以前面加上数字， 表示移动多次. 比如 <code>5k</code> 表示上移5行.</p><ul><li><code>^</code> 移到行首(不包含空格)</li><li><code>$</code> 移到行尾</li><li><code>gg</code> 回到文档第一个字符</li><li><code>G</code> 回到文档最后一个字符</li><li><code>0</code> 移到行首</li><li><code>%</code> 在 <code>()</code> 和 <code>{}</code> 括弧之间来回跳转</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="文本对象text-object">文本对象(text object)<a class="hash-link" href="#文本对象text-object" title="Direct link to heading">​</a></h4><ul><li><code>aw</code> 光标所在的整个单词(简记 <em>a word</em>)</li><li><code>ap</code> 光标所在的整个段落(简记 <em>a paragraph</em>)</li><li><code>it</code> 标签内(简记 <em>inside the tag</em>)</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="修改">修改<a class="hash-link" href="#修改" title="Direct link to heading">​</a></h3><ul><li><p><code>a</code> 在光标后进入Insert模式， <code>i</code> 当前光标处进入Insert模式</p></li><li><p><code>A</code> 在行尾进入Insert模式， <code>I</code> 在行首进入Insert模式</p></li><li><p><code>dd</code> 删除当前行</p></li><li><p><code>D</code> 删除当前光标后面所有字符</p></li><li><p><code>cc</code> 删除当前行并进入insert模式</p></li><li><p><code>C</code> 删除当前光标后的所有字符并进入insert模式</p></li><li><p><code>x</code> 删除当前字符</p></li><li><p><code>X</code> 删除当前光标前一个字符</p></li><li><p><code>u</code> 撤销操作，参考<a href="#%E6%8A%8A%E6%92%A4%E9%94%80%E5%8D%95%E5%85%83%E5%88%87%E6%88%90%E5%9D%97">把撤销单元切成块</a></p></li><li><p><code>s</code> 删除当前光标所在字符，并进入insert模式，相当于 <code>xi</code></p></li><li><p><code>S</code> 等于 <code>cc</code></p></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="以退为进">以退为进<a class="hash-link" href="#以退为进" title="Direct link to heading">​</a></h3><p>将以下代码</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;method(&quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">argument1</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">&quot;，&quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">argument2</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">&quot;)&quot;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>的<code>+</code>前后加上空格， 转成以下格式</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;method(&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> argument1 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;，&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> argument2 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;)&quot;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ol><li><code>0</code> 移到行首</li><li><code>f+</code> 查找第一个<code>+</code></li><li><code>s + &lt;Esc&gt;</code> 将第一个<code>+</code>变成 <code>+</code>， 并进入normal模式</li><li><code>;</code> 移动到下一个<code>+</code></li><li><code>.</code> 重复第3步的操作</li><li><code>;.</code> 继续重复操作</li><li><code>;.</code> 继续重复操作</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="执行重复回退">执行、重复、回退<a class="hash-link" href="#执行重复回退" title="Direct link to heading">​</a></h3><ul><li><code>.</code> 命令是一个微型的宏， 用于重复上次修改.</li><li><code>@:</code> 可以用来重复任意 Ex 命令</li><li><code>&amp;</code> 来重复上次的 <code>:substitute</code> 命令(它本身也是一条 Ex 命令)</li></ul><table><thead><tr><th>目的</th><th>操作</th><th>重复</th><th>回退</th></tr></thead><tbody><tr><td>做出一个修改</td><td>{edit}</td><td><code>.</code></td><td><code>u</code></td></tr><tr><td>在行内查找下一指定字符</td><td><code>f{char}</code>/<code>t{char}</code></td><td><code>;</code></td><td><code>，</code></td></tr><tr><td>在行内查找上一指定字符</td><td><code>F{char}</code>/<code>T{char}</code></td><td><code>;</code></td><td><code>，</code></td></tr><tr><td>在文档中查找下一处匹配项</td><td><code>/pattern&lt;CR&gt;</code></td><td><code>n</code></td><td><code>N</code></td></tr><tr><td>在文档中查找上一处匹配项</td><td><code>?pattern&lt;CR&gt;</code></td><td><code>n</code></td><td><code>N</code></td></tr><tr><td>执行替换</td><td><code>:%s/target/replacement</code></td><td><code>&amp;</code></td><td><code>u</code></td></tr><tr><td>执行一系列修改</td><td><code>qx{changes}q</code></td><td><code>@x</code></td><td><code>u</code></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="查找并手动替换">查找并手动替换<a class="hash-link" href="#查找并手动替换" title="Direct link to heading">​</a></h3><p><code>:%s/content/copy/g</code> 会将所有的<code>content</code>替换成<code>copy</code>， 可组合使用以下几个命令做到手动确认后再替换:</p><ol><li><code>*</code>: 在当前文档查找当前光标所在的单词 (<code>#</code> 是 <code>*</code>命令的反向操作)</li><li><code>cw</code>: 删除当前单词并进入insert模式(这个时候输入想要替换的单词)</li><li><code>n</code>: 查找下一个<code>*</code>匹配的单词</li><li><code>.</code>: 重复执行第二步</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="普通模式">普通模式<a class="hash-link" href="#普通模式" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="把撤销单元切成块">把撤销单元切成块<a class="hash-link" href="#把撤销单元切成块" title="Direct link to heading">​</a></h3><p>在 Vim 中，<code>u</code> 键会触发撤销命令，它会撤销最新的修改. 我们自己可以控制撤销命令的粒度. 从进入插入模式开始，直到返回普通模式为止，在此期间输入或删除的任何内容都被当成一次修改. 因此，只要我们控制好对 <code>&lt;Esc&gt;</code> 键的使用，就可使撤销命令作用于单词、句子或段落. </p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>在插入模式中移动光标会重置修改状态</h5></div><div class="admonition-content"><p>当我提到撤销命令会回退从进入插入模式到退出此模式期间输入(或删除)的全 部字符时，我略过了一个小细节. 如果在插入模式中使用了 <code>&lt;Up&gt;</code> 、 <code>&lt;Down&gt;</code> 、 <code>&lt;Left&gt;</code> 或 <code>&lt;Right&gt;</code> 这些光标键，将会产生一个新的撤销块. 你可以把这想象为先切换回普通模式，然后用 <code>h</code> 、 <code>j</code> 、 <code>k</code> 或 <code>l</code> 命令对光标进行了移动，唯一区别是我们并没有退 出插入模式. 这也会对 <code>.</code> 命令的操作产生影响. </p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="构造可重复的修改">构造可重复的修改<a class="hash-link" href="#构造可重复的修改" title="Direct link to heading">​</a></h3><p>假设光标位于行尾处的字符“h”上，而我们想要删除单词“nigh”:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">The end is nigh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>方式1: 反向删除</strong></p><ol><li><code>db</code> 反向删除字母<em>nig</em></li><li><code>x</code> 删除剩下的字母<em>h</em></li></ol><p><strong>方式2: 正向删除</strong></p><ol><li><code>b</code> 先将光标移到单词开头</li><li><code>dw</code> 删除整个单词</li></ol><p><strong>方式3: 删除整个单词</strong></p><p>我们可以使用更为精准的 <code>aw</code> 文本对象(text object)， 而不是动作命令:</p><ol><li><code>daw</code> 直接删除光标所在的整个单词(可以简记为 <em>delete a word</em>)</li></ol><p><strong>哪种方式最具重复性?</strong></p><p>上述的三种删除单词的方式: <code>dbx</code> 、 <code>bdw</code> 以及 <code>daw</code> ，只有<code>daw</code>最具有可重复性(利用<code>.</code>命令重复删除单词)：</p><ul><li><code>dbx</code> 是两个命令: <code>db</code>和<code>x</code>，所以最后<code>.</code>命令相当于<code>x</code></li><li><code>bdw</code> 由一个位移操作<code>b</code>和一个修改命令<code>dw</code>组合而成，所以最后<code>.</code>命令相当于<code>dw</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="用次数做简单的算术运算">用次数做简单的算术运算<a class="hash-link" href="#用次数做简单的算术运算" title="Direct link to heading">​</a></h3><p><code>&lt;C-a&gt;</code> 和 <code>&lt;C-x&gt;</code> 命令分别对光标所在的整个数字执行加和减操作. </p><p>如果执行时光标不在数字上，命令会把当前光标移到之上或之后的数值，再进行加减. </p><p>和很多其他普通模式命令一样，<code>&lt;C-a&gt;</code>和<code>&lt;C-x&gt;</code>可以带一个次数前缀，这样 Vim 就会尝试把该命令执行指定的次数，而不是只执行一次，比如要把 <code>.blog { background-position: 0px 0px }</code> 变成 <code>.blog { background-position: -180px 0px }</code>，只需要执行<code>180&lt;C-x&gt;</code>即可. </p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>数字的格式</h5></div><div class="admonition-content"><p>Vim 默认把以 0 开头的数字解释为八进制值，而不是十进制，因此对文本<code>007</code>执行<code>&lt;C-a&gt;</code>，会变成<code>010</code>. 如果想禁用Vim默认行为, 可以在<em>vimrc</em>里增加配置<code>set nrformats=</code>，这回让Vim把所有数字当成十进制处理. </p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="操作符简介">操作符简介<a class="hash-link" href="#操作符简介" title="Direct link to heading">​</a></h3><p>Vim 的强大很大程度上源自操作符与动作命令相结合: </p><p><strong>操作符 + 动作命令 = 操作</strong> 简写 <strong>{operator}{motion}</strong></p><p>操作符的作用范围由动作命令决定，比如：</p><ul><li><code>dl</code> 删除一个字符</li><li><code>daw</code> 删除一个完整单词</li><li><code>dap</code> 删除一整个段落</li></ul><p><code>c{motion}</code>、<code>y{motion}</code> 也类似，它们被统称为<a href="#%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E7%AC%A6%E5%88%97%E8%A1%A8">操作符</a>. </p><p>其他操作符 <code>g~</code> 、 <code>gu</code> 和 <code>gU</code> 命令要用两次按键来调用，我们可以把上述命令中的 <code>g</code> 当做一个前缀字符，用以改变其后面的按键行为(这种行为被称为 <a href="#%E7%BB%93%E8%AF%86%E6%93%8D%E4%BD%9C%E7%AC%A6%E5%BE%85%E5%86%B3%E6%A8%A1%E5%BC%8F">结识操作符待决模式</a> ). <code>daw</code> 是删除当前单词，同理<code>gUaw</code>就是把当前单词转成大写形式. </p><p>Vim 的语法有一条额外规则，即当一个操作符命令被连续调用两次时，它会作用于当前行：</p><ul><li><code>dd</code> 删除当前行</li><li><code>&gt;&gt;</code> 缩进当前行</li><li><code>gU</code> 命令是一种特殊情况，可以用 <code>gUgU</code> 或 <code>gUU</code> 来使它作用于当前行(把当前行全部转成大写)</li><li>其他操作符使用类似</li><li><code>cc</code> 删除当前行并进入插入模式</li><li><code>yy</code> 复制当前行</li></ul><blockquote><ul><li><a href="#%E4%BD%8D%E7%A7%BB%E5%92%8C%E5%8A%A8%E4%BD%9C">位移和动作列表</a></li></ul></blockquote><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>自定义操作符与已有动作命令协同工作</h5></div><div class="admonition-content"><p>随同 Vim 发布的标准操作符集合相对比较少,但我们可以定义新的操作符. Tim Pope 的 <a href="https://github.com/tpope/vim-commentary" target="_blank" rel="noopener noreferrer">commentary.vim</a> 插件提供了一个很好的例子, 此插件为 Vim 所支持的编程语言增添了注释及取消注释的命令. </p><p>如果你对如何创建自定义操作符感到好奇,可以先阅读一下文档 <code>:h :map-operator</code>. </p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>自定义动作命令与已有操作符协同工作</h5></div><div class="admonition-content"><p>Vim 缺省的动作命令集已经相当全面了,但是我们还是可以定义新的动作命令及文本对象来进一步增强它. </p><p>Kana Natsuno 的 <a href="https://github.com/kana/vim-textobj-entire" target="_blank" rel="noopener noreferrer">textobj-entire 插件</a>是一个很好的例子,它为 Vim 增加了两种新的文本对象 <code>ie</code> 和 <code>ae</code> ,它们作用于整个文件. </p><p>如果想用 <code>=</code> 命令自动缩进整个文件,我们可以执行 <code>gg=G</code> (就是说,先用 <code>gg</code> 跳到文件开头,然后用 <code>=G</code> 自动缩进从光标位置到文件结尾的所有内容). 但是如果我们安装了 textobj-entire 插件的话,简单地执行 <code>=ae</code> 就可以了. 运行这条命令时光标在哪儿并不重要,因为它总是作用于整个文件. </p><p>如果你对如何创建自定义动作命令感到好奇,可以由阅读 <code>:h omap-info</code></p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="结识操作符待决模式">结识操作符待决模式<a class="hash-link" href="#结识操作符待决模式" title="Direct link to heading">​</a></h3><p>普通、插入及可视模式很容易辨识,但是 Vim 还有另外一些很容易被忽视的模式,操作符待决模式(Operator-Pending mode)就是一个例子. 每天我们无数次地使用它,但通常它只持续不到一秒时间. 举个例子,在我们执行命令 <code>dw</code> 时,就会激活该模式. 这一模式只在按 <code>d</code> 及 <code>w</code> 键之间的短暂时间间隔内存在,一眨眼工夫就不见了. </p><p>如果我们把 Vim 想象成有限状态机,那么操作符待决模式就是一个只接受动作命令的状态. 这个状态在我们调用操作符时被激活,然后什么也不做,直到我们提供了一个动作命令,完成整个操作. 当操作符待决模式被激活时,我们可以像平常一样按 <code>&lt;Esc&gt;</code> 中止该操作,返回到普通模式. </p><p>很多命令都由两个或更多的按键来调用(查阅 <code>:h g</code> 、 <code>:h z</code> 、 <code>:h ctrl-w</code> ,或者 <code>:h [</code> , 可以看到一些例子) ,但在多数情况下,头一个按键只是第二个按键的前缀. 这些命令不会激活操作符待决模式,相反,可以把它们当成命名空间(namespace), 用来扩充可用命令的数目. 只有操作符才会激活操作符待决模式. </p><p>你也许想知道,为什么要有一个完整的模式,专门用于操作符和动作命令之间的短暂瞬间,而命名空间命令则仅仅是普通模式的一个扩充?好问题!这是因为我们能够创建自定义映射项来激活或终结操作符待决模式. 换句话说,它允许我们创建自定义的操作符及动作命令,从而让我们可以扩充 Vim 的词汇. </p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="插入模式">插入模式<a class="hash-link" href="#插入模式" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="在插入模式中可即时更正错误">在插入模式中可即时更正错误<a class="hash-link" href="#在插入模式中可即时更正错误" title="Direct link to heading">​</a></h3><p>以下按键操作在插入模式下使用:</p><table><thead><tr><th>按键操作</th><th>用途</th></tr></thead><tbody><tr><td><code>&lt;C-h&gt;</code></td><td>删除前一个字符(同退格键)</td></tr><tr><td><code>&lt;C-w&gt;</code></td><td>删除前一个单词</td></tr><tr><td><code>&lt;C-u&gt;</code></td><td>删至行首</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="返回普通模式">返回普通模式<a class="hash-link" href="#返回普通模式" title="Direct link to heading">​</a></h3><table><thead><tr><th>按键操作</th><th>用途</th></tr></thead><tbody><tr><td><code>&lt;Esc&gt;</code></td><td>切换到普通模式</td></tr><tr><td><code>&lt;C-[&gt;</code></td><td>切换到普通模式</td></tr><tr><td><code>&lt;C-o&gt;</code></td><td>切换到<a href="#%E7%BB%93%E8%AF%86%E6%8F%92%E5%85%A5-%E6%99%AE%E9%80%9A%E6%A8%A1%E5%BC%8F">插入-普通模式</a></td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="结识插入-普通模式">结识插入-普通模式<a class="hash-link" href="#结识插入-普通模式" title="Direct link to heading">​</a></h4><p>插入-普通模式是普通模式的一个特例，在此模式中,我们可以执行一个普通模式命令,执行完后,马上就又返回到插入模式. 要从插入模式切换到插入-普通模式,可以按 <code>&lt;C-o&gt;</code> (参见 <code>:h i_CTRL-O</code> ). </p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><code>zz</code>命令可以重绘屏幕,并把当前行显示在窗口正中,这样就能够阅读当前行之上及之下的半屏内容. 我常常会键入 <code>&lt;C-o&gt;zz</code> ,在插入-普通模式中触发这条命令. 此操作完成后就会直接回到插入模式,因此我可以不受中断地继续打字. </p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="插入模式粘贴寄存器中的文本">插入模式粘贴寄存器中的文本<a class="hash-link" href="#插入模式粘贴寄存器中的文本" title="Direct link to heading">​</a></h3><p>插入模式, <code>&lt;C-r&gt;{register}</code> 会把复制的文本粘贴到光标所在位置, 其中 <code>{register}</code> 是我们想要插入的寄存器的名字(参见 <code>:h i_CTRL-R</code> ). </p><p>假设光标位于行首，针对文本 <em>hello world.</em> 执行以下操作:</p><ol><li><code>yaw</code> 将 <em>hello</em> 复制到复制专用寄存器中</li><li><code>A</code> 行尾进入插入模式</li><li><code>&lt;C-r&gt;0</code> 行尾粘贴 <em>hello</em> 字符</li><li>操作完成之后仍是插入模式，文本内容变成 <em>hello world.hello</em></li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="对面向字符的寄存器使用-c-rregister-命令">对面向字符的寄存器使用 <code>&lt;C-r&gt;{register}</code> 命令<a class="hash-link" href="#对面向字符的寄存器使用-c-rregister-命令" title="Direct link to heading">​</a></h4><p>Vim插入寄存器内的文本时，其插入方式就如同这些文本是由键盘上一个个输进来的. 因此,如果 <code>textwidth</code> 或者 <code>autoindent</code> 选项被激活了的话，可能会出现不必要的换行或额外的缩进，粘贴大量文本会有轻微延时. </p><p><code>&lt;C-r&gt;&lt;C-p&gt;{register}</code> 命令则会更智能一些,它会按原义插入寄存器内的文本,并修正任何不必要的缩进(参见 <code>:h i_CTRL-R_CTRL-P</code> ),不过这个命令有点不太好输入!因此,如果我想从一个寄存器里粘贴很多行文本的话,我更喜欢切换到普通模式,然后使用某个粘贴命令. </p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="表达式寄存器做运算">表达式寄存器做运算<a class="hash-link" href="#表达式寄存器做运算" title="Direct link to heading">​</a></h3><p>插入模式执行<code>&lt;C-r&gt;=</code>，然后输入表达式按下回车键<code>&lt;CR&gt;</code>，Vim就会把表达式执行结果插入到光标所在位置. </p><p>比如对文本 <em>6 chairs, each costing $35, totals $</em> 执行以下操作:</p><ol><li><code>A</code> 在行尾进入插入模式</li><li><code>&lt;C-r&gt;=6*35&lt;CR&gt;</code> 执行表达式</li><li>操作完成后仍是插入模式，文本内容变成 <em>6 chairs, each costing $35, totals $210</em></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="用字符编码插入非常用字符">用字符编码插入非常用字符<a class="hash-link" href="#用字符编码插入非常用字符" title="Direct link to heading">​</a></h3><p>插入模式执行<code>&lt;C-v&gt;{code}</code>可以插入任意字符，比如:</p><ul><li><code>&lt;C-v&gt;065</code> 会插入 <code>A</code> (八进制)</li><li><code>&lt;C-v&gt;00bf</code> 会插入 <code>¿</code> (hex十六进制)</li><li>普通模式下, <code>ga</code> 可以在状态栏显示当前光标下的字符的编码</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="用二合字母插入非常用字符">用二合字母插入非常用字符<a class="hash-link" href="#用二合字母插入非常用字符" title="Direct link to heading">​</a></h3><p>插入模式执行<code>&lt;C-k&gt;{char1}{char2}</code>可以插入以二合字母<code>{char1}{char2}</code>表示的字符, 比如:</p><ul><li><code>&lt;C-k&gt;?I</code> =&gt; <code>¿</code></li><li><code>&lt;C-k&gt;12</code> =&gt; <code>½</code></li><li><code>&lt;C-k&gt;14</code> =&gt; <code>¼</code></li></ul><p>用命令 <code>:digraphs</code> 或者 <code>:h digraph-table</code> 可以查看可用的二合字母列表</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="用替换模式替换已有文本">用替换模式替换已有文本<a class="hash-link" href="#用替换模式替换已有文本" title="Direct link to heading">​</a></h3><p><code>R</code> 会进入替换模式，输入字符即可完成替换. </p><p><code>gR</code> 会进入虚拟替换模式. 该模式会把制表符当成一组空格处理，而<code>R</code>会把制表符当成一个字符处理. </p><p><code>r{char}</code> 和 <code>gr{char}</code> 是单次替换，替换完成后又回到普通模式</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="可视模式">可视模式<a class="hash-link" href="#可视模式" title="Direct link to heading">​</a></h2><p>某些可视模式命令执行的基本功能与普通模式相同,但操作上有些细微的变化. 例如,在这两种模式中, <code>c</code> 命令的功能是一样的,都是删除指定的文本并切换到插入模式. 不过,要指定其所操作的范围,二者的方式却不甚相同. 在普通模式中,我们先触发修改命令,然后使用动作命令指定其作用范围. 然而在可视模式中,我们先选中选区,然后再触发修改命令. 这种次序颠倒的方式对所有的操作符命令都适用. </p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="结识选择模式">结识选择模式<a class="hash-link" href="#结识选择模式" title="Direct link to heading">​</a></h3><p>在一个典型的文本编辑器环境中,当选中一段文本后,再输入任意可见字符时,这些选中的文本将会被删除. 虽然 Vim 的可视模式未遵从此惯例,但是其选择模式( Select Mode )却按此方式工作. </p><p>在进入可视模式后，按 <code>&lt;C-g&gt;</code> 可以在可视模式及选择模式间切换. 切换后看到的唯一不同是屏幕下方的提示信息会在 “-- 可视 --” ( -- VISUAL -- )及“--选择--” ( --SELECT-- )间转换. 如果在选择模式中输入任意可见字符的话,此字符会替换所选内容并切换到插入模式. </p><table><thead><tr><th>按键操作</th><th>用途</th></tr></thead><tbody><tr><td><code>v</code></td><td>激活/退出 面向字符的可视模式</td></tr><tr><td><code>V</code></td><td>激活/退出 面向行的可视模式</td></tr><tr><td><code>&lt;C-v&gt;</code></td><td>激活/退出 面向列块的可视模式</td></tr><tr><td><code>gv</code></td><td>重选上次的高亮选区</td></tr><tr><td><code>o</code></td><td>切换高亮选区的活动端</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="切换选区的活动端">切换选区的活动端<a class="hash-link" href="#切换选区的活动端" title="Direct link to heading">​</a></h4><p>如果选取定义到一半发现开始位置不对，可以按下<code>o</code>，将光标移动到选区的开端. </p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="列块可视模式下批量插入文本">列块可视模式下批量插入文本<a class="hash-link" href="#列块可视模式下批量插入文本" title="Direct link to heading">​</a></h3><ol><li><code>&lt;C-v&gt;</code>进入可视模式</li><li>利用动作命令创建选好范围(比如<code>$</code>选到行尾，即便行的长度不一样)</li><li>使用<code>A</code>、<code>I</code>进入插入模式然后输入文本(也可直接使用<code>r</code>执行替换, <code>~</code>大小写转换)</li><li>然后按下<code>&lt;Esc&gt;</code>进入到普通模式</li></ol><p>示例, 对以下文本的行尾添加<code>;</code>:</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> bar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> foobar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> foo </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> bar</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>执行<code>&lt;C-v&gt;jj$A;&lt;Esc&gt;</code>即可. </p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Vim对i及a键的约定</h5></div><div class="admonition-content"><p>Vim 对于从普通模式切换到插入模式的命令有几个约定, <code>i</code> 命令和 <code>a</code> 命令都完成此切换,并分别把光标置于当前字符之前或之后, <code>I</code> 命令和 <code>A</code> 命令的表现类似,只是它们分别把光标置于当前行的开头和结尾. </p><p>Vim 对于从列块可视模式切换到插入模式的命令也遵从类似的约定.  <code>I</code> 命令和 <code>A</code> 命令都完成此切换,并分别把光标置于选区的开头和结尾. 那 <code>i</code> 和 <code>a</code> 命令呢,它们在可视模式里干什么?</p><p>在可视模式及操作符待决模式中, <code>i</code> 和 <code>a</code> 键沿用一个不同的约定. 它们会被当作一个文本对象的组成部分,我们将在技巧 51 中深入探讨文本对象. 如果你在列块可视模式里选中了一块区域,并且很奇怪为什么按 <code>i</code> 键没进入插入模式,那么换用 <code>I</code> 键试一下. </p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="命令行模式">命令行模式<a class="hash-link" href="#命令行模式" title="Direct link to heading">​</a></h2><p>Vim 的先祖是 vi,正是 vi 开创了区分模式编辑的范例. 相应的,vi 奉一个名为 ex 的行编辑器为先祖,这就是为什么会有 Ex 命令. </p><p>在按下 <code>:</code> 键时,Vim 会切换到命令行模式. 输入一条命令,然后按 <code>&lt;CR&gt;</code> 执行它. 在任意时刻,我们都可以按 <code>&lt;Esc&gt;</code> 键从命令行模式切换回普通模式. </p><p>在我们按 · 调出查找提示符或用 <code>&lt;C-r&gt;=</code> 访问<a href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AF%84%E5%AD%98%E5%99%A8%E5%81%9A%E8%BF%90%E7%AE%97">表达式寄存器</a>时,命令行模式也会被激活. 本节介绍的一些技巧在这些不同的提示符下都适用. </p><p>几乎所有功能都有相应的 Ex 命令(参见 <code>:h ex-cmd-index</code>)，Ex 命令影响范围广且距离远，因此普通模式命令适合在本地进行操作,而 Ex 命令则可以远距离操作. </p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="结识vim的命令行模式">结识Vim的命令行模式<a class="hash-link" href="#结识vim的命令行模式" title="Direct link to heading">​</a></h3><ul><li>读写文件 <code>:edit</code> 和 <code>:write</code></li><li>创建新标签页 <code>:tabnew</code> </li><li>分割窗口 <code>:split</code> </li><li>操作参数列表 <code>:prev</code> / <code>:next</code></li><li>缓冲区列表 <code>:bprev</code> / <code>:bnext</code></li><li>重复上次的 Ex 命令 <code>@:</code> </li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="操作缓冲区文本的ex命令">操作缓冲区文本的Ex命令<a class="hash-link" href="#操作缓冲区文本的ex命令" title="Direct link to heading">​</a></h4><table><thead><tr><th>命令</th><th>用途</th></tr></thead><tbody><tr><td><code>:[range]delete [x]</code></td><td>删除指定范围内的行<!-- -->[到寄存器 x 中]</td></tr><tr><td><code>:[range]yank [x]</code></td><td>复制指定范围的行<!-- -->[到寄存器 x 中]</td></tr><tr><td><code>:[line]put [x]</code></td><td>在指定行后粘贴寄存器 x 中的内容</td></tr><tr><td><code>:[range]copy {address}</code></td><td>把指定范围内的行拷贝到 <code>{address}</code> 所指定的行之下</td></tr><tr><td><code>:[range]move {address}</code></td><td>把指定范围内的行移动到 <code>{address}</code> 所指定的行之下</td></tr><tr><td><code>:[range]join</code></td><td>连接指定范围内的行</td></tr><tr><td><code>:[range]normal {commands}</code></td><td>对指定范围内的每一行执行普通模式命令 <code>{commands}</code></td></tr><tr><td><code>:[range]substitute/{pattern}/{string}/[flags]</code></td><td>把指定范围内出现<code>{pattern}</code>的地方替换为<code>{string}</code></td></tr><tr><td><code>:[range]global/{pattern}/[cmd]</code></td><td>对指定范围内匹配<code>{pattern}</code>的所有行,在其上执行 Ex 命令<code>{cmd}</code></td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="vim命令行模式中的特殊按键">Vim命令行模式中的特殊按键<a class="hash-link" href="#vim命令行模式中的特殊按键" title="Direct link to heading">​</a></h4><p>有些命令在插入模式和命令行模式中可以通用. 例如:</p><ul><li>可以用 <code>&lt;C-w&gt;</code> 和 <code>&lt;C-u&gt;</code> 分别删除至上个单词的开头及行首</li><li>可以用 <a href="#%E7%94%A8%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%E6%8F%92%E5%85%A5%E9%9D%9E%E5%B8%B8%E7%94%A8%E5%AD%97%E7%AC%A6"><code>&lt;C-v&gt;</code></a> 或 <a href="#%E7%94%A8%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%E6%8F%92%E5%85%A5%E9%9D%9E%E5%B8%B8%E7%94%A8%E5%AD%97%E7%AC%A6"><code>&lt;C-k&gt;</code></a> 来插入键盘上找不到的字符</li><li>可以用 <a href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AF%84%E5%AD%98%E5%99%A8%E5%81%9A%E8%BF%90%E7%AE%97"><code>&lt;C-r&gt;{register}</code></a> 命令把任意寄存器的内容插入到命令行</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="在一行或多个连续行上执行命令">在一行或多个连续行上执行命令<a class="hash-link" href="#在一行或多个连续行上执行命令" title="Direct link to heading">​</a></h3><ul><li><code>:[range]print</code> 回显指定范围的内容，它不产生什么实际影响</li><li><code>:[range]delete</code> 删除指定范围的内容</li><li><code>:[range]join</code> 指定范围的内容连接起来</li></ul><p>如果不指定范围(没有<code>[range]</code>)，默认是当前行. </p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="用行号作为地址">用行号作为地址<a class="hash-link" href="#用行号作为地址" title="Direct link to heading">​</a></h4><p>如果输入一条只包含数字的 Ex 命令,那么 Vim 会把这个数字解析成一个地址,并把光标移动到该数字所指定的行上:</p><ul><li><code>:1</code> 光标移到第一行</li><li><code>:$</code> 光标移到最后一行</li><li><code>:5p</code> 光标移到第5行，并回显当前行内容(<code>p</code> 是 <code>print</code>的简写)</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="用地址指定一个范围">用地址指定一个范围<a class="hash-link" href="#用地址指定一个范围" title="Direct link to heading">​</a></h4><p><code>:{start},{end}</code> 可以用来指定一个范围:</p><ul><li><code>:2,5p</code> 回显第2到5行内容</li><li><code>:.,$p</code> 回显当前行到文件末尾所有行, <code>.</code> 表示当前行</li><li><code>:%p</code> 回显当前文档所有内容, <code>%</code>表示当前稳当的所有行，等价于 <code>:1,$p</code></li><li><code>:%s/Hello/World/</code> 对当前文档所有行进行替换，把 <em>Hello</em> 替换成 <em>World</em></li><li><code>:78,86s/,/;/</code> 把78到86行中的逗号换成分号</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="用高亮选区指定范围">用高亮选区指定范围<a class="hash-link" href="#用高亮选区指定范围" title="Direct link to heading">​</a></h4><p>使用<a href="#%E7%BB%93%E8%AF%86%E9%80%89%E6%8B%A9%E6%A8%A1%E5%BC%8F">选区命令</a>创建好选区之后，按下<code>:</code>就会进入Ex模式，并且会预先填充一个范围 <code>:&#x27;&lt;,&#x27;&gt;</code>，接下来我们就可以输入一条 Ex 命令,使它在每个被选中的行上执行:</p><ul><li><code>:&#x27;&lt;,&#x27;&gt;p</code> 回显选区内容</li><li><code>:&#x27;&lt;,&#x27;&gt;s/&#x27;/&quot;/g</code> 把选区内的单引号变成双引号</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="用模式指定范围">用模式指定范围<a class="hash-link" href="#用模式指定范围" title="Direct link to heading">​</a></h4><p>Vim 也接受以模式作为一条 Ex 命令的地址，比如 <code>:/&lt;html&gt;/,/&lt;\/html&gt;/p</code>，实际上也符合范围的一般形式 <code>:{start},{end}</code>，<code>{start}</code> 地址是模式 <code>/&lt;html&gt;/</code> ,而 <code>{end}</code> 地址是 <code>/&lt;\/html&gt;/</code> . 换句话说, 这个范围由 <code>&lt;html&gt;</code> 开标签所在的行开始,到对应闭标签所在的行结束. </p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="用偏移对地址进行修正">用偏移对地址进行修正<a class="hash-link" href="#用偏移对地址进行修正" title="Direct link to heading">​</a></h4><p>偏移的一般形式是 <code>:{address}+n</code>，如果 <code>n</code> 被省略,那么缺省偏移量为 1.  <code>{address}</code> 可以是一个行号、一个位置标记,或是一个查找模式. </p><ul><li><code>:/&lt;html&gt;/+1,/&lt;\/html&gt;/-1p</code> 回显 <code>&lt;html&gt;&lt;/html&gt;</code> 之间的内容,但是不包括 <code>&lt;html&gt;</code> 及 <code>&lt;/html&gt;</code> 标签所在的行</li><li><code>:.,.+3p</code> 回显当前行(<code>.</code>)及当前行下三行(<code>.+3</code>)的内容，如果当前行是第2行，就相当于 <code>:2,5p</code></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="ex命令地址及范围符号总结">Ex命令地址及范围符号总结<a class="hash-link" href="#ex命令地址及范围符号总结" title="Direct link to heading">​</a></h4><table><thead><tr><th>符号</th><th>地址</th></tr></thead><tbody><tr><td><code>1</code></td><td>文件的第一行</td></tr><tr><td><code>$</code></td><td>文件的最后一行</td></tr><tr><td><code>0</code></td><td>虚拟行,位于文件第一行上方</td></tr><tr><td><code>.</code></td><td>当前行</td></tr><tr><td><code>&#x27;m</code></td><td>包含位置标记 m 的行</td></tr><tr><td><code>&#x27;&lt;</code></td><td>高亮选区的起始行</td></tr><tr><td><code>&#x27;&gt;</code></td><td>高亮选区的结束行</td></tr><tr><td><code>%</code></td><td>整个文件(<code>:1,$</code> 的简写形式)</td></tr></tbody></table><p>第 0 行在文件中并不真实存在,但它作为一个地址,在某些特定场景下会很有用处. 特别是,在把指定范围内的行复制或移动到文件开头时,可以用它做 <code>:copy {address}</code> 及 <code>:move {address}</code> 命令的最后一个参数. </p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="使用t和m命令复制和移动行">使用:t和:m命令复制和移动行<a class="hash-link" href="#使用t和m命令复制和移动行" title="Direct link to heading">​</a></h3><p><code>:[range]copy {address}</code> 命令(<code>copy</code>可以简写成<code>co</code>或者<code>t</code>)可以把一行或多行从文档的一部分复制到另一部分</p><p><code>:[range]move {address}</code> 命令则可以让我们把一行或多行移到文档的其他地方(<code>move</code>可以简写成<code>m</code>)</p><p>比如(可以把下面例子中的<code>t</code>换成<code>m</code>即可实现移动):</p><ul><li><code>:.t.</code> 等同于<code>:t.</code>, 复制并粘贴当前行，相当于执行 <code>Yp</code>或<code>yyp</code> 命令(不同点是<code>yy</code>或者<code>Y</code>会腐败默认寄存器中的内容，而<code>:t.</code>不会)</li><li><code>:5t.</code> 把第5行复制到当前行下面</li><li><code>:3,5t$</code> 把第3到5行复制到文档底部</li><li><code>:.+3t0</code> 把当前行上方的第三行复制到文档顶部</li><li><code>:</code> 把当前行上方的第三行复制到文档顶部</li><li><code>:6t.</code> 把第 6 行复制到当前行下方</li><li><code>:t6</code> 把当前行复制到第 6 行下方</li><li><code>:t$</code> 把当前行复制到文本结尾</li><li><code>:&#x27;&lt;,&#x27;&gt;t0</code> 把选中的行复制到文件开头</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="在指定范围上执行普通模式命令">在指定范围上执行普通模式命令<a class="hash-link" href="#在指定范围上执行普通模式命令" title="Direct link to heading">​</a></h3><p>如果想在一系列连续行上执行一条普通模式命令,我们可以用 <code>:normal</code> 命令:</p><ul><li><code>:3,5normal gUU</code> 第3到5行转成大写</li><li><code>:.,.+3normal i// </code> 将当前行及后面三行的行首添加 <code>// </code></li><li><code>:&#x27;&lt;,&#x27;&gt;normal .</code> 对高亮选区中的每一行, 对其执行普通模式下的 <code>.</code> 命令(即对选区内文本重复执行上次执行的普通模式命令)</li><li><code>%normal A;</code> 文件每行的结尾都添加一个分号(修改完后 Vim 会自动返回到普通模式. )</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="重复上次的ex命令">重复上次的Ex命令<a class="hash-link" href="#重复上次的ex命令" title="Direct link to heading">​</a></h3><ul><li><code>.</code> 可以重复上次的普通模式命令，而 <code>@:</code> 可以重复上次的Ex命令. </li><li><code>&lt;C-o&gt;</code> 命令会回到跳转列表的上条记录</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="自动补全ex命令">自动补全Ex命令<a class="hash-link" href="#自动补全ex命令" title="Direct link to heading">​</a></h3><ul><li><code>&lt;Tab&gt;</code> 自动补全命令</li><li><code>&lt;S-Tab&gt;</code> 反向遍历补全列表</li><li><code>&lt;C-d&gt;</code> 显示可用的补全列表</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="在多个补全项间选择">在多个补全项间选择<a class="hash-link" href="#在多个补全项间选择" title="Direct link to heading">​</a></h4><p>调整 <code>wildmode</code> 选项可以自定义补全行为(参见 <code>:h &#x27;wildmode&#x27;</code> 习惯用 bash shell 的方式工作,那么下面的设置会满足你的需要:</p><div class="codeBlockContainer_I0IT language-vimrc theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">.vimrc</div><div class="codeBlockContent_wNvx vimrc"><pre tabindex="0" class="prism-code language-vimrc codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">set wildmode=longest,list</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>如果你习惯于 zsh 提供的自动补全菜单,或许会想试试这个:</p><div class="codeBlockContainer_I0IT language-vimrc theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">.vimrc</div><div class="codeBlockContent_wNvx vimrc"><pre tabindex="0" class="prism-code language-vimrc codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">set wildmenu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set wildmode=full</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>当 <code>wildmenu</code> 选项被启用时,Vim 会提供一个补全导航列表. 我们可以按 <code>&lt;Tab&gt;</code> 、 <code>&lt;C-n&gt;</code> 或 <code>&lt;Right&gt;</code> 正向遍历其列表项, 也可以用 <code>&lt;S-Tab&gt;</code> 、 <code>&lt;C-p&gt;</code> 或 <code>&lt;Left&gt;</code></p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="把当前单词插入到命令行">把当前单词插入到命令行<a class="hash-link" href="#把当前单词插入到命令行" title="Direct link to heading">​</a></h3><p>在 Vim 的命令行下, <code>&lt;C-r&gt;&lt;C-w&gt;</code> 映射项会复制光标下的单词并把它插入到命令行中: </p><ul><li><code>/\&lt;&lt;C-r&gt;&lt;C-w&gt;\&gt;&lt;CR&gt;</code> 等效于 <code>*</code> 命令，即查找当前光标下的单词</li><li><code>:%s/hello/&lt;C-r&gt;&lt;C-w&gt;/g</code> 把<em>hello</em>替换成当前光标下的单词</li><li>把光标移到中文句号, 然后执行 <code>:%s/&lt;C-r&gt;&lt;C-w&gt;/. /g</code> 即可把中文句号替换成 <code>. </code></li></ul><p>其他快捷键(<code>:h c_CTRL-R_CTRL-W</code>):</p><ul><li><code>&lt;C-r&gt;&lt;C-a&gt;</code> 插入当前光标下的字符串</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="回溯历史命令">回溯历史命令<a class="hash-link" href="#回溯历史命令" title="Direct link to heading">​</a></h3><p>在进入Ex命令行模式(<code>:</code>)、查找模式(<code>/</code>)后可以按以下按键填充之前执行过的命令:</p><ul><li><code>&lt;Up&gt;</code>、向上箭头、<code>&lt;C-p&gt;</code> 反向遍历历史命令</li><li><code>&lt;Down&gt;</code>、向下箭头、<code>&lt;C-n&gt;</code> 正向遍历历史命令</li></ul><p>也可以输入 <code>:help</code> 然后在遍历历史命令, 这样只展示包含<code>help</code>的命令. </p><p>模式Vim会记录最后20条命令，可以修改vimrc配置，提高上限:</p><div class="codeBlockContainer_I0IT language-vimrc theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">.vimrc</div><div class="codeBlockContent_wNvx vimrc"><pre tabindex="0" class="prism-code language-vimrc codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">set histroy=200</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="结识命令行窗口">结识命令行窗口<a class="hash-link" href="#结识命令行窗口" title="Direct link to heading">​</a></h4><p>可以将两个命令使用 <code>|</code> 连接合成一条使用, 比如:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">:write </span><span class="token comment" style="color:#999988;font-style:italic"># 保存文件内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">node % </span><span class="token comment" style="color:#999988;font-style:italic"># 使用node执行当前文件</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>合并后变成:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">:write | !node %</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>在普通模式下使用<code>q:</code>命令可以打开命令行窗口(参见 <code>:h cmdwin</code>), 命令行窗口中的每行内容都对应着命令历史中的一个条目. 在命令行窗口中可以使用Vim全部功能来查找编辑修改命令, 然后使用回车键<code>&lt;CR&gt;</code>时, 将会把当前行的内容当成 Ex 命令加以执行. </p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>当命令行窗口处于打开状态时,它会始终拥有焦点. 这意味着,除非关闭命令行窗口,否则我们无法切换到其他窗口. 要想关闭命令行窗口,我们可以执行 <code>:q</code> 命令(就像关闭普通 Vim 窗口那样),或是按 <code>&lt;CR&gt;</code> . </p><p>当我们在命令行窗口内按 <code>&lt;CR&gt;</code> 时,该命令在活动窗口的上下文中执行. 活动窗口指的是在调出命令窗口前,处于活动状态的那个窗口. 当命令行窗口处于打开状态时,Vim 并不会提示哪个窗口是活动窗口,因此如果你用了分割窗口的话,需要特别留意. </p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="运行shell命令">运行Shell命令<a class="hash-link" href="#运行shell命令" title="Direct link to heading">​</a></h3><p>不用离开Vim, 我们还可以把缓冲区的内容作为标准输入发送给一个外部命令,或是把外部命令的标准输出导入到缓冲区里. </p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="执行shell中的程序">执行Shell中的程序<a class="hash-link" href="#执行shell中的程序" title="Direct link to heading">​</a></h4><p>在命令行模式中, 给命令加一个叹号前缀(参见 <code>:h :!</code> )就可以调用外部程序 <code>:!{cmd}</code>: </p><ul><li><code>:!ls -al</code> 查看当前目录下的所有文件</li></ul><p>在命令行中,符号 <code>%</code> 代表当前文件名(参见 <code>:h cmdline-special</code> ). 在运行那些操作当前文件的外部命令时,我们可以使用它:</p><ul><li><code>:!ruby %</code> 使用Ruby执行当前文件</li></ul><p><code>:!{cmd}</code> 适用于执行一次性命令, 如果想在 shell 中执行多条命令, <code>:shell</code> 命令来启动一个交互的 shell 会话(参见 <code>:h :shell</code> ), 执行完shell后使用<code>exit</code>退出shell回话并返回Vim.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>把Vim置于后台</h5></div><div class="admonition-content"><p><code>:shell</code> 命令是 Vim 提供的一个功能,它可以让我们切换到一个交互 shell 中。但是,如果 Vim 自身是在终端中运行的话, 可以利用 bash shell 的作业控制, 暂停一个作业,把它放到后台,然后在稍后某个时间再把它调回前台继续运行.</p><p>假设我们正在 bash shell 中运行 Vim,然后需要执行一些 shell 命令。我们可以先按 <code>Ctrl-z</code> 挂起 Vim 所属的进程,并把控制权交还给 bash。此时 Vim 进程在后台处于挂起状态,让我们可以像往常一样与 bash 会话进行交互。</p><p>在 bash 中,我们可以用 <code>fg</code> 命令唤醒一个被挂起的作业,把它移到前台。这会让 Vim 恢复成挂起前的状态。 <code>Ctrl-z</code> 和 <code>fg</code> 命令比 Vim 所提供的 <code>:shell</code> 和 <code>exit</code> 命令更加方便快捷。</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="把缓冲区内容作为标准输入或输出">把缓冲区内容作为标准输入或输出<a class="hash-link" href="#把缓冲区内容作为标准输入或输出" title="Direct link to heading">​</a></h4><ul><li><code>:read !{cmd}</code> 命令把 <code>{cmd}</code> 命令的输出读入当前缓冲区中.</li><li><code>:write !{cmd}</code> 命令把缓冲区内容作为指定 <code>{cmd}</code> 的标准输入.</li></ul><p>下面展示一个重命名文件的例子(例子来自<code>:h rename-files</code>), 把当前目录下的<em>.js</em>扩展名改成<em>.ts</em>:</p><ol><li>打开bash shell, 执行vim进入Vim环境</li><li><code>:r !ls *.js</code> 会把当前目录下的所有<em>.js</em>文件读到当前缓冲区, 其中<code>:r</code> 是 <code>:read</code>的简写</li><li><code>:%s/\(.*\).js/mv &amp; \1.ts</code> 把每行文本替换成shell脚本</li><li><code>:w !sh</code> 把缓冲区内容作为标准输入传递给 <code>sh</code> 执行.</li><li><code>:q!</code> 退出Vim</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="使用外部命令过滤缓冲区内容">使用外部命令过滤缓冲区内容<a class="hash-link" href="#使用外部命令过滤缓冲区内容" title="Direct link to heading">​</a></h4><p><code>[range]!{cmd}</code> 当给定一个范围时, <code>[range]</code> 所指定的行会传给 <code>{cmd}</code> 作为标准输入,然后又会用 <code>{cmd}</code> 的输出覆盖 <code>[range]</code> 内原本的内容, 也就是说 <code>[range]</code> 内的文本会被指定的 <code>{cmd}</code> 进行过滤. Vim 把过滤器定义为“一个由标准输入读取文本,并对其进行某种形式的修改后输出到标准输出的程序”. </p><p>利用把以下文本中的姓氏按照第二个字段重排:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">文本内容</div><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">first name,last name,email</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">john,smith,john@example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drew,neil,drew@vimcasts.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jane,doe,jane@example.com</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>执行命令<code>:2,$!sort -t&#x27;,&#x27; -k2</code>替换即可.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="tricks">Tricks<a class="hash-link" href="#tricks" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="普通模式-1">普通模式<a class="hash-link" href="#普通模式-1" title="Direct link to heading">​</a></h3><table><thead><tr><th>按键操作</th><th>用途</th><th>备注</th></tr></thead><tbody><tr><td><code>zz</code></td><td>把当前行显示在窗口正中</td><td></td></tr><tr><td><code>zt</code></td><td>把当前行显示在窗口顶部</td><td>top</td></tr><tr><td><code>zb</code></td><td>把当前行显示在窗口底部</td><td>bottom</td></tr><tr><td><code>K</code></td><td>查看处于光标之下的那个单词的手册页</td><td></td></tr><tr><td><code>J</code></td><td>把当前行和下一行连接在一起</td><td></td></tr><tr><td><code>ga</code></td><td>在状态栏显示当前光标下的字符的编码</td><td></td></tr><tr><td><code>Vr-</code></td><td>当前行字符全部替换成<code>-</code></td><td></td></tr><tr><td><code>&lt;C-o&gt;</code></td><td>跳回上一个位置</td><td></td></tr><tr><td><code>*</code></td><td>查找当前单词</td><td></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="percent">Percent<a class="hash-link" href="#percent" title="Direct link to heading">​</a></h3><ul><li>在普通模式中 <code>%</code>用来在<code>()</code>和<code>{}</code>之间来回跳转，可以搭配操作符操作.</li><li>在Ex命令模式中，<code>%</code>表示整个文档. </li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="大小写切换">大小写切换<a class="hash-link" href="#大小写切换" title="Direct link to heading">​</a></h3><p><code>~</code> 对当前字符进行大小写切换, 无需结合动作命令(motion). </p><p><code>g~</code>(大小写切换)、<code>gu</code>(变成小写) 和 <code>gU</code>(变成大写) 需要结合动作命令:</p><ul><li><code>gUaw</code> 当前单词转成大写</li><li><code>gUit</code> 当前标签内文本变成大写</li></ul><p>或者调用两次时作用于当前行:</p><ul><li><code>gUgU</code> 或者 <code>gUU</code> 当前行全部变成大写</li></ul><p>(<code>g~</code>和<code>gu</code>使用方式一样)</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="文本对象text-object-1">文本对象(text object)<a class="hash-link" href="#文本对象text-object-1" title="Direct link to heading">​</a></h3><table><thead><tr><th>按键操作</th><th>用途</th><th>备注</th></tr></thead><tbody><tr><td><code>caw</code></td><td>删除当前单词，并进入插入模式</td><td><code>aw</code> 可以记成 <code>a word</code></td></tr><tr><td><code>ciw</code></td><td>删除当前单词，并进入插入模式</td><td></td></tr><tr><td><code>cit</code></td><td>删除标签内单词，并进入插入模式</td><td><code>it</code> 可以记成 <code>inside the tag</code></td></tr></tbody></table><p>上面的<code>c</code>可以替换成其他操作符<code>d</code>、<code>y</code>，甚至 <code>v</code>(可视模式).</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="缩进">缩进<a class="hash-link" href="#缩进" title="Direct link to heading">​</a></h3><p><code>&gt;</code>用于缩进， <code>&gt;</code> 可以配合其他位移操作使用</p><ul><li><code>&gt;&gt;</code> 缩进当前行</li><li><code>&gt;G</code> 缩进当前行及后所有行</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="字符查找">字符查找<a class="hash-link" href="#字符查找" title="Direct link to heading">​</a></h3><ul><li><code>f{char}</code> 在行内查找下一个定字符(光标会移动到字符)</li><li><code>F{char}</code> 在行内查找上一个定字符(光标会移动到字符)</li><li><code>t{char}</code> 在行内查找下一个定字符(光标停留在字符前)</li><li><code>T{char}</code> 在行内查找上一个定字符(光标停留在字符前)</li><li><code>;</code> 命令会重复查找上次 <code>f</code> 命令所查找的字符， 是移动可重复执行</li><li><code>，</code> 与<code>;</code>相反，回到上一个查找的字符</li><li><code>*</code> 查找当前光标下的单词</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/alanwei43/blog/tree/master/src/docs/reading/practical-vim.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reading/core-java-for-the-impatient/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Core Java for the Impatient</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reading/redis-getting-started-2nd/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Redis入门指南</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#基本操作" class="table-of-contents__link toc-highlight">基本操作</a><ul><li><a href="#模式" class="table-of-contents__link toc-highlight">模式</a><ul><li><a href="#普通模式normal-mode" class="table-of-contents__link toc-highlight">普通模式(normal mode)</a></li><li><a href="#插入模式insert-mode" class="table-of-contents__link toc-highlight">插入模式(insert mode)</a></li><li><a href="#替换模式replace-mode" class="table-of-contents__link toc-highlight">替换模式(replace mode)</a></li><li><a href="#插入-普通模式" class="table-of-contents__link toc-highlight">插入-普通模式</a></li><li><a href="#可视模式visual-mode" class="table-of-contents__link toc-highlight">可视模式(visual mode)</a></li></ul></li><li><a href="#常用操作符列表" class="table-of-contents__link toc-highlight">常用操作符列表</a></li><li><a href="#动作命令motion" class="table-of-contents__link toc-highlight">动作命令(motion)</a><ul><li><a href="#文本对象text-object" class="table-of-contents__link toc-highlight">文本对象(text object)</a></li></ul></li><li><a href="#修改" class="table-of-contents__link toc-highlight">修改</a></li><li><a href="#以退为进" class="table-of-contents__link toc-highlight">以退为进</a></li><li><a href="#执行重复回退" class="table-of-contents__link toc-highlight">执行、重复、回退</a></li><li><a href="#查找并手动替换" class="table-of-contents__link toc-highlight">查找并手动替换</a></li></ul></li><li><a href="#普通模式" class="table-of-contents__link toc-highlight">普通模式</a><ul><li><a href="#把撤销单元切成块" class="table-of-contents__link toc-highlight">把撤销单元切成块</a></li><li><a href="#构造可重复的修改" class="table-of-contents__link toc-highlight">构造可重复的修改</a></li><li><a href="#用次数做简单的算术运算" class="table-of-contents__link toc-highlight">用次数做简单的算术运算</a></li><li><a href="#操作符简介" class="table-of-contents__link toc-highlight">操作符简介</a></li><li><a href="#结识操作符待决模式" class="table-of-contents__link toc-highlight">结识操作符待决模式</a></li></ul></li><li><a href="#插入模式" class="table-of-contents__link toc-highlight">插入模式</a><ul><li><a href="#在插入模式中可即时更正错误" class="table-of-contents__link toc-highlight">在插入模式中可即时更正错误</a></li><li><a href="#返回普通模式" class="table-of-contents__link toc-highlight">返回普通模式</a><ul><li><a href="#结识插入-普通模式" class="table-of-contents__link toc-highlight">结识插入-普通模式</a></li></ul></li><li><a href="#插入模式粘贴寄存器中的文本" class="table-of-contents__link toc-highlight">插入模式粘贴寄存器中的文本</a><ul><li><a href="#对面向字符的寄存器使用-c-rregister-命令" class="table-of-contents__link toc-highlight">对面向字符的寄存器使用 <code>&lt;C-r&gt;{register}</code> 命令</a></li></ul></li><li><a href="#表达式寄存器做运算" class="table-of-contents__link toc-highlight">表达式寄存器做运算</a></li><li><a href="#用字符编码插入非常用字符" class="table-of-contents__link toc-highlight">用字符编码插入非常用字符</a></li><li><a href="#用二合字母插入非常用字符" class="table-of-contents__link toc-highlight">用二合字母插入非常用字符</a></li><li><a href="#用替换模式替换已有文本" class="table-of-contents__link toc-highlight">用替换模式替换已有文本</a></li></ul></li><li><a href="#可视模式" class="table-of-contents__link toc-highlight">可视模式</a><ul><li><a href="#结识选择模式" class="table-of-contents__link toc-highlight">结识选择模式</a><ul><li><a href="#切换选区的活动端" class="table-of-contents__link toc-highlight">切换选区的活动端</a></li></ul></li><li><a href="#列块可视模式下批量插入文本" class="table-of-contents__link toc-highlight">列块可视模式下批量插入文本</a></li></ul></li><li><a href="#命令行模式" class="table-of-contents__link toc-highlight">命令行模式</a><ul><li><a href="#结识vim的命令行模式" class="table-of-contents__link toc-highlight">结识Vim的命令行模式</a><ul><li><a href="#操作缓冲区文本的ex命令" class="table-of-contents__link toc-highlight">操作缓冲区文本的Ex命令</a></li><li><a href="#vim命令行模式中的特殊按键" class="table-of-contents__link toc-highlight">Vim命令行模式中的特殊按键</a></li></ul></li><li><a href="#在一行或多个连续行上执行命令" class="table-of-contents__link toc-highlight">在一行或多个连续行上执行命令</a><ul><li><a href="#用行号作为地址" class="table-of-contents__link toc-highlight">用行号作为地址</a></li><li><a href="#用地址指定一个范围" class="table-of-contents__link toc-highlight">用地址指定一个范围</a></li><li><a href="#用高亮选区指定范围" class="table-of-contents__link toc-highlight">用高亮选区指定范围</a></li><li><a href="#用模式指定范围" class="table-of-contents__link toc-highlight">用模式指定范围</a></li><li><a href="#用偏移对地址进行修正" class="table-of-contents__link toc-highlight">用偏移对地址进行修正</a></li><li><a href="#ex命令地址及范围符号总结" class="table-of-contents__link toc-highlight">Ex命令地址及范围符号总结</a></li></ul></li><li><a href="#使用t和m命令复制和移动行" class="table-of-contents__link toc-highlight">使用:t和:m命令复制和移动行</a></li><li><a href="#在指定范围上执行普通模式命令" class="table-of-contents__link toc-highlight">在指定范围上执行普通模式命令</a></li><li><a href="#重复上次的ex命令" class="table-of-contents__link toc-highlight">重复上次的Ex命令</a></li><li><a href="#自动补全ex命令" class="table-of-contents__link toc-highlight">自动补全Ex命令</a><ul><li><a href="#在多个补全项间选择" class="table-of-contents__link toc-highlight">在多个补全项间选择</a></li></ul></li><li><a href="#把当前单词插入到命令行" class="table-of-contents__link toc-highlight">把当前单词插入到命令行</a></li><li><a href="#回溯历史命令" class="table-of-contents__link toc-highlight">回溯历史命令</a><ul><li><a href="#结识命令行窗口" class="table-of-contents__link toc-highlight">结识命令行窗口</a></li></ul></li><li><a href="#运行shell命令" class="table-of-contents__link toc-highlight">运行Shell命令</a><ul><li><a href="#执行shell中的程序" class="table-of-contents__link toc-highlight">执行Shell中的程序</a></li><li><a href="#把缓冲区内容作为标准输入或输出" class="table-of-contents__link toc-highlight">把缓冲区内容作为标准输入或输出</a></li><li><a href="#使用外部命令过滤缓冲区内容" class="table-of-contents__link toc-highlight">使用外部命令过滤缓冲区内容</a></li></ul></li></ul></li><li><a href="#tricks" class="table-of-contents__link toc-highlight">Tricks</a><ul><li><a href="#普通模式-1" class="table-of-contents__link toc-highlight">普通模式</a></li><li><a href="#percent" class="table-of-contents__link toc-highlight">Percent</a></li><li><a href="#大小写切换" class="table-of-contents__link toc-highlight">大小写切换</a></li><li><a href="#文本对象text-object-1" class="table-of-contents__link toc-highlight">文本对象(text object)</a></li><li><a href="#缩进" class="table-of-contents__link toc-highlight">缩进</a></li><li><a href="#字符查找" class="table-of-contents__link toc-highlight">字符查找</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">文章列表</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/es6-in-depth/introduction/">深入浅出ES6 - InfoQ.cn</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/why-java-sucks-and-csharp-rocks/compare-purpose/">Why Java Sucks and C# Rocks - 赵劼</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/reading/">阅读笔记</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/archives/git-guides/">博文归档</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">文档翻译</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/reading/practical-vim/docs/guides/blog/">Docusaurus Blog</a> </li><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/reading/practical-vim/docs/guides/docs/markdown-features/">Docusaurus Markdown</a> </li><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/blog/2022/03/12/caddy-intro/">Caddy 简介</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">更多</h4><ul class="footer__items"><li class="footer__item"> <a href="https://github.com/alanwei43/node-io-lib" target="_blank" rel="noopener noreferrer" class="footer__link-item">node-io-lib - GitHub</a> </li><li class="footer__item"> <a href="https://github.com/alanwei43/docker-puppeteer" target="_blank" rel="noopener noreferrer" class="footer__link-item">docker-puppeteer - GitHub</a> </li><li class="footer__item"> <a href="https://github.com/alanwei43/code-server" target="_blank" rel="noopener noreferrer" class="footer__link-item">code-server - GitHub</a> </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Alan&#x27;s Blog<!-- --> <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer"> </a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.2f67bd00.js"></script>
<script src="/assets/js/main.2f575568.js"></script>
</body>
</html>