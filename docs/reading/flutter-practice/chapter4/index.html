<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-reading/flutter-practice/chapter4">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">第4章 - 布局类组件  -  Alan&#x27;s Blog</title><meta data-rh="true" name="baidu-site-verification" content="code-7RGpEH8jty"><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.alanwei.com/docs/reading/flutter-practice/chapter4"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="第4章 - 布局类组件  -  Alan&#x27;s Blog"><meta data-rh="true" name="description" content="《Flutter实战 第二版》阅读笔记"><meta data-rh="true" property="og:description" content="《Flutter实战 第二版》阅读笔记"><meta data-rh="true" name="keywords" content="dart,flutter"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://blog.alanwei.com/docs/reading/flutter-practice/chapter4"><link data-rh="true" rel="alternate" href="https://blog.alanwei.com/docs/reading/flutter-practice/chapter4" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.alanwei.com/docs/reading/flutter-practice/chapter4" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://7SQ6A6EP36-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Alan&#39;s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Alan&#39;s Blog Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Alan&#39;s Blog" href="/opensearch.xml">

<script src="/scripts/baidu.js"></script>
<script src="/scripts/bing-clarity.js"></script><link rel="stylesheet" href="/assets/css/styles.fe187890.css">
<link rel="preload" href="/assets/js/runtime~main.08e4fc56.js" as="script">
<link rel="preload" href="/assets/js/main.088473a4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Alan&#x27;s Blog</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documents</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/me">Abount me</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/alanwei43" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.png" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>Alan&#x27;s Blog</b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/articles/">Articles</a><button aria-label="Toggle the collapsible sidebar category &#x27;Articles&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/collections/">Collections</a><button aria-label="Toggle the collapsible sidebar category &#x27;Collections&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/docusaurus/">Docusaurus</a><button aria-label="Toggle the collapsible sidebar category &#x27;Docusaurus&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/reading/">Reading</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reading&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/reading/flutter-practice/">Flutter实战</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flutter实战&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/flutter-practice/chapter2">第2章</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/flutter-practice/chapter3">第3章</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reading/flutter-practice/chapter4">第4章</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/reading/mastering-spring-5/">精通 Spring 5</a><button aria-label="Toggle the collapsible sidebar category &#x27;精通 Spring 5&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/reading/react-official-docs/">React 官方文档笔记</a><button aria-label="Toggle the collapsible sidebar category &#x27;React 官方文档笔记&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/reading/pro-js-web-dev/">JavaScript高级程序设计</a><button aria-label="Toggle the collapsible sidebar category &#x27;JavaScript高级程序设计&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/bulletproff-ssl-and-tls-understanding-and-deploying-ssl-tls-and-pki-to-secure-servers-and-web-applications">HTTPS 权威指南 在服务器和Web应用上部署SSL/TLS和PKI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/core-java-for-the-impatient">Core Java for the Impatient</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/how-javascript-works">《JavaScript 悟道》 笔记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/practical-vim">Vim实用技巧</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/redis-getting-started-2nd">Redis入门指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/spring-in-action">Spring in Action</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/understanding-ecmascript-6">Understanding ECMAScript 6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/using-docker">Docker开发指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/you-dont-know-js-2">你不知道的JS(中)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/you-dont-konw-js-1">你不知道的JS(上)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reading/zh.javascript.info">现代 JavaScript 教程</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/reading/"><span itemprop="name">Reading</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/reading/flutter-practice/"><span itemprop="name">Flutter实战</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">第4章</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>第4章 - 布局类组件</h1></header><section style="margin-top:1em"><hr><ul style="margin-left:-1em"><li>作者: <a href="https://book.flutterchina.club" target="_blank">杜文 wendux</a></li><li>来源: <a href="https://book.flutterchina.club" target="_blank">https://book.flutterchina.club</a></li><li>本文仅用于本人学习和存档, 文章所有权归作者 <a href="https://book.flutterchina.club" target="_blank">杜文 wendux</a> 所有, 如有侵权请发送邮件至 <a href="mailto:me@alanwei.com?subject=删除侵权文章" target="_top">me#alanwei.com(<i>#换成@</i>)</a> 删除此文.</li></ul><hr></section><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="41-布局类组件简介">4.1 布局类组件简介<a class="hash-link" href="#41-布局类组件简介" title="Direct link to heading">​</a></h2><table><thead><tr><th>Widget</th><th>说明</th><th>用途</th></tr></thead><tbody><tr><td>LeafRenderObjectWidget</td><td>非容器类组件基类</td><td>Widget树的叶子节点,用于没有子节点的widget,通常基础组件都属于这一类,如Image.</td></tr><tr><td>SingleChildRenderObjectWidget</td><td>单子组件基类</td><td>包含一个子Widget,如: ConstrainedBox、DecoratedBox等</td></tr><tr><td>MultiChildRenderObjectWidget</td><td>多子组件基类</td><td>包含多个子Widget,一般都有一个children参数,接受一个Widget数组. 如Row、Column、Stack等</td></tr></tbody></table><p>组件继承关系 <code>Widget</code> &gt; <code>RenderObjectWidget</code> &gt; <code>(Leaf/SingleChild/MultiChild)RenderObjectWidget</code></p><p><code>RenderObjectWidget</code> 类中定义了创建、更新<code>RenderObject</code>的方法,子类必须实现他们,关于<code>RenderObject</code>我们现在只需要知道它是最终布局、渲染UI界面的对象即可,也就是说,对于布局类组件来说,其布局算法都是通过对应的<code>RenderObject</code>对象来实现的,所以读者如果对接下来介绍的某个布局类组件的原理感兴趣,可以查看其对应的<code>RenderObject</code>的实现,比如<code>Stack</code>（层叠布局）对应的<code>RenderObject</code>对象就是<code>RenderStack</code>,而层叠布局的实现就在<code>RenderStack</code>中. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="42-布局原理与约束constraints">4.2 布局原理与约束(constraints)<a class="hash-link" href="#42-布局原理与约束constraints" title="Direct link to heading">​</a></h2><p>尺寸限制类容器用于限制容器大小,Flutter中提供了多种这样的容器,如<code>ConstrainedBox</code>、<code>SizedBox</code>、<code>UnconstrainedBox</code>、<code>AspectRatio</code> 等.</p><p>Flutter 中有两种布局模型: </p><ul><li>基于 RenderBox 的盒模型布局. </li><li>基于 Sliver ( RenderSliver ) 按需加载列表布局. </li></ul><p>两种布局方式在细节上略有差异,但大体流程相同,布局流程如下: </p><ul><li>上层组件向下层组件传递约束（constraints）条件. </li><li>下层组件确定自己的大小,然后告诉上层组件. 注意下层组件的大小必须符合父组件的约束. </li><li>上层组件确定下层组件相对于自身的偏移和确定自身的大小（大多数情况下会根据子组件的大小来确定自身的大小）. </li></ul><p>比如,父组件传递给子组件的约束是“最大宽高不能超过100,最小宽高为0”,如果我们给子组件设置宽高都为200,则子组件最终的大小是100*100,因为任何时候子组件都必须先遵守父组件的约束,在此基础上再应用子组件约束（相当于父组件的约束和自身的大小求一个交集）. </p><p>盒模型布局组件有两个特点: </p><ul><li>组件对应的渲染对象都继承自 RenderBox 类. 在本书后面文章中如果提到某个组件是 RenderBox,则指它是基于盒模型布局的,而不是说组件是 RenderBox 类的实例. </li><li>在布局过程中父级传递给子级的约束信息由 BoxConstraints 描述. </li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="boxconstraints">BoxConstraints<a class="hash-link" href="#boxconstraints" title="Direct link to heading">​</a></h3><p><code>BoxConstraints</code> 是盒模型布局过程中父渲染对象传递给子渲染对象的约束信息,子组件大小需要在约束的范围内, <code>BoxConstraints</code> 默认的构造函数如下: </p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const BoxConstraints({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.minWidth = 0.0, // 最小宽度</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.maxWidth = double.infinity, //最大宽度</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.minHeight = 0.0, //最小高度</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.maxHeight = double.infinity //最大高度</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>BoxConstraints</code> 还定义了一些便捷的构造函数:</p><ul><li><code>BoxConstraints.tight(Size size)</code> 它可以生成固定宽高的限制</li><li><code>BoxConstraints.expand()</code> 可以生成一个尽可能大的用以填充另一个容器的 <code>BoxConstraints</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="constrainedbox">ConstrainedBox<a class="hash-link" href="#constrainedbox" title="Direct link to heading">​</a></h3><p><code>ConstrainedBox</code> 用于对子组件添加额外的约束, 比如:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ConstrainedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  constraints: BoxConstraints(minWidth: double.infinity, minHeight: 50),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: Container(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    height: 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    child: DecoratedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      decoration: BoxDecoration(color: Colors.red)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面的代码会产生一个高度50、宽度100%的红色色块. </p><p>我们虽然将 <code>Container</code> 的高度设置为10像素,但是最终却是50像素,这正是<code>ConstrainedBox</code>的最小高度限制生效了. 如果将Container的高度设置为80像素,那么最终红色区域的高度也会是80像素,因为<code>ConstrainedBox</code>只限制了最小高度50像素,并未限制最大高度(最大高度默认是 <code>double.infinity</code>).</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sizedbox">SizedBox<a class="hash-link" href="#sizedbox" title="Direct link to heading">​</a></h3><p><code>SizedBox</code> 用于给子元素指定固定的宽高, 实际上<code>SizedBox</code>只是<code>ConstrainedBox</code>的一个定制:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SizedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  width: 80.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  height: 80.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: DecoratedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    decoration: BoxDecoration(color: Colors.red)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 等价于</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ConstrainedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  constraints: BoxConstraints.tightFor(width: 80.0,height: 80.0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: DecoratedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    decoration: BoxDecoration(color: Colors.red)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ), </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 最终等价于</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ConstrainedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  constraints: BoxConstraints(minHeight: 80.0,maxHeight: 80.0,minWidth: 80.0,maxWidth: 80.0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: DecoratedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    decoration: BoxDecoration(color: Colors.red)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ), </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="多重限制">多重限制<a class="hash-link" href="#多重限制" title="Direct link to heading">​</a></h3><p>如果某一个组件有多个父级ConstrainedBox限制时,对于<code>minWidth</code>和<code>minHeight</code>来说,是取父子中相应数值最大的. 而对于<code>maxWidth</code>和<code>maxHeight</code>取多个ConstrainedBox约束中最小的. 只有这样才能保证父限制与子限制不冲突. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="unconstrainedbox">UnconstrainedBox<a class="hash-link" href="#unconstrainedbox" title="Direct link to heading">​</a></h3><p>假如有一个组件 A,它的子组件是B,B 的子组件是 C,则 C 必须遵守 B 的约束,同时 B 必须遵守 A 的约束,也就是说正常情况下组件的约束会向下传递. 但是 A 的约束不会直接约束到 C,除非B将A对它自己的约束透传给了C, 利用这个原理, 可以实现一个这样的 B 组件: </p><ul><li>B 组件中在布局 C 时不约束C（可以为无限大）. </li><li>C 根据自身真实的空间占用来确定自身的大小. </li><li>B 在遵守 A 的约束前提下结合子组件的大小确定自身大小. </li></ul><p>而这个B组件就是 <code>UnconstrainedBox</code> 组件,也就是说 <code>UnconstrainedBox</code> 的子组件将不再受到约束,大小完全取决于自己. 比如:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ConstrainedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  constraints: BoxConstraints(minWidth: 60.0, minHeight: 100.0), //父</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: UnconstrainedBox( //去除父级限制</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    child: ConstrainedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      constraints: BoxConstraints(minWidth: 90.0, minHeight: 20.0), //子</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      child: DecoratedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        decoration: BoxDecoration(color: Colors.red),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果没有中间的 <code>UnconstrainedBox</code>,那么根据上面所述的多重限制规则,那么最终将显示一个90×100的红色框. 但是由于<code>UnconstrainedBox</code> “去除”了父<code>ConstrainedBox</code>的限制,则最终会按照子<code>ConstrainedBox</code>的限制来绘制<code>DecoratedBox</code>,即90×20. </p><p>但是,<code>UnconstrainedBox</code>对父组件限制的“去除”并非是真正的去除: 上面例子中虽然红色区域大小是90×20,但上方仍然有80的空白空间. 也就是说父限制的<code>minHeight(100.0)</code>仍然是生效的,只不过它不影响最终子元素<code>DecoratedBox</code>的大小,但仍然还是占有相应的空间,可以认为此时的父<code>ConstrainedBox</code>是作用于子<code>UnconstrainedBox</code>上,而<code>DecoratedBox</code>只受子<code>ConstrainedBox</code>限制.</p><p><strong>任何时候子组件都必须遵守其父组件的约束</strong>, 没有方法可以彻底去除父<code>ConstrainedBox</code>的限制.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>UnconstrainedBox 虽然在其子组件布局时可以取消约束（子组件可以为无限大）,<strong>但是 UnconstrainedBox 自身是受其父组件约束的,所以当 UnconstrainedBox 随着其子组件变大后,如果UnconstrainedBox 的大小超过它父组件约束时,也会导致溢出报错</strong>,比如把上面那段代码里父BoxConstraints设置一个<code>maxWidth</code>小于子ConstrainedBox的最小宽,就会出现导致溢出报错:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ConstrainedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  constraints: BoxConstraints(minWidth: 60.0, maxWidth: 80, minHeight: 100.0), //父</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: UnconstrainedBox( //去除父级限制</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    child: ConstrainedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      constraints: BoxConstraints(minWidth: 90.0, minHeight: 20.0), // 这里的最小宽超过了父级约束的最大宽</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      child: DecoratedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        decoration: BoxDecoration(color: Colors.red),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="其它约束类容器">其它约束类容器<a class="hash-link" href="#其它约束类容器" title="Direct link to heading">​</a></h3><ul><li>AspectRatio: 它可以指定子组件的长宽比</li><li>LimitedBox: 用于指定最大宽高</li><li>FractionallySizedBox: 可以根据父容器宽高的百分比来设置子组件宽高</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="43-线性布局row和column">4.3 线性布局（Row和Column）<a class="hash-link" href="#43-线性布局row和column" title="Direct link to heading">​</a></h2><p>Flutter 中通过Row和Column来实现线性布局, 都继承自Flex.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="主轴和纵轴">主轴和纵轴<a class="hash-link" href="#主轴和纵轴" title="Direct link to heading">​</a></h3><p>对于线性布局, 有主轴和纵轴之分:</p><ul><li>如果布局是沿水平方向,那么主轴就是指水平方向,而纵轴即垂直方向</li><li>如果布局沿垂直方向,那么主轴就是指垂直方向,而纵轴就是水平方向. 在线性布局中</li></ul><p>有两个定义对齐方式的枚举类<code>MainAxisAlignment</code>和<code>CrossAxisAlignment</code>,分别代表主轴对齐和纵轴对齐. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="row">Row<a class="hash-link" href="#row" title="Direct link to heading">​</a></h3><p>Row可以沿水平方向排列其子widget. 定义如下: </p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Row({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TextDirection textDirection,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MainAxisSize mainAxisSize = MainAxisSize.max,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MainAxisAlignment mainAxisAlignment = MainAxisAlignment.start,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  VerticalDirection verticalDirection = VerticalDirection.down,  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CrossAxisAlignment crossAxisAlignment = CrossAxisAlignment.center,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;Widget&gt; children = const &lt;Widget&gt;[],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="textdirection"><code>textDirection</code><a class="hash-link" href="#textdirection" title="Direct link to heading">​</a></h4><p>表示水平方向子组件的布局顺序(是从左往右还是从右往左),默认为系统当前Locale环境的文本方向(如中文、英语都是从左往右,而阿拉伯语是从右往左)</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mainaxissize"><code>mainAxisSize</code><a class="hash-link" href="#mainaxissize" title="Direct link to heading">​</a></h4><p>表示Row在主轴(水平)方向占用的空间</p><ul><li>默认是 MainAxisSize.max, 表示尽可能多的占用水平方向的空间, 此时无论子 widgets 实际占用多少水平空间, Row的宽度始终等于水平方向的最大宽度;</li><li>而 MainAxisSize.min 表示尽可能少的占用水平空间, 当子组件没有占满水平剩余空间 , 则Row的实际宽度等于所有子组件占用的的水平空间;</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mainaxisalignment"><code>mainAxisAlignment</code><a class="hash-link" href="#mainaxisalignment" title="Direct link to heading">​</a></h4><p>表示子组件在<code>Row</code>所占用的水平空间内对齐方式.</p><p>如果<code>mainAxisSize</code>值为<code>MainAxisSize.min</code>, 子组件的宽度等于<code>Row</code>的宽度, 此属性无意义. 只有当<code>mainAxisSize</code>的值为<code>MainAxisSize.max</code>时, 此属性才有意义.</p><ul><li><code>MainAxisAlignment.start</code>表示沿<code>textDirection</code>的初始方向对齐, 如<code>textDirection</code>取值为<code>TextDirection.ltr</code>时, 则<code>MainAxisAlignment.start</code>表示左对齐, <code>textDirection</code>取值为<code>TextDirection.rtl</code>时表示从右对齐. </li><li><code>MainAxisAlignment.end</code>和<code>MainAxisAlignment.start</code>正好相反</li><li><code>MainAxisAlignment.center</code>表示居中对齐</li></ul><p>读者可以这么理解: <code>textDirection</code>是<code>mainAxisAlignment</code>的参考系.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="verticaldirection"><code>verticalDirection</code><a class="hash-link" href="#verticaldirection" title="Direct link to heading">​</a></h4><p>表示Row纵轴（垂直）的对齐方向，默认是<code>VerticalDirection.down</code>，表示从上到下。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="crossaxisalignment"><code>crossAxisAlignment</code><a class="hash-link" href="#crossaxisalignment" title="Direct link to heading">​</a></h4><p>表示子组件在纵轴方向的对齐方式，Row的高度等于子组件中最高的子元素高度，它的取值和MainAxisAlignment一样(包含start、end、 center三个值)，不同的是crossAxisAlignment的参考系是verticalDirection，即verticalDirection值为VerticalDirection.down时crossAxisAlignment.start指顶部对齐，verticalDirection值为VerticalDirection.up时，crossAxisAlignment.start指底部对齐；而crossAxisAlignment.end和crossAxisAlignment.start正好相反；</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="column">Column<a class="hash-link" href="#column" title="Direct link to heading">​</a></h3><p>Column可以在垂直方向排列其子组件。参数和Row一样，不同的是布局方向为垂直，主轴纵轴正好相反.</p><p><strong>Row(主轴mainAxis为水平方向)和Column(主轴mainAxis为垂直方向), 都只会在主轴方向占用尽可能大的空间, 而纵轴的长度则取决于他们最大子元素的长度.</strong></p><p>比如:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Column(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  crossAxisAlignment: CrossAxisAlignment.center,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  children: &lt;Widget&gt;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;hi&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Text(&quot;world&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>效果如下:</p><img src="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220405_202153.jpg" alt="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220405_202153.jpg" referrerpolicy="no-referrer"><p>虽然我们指定纵轴居中对齐:<code>crossAxisAlignment: CrossAxisAlignment.center</code>(Column的纵轴为水平方向), 但是两行文本并未在屏幕水平方向的中间, <strong>是因为Column和Row一样, 默认只会在主轴方向占尽可能大的空间, 而纵轴的长度则取决于他们最大子元素的长度</strong>, 对于上述代码, Colum的宽度实际上等同于第二行文字的宽度, 所以第一行文字位于第二行文本宽度的中间. 借助ConstrainedBox或SizedBox可以强制更改Column纵轴方向的宽度:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ConstrainedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  constraints: BoxConstraints(minWidth: double.infinity),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: Column(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    crossAxisAlignment: CrossAxisAlignment.center,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    children: &lt;Widget&gt;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Text(&quot;hi&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Text(&quot;world&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>效果如下:</p><img src="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220405_202123.jpg" alt="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220405_202123.jpg" referrerpolicy="no-referrer"><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="特殊情况">特殊情况<a class="hash-link" href="#特殊情况" title="Direct link to heading">​</a></h3><p><strong>如果Row里面嵌套Row，或者Column里面再嵌套Column，那么只有最外面的Row或Column会占用尽可能大的空间，里面Row或Column所占用的空间为实际大小</strong>，下面以Column为例说明: </p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Container(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  color: Colors.green,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: Padding(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    padding: const EdgeInsets.all(16.0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    child: Column(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      crossAxisAlignment: CrossAxisAlignment.start,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      mainAxisSize: MainAxisSize.max, //有效，外层Colum高度为整个屏幕</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      children: &lt;Widget&gt;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Container(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          color: Colors.red,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          child: Column(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mainAxisSize: MainAxisSize.max,//无效，内层Colum高度为实际高度  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            children: &lt;Widget&gt;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              Text(&quot;hello world &quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              Text(&quot;I am Jack &quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>效果如下:</p><img src="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220405_203119.jpg" alt="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220405_203119.jpg" referrerpolicy="no-referrer"><p>如果要让里面的Column占满外部Column，可以使用 Expanded 组件：</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Container(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  color: Colors.green,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: Padding(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    padding: const EdgeInsets.all(16.0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    child: Column(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      crossAxisAlignment: CrossAxisAlignment.start,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      mainAxisSize: MainAxisSize.max, //有效，外层Colum高度为整个屏幕</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      children: &lt;Widget&gt;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Expanded(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          child: Container(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            color: Colors.red,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            child: Column(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              mainAxisSize: MainAxisSize.max, //无效，内层Colum高度为实际高度</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              children: &lt;Widget&gt;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Text(&quot;hello world &quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Text(&quot;I am Jack &quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><img src="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220405_203421.jpg" alt="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220405_203421.jpg" referrerpolicy="no-referrer"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="44-弹性布局flex">4.4 弹性布局（Flex）<a class="hash-link" href="#44-弹性布局flex" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="flex">Flex<a class="hash-link" href="#flex" title="Direct link to heading">​</a></h3><p>Flex组件可以沿着水平或垂直方向排列子组件，如果你知道主轴方向，使用Row或Column会方便一些，因为Row和Column都继承自Flex，参数基本相同，所以能使用Flex的地方基本上都可以使用Row或Column:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Flex({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required this.direction, //弹性布局的方向, Row默认为水平方向，Column默认为垂直方向</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;Widget&gt; children = const &lt;Widget&gt;[],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expanded">Expanded<a class="hash-link" href="#expanded" title="Direct link to heading">​</a></h3><p>Expanded 只能作为 Flex 的孩子（否则会报错），它可以按比例“扩伸”Flex子组件所占用的空间。因为 Row和Column 都继承自 Flex，所以 Expanded 也可以作为它们的孩子:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const Expanded({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int flex = 1, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required Widget child,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="flex-1">flex<a class="hash-link" href="#flex-1" title="Direct link to heading">​</a></h4><p>flex参数为弹性系数，<strong>如果为 0 或null，则child是没有弹性的，即不会被扩伸占用的空间。如果大于0，所有的Expanded按照其 flex 的比例来分割主轴的全部空闲空间。</strong></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="spacer">Spacer<a class="hash-link" href="#spacer" title="Direct link to heading">​</a></h3><p>Spacer的功能是占用指定比例的空间，实际上它只是Expanded的一个包装类，Spacer的源码如下：</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class Spacer extends StatelessWidget {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const Spacer({Key? key, this.flex = 1})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    : assert(flex != null),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      assert(flex &gt; 0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      super(key: key);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  final int flex;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Widget build(BuildContext context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return Expanded(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      flex: flex,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      child: const SizedBox.shrink(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="45-流式布局">4.5 流式布局<a class="hash-link" href="#45-流式布局" title="Direct link to heading">​</a></h2><p>Flutter中通过Wrap和Flow来支持流式布局</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wrap">Wrap<a class="hash-link" href="#wrap" title="Direct link to heading">​</a></h3><p>Wrap的很多属性在Row（包括Flex和Column）中也有，这些参数意义是相同的:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Wrap({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.direction = Axis.horizontal,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.alignment = WrapAlignment.start,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 主轴方向子widget的间距</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.spacing = 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 纵轴方向的对齐方式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.runAlignment = WrapAlignment.start,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 纵轴方向的间距</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.runSpacing = 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.crossAxisAlignment = WrapCrossAlignment.start,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.textDirection,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.verticalDirection = VerticalDirection.down,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;Widget&gt; children = const &lt;Widget&gt;[],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="flow">Flow<a class="hash-link" href="#flow" title="Direct link to heading">​</a></h3><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="46-层叠布局">4.6 层叠布局<a class="hash-link" href="#46-层叠布局" title="Direct link to heading">​</a></h2><p>层叠布局和 Web 中的绝对定位、Android 中的 Frame 布局是相似的，子组件可以根据距父容器四个角的位置来确定自身的位置。层叠布局允许子组件按照代码中声明的顺序堆叠起来。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="stack">Stack<a class="hash-link" href="#stack" title="Direct link to heading">​</a></h3><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Stack({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.alignment = AlignmentDirectional.topStart,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.textDirection,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.fit = StackFit.loose,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.clipBehavior = Clip.hardEdge,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;Widget&gt; children = const &lt;Widget&gt;[],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="alignment">alignment<a class="hash-link" href="#alignment" title="Direct link to heading">​</a></h4><p><strong>此参数决定如何去对齐没有定位（没有使用Positioned）或部分定位的子组件。</strong></p><p>部分定位是指没有在某一个轴上定位：left、right为横轴，top、bottom为纵轴，只要包含某个轴上的一个定位属性就算在该轴上有定位。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="textdirection-1">textDirection<a class="hash-link" href="#textdirection-1" title="Direct link to heading">​</a></h4><p>和Row、Wrap的textDirection功能一样，都用于确定alignment对齐的参考系，即：textDirection的值为TextDirection.ltr，则alignment的start代表左，end代表右，即从左往右的顺序；textDirection的值为TextDirection.rtl，则alignment的start代表右，end代表左，即从右往左的顺序。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fit">fit<a class="hash-link" href="#fit" title="Direct link to heading">​</a></h4><p>此参数用于确定没有定位的子组件如何去适应Stack的大小。<code>StackFit.loose</code>表示使用子组件的大小，<code>StackFit.expand</code>表示扩伸到Stack的大小。</p><p><strong>Stack 的子元素是堆叠的, children后面的元素会覆盖children前面的元素.</strong></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clipbehavior">clipBehavior<a class="hash-link" href="#clipbehavior" title="Direct link to heading">​</a></h4><p>此属性决定对超出Stack显示空间的部分如何剪裁，Clip枚举类中定义了剪裁的方式，<code>Clip.hardEdge</code> 表示直接剪裁，不应用抗锯齿，更多信息可以查看源码注释。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="positioned">Positioned<a class="hash-link" href="#positioned" title="Direct link to heading">​</a></h3><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const Positioned({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Key? key,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.left, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.top,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.right,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.bottom,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.width,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.height,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required Widget child,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>left、top 、right、 bottom分别代表离Stack左、上、右、底四边的距离。width和height用于指定需要定位元素的宽度和高度。注意，Positioned的width、height 和其它地方的意义稍微有点区别，此处用于配合left、top 、right、 bottom来定位组件，举个例子，在水平方向时，你只能指定left、right、width三个属性中的两个，如指定left和width后，right会自动算出(left+width)，如果同时指定三个属性则会报错，垂直方向同理。</p><p>示例:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ConstrainedBox(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  constraints: BoxConstraints.expand(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: Stack(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 表示子元素默认 顶部居中 显示(topCenter, 指的是竖轴方向顶部对齐: top, 横轴方向居中对齐: Center)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    alignment: Alignment.topCenter, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    children: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * 非 Positioned 组件, 定位遵循 Stack.alignment,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * 也就是 顶部居中 显示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Container(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        child: Text(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;Container&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          style: TextStyle(color: Colors.red),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * 部分定位的 Positioned, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * 由于未指定纵轴方向(top/bottom)的距离, 遵循 Alignment.topCenter 中的 top,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * 由于指定了横轴方向的left值, 所以覆盖了 Alignment.topCenter 中的 Center, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * 最终显示效果是距左 20 像素, 距离顶部 0 像素</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Positioned(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        child: Text(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;Position with left 20&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          style: TextStyle(color: Colors.blue),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        left: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * 部分定位的 Positioned,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * 由于指定了纵轴方向的top值, 所以覆盖了 Alignment.topCenter 中的 top</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * 由于未指定了横轴方向(left/right)的距离, 所以遵循 Alignment.topCenter 中的 Center</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * 最终显示效果是距顶部 20 像素, 然后横轴方向居中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Positioned(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        child: Text(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;Position with top 20&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          style: TextStyle(color: Colors.green),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        top: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // 完全定位的 Positioned, 忽略 Stack.alignment 指定的 Alignment.topCenter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Positioned(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        child: Text(&quot;Position with top and left&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        top: 40,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        left: 40,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>效果如下:</p><img src="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220406_213351.jpg" alt="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220406_213351.jpg" referrerpolicy="no-referrer"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="47-对齐与相对定位">4.7 对齐与相对定位<a class="hash-link" href="#47-对齐与相对定位" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="align">Align<a class="hash-link" href="#align" title="Direct link to heading">​</a></h3><p><code>Align</code> 组件可以调整子组件的位置，定义如下:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Align({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Key key,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * 需要一个AlignmentGeometry类型的值，表示子组件在父组件中的起始位置。AlignmentGeometry 是一个抽象类，它有两个常用的子类：Alignment和 FractionalOffset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.alignment = Alignment.center,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.widthFactor,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  this.heightFactor,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Widget child,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>alignment</code> 需要一个<code>AlignmentGeometry</code>类型的值，表示子组件在父组件中的起始位置。<code>AlignmentGeometry</code> 是一个抽象类，它有两个常用的子类： <code>Alignment</code> 和 <code>FractionalOffset</code></li><li><code>widthFactor</code> 和 <code>heightFactor</code> 是用于确定 <code>Align</code> 组件本身宽高的属性；它们是两个缩放因子，会分别乘以子元素的宽、高，最终的结果就是 <code>Align</code> 组件的宽高。如果值为 <code>null</code> ，则组件的宽高将会占用尽可能多的空间。</li></ul><p>比如:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Container(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  height: 120.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  width: 120.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  color: Colors.bule.shade50,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: Align(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    alignment: Alignment.topRight,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    child: FlutterLogo(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      size: 60,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面的代码中, 蓝色背景的容器<code>Container</code>宽高各120像素, 由于<code>Align</code>没有设置<code>widthFactor</code>和<code>heightFactor</code>, 所以<code>Align</code>撑满<code>Container</code>的空间, <code>FlutterLogo</code>位于<code>Align</code>的右上角, 同时也是<code>Container</code>的右上角.</p><p>上面代码的效果也等同于如下:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Container(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  color: Colors.bule.shade50,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  child: Align(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    widthFactor: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    heightFactor: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    alignment: Alignment.topRight,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    child: FlutterLogo(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      size: 60,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>Align</code>的<code>widthFactor</code>为2, 其子元素的宽为60, <code>Align</code>元素的实际宽就等于 2 * 60 = 120px, 效果如下:</p><img src="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220417_213004.jpg" alt="https://gitee.com/alanway/resources/raw/master/files/flutter-practice/IMG_20220417_213004.jpg" referrerpolicy="no-referrer"><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fractionaloffset">FractionalOffset<a class="hash-link" href="#fractionaloffset" title="Direct link to heading">​</a></h4><p><code>FractionalOffset</code> 继承自 <code>Alignment</code> ，它和 <code>Alignment</code> 唯一的区别就是坐标原点不同. <code>Aligment</code> 的坐标系原点是在父控件的中间, 而 <code>FractionalOffset</code> 的坐标原点为矩形的左侧顶点:</p><div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FractionalOffset(dx, dy)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>dx</code> 和 <code>dy</code> 是一个倍数而不是距离值</li><li><code>dx</code> 表示子控件从父容器的最左边移动到最右边的距离, 值为 <code>dx * (parentWidth - childWidth)</code></li><li><code>dy</code> 表示子控件从父容器最顶部移动到最底部的距离, 值为 <code>dy * (parentHeight - childHeight)</code></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/flutter">flutter</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/dart">dart</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/alanwei43/blog/tree/master/src/docs/reading/flutter-practice/chapter4.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reading/flutter-practice/chapter3"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">第3章</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reading/mastering-spring-5/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">精通 Spring 5</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#41-布局类组件简介" class="table-of-contents__link toc-highlight">4.1 布局类组件简介</a></li><li><a href="#42-布局原理与约束constraints" class="table-of-contents__link toc-highlight">4.2 布局原理与约束(constraints)</a><ul><li><a href="#boxconstraints" class="table-of-contents__link toc-highlight">BoxConstraints</a></li><li><a href="#constrainedbox" class="table-of-contents__link toc-highlight">ConstrainedBox</a></li><li><a href="#sizedbox" class="table-of-contents__link toc-highlight">SizedBox</a></li><li><a href="#多重限制" class="table-of-contents__link toc-highlight">多重限制</a></li><li><a href="#unconstrainedbox" class="table-of-contents__link toc-highlight">UnconstrainedBox</a></li><li><a href="#其它约束类容器" class="table-of-contents__link toc-highlight">其它约束类容器</a></li></ul></li><li><a href="#43-线性布局row和column" class="table-of-contents__link toc-highlight">4.3 线性布局（Row和Column）</a><ul><li><a href="#主轴和纵轴" class="table-of-contents__link toc-highlight">主轴和纵轴</a></li><li><a href="#row" class="table-of-contents__link toc-highlight">Row</a><ul><li><a href="#textdirection" class="table-of-contents__link toc-highlight"><code>textDirection</code></a></li><li><a href="#mainaxissize" class="table-of-contents__link toc-highlight"><code>mainAxisSize</code></a></li><li><a href="#mainaxisalignment" class="table-of-contents__link toc-highlight"><code>mainAxisAlignment</code></a></li><li><a href="#verticaldirection" class="table-of-contents__link toc-highlight"><code>verticalDirection</code></a></li><li><a href="#crossaxisalignment" class="table-of-contents__link toc-highlight"><code>crossAxisAlignment</code></a></li></ul></li><li><a href="#column" class="table-of-contents__link toc-highlight">Column</a></li><li><a href="#特殊情况" class="table-of-contents__link toc-highlight">特殊情况</a></li></ul></li><li><a href="#44-弹性布局flex" class="table-of-contents__link toc-highlight">4.4 弹性布局（Flex）</a><ul><li><a href="#flex" class="table-of-contents__link toc-highlight">Flex</a></li><li><a href="#expanded" class="table-of-contents__link toc-highlight">Expanded</a><ul><li><a href="#flex-1" class="table-of-contents__link toc-highlight">flex</a></li></ul></li><li><a href="#spacer" class="table-of-contents__link toc-highlight">Spacer</a></li></ul></li><li><a href="#45-流式布局" class="table-of-contents__link toc-highlight">4.5 流式布局</a><ul><li><a href="#wrap" class="table-of-contents__link toc-highlight">Wrap</a></li><li><a href="#flow" class="table-of-contents__link toc-highlight">Flow</a></li></ul></li><li><a href="#46-层叠布局" class="table-of-contents__link toc-highlight">4.6 层叠布局</a><ul><li><a href="#stack" class="table-of-contents__link toc-highlight">Stack</a><ul><li><a href="#alignment" class="table-of-contents__link toc-highlight">alignment</a></li><li><a href="#textdirection-1" class="table-of-contents__link toc-highlight">textDirection</a></li><li><a href="#fit" class="table-of-contents__link toc-highlight">fit</a></li><li><a href="#clipbehavior" class="table-of-contents__link toc-highlight">clipBehavior</a></li></ul></li><li><a href="#positioned" class="table-of-contents__link toc-highlight">Positioned</a></li></ul></li><li><a href="#47-对齐与相对定位" class="table-of-contents__link toc-highlight">4.7 对齐与相对定位</a><ul><li><a href="#align" class="table-of-contents__link toc-highlight">Align</a><ul><li><a href="#fractionaloffset" class="table-of-contents__link toc-highlight">FractionalOffset</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Recommend</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/es6-in-depth/introduction">深入浅出ES6 - InfoQ.cn</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/why-java-sucks-and-csharp-rocks/compare-purpose">Why Java Sucks and C# Rocks - 赵劼</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/reading">阅读笔记</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">Translate</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/guides/blog">Docusaurus Blog</a> </li><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/guides/docs/markdown-features">Docusaurus Markdown</a> </li><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/blog/2022/03/12/caddy-intro">Caddy 简介</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"> <a href="https://github.com/alanwei43/node-io-lib" target="_blank" rel="noopener noreferrer" class="footer__link-item">node-io-lib - GitHub</a> </li><li class="footer__item"> <a href="https://github.com/alanwei43/docker-puppeteer" target="_blank" rel="noopener noreferrer" class="footer__link-item">docker-puppeteer - GitHub</a> </li><li class="footer__item"> <a href="https://github.com/alanwei43/code-server" target="_blank" rel="noopener noreferrer" class="footer__link-item">code-server - GitHub</a> </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Alan&#x27;s Blog<!-- --> <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer"> </a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.08e4fc56.js"></script>
<script src="/assets/js/main.088473a4.js"></script>
</body>
</html>