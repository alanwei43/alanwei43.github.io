<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Alan's Blog Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Alan's Blog Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WSJXZXE31N"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-WSJXZXE31N",{anonymize_ip:!0})</script>
<script src="/scripts/baidu.js"></script><title data-react-helmet="true">How to Setup Reverse Proxy on IIS with URL-Rewrite  -  Alan&#x27;s Blog</title><meta data-react-helmet="true" property="og:title" content="How to Setup Reverse Proxy on IIS with URL-Rewrite  -  Alan&#x27;s Blog"><meta data-react-helmet="true" name="description" content="使用IIS的URL Rewrite设置反向代理"><meta data-react-helmet="true" property="og:description" content="使用IIS的URL Rewrite设置反向代理"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link rel="stylesheet" href="/styles.66a1e391.css">
<link rel="preload" href="/styles.a4bdbde3.js" as="script">
<link rel="preload" href="/runtime~main.9381d24f.js" as="script">
<link rel="preload" href="/main.b8c2fd7c.js" as="script">
<link rel="preload" href="/1.eb871618.js" as="script">
<link rel="preload" href="/2.dc472b5b.js" as="script">
<link rel="preload" href="/3.2c06221f.js" as="script">
<link rel="preload" href="/ccc49370.d0c16bf1.js" as="script">
<link rel="preload" href="/0396100f.39fa91d1.js" as="script">
<link rel="preload" href="/bd2f645d.249d4bda.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><div><nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_17Wu navbarHidden_19ww"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Alan&#x27;s Blog</strong></a><a class="navbar__item navbar__link" href="/docs/">文档</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">博客</a><a class="navbar__item navbar__link" href="/me">关于我</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/alanwei43" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Alan&#x27;s Blog</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">文档</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">博客</a></li><li class="menu__list-item"><a class="menu__link" href="/me">关于我</a></li><li class="menu__list-item"><a href="https://github.com/alanwei43" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_1wv2 thin-scrollbar"><h3 class="sidebarItemTitle_3lOc">热门博文</h3><ul class="sidebarItemList_2WIo"><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/tags">Tags列表</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2014/09/04/math-physics-diff">数学系和物理系学生有什么差别？</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/02/17/java-network-proxy">设置Java网络代理</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/04/23/语文考试可以写负能量作文吗">语文考试可以写负能量作文吗</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/04/11/windows-bootable-device">制作Windows启动盘</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/04/11/iis-reverse-proxy">配置IIS反向代理</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/04/10/node-require-cache">Node require 缓存</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/04/02/docker-timezone">Docker时区设置</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2022/03/12/caddy-intro">Caddy 简介</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2022/03/12/docker-history-full-command">docker history命令显示完整信息</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2022/03/12/macos-security-allow-apps-anywhere">macOS系统安全隐私设置允许任意源下载的App</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2022/03/10/spring-both-support-json-url-encoded">Spring 接口同时支持JSON数据和Form表单数据</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2022/03/08/node-child-process-memory">Node调整child_process内存大小</a></li></ul></div></div><main class="col col--8"><article><header><h1 class="margin-bottom--lg blogPostTitle_kDB-">How to Setup Reverse Proxy on IIS with URL-Rewrite</h1><div><time datetime="2021-04-11T00:00:00.000Z" class="blogPostDate_2HVl">April 11, 2021  · 3 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a href="https://tecadmin.net/set-up-reverse-proxy-using-iis/" target="_blank" rel="noreferrer noopener">转摘</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>Most of the system administrator is aware of the reverse proxy. It is a type of proxy server which fetches the resources from one or more computers on clients requests and send back to the client. In simple terms, it works as an intermediate server, which listens to clients query. Then requests to server bases of clients query and returns results to client sent by the server. This tutorial will help you to setup reverse proxy using IIS with URL rewrite and application request routing extension.</p><p>We can configure reverse proxy in IIS using URL Rewrite module. This is similar to the mod_rewrite module in Apache. Before starting work make sure you have installed and enabled URL Rewrite module in IIS server.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="what-is-url-rewrite-module"></a>What is URL Rewrite Module?<a class="hash-link" href="#what-is-url-rewrite-module" title="Direct link to heading">#</a></h2><p>URL Rewrite Module is officially provided by IIS development tool to extend the functionality of IIS web server. It provides additional functionality to rewrite application URL. This helps to make clean and SEO friendly URLs.</p><p>You can visit below URL and download and install URL rewrite IIS extension:</p><a title="files/iis-reverse-proxy/IIS_ARR_requestRouter_amd64.msi" href="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/IIS_ARR_requestRouter_amd64.msi" target="_blank"> http://www.iis.net/downloads/microsoft/url-rewrite </a><p>You also need Application Request Routing extension to install on your system. Visit the following URL to download the extension and install on your system.</p><a title="files/iis-reverse-proxy/IIS_URL_Rewriter_rewrite_amd64_en-US.msi" href="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/IIS_URL_Rewriter_rewrite_amd64_en-US.msi" target="_blank"> https://www.iis.net/downloads/microsoft/application-request-routing </a><p>For more details, visit our other article here.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="set-up-reverse-proxy-using-iis"></a>Set Up Reverse Proxy Using IIS<a class="hash-link" href="#set-up-reverse-proxy-using-iis" title="Direct link to heading">#</a></h2><p>Let’s start with the configuration of the reverse proxy. For this tutorial, I have created a dummy web application running on port 3000 using node.js. You can see the below screenshot of the web application.</p><img alt="files/iis-reverse-proxy/site-access-without-proxy.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/site-access-without-proxy.png"><p>Now, open the IIS by typing “inetmgr” in run window. Select your website under sites in left side section. Now select “URL Rewrite” option.</p><img alt="files/iis-reverse-proxy/iis-url-rewrite.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/iis-url-rewrite.png"><p>Now click on “Add Rule(s)…” in actions section on the right side. See below screenshot for this link.</p><img alt="files/iis-reverse-proxy/add-rule-iis-rewrite.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/add-rule-iis-rewrite.png"><p>Now select Reverse Proxy under inbound and outbound section.</p><img alt="files/iis-reverse-proxy/select-reverse-proxy.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/select-reverse-proxy.png"><p>The above option will open a window, Add the server name or IP address with port under inbound rules input box. This is the URL from where reverse proxy will server data on clients request.</p><img alt="files/iis-reverse-proxy/backend-server-url.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/backend-server-url.png"><p>At this point, the reverse proxy setup has been done. Now access web site configured with IIS. You will see the backend application is accessible here. This is the reverse proxy in working.</p><img alt="files/iis-reverse-proxy/site-access-with-proxy.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/site-access-with-proxy.png"><p>This is the reverse proxy in working.</p><blockquote><p><a href="https://tecadmin.net/set-up-reverse-proxy-using-iis/" target="_blank" rel="noopener noreferrer">原文</a></p></blockquote></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/iis">iis</a><a class="margin-horiz--sm" href="/blog/tags/reverse-proxy">reverse proxy</a><a class="margin-horiz--sm" href="/blog/tags/url-rewrite">url rewrite</a></div></footer></article><div><a href="https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-iis-reverse-proxy-url-rewrite.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2021/04/11/docker-sentry-deploy"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« 使用 Docker 部署 Sentry</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2021/04/11/iis-reverse-proxy"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">配置IIS反向代理教程 »</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-url-rewrite-module" class="table-of-contents__link">What is URL Rewrite Module?</a></li><li><a href="#set-up-reverse-proxy-using-iis" class="table-of-contents__link">Set Up Reverse Proxy Using IIS</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">文章列表</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/es6-in-depth/0-introduction">深入浅出ES6 - InfoQ.cn</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/why-java-sucks-and-csharp-rocks/1-compare-purpose">Why Java Sucks and C# Rocks - 赵劼</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/reading">阅读笔记</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/archives/git-guides">博文归档</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">文档翻译</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/guides/blog">Docusaurus Blog</a> </li><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/guides/docs/markdown-features">Docusaurus Markdown</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">更多</h4><ul class="footer__items"><li class="footer__item"> <a href="https://github.com/alanwei43/node-auto-update" target="_blank" rel="noopener noreferrer" class="footer__link-item">node-auto-update - GitHub</a> </li><li class="footer__item"> <a href="https://github.com/alanwei43/docker-puppeteer" target="_blank" rel="noopener noreferrer" class="footer__link-item">docker-puppeteer - GitHub</a> </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Alan&#x27;s Blog | <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer">...</a></div></div></div></footer></div></div></div>
<script src="/styles.a4bdbde3.js"></script>
<script src="/runtime~main.9381d24f.js"></script>
<script src="/main.b8c2fd7c.js"></script>
<script src="/1.eb871618.js"></script>
<script src="/2.dc472b5b.js"></script>
<script src="/3.2c06221f.js"></script>
<script src="/ccc49370.d0c16bf1.js"></script>
<script src="/0396100f.39fa91d1.js"></script>
<script src="/bd2f645d.249d4bda.js"></script>
</body>
</html>