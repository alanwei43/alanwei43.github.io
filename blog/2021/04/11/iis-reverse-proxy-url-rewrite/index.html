<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Alan&#39;s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Alan&#39;s Blog Atom Feed">
<script src="/scripts/baidu.js"></script><title data-rh="true">How to Setup Reverse Proxy on IIS with URL-Rewrite  -  Alan&#x27;s Blog</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.alanwei.com/blog/2021/04/11/iis-reverse-proxy-url-rewrite"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="How to Setup Reverse Proxy on IIS with URL-Rewrite  -  Alan&#x27;s Blog"><meta data-rh="true" name="description" content="使用IIS的URL Rewrite设置反向代理"><meta data-rh="true" property="og:description" content="使用IIS的URL Rewrite设置反向代理"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2021-04-11T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://tecadmin.net/set-up-reverse-proxy-using-iis/"><meta data-rh="true" property="article:tag" content="iis,reverse proxy,url rewrite"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://blog.alanwei.com/blog/2021/04/11/iis-reverse-proxy-url-rewrite"><link data-rh="true" rel="alternate" href="https://blog.alanwei.com/blog/2021/04/11/iis-reverse-proxy-url-rewrite" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.alanwei.com/blog/2021/04/11/iis-reverse-proxy-url-rewrite" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.1ce1a21e.css">
<link rel="preload" href="/assets/js/runtime~main.2081478e.js" as="script">
<link rel="preload" href="/assets/js/main.44b55485.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_aKYr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.png" alt="logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Alan&#x27;s Blog</b></a><a class="navbar__item navbar__link" href="/docs/">文档</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">博客</a><a class="navbar__item navbar__link" href="/me">关于我</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/alanwei43" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><div class="sidebar_o0vc thin-scrollbar"><h3 class="sidebarItemTitle_SxnF">热门博文</h3><ul class="sidebarItemList_V7da"><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/tags">Tags列表</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/03/16/dotnet-script-intro">dotnet script 简介</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/03/16/dotnet-starter">.Net Core QA</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/03/16/get-public-ip-using-curl">使用curl命令行获取当前机器公网IP</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/03/12/caddy-intro">Caddy 简介</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/03/12/docker-history-full-command">docker history命令显示完整信息</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/03/12/macos-security-allow-apps-anywhere">macOS系统安全隐私设置允许任意源下载的App</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/03/10/spring-both-support-json-url-encoded">Spring 接口同时支持JSON数据和Form表单数据</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/03/08/node-child-process-memory">Node调整child_process内存大小</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/03/04/git-remove-untrack-files">Git 删除未跟踪文件</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/03/01/spring-response-image">Spring 响应图片等媒体数据</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/02/27/vmware-vmrun-cli">VMware 命令行操作虚拟机</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/02/27/vmware-workstation-pro-keys">VMware Workstation Pro keys</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/02/27/windows-vmware-tools-drive-fail">VMware的Windows虚拟机中因驱动签名问题无法安装 VMware Tools</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/02/26/docker-dockerfile-intro">Dockerfile 常用指令介绍</a></li><li class="sidebarItem_WiIx"><a class="sidebarItemLink_YMi1" href="/blog/2022/02/24/idea-lombok">解决IDEA使用低版本lombok没有get/set方法问题</a></li></ul></div></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article><header><h1 class="margin-bottom--lg blogPostTitle_uMeh">How to Setup Reverse Proxy on IIS with URL-Rewrite</h1><div><time datetime="2021-04-11T00:00:00.000Z" class="blogPostDate_Ocfp">April<!-- --> <!-- -->11<!-- -->, <!-- -->2021<!-- --> <!-- --> · <!-- -->3<!-- --> min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a href="https://tecadmin.net/set-up-reverse-proxy-using-iis/" target="_blank" rel="noreferrer noopener">转摘</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>Most of the system administrator is aware of the reverse proxy. It is a type of proxy server which fetches the resources from one or more computers on clients requests and send back to the client. In simple terms, it works as an intermediate server, which listens to clients query. Then requests to server bases of clients query and returns results to client sent by the server. This tutorial will help you to setup reverse proxy using IIS with URL rewrite and application request routing extension.</p><p>We can configure reverse proxy in IIS using URL Rewrite module. This is similar to the mod_rewrite module in Apache. Before starting work make sure you have installed and enabled URL Rewrite module in IIS server.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="what-is-url-rewrite-module">What is URL Rewrite Module?<a class="hash-link" href="#what-is-url-rewrite-module" title="Direct link to heading">​</a></h2><p>URL Rewrite Module is officially provided by IIS development tool to extend the functionality of IIS web server. It provides additional functionality to rewrite application URL. This helps to make clean and SEO friendly URLs.</p><p>You can visit below URL and download and install URL rewrite IIS extension:</p><a title="files/iis-reverse-proxy/IIS_ARR_requestRouter_amd64.msi" href="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/IIS_ARR_requestRouter_amd64.msi" target="_blank"> http://www.iis.net/downloads/microsoft/url-rewrite </a><p>You also need Application Request Routing extension to install on your system. Visit the following URL to download the extension and install on your system.</p><a title="files/iis-reverse-proxy/IIS_URL_Rewriter_rewrite_amd64_en-US.msi" href="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/IIS_URL_Rewriter_rewrite_amd64_en-US.msi" target="_blank"> https://www.iis.net/downloads/microsoft/application-request-routing </a><p>For more details, visit our other article here.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="set-up-reverse-proxy-using-iis">Set Up Reverse Proxy Using IIS<a class="hash-link" href="#set-up-reverse-proxy-using-iis" title="Direct link to heading">​</a></h2><p>Let’s start with the configuration of the reverse proxy. For this tutorial, I have created a dummy web application running on port 3000 using node.js. You can see the below screenshot of the web application.</p><img alt="files/iis-reverse-proxy/site-access-without-proxy.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/site-access-without-proxy.png"><p>Now, open the IIS by typing “inetmgr” in run window. Select your website under sites in left side section. Now select “URL Rewrite” option.</p><img alt="files/iis-reverse-proxy/iis-url-rewrite.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/iis-url-rewrite.png"><p>Now click on “Add Rule(s)…” in actions section on the right side. See below screenshot for this link.</p><img alt="files/iis-reverse-proxy/add-rule-iis-rewrite.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/add-rule-iis-rewrite.png"><p>Now select Reverse Proxy under inbound and outbound section.</p><img alt="files/iis-reverse-proxy/select-reverse-proxy.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/select-reverse-proxy.png"><p>The above option will open a window, Add the server name or IP address with port under inbound rules input box. This is the URL from where reverse proxy will server data on clients request.</p><img alt="files/iis-reverse-proxy/backend-server-url.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/backend-server-url.png"><p>At this point, the reverse proxy setup has been done. Now access web site configured with IIS. You will see the backend application is accessible here. This is the reverse proxy in working.</p><img alt="files/iis-reverse-proxy/site-access-with-proxy.png" src="https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/site-access-with-proxy.png"><p>This is the reverse proxy in working.</p><blockquote><p><a href="https://tecadmin.net/set-up-reverse-proxy-using-iis/" target="_blank" rel="noopener noreferrer">原文</a></p></blockquote></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/iis">iis</a><a class="margin-horiz--sm" href="/blog/tags/reverse-proxy">reverse proxy</a><a class="margin-horiz--sm" href="/blog/tags/url-rewrite">url rewrite</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2021/04/11/docker-sentry-deploy"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">使用 Docker 部署 Sentry</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2021/04/11/iis-reverse-proxy"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">配置IIS反向代理教程</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_cNA8 thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-url-rewrite-module" class="table-of-contents__link toc-highlight">What is URL Rewrite Module?</a></li><li><a href="#set-up-reverse-proxy-using-iis" class="table-of-contents__link toc-highlight">Set Up Reverse Proxy Using IIS</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">文章列表</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/es6-in-depth/0-introduction">深入浅出ES6 - InfoQ.cn</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/articles/why-java-sucks-and-csharp-rocks/1-compare-purpose">Why Java Sucks and C# Rocks - 赵劼</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/reading">阅读笔记</a> </li><li class="footer__item"> <a class="footer__link-item" href="/docs/archives/git-guides">博文归档</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">文档翻译</h4><ul class="footer__items"><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/blog/2021/04/11/docs/guides/blog">Docusaurus Blog</a> </li><li class="footer__item"> <a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/blog/2021/04/11/docs/guides/docs/markdown-features">Docusaurus Markdown</a> </li></ul></div><div class="col footer__col"><h4 class="footer__title">更多</h4><ul class="footer__items"><li class="footer__item"> <a href="https://github.com/alanwei43/node-io-lib" target="_blank" rel="noopener noreferrer" class="footer__link-item">node-io-lib - GitHub</a> </li><li class="footer__item"> <a href="https://github.com/alanwei43/docker-puppeteer" target="_blank" rel="noopener noreferrer" class="footer__link-item">docker-puppeteer - GitHub</a> </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Alan&#x27;s Blog<!-- --> <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer"> </a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.2081478e.js"></script>
<script src="/assets/js/main.44b55485.js"></script>
</body>
</html>