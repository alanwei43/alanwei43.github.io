<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Alan's Blog Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Alan's Blog Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WSJXZXE31N"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-WSJXZXE31N",{anonymize_ip:!0})</script>
<script src="scripts/baidu.js"></script><title data-react-helmet="true">Termuxè¿œç¨‹è®¿é—®  -  Alan&#x27;s Blog</title><meta data-react-helmet="true" property="og:title" content="Termuxè¿œç¨‹è®¿é—®  -  Alan&#x27;s Blog"><meta data-react-helmet="true" name="description" content="åœ¨ç”µè„‘ä¸Šè¿œç¨‹è®¿é—®Termux:"><meta data-react-helmet="true" property="og:description" content="åœ¨ç”µè„‘ä¸Šè¿œç¨‹è®¿é—®Termux:"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link rel="stylesheet" href="/styles.db0a97ff.css">
<link rel="preload" href="/styles.d3a120c2.js" as="script">
<link rel="preload" href="/runtime~main.02f784f8.js" as="script">
<link rel="preload" href="/main.dbc12ee1.js" as="script">
<link rel="preload" href="/1.68d34cb6.js" as="script">
<link rel="preload" href="/2.d3174b6b.js" as="script">
<link rel="preload" href="/3.a4b3d095.js" as="script">
<link rel="preload" href="/ccc49370.50e2744d.js" as="script">
<link rel="preload" href="/0396100f.ca6e88bf.js" as="script">
<link rel="preload" href="/d26b347d.49aea979.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_17Wu navbarHidden_19ww"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Alan&#x27;s Blog</strong></a><a class="navbar__item navbar__link" href="/docs/">æ–‡æ¡£</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">åšå®¢</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/alanwei43" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Alan&#x27;s Blog</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">æ–‡æ¡£</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">åšå®¢</a></li><li class="menu__list-item"><a href="https://github.com/alanwei43" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_1wv2 thin-scrollbar"><h3 class="sidebarItemTitle_3lOc">çƒ­é—¨åšæ–‡</h3><ul class="sidebarItemList_2WIo"><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/tags">Tagsåˆ—è¡¨</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2014/09/04/shu-xue-wu-li-xue-sheng-cha-bie">æ•°å­¦ç³»å’Œç‰©ç†ç³»å­¦ç”Ÿæœ‰ä»€ä¹ˆå·®åˆ«ï¼Ÿ</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/02/17/java-network-proxy">è®¾ç½®Javaç½‘ç»œä»£ç†</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/04/23/è¯­æ–‡è€ƒè¯•å¯ä»¥å†™è´Ÿèƒ½é‡ä½œæ–‡å—">è¯­æ–‡è€ƒè¯•å¯ä»¥å†™è´Ÿèƒ½é‡ä½œæ–‡å—</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/04/11/windows-bootable-device">åˆ¶ä½œWindowså¯åŠ¨ç›˜</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/04/11/iis-reverse-proxy">é…ç½®IISåå‘ä»£ç†</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/04/10/node-require-cache">Node require ç¼“å­˜</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/04/02/docker-timezone">Dockeræ—¶åŒºè®¾ç½®</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/05/05/macos-allow-apps-from-anywhere">macOS å…è®¸æ‰“å¼€ä»»ä½•ä½ç½®ä¸‹è½½çš„App</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/05/05/spring-mvc-custom-handler-interceptor">ä½¿ç”¨è‡ªå®šä¹‰çš„Spring MVCå¤„ç†ç¨‹åºæ‹¦æˆªå™¨ç®¡ç†ä¼šè¯</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/05/05/spring-mvc-handlerinterceptor">Spring MVC HandlerInterceptor ç®€ä»‹</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/05/04/spring-boot-jsp">Spring Boot ä½¿ç”¨ JSP</a></li><li class="sidebarItem_iPNH"><a class="sidebarItemLink_2E17" href="/blog/2021/05/01/docusaurus-github-starter">ä½¿ç”¨ Docusaurus ç»“åˆ GitHub æ­å»ºä¸ªäººç«™ç‚¹</a></li></ul></div></div><main class="col col--8"><article><header><h1 class="margin-bottom--lg blogPostTitle_kDB-">Termuxè¿œç¨‹è®¿é—®</h1><div><time datetime="2021-04-26T00:00:00.000Z" class="blogPostDate_2HVl">April 26, 2021  Â· 9 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a href="https://wiki.termux.com/wiki/Main_Page" target="_blank" rel="noreferrer noopener">Termux Wiki</a></h4><small class="avatar__subtitle">The Termux Wiki</small></div></div></header><section class="markdown"><p>åœ¨ç”µè„‘ä¸Šè¿œç¨‹è®¿é—®Termux: </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># ä»¥ä¸‹è„šæœ¬åœ¨ Termux ç»ˆç«¯ä¸Šæ‰§è¡Œ</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">pkg </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> openssl </span><span class="token comment" style="color:rgb(98, 114, 164)"># å®‰è£…åŒ…</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">ssh-keygen </span><span class="token comment" style="color:rgb(98, 114, 164)"># ç”Ÿæˆsshçš„key</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">sshd </span><span class="token comment" style="color:rgb(98, 114, 164)"># å¯åŠ¨æœåŠ¡</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">passwd</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># è®¾ç½®å½“å‰è´¦å·å¯†ç </span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ä»¥ä¸‹è„šæœ¬åœ¨ç”µè„‘ä¸Šæ‰§è¡Œ</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">ssh</span><span class="token plain"> -p </span><span class="token number">8022</span><span class="token plain"> user@termux_ip</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Termux is capable of accessing remote devices by using some common tools. It is also possible to turn a device running Termux into remote controlled server.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="ftp"></a>FTP<a class="hash-link" href="#ftp" title="Direct link to heading">#</a></h2><p>Warning: plain FTP is deprecated and insecure anyway. Termux FTP server supports only anonymous login, there no any authentication and everyone on your network can access files on your device. Use SFTP (OpenSSH) instead!</p><p>Termux FTP server is based on busybox and service is managed by [Termux-services]. If you decided to use FTP server, install these packages:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">pkg </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> busybox termux-services</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>After installation you need to restart session or source this file:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">source $PREFIX/etc/profile.d/start-services.sh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Now you ready to enable and start the FTP daemon service:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">sv-enable ftpd</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">sv up ftpd</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>FTP server will run on port 8021 in read-only mode.</p><p>If you need to stop server, run <code>sv down ftpd</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="ssh"></a>SSH<a class="hash-link" href="#ssh" title="Direct link to heading">#</a></h2><p>SSH provides a secure way for accessing remote hosts and replaces tools such as telnet, rlogin, rsh, ftp. Termux provides SSH via two packages: dropbear and openssh. If you never used these tools before, it is recommended to install &#x27;openssh&#x27; as it is more common.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="using-the-ssh-client"></a>Using the SSH client<a class="hash-link" href="#using-the-ssh-client" title="Direct link to heading">#</a></h3><p>You can obtain an SSH client by installing either <code>openssh</code> or <code>dropbear</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="usage-example"></a>Usage example<a class="hash-link" href="#usage-example" title="Direct link to heading">#</a></h4><p>To login to a remote machine where the ssh daemon is running at the standard port (22):</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">ssh</span><span class="token plain"> user@hostname_or_ip</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Same as above, but if the ssh daemon running on different port, e.g. 8022:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">ssh</span><span class="token plain"> -p </span><span class="token number">8022</span><span class="token plain"> user@hostname_or_ip</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Using public key authentication with ssh running on the standard port and a private key stored in the file <code>id_rsa</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">ssh</span><span class="token plain"> -i id_rsa user@hostname_or_ip</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Note, that if <code>id_rsa</code> will be stored in <code>~/.ssh</code> directory, you can omit specifying it in the command. But if you have multiple keys, it is necessary to pick a specific key with <code>-i {path_to_privkey}</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="ssh-agent"></a>SSH Agent<a class="hash-link" href="#ssh-agent" title="Direct link to heading">#</a></h4><p><strong>Important note</strong>: this does not work for Dropbear.</p><p>If you wish to use an SSH agent to avoid entering passwords, the Termux openssh package provides a wrapper script named <code>ssha</code> (note the <code>a</code> at the end) for ssh, which:</p><ul><li>Starts the ssh agent if necessary (or connect to it if already running).</li><li>Runs the <code>ssh-add</code> if necessary.</li><li>Runs the <code>ssh</code> with the provided arguments.</li></ul><p>This means that the agent will prompt for a key password at first run, but remember the authorization for subsequent runs.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="using-the-ssh-server"></a>Using the SSH server<a class="hash-link" href="#using-the-ssh-server" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="openssh"></a>OpenSSH<a class="hash-link" href="#openssh" title="Direct link to heading">#</a></h4><p>OpenSSH (also known as OpenBSD Secure Shell) is a suite of secure networking utilities based on the Secure Shell (SSH) protocol, which provides a secure channel over an unsecured network in a clientâ€“server architecture.</p><p>Default SSH port in Termux is 8022.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="starting-and-stopping-openssh-server"></a>Starting and stopping OpenSSH server<a class="hash-link" href="#starting-and-stopping-openssh-server" title="Direct link to heading">#</a></h5><p>Since Termux does not use initialization system, services are started manually from command line.</p><p>To start OpenSSH server, you need to execute this command:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">sshd</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If you need to stop <code>sshd</code>, just kill it&#x27;s process:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">pkill</span><span class="token plain"> sshd</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>SSH daemon does logging to Android system log, you can view it by running <code>logcat -s &#x27;sshd:*&#x27;</code>. You can do that either from Termux or ADB.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="setting-up-password-authentication"></a>Setting up password authentication<a class="hash-link" href="#setting-up-password-authentication" title="Direct link to heading">#</a></h5><p>Password authentication is enabled by default. This will allow you to get started with it much easier. Before proceeding, make sure that you understand that password authentication is less secure than a pubkey-based one.</p><ol><li>Ensure that everything is up to date and package <code>openssh</code> is installed:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">pkg upgrade</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">pkg </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> openssh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="2"><li>Password authentication is enabled by default in configuration file. But you can still review it ($PREFIX/etc/ssh/sshd_config), it should be like this:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">PrintMotd yes</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">PasswordAuthentication yes</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Subsystem sftp /data/data/com.termux/files/usr/libexec/sftp-server</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="3"><li>Set new password. Execute command passwd. While program allows minimal password length is 1 character, the recommended password length is more than 8-10 characters. Passwords are not printed to console.</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">passwd</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">New password:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Retype new password:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">New password was successfully set.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="setting-up-public-key-authentication"></a>Setting up public key authentication<a class="hash-link" href="#setting-up-public-key-authentication" title="Direct link to heading">#</a></h5><p>Public key authentication is the recommended way for logging in using SSH. To use this type of authentication, you need to have a public/private key pair. For successful login, the public key must exist in the authorized keys list on remote machine while private key should be kept safe on your local host.</p><p>In the following example it will be assumed that you want to establish public key authentication between your PC (host) and your Android device running Termux (remote). It also will be assumed that you running Linux distribution on your PC.</p><ol><li>If you do not have keys, you can generate them. In this example we will generate RSA key. On PC, execute this command:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">ssh-keygen -t rsa -b </span><span class="token number">2048</span><span class="token plain"> -f id_rsa</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The command shown above generates private RSA key with 2048 bit key length and saves it to file <code>id_rsa</code>. In the same directory you can find a file <code>id_rsa.pub</code> â€“ it is a public key.</p><p>Important note: 2048 bit is the minimal key length that is considered safe. You can use higher values, but do not use higher than 4096 as remote server may not support big keys.</p><ol start="2"><li>Copy key to the remote machine (Termux). Password authentication has to be enabled in order to install pubkey on remote machine. Now do:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">ssh-copy-id -p 8022 -i id_rsa IP_ADDRESS</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Do not forget to replace <code>IP_ADDRESS</code> with the actual LAN IP address of your device. It can be determined by using command ifconfig.</p><p>If everything was okay, you will see a message like this one:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">Number of key(s) added: 1</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Now try logging into the machine, with:   &quot;ssh -p &#x27;8022&#x27; &#x27;192.168.1.4&#x27;&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">and check to make sure that only the key(s) you wanted were added.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="3"><li>From this point password authentication can be disabled. Edit file $PREFIX/etc/ssh/sshd_config and replace line beginning with &quot;PasswordAuthentication&quot; by</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">PasswordAuthentication no</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Then execute command pkill sshd; sshd in order to restart server with updated configuration file.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="dropbear"></a>Dropbear<a class="hash-link" href="#dropbear" title="Direct link to heading">#</a></h4><p>Dropbear is a software package written by Matt Johnston that provides a Secure Shell-compatible server and client. It is designed as a replacement for standard OpenSSH for environments with low memory and processor resources, such as embedded systems.</p><p><strong>Important note</strong>: Dropbear does not provide SFTP server.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="starting-and-stopping-dropbear-server"></a>Starting and stopping Dropbear server<a class="hash-link" href="#starting-and-stopping-dropbear-server" title="Direct link to heading">#</a></h5><p>Same as for OpenSSH, you will need to execute it&#x27;s binary manually. Also, unlike OpenSSH, Dropbear does not use a configuration file but only command line arguments.</p><p>Server is running in background, both password and public key authentication available. To achieve this, just type in console:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">dropbear</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If you need only public key authentication, do this instead:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">dropbear -s</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Also, server can be started in foreground. For this purpose use a parameter <code>-F</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">dropbear -F</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Server started in foreground can be stopped by just Ctrl-C key combination. If it is in the background, then you can use a <code>pkill</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">pkill dropbear</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="setting-up-password-authentication-1"></a>Setting up password authentication<a class="hash-link" href="#setting-up-password-authentication-1" title="Direct link to heading">#</a></h5><p>Same as for OpenSSH, password authentication is enabled by default.</p><p>Everything you have to do, is:</p><ol><li>Make sure that everything is up to date and dropbear is installed:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">pkg upgrade</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">pkg install dropbear</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="2"><li><p>Set password by executing command passwd.</p></li><li><p>Start dropbear server. You can execute either just dropbear to start it in background or dropbear -F to start it in the foreground.</p></li></ol><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="setting-up-public-key-authentication-1"></a>Setting up public key authentication<a class="hash-link" href="#setting-up-public-key-authentication-1" title="Direct link to heading">#</a></h5><p>Same as for OpenSSH, you can put your keys by using ssh-copy-id. But if you consider to setup a public key authentication from Termux to something else, it is worth to mention some important differences between OpenSSH and Dropbear.</p><ol><li>Dropbear uses a different command for generating keys. Example of generating RSA key (2048 bit):</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">dropbearkey -t rsa -f id_rsa -s 2048</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="2"><li>Public key should be obtained manually. To do this, you have to use &#x27;dropbearkey&#x27; again, but in different way:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">dropbearkey -f id_rsa -y</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="3"><li>Dropbear and OpenSSH uses a different key formats. To use a Dropbear&#x27;s key in OpenSSH, you will have to convert it:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">dropbearconvert dropbear openssh ./id_rsa ./id_rsa_openssh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This procedure can be done vice versa to obtain a key in Dropbear&#x27;s format:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">dropbearconvert openssh dropbear ./id_rsa_openssh ./id_rsa_dropbear</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="using-the-sftp"></a>Using the SFTP<a class="hash-link" href="#using-the-sftp" title="Direct link to heading">#</a></h3><p>Package OpenSSH provides a tool for accessing remote hosts over SFTP. This will allow you to work with files in same way as via FTP but with better security.</p><p>Connecting to Termux (sshd listening on port 8022):</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ sftp -P 8022 192.168.1.20</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Connecting to somewhere else (sshd listening on standard port):</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ sftp sftp.example.com</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>However, to use command line SFTP client you should know some basic commands:</p><ul><li><code>cd PATH</code> - change current directory to <code>PATH</code>.</li><li><code>get REMOTE [LOCAL]</code> - download file <code>REMOTE</code> and rename it as <code>LOCAL</code> (optional).</li><li><code>mkdir PATH</code> - create directory <code>PATH</code>.</li><li><code>ls [PATH]</code> - list files in directory <code>PATH</code>. If no argument, files in current directory will be listed.</li><li><code>put LOCAL [REMOTE]</code> - Upload file <code>LOCAL</code> and rename it as <code>REMOTE</code> (optional).</li><li><code>rm FILE</code> - Delete file <code>FILE</code>.</li></ul><p>This is not a complete list of SFTP commands. To view all available commands, consider to view man page (man sftp) or view short help in interactive SFTP session by issuing command <code>help</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="mosh"></a>MOSH<a class="hash-link" href="#mosh" title="Direct link to heading">#</a></h2><p>Mosh is a remote terminal application that allows roaming, supports intermittent connectivity, and provides intelligent local echo and line editing of user keystrokes.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="usage-example-1"></a>Usage example<a class="hash-link" href="#usage-example-1" title="Direct link to heading">#</a></h3><p>Important note: Mosh should be installed on both client and server side.</p><p>Connecting to remote host (sshd listening on standard port):</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">mosh user@ssh.example.com</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Connecting to Termux (sshd listening on port 8022):</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">mosh --ssh=&quot;ssh -p 8022&quot; 192.168.1.25</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="rsync"></a>Rsync<a class="hash-link" href="#rsync" title="Direct link to heading">#</a></h2><p>Rsync is a tool for synchronizing files with remote hosts or local directories (or drives). For better experience of using rsync, make sure that package <code>openssh</code> (or <code>dropbear</code>) is installed.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="usage-example-2"></a>Usage example<a class="hash-link" href="#usage-example-2" title="Direct link to heading">#</a></h3><p>Sync your photos with PC:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ rsync -av /sdcard/DCIM/ user@192.168.1.20:~/Pictures/Android/</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Get photos from remote Android device:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ rsync -av -e &#x27;ssh -p 8022&#x27; 192.168.1.3:/sdcard/DCIM/ /sdcard/DCIM/</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Sync local directories (e.g. from external sdcard to Termux home):</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ rsync -av /storage/0123-4567/myfiles ~/files</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You may want to see man page (<code>man rsync</code>) to learn more about it&#x27;s usage.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/termux">termux</a><a class="margin-horiz--sm" href="/blog/tags/android">android</a></div></footer></article><div><a href="https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-26-termux-remote-access.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2021/04/27/visual-studio-code-intelligence"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« VSCæŒ‡å®šç±»åº“æ–‡ä»¶å¢å¼ºæ™ºèƒ½æ„ŸçŸ¥</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2021/04/23/è¯­æ–‡è€ƒè¯•å¯ä»¥å†™è´Ÿèƒ½é‡ä½œæ–‡å—"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">è¯­æ–‡è€ƒè¯•å¯ä»¥å†™è´Ÿèƒ½é‡ä½œæ–‡å— Â»</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ftp" class="table-of-contents__link">FTP</a></li><li><a href="#ssh" class="table-of-contents__link">SSH</a><ul><li><a href="#using-the-ssh-client" class="table-of-contents__link">Using the SSH client</a></li><li><a href="#using-the-ssh-server" class="table-of-contents__link">Using the SSH server</a></li><li><a href="#using-the-sftp" class="table-of-contents__link">Using the SFTP</a></li></ul></li><li><a href="#mosh" class="table-of-contents__link">MOSH</a><ul><li><a href="#usage-example-1" class="table-of-contents__link">Usage example</a></li></ul></li><li><a href="#rsync" class="table-of-contents__link">Rsync</a><ul><li><a href="#usage-example-2" class="table-of-contents__link">Usage example</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">æ–‡ç« åˆ—è¡¨</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/articles/es6-in-depth/0-introduction">æ·±å…¥æµ…å‡ºES6 - InfoQ.cn</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/articles/why-java-sucks-and-csharp-rocks/1-compare-purpose">Why Java Sucks and C# Rocks - èµµåŠ¼</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reading">é˜…è¯»ç¬”è®°</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/archives/git-guides">åšæ–‡å½’æ¡£</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">æ–‡æ¡£ç¿»è¯‘</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/guides/blog">Docusaurus Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/guides/docs/markdown-features">Docusaurus Markdown</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">æ›´å¤š</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/alanwei43/node-auto-update" target="_blank" rel="noopener noreferrer" class="footer__link-item">node-auto-update - GitHub</a></li><li class="footer__item"><a href="https://github.com/alanwei43/docker-puppeteer" target="_blank" rel="noopener noreferrer" class="footer__link-item">docker-puppeteer - GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Alan's Blog</div></div></div></footer><div class="youPai_2rSg"><a href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" target="_blank">æœ¬ç½‘ç«™ç”±<img src="https://gitee.com/alanway/resources/raw/master/images/youpai-logo.png">æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</a></div></div></div>
<script src="/styles.d3a120c2.js"></script>
<script src="/runtime~main.02f784f8.js"></script>
<script src="/main.dbc12ee1.js"></script>
<script src="/1.68d34cb6.js"></script>
<script src="/2.d3174b6b.js"></script>
<script src="/3.a4b3d095.js"></script>
<script src="/ccc49370.50e2744d.js"></script>
<script src="/0396100f.ca6e88bf.js"></script>
<script src="/d26b347d.49aea979.js"></script>
</body>
</html>