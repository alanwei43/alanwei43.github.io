"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[36079],{28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>d});var s=r(96540);const i={},a=s.createContext(i);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:n},e.children)}},48758:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"collections/docker","title":"Docker","description":"docker\u76f8\u5173\u4ecb\u7ecd","source":"@site/src/docs/built-in/collections/docker.md","sourceDirName":"collections","slug":"/collections/docker","permalink":"/docs/built-in/collections/docker","draft":false,"unlisted":false,"editUrl":"https://github.com/alanwei43/blog/tree/master/src/docs/built-in/collections/docker.md","tags":[{"inline":true,"label":"docker","permalink":"/docs/built-in/tags/docker"}],"version":"current","frontMatter":{"title":"Docker","keywords":["docker"],"description":"docker\u76f8\u5173\u4ecb\u7ecd","tags":["docker"]},"sidebar":"tutorialSidebar","previous":{"title":"\u4ee3\u7801\u7247\u6bb5","permalink":"/docs/built-in/collections/code-snippets"},"next":{"title":"Git","permalink":"/docs/built-in/collections/git"}}');var i=r(74848),a=r(28453);const o={title:"Docker",keywords:["docker"],description:"docker\u76f8\u5173\u4ecb\u7ecd",tags:["docker"]},d=void 0,l={},t=[{value:"\u5e38\u7528\u5bb9\u5668\u670d\u52a1",id:"\u5e38\u7528\u5bb9\u5668\u670d\u52a1",level:2},{value:"\u4e3a\u77e5\u7b14\u8bb0",id:"\u4e3a\u77e5\u7b14\u8bb0",level:3},{value:"Bitwarden",id:"bitwarden",level:3},{value:"Portainer",id:"portainer",level:3},{value:"code-server",id:"code-server",level:3},{value:"wireguard",id:"wireguard",level:3},{value:"transmission",id:"transmission",level:3},{value:"qBittorrent",id:"qbittorrent",level:3},{value:"aria2 pro",id:"aria2-pro",level:3},{value:"Docker CLI",id:"docker-cli",level:4},{value:"Docker Compose",id:"docker-compose",level:4},{value:"\u6587\u4ef6\u4f20\u8f93",id:"\u6587\u4ef6\u4f20\u8f93",level:3},{value:"\u963f\u91cc\u4e91\u76d8 WebDAV",id:"\u963f\u91cc\u4e91\u76d8-webdav",level:3},{value:"Jetbrains Projector",id:"jetbrains-projector",level:3},{value:"RabbitMQ",id:"rabbitmq",level:3},{value:"Redis",id:"redis",level:3},{value:"Plex \u6d41\u5a92\u4f53\u670d\u52a1",id:"plex-\u6d41\u5a92\u4f53\u670d\u52a1",level:3},{value:"Live Stream Server \u76f4\u64ad\u670d\u52a1",id:"live-stream-server-\u76f4\u64ad\u670d\u52a1",level:3},{value:"webtop",id:"webtop",level:3},{value:"Ubuntu Web\u684c\u9762\u7248\u672c",id:"ubuntu-web\u684c\u9762\u7248\u672c",level:3},{value:"Next Cloud",id:"next-cloud",level:3},{value:"\u7b80\u5355\u7248\u672c",id:"\u7b80\u5355\u7248\u672c",level:4},{value:"\u5b8c\u6574\u7248\u672c",id:"\u5b8c\u6574\u7248\u672c",level:4},{value:"daemon.json \u5e38\u7528\u914d\u7f6e",id:"daemonjson-\u5e38\u7528\u914d\u7f6e",level:2},{value:"\u5e38\u7528\u547d\u4ee4",id:"\u5e38\u7528\u547d\u4ee4",level:2},{value:"\u5220\u9664 none \u955c\u50cf",id:"\u5220\u9664-none-\u955c\u50cf",level:3},{value:"\u53d1\u5e03\u955c\u50cf\u5230\u963f\u91cc\u4e91",id:"\u53d1\u5e03\u955c\u50cf\u5230\u963f\u91cc\u4e91",level:3},{value:"\u955c\u50cf\u5907\u4efd\u8fd8\u539f",id:"\u955c\u50cf\u5907\u4efd\u8fd8\u539f",level:3}];function c(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"\u5e38\u7528\u5bb9\u5668\u670d\u52a1",children:"\u5e38\u7528\u5bb9\u5668\u670d\u52a1"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u77e5\u7b14\u8bb0",children:"\u4e3a\u77e5\u7b14\u8bb0"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.wiz.cn/zh-cn/enterprise-private-cloud.html",children:"\u4e3a\u77e5\u7b14\u8bb0\u79c1\u6709\u90e8\u7f72Docker\u955c\u50cf"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.wiz.cn/zh-cn/docker",children:"\u4e3a\u77e5\u7b14\u8bb0\u670d\u52a1\u7aefdocker\u955c\u50cf\u4f7f\u7528\u8bf4\u660e"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run --name wiz \\\n  --restart=always \\\n  -d \\\n  -v $PWD/wiz:/wiz/storage \\\n  -p 8085:80 \\\n  -p 9269:9269/udp \\\n  wiznote/wizserver\n\n## \u5347\u7ea7\u6700\u65b0\u7248\u672c\u7684\u8bdd, \u53ea\u9700\u8981\u628a\u4e4b\u524d\u542f\u52a8\u7684\u5bb9\u5668\u5220\u9664, \u62c9\u53d6\u6700\u65b0\u955c\u50cf, \u518d\u6b21\u6267\u884c\u4e0a\u9762\u7684 run \u547d\u4ee4\u5373\u53ef\ndocker stop wiz\ndocker rm wiz\ndocker pull wiznote/wizserver:latest # \u62c9\u53d6\u6700\u65b0\u955c\u50cf\u5b8c\u6210\u4e4b\u540e, \u518d\u6b21\u6267\u884c\u4e0a\u9762\u7684 docker run ... \u547d\u4ee4, \u6ce8\u610f\u76ee\u5f55\u8def\u5f84\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["\u9ed8\u8ba4\u7ba1\u7406\u5458\u8d26\u53f7: ",(0,i.jsx)(n.code,{children:"admin@wiz.cn"}),", \u5bc6\u7801: ",(0,i.jsx)(n.code,{children:"123456"}),"\u3002\u8bf7\u5728\u90e8\u7f72\u5b8c\u6210\u540e\uff0c\u4f7f\u7528\u8fd9\u4e2a\u8d26\u53f7\uff0c\u767b\u5f55\u7f51\u9875\u7248\uff0c\u7136\u540e\u4fee\u6539\u7ba1\u7406\u5458\u5bc6\u7801\u3002\u5176\u4ed6\u7528\u6237\uff0c\u8bf7\u81ea\u884c\u6ce8\u518c\u3002\u514d\u8d39\u7248\u672c\u53ef\u4ee5\u6ce8\u518c5\u4e2a\u7528\u6237(\u4e0d\u5305\u542b\u7ba1\u7406\u5458\u8d26\u53f7)."]})}),"\n",(0,i.jsx)(n.h3,{id:"bitwarden",children:"Bitwarden"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://bitwarden.com/help/install-on-premise-linux/",children:"Bitwarden - \u5bc6\u7801\u670d\u52a1"}),"\u7684\u7b2c\u4e09\u65b9\u5f00\u6e90\u5b9e\u73b0 ",(0,i.jsx)(n.a,{href:"https://github.com/dani-garcia/vaultwarden/wiki",children:"vaultwarden"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name vaultwarden \\\n  -e DOMAIN=https://your-domain.com \\\n  -v $PWD/vw-data/:/data/ \\\n  -p 8082:80 \\\n  --restart=unless-stopped \\\n  vaultwarden/server:latest\n"})}),"\n",(0,i.jsx)(n.h3,{id:"portainer",children:"Portainer"}),"\n",(0,i.jsxs)(n.p,{children:["\u5bb9\u5668\u7ba1\u7406\u670d\u52a1, ",(0,i.jsx)(n.a,{href:"https://hub.docker.com/r/portainer/portainer-ce/",children:"portainer/portainer-ce"}),", ",(0,i.jsx)(n.a,{href:"https://docs.portainer.io/v/ce-2.11/",children:"\u5b98\u7f51"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d -p 8083:8000 -p 8084:9000 --name portainer \\\n    --restart=always \\\n    -v /var/run/docker.sock:/var/run/docker.sock \\\n    -v $PWD/portainer:/data \\\n    portainer/portainer-ce:2.11.1-alpine \n"})}),"\n",(0,i.jsx)(n.h3,{id:"code-server",children:"code-server"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/alanwei43/code-server",children:"vsc\u7684\u7f51\u9875\u7248"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u663e\u793a\u5e2e\u52a9\ndocker run -it --rm alanway/code-server --help\n\n# \u8fd0\u884c\u4e00\u4e2a\u5728\u7ebf\u7f16\u8f91\u5668\ndocker run --name blog-editor -d \\\n  -p 8086:80 \\\n  -v $PWD:/app \\\n  --restart=unless-stopped \\\n  alanway/code-server\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4e0b\u9762\u662f\u6211\u7684\u535a\u5ba2\u9879\u76ee\u4f7f\u7528\u793a\u4f8b:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dockerfile",metastring:'title="Dockerfile"',children:"FROM alanway/code-server:latest\n\n# code server \u76d1\u542c\u7684\u7aef\u53e3\u53f7\nEXPOSE 80\n\nWORKDIR /usr/local\n# \u4e0b\u8f7d node.js\nADD https://registry.npmmirror.com/-/binary/node/v16.14.0/node-v16.14.0-linux-x64.tar.gz ./\n# \u89e3\u538bnode\nRUN tar xvf node-v16.14.0-linux-x64.tar.gz\n\n# \u8bbe\u7f6e\u8d26\u53f7\u540d\u548cUID, \u53ef\u4ee5\u4f7f\u7528 --build-arg \u53c2\u6570\u4fee\u6539\nARG USER=alan\nARG USER_ID=1000\n# \u6dfb\u52a0\u8d26\u53f7, \u5e76\u628a node \u7684\u89e3\u538b\u76ee\u5f55\u6240\u6709\u4eba\u6539\u6210\u65b0\u5efa\u7684\u8d26\u53f7\nRUN useradd --create-home --uid $USER_ID --user-group --shell /bin/bash $USER \\\n    && chown -hR $USER:$USER node-v16.14.0-linux-x64\n# \u8bbe\u7f6e\u5bb9\u5668\u9ed8\u8ba4\u8d26\u53f7\u4e3a\u65b0\u8d26\u53f7\nUSER $USER\n# \u6dfb\u52a0\u73af\u5883\u53d8\u91cf\nRUN echo 'export PATH=\"$PATH:/usr/local/node-v16.14.0-linux-x64/bin/\"' >> ~/.bashrc\n\n# \u4ee5\u4e0b\u8d44\u6e90\u4f1a\u88ab\u62f7\u8d1d\u4e00\u4efd\u65b0\u7684\u5230\u5bb9\u5668\u91cc\n# \u9632\u6b62\u4f7f\u7528code editor\u662f\u4fee\u6539\u8fd9\u4e9b\u6587\u4ef6\nWORKDIR /app\nCOPY --chown=$USER ./.vscode ./.vscode\nCOPY --chown=$USER ./scripts/utils.js ./scripts/utils.js\nCOPY --chown=$USER ./*.js ./\nCOPY --chown=$USER ./*.json ./\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6267\u884c\u4ee5\u4e0b\u811a\u672c\u521b\u5efa\u5bb9\u5668\u5e76\u8fd0\u884c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker build --file Dockerfile --tag blog-editor ./ # \u5728\u672c\u5730\u6784\u5efa\u955c\u50cf\n\n# \u8fd0\u884c\u5bb9\u5668, \u8fd0\u884c\u6210\u529f\u4e4b\u540e\u8bbf\u95ee localhost:8086 \u5373\u53ef \u8bbf\u95ee\u5728\u7ebf\u7248vsc\u4e86\n# \u5c06\u7269\u7406\u673a\u7684 8086 \u7aef\u53e3\u53f7\u6620\u5c04\u5230\u5bb9\u5668\u91cc\u768480\u7aef\u53e3\n# \u628a\u5f53\u524d\u6587\u4ef6\u5939\u7684 src \u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u91cc\u7684 /app/src \u8fd9\u6837\u8bbf\u95ee localhost:8086 \u5c31\u53ef\u4ee5\u4fee\u6539\u7269\u7406\u673a\u4e0asrc\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u4e86\ndocker run --name blog-editor-container -d \\\n  -p 8086:80 \\\n  -v $PWD/src:/app/src \\\n  -v $PWD/static:/app/static \\\n  --restart=unless-stopped \\\n  blog-editor\n"})}),"\n",(0,i.jsx)(n.h3,{id:"wireguard",children:"wireguard"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'docker run -d \\\n  --name=wireguard \\\n  --cap-add=NET_ADMIN \\\n  --cap-add=SYS_MODULE \\\n  -e SERVERURL=172.105.199.140 \\\n  -e SERVERPORT=51820 \\\n  -e PEERS=1 \\\n  -e PEERDNS=auto \\\n  -e INTERNAL_SUBNET=10.13.13.0 \\\n  -p 51820:51820/udp \\\n  -v $PWD/config:/config \\\n  -v /lib/modules:/lib/modules \\\n  --sysctl="net.ipv4.conf.all.src_valid_mark=1" \\\n  linuxserver/wireguard\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u6ce8\u610f\u4e0a\u8ff0\u547d\u4ee4\u4e2d\u7684 ",(0,i.jsx)(n.code,{children:"SERVERURL=172.105.199.140"})," IP\u6307\u7684\u662f\u4f60\u670d\u52a1\u5668\u7684\u516c\u7f51IP"]}),"\n",(0,i.jsx)(n.h3,{id:"transmission",children:"transmission"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name=transmission \\\n  -e PUID=1000 \\\n  -e PGID=1000 \\\n  -e TZ=Asia/Shanghai \\\n  -e USER=alan \\\n  -e PASS=123456 \\\n  -p 9091:9091 \\\n  -p 51413:51413 \\\n  -p 51413:51413/udp \\\n  -v $PWD/conofig:/config \\\n  -v $PWD/downloads:/downloads \\\n  -v $PWD/watch:/watch \\\n  --restart unless-stopped \\\n  lscr.io/linuxserver/transmission\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d -p 3090:3000 -v $PWD/downloads:/downloads jpillora/cloud-torrent\n"})}),"\n",(0,i.jsx)(n.h3,{id:"qbittorrent",children:"qBittorrent"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name=qbittorrent \\\n  -e PUID=1000 \\\n  -e PGID=1000 \\\n  -e TZ=Asia/Shanghai \\\n  -e WEBUI_PORT=8090 \\\n  -p 8090:8090 \\\n  -p 8091:6881/tcp \\\n  -p 8091:6881/udp \\\n  -v $PWD/qbittorrent/config:/config \\\n  -v $PWD/qbittorrent/downloads:/downloads \\\n  --restart unless-stopped \\\n  linuxserver/qbittorrent\n  # OR lscr.io/linuxserver/qbittorrent:latest\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u542f\u52a8\u4e4b\u540e\u8bbf\u95ee ",(0,i.jsx)(n.code,{children:"http://localhost:8090"}),", \u9ed8\u8ba4\u8d26\u53f7\u5bc6\u7801\u4e3a ",(0,i.jsx)(n.code,{children:"admin/adminadmin"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"aria2-pro",children:"aria2 pro"}),"\n",(0,i.jsx)(n.h4,{id:"docker-cli",children:"Docker CLI"}),"\n",(0,i.jsxs)(n.p,{children:["via ",(0,i.jsx)(n.a,{href:"https://p3terx.com/archives/docker-aria2-pro.html",children:"Aria2 Pro - \u66f4\u597d\u7528\u7684 Aria2 Docker \u5bb9\u5668\u955c\u50cf"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'title="Docker CLI"',children:"docker run -d \\\n    --name aria2-pro \\\n    --restart unless-stopped \\\n    --log-opt max-size=1m \\\n    --network host \\\n    -e PUID=$UID \\\n    -e PGID=$GID \\\n    -e UMASK_SET=022 \\\n    -e RPC_SECRET=password \\\n    -e RPC_PORT=6800 \\\n    -p 8100:6800 \\\n    -e LISTEN_PORT=6888 \\\n    -p 8101:6888 \\\n    -p 8102:6888/udp \\\n    -v $PWD/aria2/config:/config \\\n    -v $PWD/aria2/downloads:/downloads \\\n    p3terx/aria2-pro && \\\n\ndocker run -d \\\n    --name ariang \\\n    --log-opt max-size=1m \\\n    --restart unless-stopped \\\n    -p 8103:6880 \\\n    p3terx/ariang\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'title="\u6e05\u7406\u811a\u672c"',children:"docker stop aria2-pro && \\\ndocker rm aria2-pro && \\\ndocker stop ariang && \\\ndocker rm ariang\n"})}),"\n",(0,i.jsx)(n.h4,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,i.jsxs)(n.p,{children:["via ",(0,i.jsx)(n.a,{href:"https://github.com/P3TERX/Aria2-Pro-Docker/blob/master/docker-compose.yml",children:"P3TERX/Aria2-Pro-Docker"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",metastring:'title="docker-compose.yml"',children:'version: "3.3"\n\nservices:\n\n  Aria2-Pro:\n    container_name: aria2-pro\n    image: p3terx/aria2-pro\n    environment:\n      - PUID=65534\n      - PGID=65534\n      - UMASK_SET=022\n      - RPC_SECRET=P3TERX\n      - RPC_PORT=6800\n      - LISTEN_PORT=6888\n      - DISK_CACHE=64M\n      - IPV6_MODE=false\n      - UPDATE_TRACKERS=true\n      - CUSTOM_TRACKER_URL=\n      - TZ=Asia/Shanghai\n    volumes:\n      - ${PWD}/aria2/config:/config\n      - ${PWD}/aria2/downloads:/downloads\n# If you use host network mode, then no port mapping is required.\n# This is the easiest way to use IPv6 networks.\n    network_mode: host\n#    network_mode: bridge\n#    ports:\n#      - 6800:6800\n#      - 6888:6888\n#      - 6888:6888/udp\n    restart: unless-stopped\n# Since Aria2 will continue to generate logs, limit the log size to 1M to prevent your hard disk from running out of space.\n    logging:\n      driver: json-file\n      options:\n        max-size: 1m\n\n# AriaNg is just a static web page, usually you only need to deploy on a single host.\n  AriaNg:\n    container_name: ariang\n    image: p3terx/ariang\n    command: --port 6880 --ipv6\n    network_mode: host\n#    network_mode: bridge\n#    ports:\n#      - 6880:6880\n    restart: unless-stopped\n    logging:\n      driver: json-file\n      options:\n        max-size: 1m\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u6587\u4ef6\u4f20\u8f93",children:"\u6587\u4ef6\u4f20\u8f93"}),"\n",(0,i.jsxs)(n.p,{children:["\u57fa\u4e8e ",(0,i.jsx)(n.a,{href:"https://github.com/mozilla/send",children:"mozilla/send"})," \u5236\u4f5c\u7684\u955c\u50cf:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d -p 8090:1443 --name firefox-send-pod alanway/firefox-send\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u963f\u91cc\u4e91\u76d8-webdav",children:"\u963f\u91cc\u4e91\u76d8 WebDAV"}),"\n",(0,i.jsxs)(n.p,{children:["\u5c06\u963f\u91cc\u4e91\u76d8\u6302\u8f7d\u6210 ",(0,i.jsx)(n.a,{href:"https://github.com/messense/aliyundrive-webdav",children:"WebDAV"})," \u670d\u52a1:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d --name=aliyundrive-webdav --restart=unless-stopped -p 8091:8080 \\\n  -v $PWD/aliyundrive-webdav/:/etc/aliyundrive-webdav/ \\\n  -e REFRESH_TOKEN='your refresh token' \\\n  -e WEBDAV_AUTH_USER=admin \\\n  -e WEBDAV_AUTH_PASSWORD=admin \\\n  messense/aliyundrive-webdav\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u4e0a\u9762\u7684\u53c2\u6570 ",(0,i.jsx)(n.code,{children:"REFRESH_TOKEN"})," \u503c\u662f\u963f\u91cc\u4e91\u76d8\u7684token, \u6253\u5f00\u5e76\u767b\u5f55\u963f\u91cc\u4e91\u76d8, \u5728\u63a7\u5236\u53f0\u6267\u884c ",(0,i.jsx)(n.code,{children:"JSON.parse(localStorage.token).refresh_token"})," \u5373\u53ef\u770b\u5230."]}),"\n",(0,i.jsx)(n.h3,{id:"jetbrains-projector",children:"Jetbrains Projector"}),"\n",(0,i.jsx)(n.p,{children:"\u57fa\u4e8eDocker\u7684 Projector"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker pull registry.jetbrains.team/p/prj/containers/projector-clion\ndocker pull registry.jetbrains.team/p/prj/containers/projector-datagrip\ndocker pull registry.jetbrains.team/p/prj/containers/projector-goland\ndocker pull registry.jetbrains.team/p/prj/containers/projector-idea-c\ndocker pull registry.jetbrains.team/p/prj/containers/projector-idea-u\ndocker pull registry.jetbrains.team/p/prj/containers/projector-phpstorm\ndocker pull registry.jetbrains.team/p/prj/containers/projector-pycharm-c\ndocker pull registry.jetbrains.team/p/prj/containers/projector-pycharm-p\ndocker pull registry.jetbrains.team/p/prj/containers/projector-webstorm\n\ndocker run --rm -p 8887:8887 -it IMAGE_NAME\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/JetBrains/projector-installer",children:"JetBrains/projector-installer"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/joaquim-verges/ProjectorAndroidStudio/blob/main/README.md",children:"joaquim-verges/ProjectorAndroidStudio"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"rabbitmq",children:"RabbitMQ"}),"\n",(0,i.jsx)(n.p,{children:"\u542f\u52a8\u4e00\u4e2aRabbitMQ\u670d\u52a1:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d --hostname rabbit-svr \\\n\t--name rabbit-svr \\\n\t-e RABBITMQ_DEFAULT_USER=admin \\\n\t-e RABBITMQ_DEFAULT_PASS=xxxxxx \\\n\t-e RABBITMQ_DEFAULT_VHOST=default \\\n\t-p 5672:5672 \\\n\t-p 15672:15672 \\\n  \t--restart unless-stopped \\\n\trabbitmq:3.10-management\n"})}),"\n",(0,i.jsx)(n.h3,{id:"redis",children:"Redis"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d --name redis-svr \\\n  --restart unless-stopped \\\n  -v $PWD:/data \\\n  -p 6379:6379 \\\n  redis:7\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# ref https://developer.redis.com/create/docker/redis-on-docker/\ndocker run -d \\\n  --name redis-stack \\\n  -p 6379:6379 \\\n  -p 8001:8001 \\\n  --restart unless-stopped \\\n  -v $PWD/redis/:/data \\\n  redis/redis-stack:latest\n"})}),"\n",(0,i.jsx)(n.h3,{id:"plex-\u6d41\u5a92\u4f53\u670d\u52a1",children:"Plex \u6d41\u5a92\u4f53\u670d\u52a1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name=plex \\\n  --net=host \\\n  -e PUID=1000 \\\n  -e PGID=1000 \\\n  -e VERSION=docker \\\n  -p 32400:32400 \\\n  -v $PWD/plex/library:/config \\\n  -v $PWD/plex/tvseries:/tv \\\n  -v $PWD/plex/movies:/movies \\\n  --restart unless-stopped \\\n  lscr.io/linuxserver/plex:latest\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u7136\u540e\u8bbf\u95ee ",(0,i.jsx)(n.code,{children:"http://localhost:32400"}),", \u4f7f\u7528\u547d\u4ee4 ",(0,i.jsx)(n.code,{children:"sudo ufw allow 32400"})," \u5f00\u653e\u5916\u7f51\u8bbf\u95ee."]}),"\n",(0,i.jsx)(n.h3,{id:"live-stream-server-\u76f4\u64ad\u670d\u52a1",children:"Live Stream Server \u76f4\u64ad\u670d\u52a1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  -p 1935:1935 \\\n  --name nginx-rtmp \\\n  --restart unless-stopped \\\n  tiangolo/nginx-rtmp\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u66f4\u591a\u7ec6\u8282\u53c2\u8003 ",(0,i.jsx)(n.a,{href:"https://blog.alanwei.com/blog/2023/01/08/live-stream-server",children:"Live Stream Server"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"webtop",children:"webtop"}),"\n",(0,i.jsx)(n.p,{children:"Linux Web\u7248\u8fdc\u7a0b\u684c\u9762"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'docker run -d \\\n  --name=webtop \\\n  --security-opt seccomp=unconfined \\\n  -e PUID=1000 \\\n  -e PGID=1000 \\\n  -e TZ=Asia/Shanghai \\\n  -e SUBFOLDER=/ \\\n  -e KEYBOARD=en-us-qwerty \\\n  -e TITLE=Webtop \\\n  -p 8095:3000 \\\n  -v $PWD/webtop/config:/config \\\n  --shm-size="1gb" \\\n  --restart unless-stopped \\\n  lscr.io/linuxserver/webtop:latest\n'})}),"\n",(0,i.jsx)(n.h3,{id:"ubuntu-web\u684c\u9762\u7248\u672c",children:"Ubuntu Web\u684c\u9762\u7248\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"docker run -d --name ubuntu-desktop \\\n --shm-size=8g \\\n -m 8GB \\\n -p 6901:6901 \\\n -e VNC_UN=ubuntu \\\n -e VNC_PW=ubuntu \\\n --restart unless-stopped \\\nregistry.cn-hangzhou.aliyuncs.com/alanwei/ubuntu-desktop:22.04-chrome-104\n"})}),"\n",(0,i.jsx)(n.h3,{id:"next-cloud",children:"Next Cloud"}),"\n",(0,i.jsx)(n.h4,{id:"\u7b80\u5355\u7248\u672c",children:"\u7b80\u5355\u7248\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name nextcloud \\\n  -p 8096:80 \\\n\t-v $PWD/nextcloud:/var/www/html \\\n  -e NEXTCLOUD_ADMIN_USER=alan \\\n  -e NEXTCLOUD_ADMIN_PASSWORD=123456 \\\n  -e SQLITE_DATABASE=db \\\n  --restart unless-stopped \\\n\tnextcloud\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u5b8c\u6574\u7248\u672c",children:"\u5b8c\u6574\u7248\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",metastring:'title="compose.yml"',children:'version: "3"\nservices:\n  webservice:\n    image: nextcloud:25.0.3\n    container_name: nextcloud-web\n    volumes:\n      - ./web:/var/www/html\n    environment:\n      - TZ=Asia/Shanghai\n      # - NEXTCLOUD_ADMIN_USER=your_name # \u53ef\u9009\u53c2\u6570\n      # - NEXTCLOUD_ADMIN_PASSWORD=your_password # \u53ef\u9009\u53c2\u6570\n      # - NEXTCLOUD_TRUSTED_DOMAINS=your_domain # \u53ef\u9009\u53c2\u6570\n      - REDIS_HOST=redis\n      - MYSQL_HOST=db\n      - MYSQL_DATABASE=nextcloud\n      - MYSQL_USER=dbuser\n      - MYSQL_PASSWORD=dbpassword\n    ports:\n      - 8096:80\n    restart: unless-stopped\n    networks:\n      - redisnet\n      - dbnet\n  redis:\n    image: redis:alpine\n    container_name: nextcloud-redis\n    restart: unless-stopped\n    networks:\n      - redisnet\n    expose:\n      - 6379\n  db:\n    image: mariadb:10.5\n    container_name: nextcloud-db\n    command: --transaction-isolation=READ-COMMITTED --binlog-format=ROW\n    environment:\n      - TZ=Asia/Shanghai\n      - MARIADB_DATABASE=nextcloud\n      - MARIADB_USER=dbuser\n      - MARIADB_PASSWORD=dbpassword\n      - MARIADB_ROOT_PASSWORD=dbpassword\n    volumes:\n      - ./db:/var/lib/mysql\n    restart: unless-stopped\n    networks:\n      - dbnet\n    expose:\n      - 3306\nnetworks:\n  dbnet:\n  redisnet:\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u7136\u540e\u6267\u884c ",(0,i.jsx)(n.code,{children:"docker-compose up -d"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"daemonjson-\u5e38\u7528\u914d\u7f6e",children:"daemon.json \u5e38\u7528\u914d\u7f6e"}),"\n",(0,i.jsx)(n.p,{children:"\u53c2\u8003:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.docker.com/engine/install/linux-postinstall/#configuring-remote-access-with-daemonjson",children:"Configuring remote access with daemon.json"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title="/etc/docker/daemon.json"',children:'{\n  "registry-mirrors": ["https://xxxx.mirror.aliyuncs.com"],\n  "hosts": ["unix:///var/run/docker.sock", "tcp://127.0.0.1:2375"]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u4fee\u6539\u6587\u4ef6\u4e4b\u540e, \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u91cd\u542f Docker \u4f7f\u4e4b\u751f\u6548:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"systemctl restart docker\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5e38\u7528\u547d\u4ee4",children:"\u5e38\u7528\u547d\u4ee4"}),"\n",(0,i.jsx)(n.h3,{id:"\u5220\u9664-none-\u955c\u50cf",children:"\u5220\u9664 none \u955c\u50cf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# via https://stackoverflow.com/questions/33913020/docker-remove-none-tag-images\ndocker image prune\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u53d1\u5e03\u955c\u50cf\u5230\u963f\u91cc\u4e91",children:"\u53d1\u5e03\u955c\u50cf\u5230\u963f\u91cc\u4e91"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u6784\u5efa\u955c\u50cf"})}),"\n",(0,i.jsx)(n.p,{children:"\u6784\u5efa\u76ee\u5f55\u4e3a\u5f53\u524d\u76ee\u5f55"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker build --file ./Dockerfile.local --tag code-server:latest ./\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--file"})," \u6307\u5b9a",(0,i.jsx)(n.em,{children:"Dockerfile"}),"\u6587\u4ef6\u8def\u5f84"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--tag"})," \u683c\u5f0f\u4e3a ",(0,i.jsxs)(n.em,{children:["name",":tag"]}),", \u5176\u4e2d ",(0,i.jsx)(n.em,{children:":tag"})," \u53ef\u4ee5\u7701\u7565"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u5173\u8054\u6807\u8bb0\u955c\u50cf"})}),"\n",(0,i.jsx)(n.p,{children:"\u4e0b\u9762\u5c06\u672c\u5730\u955c\u50cf\u5173\u8054\u5230\u963f\u91cc\u4e91\u8d26\u53f7\u4e0b:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker tag code-server:latest registry.cn-hangzhou.aliyuncs.com/alanwei/code-server:latest\n"})}),"\n",(0,i.jsx)(n.p,{children:"docker\u5bf9\u955c\u50cf\u540d\u5b57\u89e3\u6790\u89c4\u5219\u5982\u4e0b:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"name:tag"})," \u4f7f\u7528\u672c\u5730\u955c\u50cf\u6216\u8005\u5b98\u65b9\u7ef4\u62a4\u7684\u955c\u50cf, \u6bd4\u5982\u4e0a\u8ff0\u7684 ",(0,i.jsxs)(n.em,{children:["code-server",":latest"]})," \u5c31\u662f\u672c\u5730\u955c\u50cf, \u800c ",(0,i.jsxs)(n.em,{children:["nginx",":latest"]})," \u5c31\u662f\u5b98\u65b9\u955c\u50cf, \u5176\u4e2d tag \u53ef\u4ee5\u7701\u7565, \u9ed8\u8ba4\u4e3a ",(0,i.jsx)(n.em,{children:"latest"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"user/name:tag"})," \u4f7f\u7528\u7684\u662f docker hub \u4e0a\u7684\u4e2a\u4eba\u955c\u50cf, \u6bd4\u5982 ",(0,i.jsx)(n.em,{children:"alanway/code-server:4.0.2"})," \u5c31\u662f docker hub \u7528\u6237",(0,i.jsx)(n.a,{href:"https://hub.docker.com/alanway/code-server",children:"alanway"}),"\u53d1\u5e03\u7684\u955c\u50cf"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"domain-host/user/name:tag"})," \u4f7f\u7528\u7684\u5c31\u662f ",(0,i.jsx)(n.em,{children:"domain-host"})," \u79c1\u670d\u63d0\u4f9b\u7684\u955c\u50cf, \u800c ",(0,i.jsx)(n.em,{children:"user"})," \u4e00\u822c\u6307\u7684\u662f\u79c1\u670d\u4e0a\u7684\u7528\u6237id, \u6bd4\u5982\u4e0a\u9762\u63d0\u5230\u7684\u963f\u91cc\u4e91\u7684\u955c\u50cf\u79c1\u670d\u5c31\u662f",(0,i.jsx)(n.em,{children:"registry.cn-hangzhou.aliyuncs.com"}),", \u800c",(0,i.jsx)(n.em,{children:"alanwei"}),"\u5c31\u662f\u963f\u91cc\u4e91\u8d26\u53f7id"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u63a8\u9001\u5230\u963f\u91cc\u4e91"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker login --username=[email] registry.cn-hangzhou.aliyuncs.com # \u767b\u9646\u963f\u91cc\u4e91\u8d26\u53f7\ndocker push registry.cn-hangzhou.aliyuncs.com/alanwei/code-server:latest # \u63a8\u9001\u7b2c\u4e8c\u6b65\u9aa4\u5173\u8054\u7684\u963f\u91cc\u4e91\u955c\u50cf\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u955c\u50cf\u5907\u4efd\u8fd8\u539f",children:"\u955c\u50cf\u5907\u4efd\u8fd8\u539f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# \u5c06\u955c\u50cf ubuntu:latest \u5907\u4efd\u5230\u6587\u4ef6 ubuntu.tar\ndocker save -o ubuntu.tar ubuntu:latest\n\n# \u4e00\u6b21\u5907\u4efd\u591a\u4e2a\u955c\u50cf\ndocker save -o backup-images.tar ubuntu:22.04 redis:latest\n\n# \u5728\u53e6\u4e00\u53f0\u673a\u5668\u4e0a\u52a0\u8f7d\u5907\u4efd\u955c\u50cf\ndocker load -i backup-images.tar\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);