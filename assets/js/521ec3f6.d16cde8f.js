"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[14958],{2780:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"docusaurus/tricks","title":"Tricks","description":"\u7ea6\u5b9a","source":"@site/src/docs/built-in/docusaurus/tricks.md","sourceDirName":"docusaurus","slug":"/docusaurus/tricks","permalink":"/docs/built-in/docusaurus/tricks","draft":false,"unlisted":false,"editUrl":"https://github.com/alanwei43/blog/tree/master/src/docs/built-in/docusaurus/tricks.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Client API","permalink":"/docs/built-in/docusaurus/api/client"}}');var t=o(74848),c=o(28453);const s={},i="Tricks",l={},d=[{value:"\u7ea6\u5b9a",id:"\u7ea6\u5b9a",level:2},{value:"Tricks",id:"tricks-1",level:2},{value:"\u521b\u5efa\u5e26\u6709\u6a21\u677f\u7684\u9875\u9762",id:"\u521b\u5efa\u5e26\u6709\u6a21\u677f\u7684\u9875\u9762",level:3},{value:"Markdown import React component",id:"markdown-import-react-component",level:3},{value:"Register global component",id:"register-global-component",level:3},{value:"Importing code snippets",id:"importing-code-snippets",level:3},{value:"install",id:"install",level:4},{value:"\u5229\u7528 CodeBlock \u5c55\u793a\u4ee3\u7801\u7247\u6bb5",id:"\u5229\u7528-codeblock-\u5c55\u793a\u4ee3\u7801\u7247\u6bb5",level:4},{value:"Live Code",id:"live-code",level:3},{value:"config",id:"config",level:4},{value:"use",id:"use",level:4},{value:"React component render code block",id:"react-component-render-code-block",level:3},{value:"React component render markdown",id:"react-component-render-markdown",level:3},{value:"Code snippets + Markdown live code",id:"code-snippets--markdown-live-code",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"tricks",children:"Tricks"})}),"\n",(0,t.jsx)(n.h2,{id:"\u7ea6\u5b9a",children:"\u7ea6\u5b9a"}),"\n",(0,t.jsxs)(n.p,{children:["\u4f4d\u4e8e ",(0,t.jsx)(n.code,{children:"src/pages"})," \u76ee\u5f55\u4e0b\u7684\u4ee5 ",(0,t.jsx)(n.code,{children:".md"}),", ",(0,t.jsx)(n.code,{children:".mdx"}),", \u6216\u8005 ",(0,t.jsx)(n.code,{children:"tsx"}),", ",(0,t.jsx)(n.code,{children:"jsx"})," \u7ed3\u5c3e\u7684\u540e\u7f00\u540d\u9ed8\u8ba4\u4e3a\u4f1a\u751f\u6210\u9875\u9762. \u4f46\u662f\u5982\u679c\u6587\u4ef6\u540d\u4ee5 ",(0,t.jsx)(n.code,{children:"_"})," \u5f00\u5934\u5219\u4f1a\u88ab\u5ffd\u7565, \u6bd4\u5982 ",(0,t.jsx)(n.code,{children:"src/pages/demo/_hello.tsx"})," \u5c31\u4e0d\u4f1a\u88ab\u751f\u6210\u9875\u9762 ",(0,t.jsx)(n.code,{children:"/demo/hello"})," \u6216\u8005 ",(0,t.jsx)(n.code,{children:"/demo/_hello"}),". \u6240\u4ee5\u4e00\u822c partial markdown \u6216\u8005 code snippest, reac component \u6587\u4ef6\u91c7\u7528 ",(0,t.jsx)(n.code,{children:"_"})," \u5f00\u5934."]}),"\n",(0,t.jsx)(n.h2,{id:"tricks-1",children:"Tricks"}),"\n",(0,t.jsx)(n.h3,{id:"\u521b\u5efa\u5e26\u6709\u6a21\u677f\u7684\u9875\u9762",children:"\u521b\u5efa\u5e26\u6709\u6a21\u677f\u7684\u9875\u9762"}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0b\u9762\u7684\u4ee3\u7801\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"Layout"})," \u4f1a\u521b\u5efa\u4e00\u4e2a\u5e26\u6709\u516c\u5171\u5bfc\u822a\u548c\u5e95\u90e8\u4fe1\u606f\u7684\u9875\u9762."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",metastring:'title="src/pages/page1.tsx"',children:"import React from 'react';\nimport Layout from '@theme/Layout';\nimport Head from '@docusaurus/Head';\n\nexport default function Index() {\n  return (\n    <Layout title='\u9996\u9875'>\n      <Head>\n        <meta />\n        <style> </style>\n      </Head>\n      <main className='container'>\n        \u8fd9\u91cc\u662f\u9875\u9762\u5185\u5bb9\n      </main>\n    </Layout>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"markdown-import-react-component",children:"Markdown import React component"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://docusaurus.io/docs/markdown-features/react#importing-components",children:"Markdown \u5bfc\u5165React\u7ec4\u4ef6"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",metastring:'title="blog/2022-01-01-blog-name.md"',children:"# \u6807\u9898\n\n\x3c!-- Docusaurus \u539f\u751f\u7ec4\u4ef6 --\x3e\nimport TOCInline from '@theme/TOCInline';\n\x3c!-- \u7b2c\u4e09\u65b9\u7ec4\u4ef6 --\x3e\nimport Button from '@mui/material/Button';\n\x3c!-- \u8fd9\u4e2a\u662f\u81ea\u5b9a\u4e49\u7ec4\u4ef6 --\x3e\nimport BrowserWindow from '@site/src/components/BrowserWindow';\n\n## \u6807\u98982\n\n* \u5217\u88681\n* \u5217\u88682\n\n\u4e0b\u9762\u4f7f\u7528\u7ec4\u4ef6:\n\n<TOCInline />\n\n\u4f7f\u7528\u81ea\u5b9a\u4e49\u7ec4\u4ef6\n\n<BrowserWindow hello=\"world\" />\n"})}),"\n",(0,t.jsx)(n.h3,{id:"register-global-component",children:"Register global component"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsxs)(n.a,{href:"https://docusaurus.io/docs/markdown-features/react#mdx-component-scope",children:["\u5229\u7528 ",(0,t.jsx)(n.code,{children:"MDXComponent"})," \u6ce8\u518cMarkdown\u5168\u5c40\u7ec4\u4ef6"]}),":"]}),"\n",(0,t.jsxs)(n.p,{children:["\u624b\u52a8\u521b\u5efa\u6587\u4ef6 ",(0,t.jsx)(n.code,{children:"src/theme/MDXComponents.js"})," \u6216\u8005 ",(0,t.jsx)(n.code,{children:"src/theme/MDXComponents.tsx"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",metastring:'title="src/theme/MDXComponents.tsx"',children:"import React from 'react';\nimport MDXComponents from '@theme-original/MDXComponents';\nimport { ResourceLink, GiteeImage, GitTalkComment, NetworkCopyRight } from \"../components/index\";\n\nexport default {\n    // Re-use the default mapping\n    ...MDXComponents,\n    ResourceLink: ResourceLink,\n    GiteeImage: GiteeImage,\n    GitTalkComment: GitTalkComment,\n    NetworkCopyRight: NetworkCopyRight\n    // Map the \"collapse-block\" tag to our <CollapseBlock /> component!\n    // `collapse-block` will receive all props that were passed to `collapse-block` in MDX\n    //   HandlerGetDataForAppEnv: HandlerGetDataForAppEnv\n};\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u5728\u4efb\u610fMarkdown\u6587\u4ef6\u65f6\u7528\u4e0a\u9762\u6ce8\u518c\u7684\u5168\u5c40\u7ec4\u4ef6, \u6bd4\u5982:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",metastring:'title="src/pages/hello.md"',children:'# title\n\n* list\n* list\n\n<ResourceLink link="xxxx" />\n'})}),"\n",(0,t.jsx)(n.h3,{id:"importing-code-snippets",children:"Importing code snippets"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://docusaurus.io/docs/markdown-features/react#importing-code-snippets",children:"\u5728markdown\u6216\u8005react\u9875\u9762\u91cc\u5bfc\u5165\u4ee3\u7801\u7247\u6bb5\u8fdb\u884c\u5c55\u793a"}),":"]}),"\n",(0,t.jsx)(n.h4,{id:"install",children:"install"}),"\n",(0,t.jsx)(n.p,{children:"\u5b89\u88c5 webpack raw-loader \u4f9d\u8d56:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install --save raw-loader\n"})}),"\n",(0,t.jsx)(n.h4,{id:"\u5229\u7528-codeblock-\u5c55\u793a\u4ee3\u7801\u7247\u6bb5",children:"\u5229\u7528 CodeBlock \u5c55\u793a\u4ee3\u7801\u7247\u6bb5"}),"\n",(0,t.jsx)(n.p,{children:"\u4e0b\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u5728markdown\u548creact\u7ec4\u4ef6\u4e0a\u4f7f\u7528:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"import CodeBlock from '@theme/CodeBlock';\nimport MyComponentSource from '!!raw-loader!./myComponent';\n\n<CodeBlock language=\"jsx\">{MyComponentSource}</CodeBlock>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"live-code",children:"Live Code"}),"\n",(0,t.jsxs)(n.p,{children:["\u5b89\u88c5\u63d2\u4ef6 ",(0,t.jsx)(n.a,{href:"https://github.com/facebook/docusaurus/tree/main/packages/docusaurus-theme-live-codeblock",children:"Docusaurus Live Codeblock"}),", \u53ef\u4ee5\u5728\u9875\u9762\u4e0a",(0,t.jsx)(n.a,{href:"https://docusaurus.io/docs/markdown-features/code-blocks#interactive-code-editor",children:"\u76f4\u63a5\u6e32\u67d3jsx\u4ee3\u7801"}),":"]}),"\n",(0,t.jsx)(n.h4,{id:"config",children:"config"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="\u5b89\u88c5\u4f9d\u8d56"',children:"npm i @docusaurus/theme-live-codeblock\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4fee\u6539\u6587\u4ef6 ",(0,t.jsx)(n.code,{children:"docusaurus.config.js"}),", \u65b0\u589e\u4ee5\u4e0b\u914d\u7f6e:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\n  ...\n+ themes: ['@docusaurus/theme-live-codeblock'],\n  presets: ['@docusaurus/preset-classic']\n  ...\n}\n"})}),"\n",(0,t.jsx)(n.h4,{id:"use",children:"use"}),"\n",(0,t.jsxs)(n.p,{children:["\u7ed9\u4ee3\u7801\u5757\u589e\u52a0 ",(0,t.jsx)(n.code,{children:"live"})," \u6807\u8bc6, \u7136\u540e\u4ee3\u7801\u5757\u751f\u6210\u4e00\u4e2a\u51fd\u6570, \u5e76\u8fd4\u56de jsx element \u5373\u53ef:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",metastring:"live",live:!0,children:"function Clock(props) {\n  const [date, setDate] = useState(new Date());\n  useEffect(() => {\n    var timerID = setInterval(() => tick(), 1000);\n\n    return function cleanup() {\n      clearInterval(timerID);\n    };\n  });\n\n  function tick() {\n    setDate(new Date());\n  }\n\n  return (\n    <div>\n      <h2>It is {date.toLocaleTimeString()}.</h2>\n    </div>\n  );\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u9664\u4e86\u4e0a\u9762\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\u7684\u65b9\u5f0f, live code \u8fd8\u652f\u6301\u624b\u52a8\u8c03\u7528 ",(0,t.jsx)(n.code,{children:"render"})," \u65b9\u6cd5\u6e32\u67d3:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",metastring:"live noInline",live:!0,children:'const project = "Docusaurus";\n\nconst Greeting = () => <p>Helloe {project}!</p>;\n\nrender(<Greeting />)\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u4e5f\u53ef\u4ee5\u5728 live code \u4e2d\u6ce8\u518c\u5168\u5c40\u7ec4\u4ef6, \u65b9\u4fbf live code \u4f7f\u7528:"}),"\n",(0,t.jsxs)(n.p,{children:["\u6267\u884c ",(0,t.jsx)(n.code,{children:"npm run swizzle @docusaurus/theme-live-codeblock ReactLiveScope -- --eject"}),", \u7136\u540e\u4fee\u6539\u6587\u4ef6 ",(0,t.jsx)(n.code,{children:"src/theme/ReactLiveScope/index.js"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import React from 'react';\n\nconst ButtonExample = (props) => (\n  <button\n    {...props}\n    style={{\n      backgroundColor: 'white',\n      color: 'black',\n      border: 'solid red',\n      borderRadius: 20,\n      padding: 10,\n      cursor: 'pointer',\n      ...props.style,\n    }}\n  />\n);\n\n// Add react-live imports you need here\nconst ReactLiveScope = {\n  React,\n  ...React,\n  ButtonExample, // \u8fd9\u4e2a\u5c31\u662f\u81ea\u5b9a\u4e49\u7684\u5168\u5c40\u7ec4\u4ef6\n};\n\nexport default ReactLiveScope;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e live code \u91cc\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"<ButtonExample />"})," \u8fd9\u4e2a\u7ec4\u4ef6\u4e86.(\u65e0\u9700import\u5bfc\u5165)"]}),"\n",(0,t.jsx)(n.h3,{id:"react-component-render-code-block",children:"React component render code block"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://docusaurus.io/docs/markdown-features/code-blocks#usage-in-jsx",children:"\u5728React\u7ec4\u4ef6\u6216\u8005\u9875\u9762\u91cc\u6e32\u67d3\u4ee3\u7801\u5757"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",metastring:'title="src/pages/hello.jsx"',children:'import CodeBlock from \'@theme/CodeBlock\';\n\nexport default function MyReactPage() {\n  return (\n    <div>\n      <CodeBlock\n        language="jsx"\n        title="/src/components/HelloCodeTitle.js"\n        showLineNumbers>\n        {`function HelloCodeTitle(props) {\n  return <h1>Hello, {props.name}</h1>;\n}`}\n      </CodeBlock>\n    </div>\n  );\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0a\u9762\u751f\u6210\u4ee3\u7801\u5757\u4ec5\u80fd\u5c55\u793a, \u65e0\u6cd5\u6e32\u67d3, \u4e0b\u9762\u662f live code block \u793a\u4f8b, \u4e3b\u8981\u533a\u522b\u662f\u628a ",(0,t.jsx)(n.code,{children:"@theme/CodeBlock"})," \u6362\u6210\u4e86 ",(0,t.jsx)(n.code,{children:"@docusaurus/theme-live-codeblock/lib/theme/CodeBlock"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import React from 'react';\nimport Layout from '@theme/Layout';\nimport CodeBlock  from \"@docusaurus/theme-live-codeblock/lib/theme/CodeBlock\";\n\nexport default function Index() {\n  return (\n    <Layout title='\u9996\u9875'>\n      <main className='container'>\n        <CodeBlock showLineNumbers live >\n          {`\n          function render(){\n            return (<div>hello</div>);\n          }\n          `}\n        </CodeBlock>\n      </main>\n    </Layout>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"react-component-render-markdown",children:"React component render markdown"}),"\n",(0,t.jsxs)(n.p,{children:["React \u7ec4\u4ef6\u6216\u8005\u9875\u9762\u5229\u7528 ",(0,t.jsx)(n.code,{children:"@theme/MDXContent"})," \u539f\u751f\u7ec4\u4ef6\u53ef\u4ee5\u6e32\u67d3 Markdown \u5185\u5bb9:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"\u521b\u5efa\u4e00\u4e2amarkdown\u4ee3\u7801\u7247\u6bb5"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",metastring:'title="src/pages/demo/_hello.md"',children:"**\u8fd9\u91cc\u662f markdown \u6587\u4ef6\u5185\u5bb9**\n*hello*\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"\u5728React\u9875\u9762\u6216\u8005\u7ec4\u4ef6\u4f7f\u7528"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",metastring:'title="src/pages/demo/index.tsx"',children:"import React from 'react';\nimport Layout from '@theme/Layout';\nimport Intro from \"./_intro.md\";\nimport MDXContent from '@theme/MDXContent';\n\nexport default function Index() {\n  return (\n    <Layout title='\u6f14\u793a\u9875\u9762'>\n      <main className='container'>\n        <MDXContent>\n          <Intro />\n        </MDXContent>\n      </main>\n    </Layout>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"code-snippets--markdown-live-code",children:"Code snippets + Markdown live code"}),"\n",(0,t.jsx)(n.p,{children:"\u4e0b\u9762\u6f14\u793a\u5728 Markdown \u4e2d\u52a8\u6001\u6e32\u67d3 JSX \u4ee3\u7801\u7247\u6bb5."}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0b\u9762\u662f\u4ee3\u7801\u7247\u6bb5 ",(0,t.jsx)(n.code,{children:"src/pages/demo/_PartialCode.jsx"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",metastring:'title="src/pages/demo/_PartialCode.jsx"',children:'import React from "react";\n\nexport function RenderComponent() {\n  return (\n    <div>Hello world.</div>\n  );\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540eMarkdown\u6587\u4ef6\u5185\u5229\u7528 ",(0,t.jsx)(n.code,{children:"@docusaurus/theme-live-codeblock"})," \u548c ",(0,t.jsx)(n.code,{children:"raw-loader"})," \u5b9e\u73b0\u52a8\u6001\u52a0\u8f7d\u4ee3\u7801\u7247\u6bb5\u5e76\u6e32\u67d3:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",metastring:'title="\u6ce8\u610f\u8fd9\u662fmarkdown\u6587\u4ef6"',children:'import CodeBlock from "@docusaurus/theme-live-codeblock/lib/theme/CodeBlock";\nimport RawData from "!!raw-loader!@site/src/pages/demo/\\_PartialCode";\n\n# \u4ee5\u4e0b\u521b\u5efa live code\n\n<CodeBlock language="jsx" live>\n  { RawData }\n</CodeBlock>\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"\u867d\u7136\u4e0a\u8ff0\u4ee3\u7801\u662fmarkdown\u91cc\u5199\u7684, \u4f46\u662f React \u9875\u9762\u6216\u8005\u7ec4\u4ef6\u540c\u6837\u9002\u7528."})})]})}function m(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>i});var r=o(96540);const t={},c=r.createContext(t);function s(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);