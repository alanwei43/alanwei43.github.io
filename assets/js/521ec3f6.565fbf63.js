"use strict";(self.webpackChunkalan_blog=self.webpackChunkalan_blog||[]).push([[30789],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>u});var o=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=o.createContext({}),p=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},s=function(e){var n=p(e.components);return o.createElement(c.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=p(t),u=r,k=d["".concat(c,".").concat(u)]||d[u]||m[u]||a;return t?o.createElement(k,l(l({ref:n},s),{},{components:t})):o.createElement(k,l({ref:n},s))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,l=new Array(a);l[0]=d;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var p=2;p<a;p++)l[p]=t[p];return o.createElement.apply(null,l)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},86330:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>p});var o=t(87462),r=(t(67294),t(3905));const a={},l="Tricks",i={unversionedId:"docusaurus/tricks",id:"docusaurus/tricks",title:"Tricks",description:"\u7ea6\u5b9a",source:"@site/src/docs/built-in/docusaurus/tricks.md",sourceDirName:"docusaurus",slug:"/docusaurus/tricks",permalink:"/docs/built-in/docusaurus/tricks",draft:!1,editUrl:"https://github.com/alanwei43/blog/tree/master/src/docs/built-in/docusaurus/tricks.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Client API",permalink:"/docs/built-in/docusaurus/api/client"}},c={},p=[{value:"\u7ea6\u5b9a",id:"\u7ea6\u5b9a",level:2},{value:"Tricks",id:"tricks-1",level:2},{value:"\u521b\u5efa\u5e26\u6709\u6a21\u677f\u7684\u9875\u9762",id:"\u521b\u5efa\u5e26\u6709\u6a21\u677f\u7684\u9875\u9762",level:3},{value:"Markdown import React component",id:"markdown-import-react-component",level:3},{value:"Register global component",id:"register-global-component",level:3},{value:"Importing code snippets",id:"importing-code-snippets",level:3},{value:"install",id:"install",level:4},{value:"\u5229\u7528 CodeBlock \u5c55\u793a\u4ee3\u7801\u7247\u6bb5",id:"\u5229\u7528-codeblock-\u5c55\u793a\u4ee3\u7801\u7247\u6bb5",level:4},{value:"Live Code",id:"live-code",level:3},{value:"config",id:"config",level:4},{value:"use",id:"use",level:4},{value:"React component render code block",id:"react-component-render-code-block",level:3},{value:"React component render markdown",id:"react-component-render-markdown",level:3}],s={toc:p};function m(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,o.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"tricks"},"Tricks"),(0,r.kt)("h2",{id:"\u7ea6\u5b9a"},"\u7ea6\u5b9a"),(0,r.kt)("p",null,"\u4f4d\u4e8e ",(0,r.kt)("inlineCode",{parentName:"p"},"src/pages")," \u76ee\u5f55\u4e0b\u7684\u4ee5 ",(0,r.kt)("inlineCode",{parentName:"p"},".md"),", ",(0,r.kt)("inlineCode",{parentName:"p"},".mdx"),", \u6216\u8005 ",(0,r.kt)("inlineCode",{parentName:"p"},"tsx"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"jsx")," \u7ed3\u5c3e\u7684\u540e\u7f00\u540d\u9ed8\u8ba4\u4e3a\u4f1a\u751f\u6210\u9875\u9762. \u4f46\u662f\u5982\u679c\u6587\u4ef6\u540d\u4ee5 ",(0,r.kt)("inlineCode",{parentName:"p"},"_")," \u5f00\u5934\u5219\u4f1a\u88ab\u5ffd\u7565, \u6bd4\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},"src/pages/demo/_hello.tsx")," \u5c31\u4e0d\u4f1a\u88ab\u751f\u6210\u9875\u9762 ",(0,r.kt)("inlineCode",{parentName:"p"},"/demo/hello")," \u6216\u8005 ",(0,r.kt)("inlineCode",{parentName:"p"},"/demo/_hello"),". \u6240\u4ee5\u4e00\u822c partial markdown \u6216\u8005 code snippest, reac component \u6587\u4ef6\u91c7\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"_")," \u5f00\u5934."),(0,r.kt)("h2",{id:"tricks-1"},"Tricks"),(0,r.kt)("h3",{id:"\u521b\u5efa\u5e26\u6709\u6a21\u677f\u7684\u9875\u9762"},"\u521b\u5efa\u5e26\u6709\u6a21\u677f\u7684\u9875\u9762"),(0,r.kt)("p",null,"\u4e0b\u9762\u7684\u4ee3\u7801\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"Layout")," \u4f1a\u521b\u5efa\u4e00\u4e2a\u5e26\u6709\u516c\u5171\u5bfc\u822a\u548c\u5e95\u90e8\u4fe1\u606f\u7684\u9875\u9762."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/pages/page1.tsx"',title:'"src/pages/page1.tsx"'},"import React from 'react';\nimport Layout from '@theme/Layout';\nimport Head from '@docusaurus/Head';\n\nexport default function Index() {\n  return (\n    <Layout title='\u9996\u9875'>\n      <Head>\n        <meta />\n        <style> </style>\n      </Head>\n      <main className='container'>\n        \u8fd9\u91cc\u662f\u9875\u9762\u5185\u5bb9\n      </main>\n    </Layout>\n  );\n}\n")),(0,r.kt)("h3",{id:"markdown-import-react-component"},"Markdown import React component"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/markdown-features/react#importing-components"},"Markdown \u5bfc\u5165React\u7ec4\u4ef6")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-markdown",metastring:'title="blog/2022-01-01-blog-name.md"',title:'"blog/2022-01-01-blog-name.md"'},"# \u6807\u9898\n\n\x3c!-- Docusaurus \u539f\u751f\u7ec4\u4ef6 --\x3e\nimport TOCInline from '@theme/TOCInline';\n\x3c!-- \u7b2c\u4e09\u65b9\u7ec4\u4ef6 --\x3e\nimport Button from '@mui/material/Button';\n\x3c!-- \u8fd9\u4e2a\u662f\u81ea\u5b9a\u4e49\u7ec4\u4ef6 --\x3e\nimport BrowserWindow from '@site/src/components/BrowserWindow';\n\n## \u6807\u98982\n\n* \u5217\u88681\n* \u5217\u88682\n\n\u4e0b\u9762\u4f7f\u7528\u7ec4\u4ef6:\n\n<TOCInline />\n\n\u4f7f\u7528\u81ea\u5b9a\u4e49\u7ec4\u4ef6\n\n<BrowserWindow hello=\"world\" />\n")),(0,r.kt)("h3",{id:"register-global-component"},"Register global component"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/markdown-features/react#mdx-component-scope"},"\u5229\u7528 ",(0,r.kt)("inlineCode",{parentName:"a"},"MDXComponent")," \u6ce8\u518cMarkdown\u5168\u5c40\u7ec4\u4ef6"),":"),(0,r.kt)("p",null,"\u624b\u52a8\u521b\u5efa\u6587\u4ef6 ",(0,r.kt)("inlineCode",{parentName:"p"},"src/theme/MDXComponents.js")," \u6216\u8005 ",(0,r.kt)("inlineCode",{parentName:"p"},"src/theme/MDXComponents.tsx")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/theme/MDXComponents.tsx"',title:'"src/theme/MDXComponents.tsx"'},"import React from 'react';\nimport MDXComponents from '@theme-original/MDXComponents';\nimport { ResourceLink, GiteeImage, GitTalkComment, NetworkCopyRight } from \"../components/index\";\n\nexport default {\n    // Re-use the default mapping\n    ...MDXComponents,\n    ResourceLink: ResourceLink,\n    GiteeImage: GiteeImage,\n    GitTalkComment: GitTalkComment,\n    NetworkCopyRight: NetworkCopyRight\n    // Map the \"collapse-block\" tag to our <CollapseBlock /> component!\n    // `collapse-block` will receive all props that were passed to `collapse-block` in MDX\n    //   HandlerGetDataForAppEnv: HandlerGetDataForAppEnv\n};\n")),(0,r.kt)("p",null,"\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u5728\u4efb\u610fMarkdown\u6587\u4ef6\u65f6\u7528\u4e0a\u9762\u6ce8\u518c\u7684\u5168\u5c40\u7ec4\u4ef6, \u6bd4\u5982:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-markdown",metastring:'title="src/pages/hello.md"',title:'"src/pages/hello.md"'},'# title\n\n* list\n* list\n\n<ResourceLink link="xxxx" />\n')),(0,r.kt)("h3",{id:"importing-code-snippets"},"Importing code snippets"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/markdown-features/react#importing-code-snippets"},"\u5728markdown\u6216\u8005react\u9875\u9762\u91cc\u5bfc\u5165\u4ee3\u7801\u7247\u6bb5\u8fdb\u884c\u5c55\u793a"),":"),(0,r.kt)("h4",{id:"install"},"install"),(0,r.kt)("p",null,"\u5b89\u88c5 webpack raw-loader \u4f9d\u8d56:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install --save raw-loader\n")),(0,r.kt)("h4",{id:"\u5229\u7528-codeblock-\u5c55\u793a\u4ee3\u7801\u7247\u6bb5"},"\u5229\u7528 CodeBlock \u5c55\u793a\u4ee3\u7801\u7247\u6bb5"),(0,r.kt)("p",null,"\u4e0b\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u5728markdown\u548creact\u7ec4\u4ef6\u4e0a\u4f7f\u7528:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"import CodeBlock from '@theme/CodeBlock';\nimport MyComponentSource from '!!raw-loader!./myComponent';\n\n<CodeBlock language=\"jsx\">{MyComponentSource}</CodeBlock>\n")),(0,r.kt)("h3",{id:"live-code"},"Live Code"),(0,r.kt)("p",null,"\u5b89\u88c5\u63d2\u4ef6 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/facebook/docusaurus/tree/main/packages/docusaurus-theme-live-codeblock"},"Docusaurus Live Codeblock"),", \u53ef\u4ee5\u5728\u9875\u9762\u4e0a",(0,r.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/markdown-features/code-blocks#interactive-code-editor"},"\u76f4\u63a5\u6e32\u67d3jsx\u4ee3\u7801"),":"),(0,r.kt)("h4",{id:"config"},"config"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="\u5b89\u88c5\u4f9d\u8d56"',title:'"\u5b89\u88c5\u4f9d\u8d56"'},"npm i @docusaurus/theme-live-codeblock\n")),(0,r.kt)("p",null,"\u4fee\u6539\u6587\u4ef6 ",(0,r.kt)("inlineCode",{parentName:"p"},"docusaurus.config.js"),", \u65b0\u589e\u4ee5\u4e0b\u914d\u7f6e:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = {\n  ...\n+ themes: ['@docusaurus/theme-live-codeblock'],\n  presets: ['@docusaurus/preset-classic']\n  ...\n}\n")),(0,r.kt)("h4",{id:"use"},"use"),(0,r.kt)("p",null,"\u7ed9\u4ee3\u7801\u5757\u589e\u52a0 ",(0,r.kt)("inlineCode",{parentName:"p"},"live")," \u6807\u8bc6, \u7136\u540e\u4ee3\u7801\u5757\u751f\u6210\u4e00\u4e2a\u51fd\u6570, \u5e76\u8fd4\u56de jsx element \u5373\u53ef:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```jsx live\nfunction Clock(props) {\n  const [date, setDate] = useState(new Date());\n  useEffect(() => {\n    var timerID = setInterval(() => tick(), 1000);\n\n    return function cleanup() {\n      clearInterval(timerID);\n    };\n  });\n\n  function tick() {\n    setDate(new Date());\n  }\n\n  return (\n    <div>\n      <h2>It is {date.toLocaleTimeString()}.</h2>\n    </div>\n  );\n}\n```\n")),(0,r.kt)("p",null,"\u9664\u4e86\u4e0a\u9762\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\u7684\u65b9\u5f0f, live code \u8fd8\u652f\u6301\u624b\u52a8\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"render")," \u65b9\u6cd5\u6e32\u67d3:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'```jsx live noInline\nconst project = "Docusaurus";\n\nconst Greeting = () => <p>Helloe {project}!</p>;\n\nrender(<Greeting />)\n```\n')),(0,r.kt)("p",null,"\u4e5f\u53ef\u4ee5\u5728 live code \u4e2d\u6ce8\u518c\u5168\u5c40\u7ec4\u4ef6, \u65b9\u4fbf live code \u4f7f\u7528:"),(0,r.kt)("p",null,"\u6267\u884c ",(0,r.kt)("inlineCode",{parentName:"p"},"npm run swizzle @docusaurus/theme-live-codeblock ReactLiveScope -- --eject"),", \u7136\u540e\u4fee\u6539\u6587\u4ef6 ",(0,r.kt)("inlineCode",{parentName:"p"},"src/theme/ReactLiveScope/index.js"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import React from 'react';\n\nconst ButtonExample = (props) => (\n  <button\n    {...props}\n    style={{\n      backgroundColor: 'white',\n      color: 'black',\n      border: 'solid red',\n      borderRadius: 20,\n      padding: 10,\n      cursor: 'pointer',\n      ...props.style,\n    }}\n  />\n);\n\n// Add react-live imports you need here\nconst ReactLiveScope = {\n  React,\n  ...React,\n  ButtonExample, // \u8fd9\u4e2a\u5c31\u662f\u81ea\u5b9a\u4e49\u7684\u5168\u5c40\u7ec4\u4ef6\n};\n\nexport default ReactLiveScope;\n")),(0,r.kt)("p",null,"\u7136\u540e live code \u91cc\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"<ButtonExample />")," \u8fd9\u4e2a\u7ec4\u4ef6\u4e86.(\u65e0\u9700import\u5bfc\u5165)"),(0,r.kt)("h3",{id:"react-component-render-code-block"},"React component render code block"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/markdown-features/code-blocks#usage-in-jsx"},"\u5728React\u7ec4\u4ef6\u6216\u8005\u9875\u9762\u91cc\u6e32\u67d3\u4ee3\u7801\u5757"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/pages/hello.jsx"',title:'"src/pages/hello.jsx"'},'import CodeBlock from \'@theme/CodeBlock\';\n\nexport default function MyReactPage() {\n  return (\n    <div>\n      <CodeBlock\n        language="jsx"\n        title="/src/components/HelloCodeTitle.js"\n        showLineNumbers>\n        {`function HelloCodeTitle(props) {\n  return <h1>Hello, {props.name}</h1>;\n}`}\n      </CodeBlock>\n    </div>\n  );\n}\n')),(0,r.kt)("p",null,"\u4e0a\u9762\u751f\u6210\u4ee3\u7801\u5757\u4ec5\u80fd\u5c55\u793a, \u65e0\u6cd5\u6e32\u67d3, \u4e0b\u9762\u662f live code block \u793a\u4f8b, \u4e3b\u8981\u533a\u522b\u662f\u628a ",(0,r.kt)("inlineCode",{parentName:"p"},"@theme/CodeBlock")," \u6362\u6210\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"@docusaurus/theme-live-codeblock/lib/theme/CodeBlock"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import React from 'react';\nimport Layout from '@theme/Layout';\nimport CodeBlock  from \"@docusaurus/theme-live-codeblock/lib/theme/CodeBlock\";\n\nexport default function Index() {\n  return (\n    <Layout title='\u9996\u9875'>\n      <main className='container'>\n        <CodeBlock showLineNumbers live >\n          {`\n          function render(){\n            return (<div>hello</div>);\n          }\n          `}\n        </CodeBlock>\n      </main>\n    </Layout>\n  );\n}\n")),(0,r.kt)("h3",{id:"react-component-render-markdown"},"React component render markdown"),(0,r.kt)("p",null,"React \u7ec4\u4ef6\u6216\u8005\u9875\u9762\u5229\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"@theme/MDXContent")," \u539f\u751f\u7ec4\u4ef6\u53ef\u4ee5\u6e32\u67d3 Markdown \u5185\u5bb9:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u521b\u5efa\u4e00\u4e2amarkdown\u4ee3\u7801\u7247\u6bb5")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-markdown",metastring:'title="src/pages/demo/_hello.md"',title:'"src/pages/demo/_hello.md"'},"**\u8fd9\u91cc\u662f markdown \u6587\u4ef6\u5185\u5bb9**\n*hello*\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u5728React\u9875\u9762\u6216\u8005\u7ec4\u4ef6\u4f7f\u7528")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/demo/index.tsx"',title:'"src/pages/demo/index.tsx"'},"import React from 'react';\nimport Layout from '@theme/Layout';\nimport Intro from \"./_intro.md\";\nimport MDXContent from '@theme/MDXContent';\n\nexport default function Index() {\n  return (\n    <Layout title='\u6f14\u793a\u9875\u9762'>\n      <main className='container'>\n        <MDXContent>\n          <Intro />\n        </MDXContent>\n      </main>\n    </Layout>\n  );\n}\n")))}m.isMDXComponent=!0}}]);