"use strict";(self.webpackChunkalan_blog=self.webpackChunkalan_blog||[]).push([[11477],{30010:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"/2022/11/13/google-cn-resources","metadata":{"permalink":"/blog/2022/11/13/google-cn-resources","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-11-13-google-cn-resources.md","source":"@site/src/blog/2022-11-13-google-cn-resources.md","title":"google.cn \u8d44\u6e90\u6574\u7406","description":"* Google Developers","date":"2022-11-13T00:00:00.000Z","formattedDate":"November 13, 2022","tags":[{"label":"google","permalink":"/blog/tags/google"}],"readingTime":0.085,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of the Blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png","key":"alan"}],"frontMatter":{"title":"google.cn \u8d44\u6e90\u6574\u7406","authors":["alan"],"tags":["google"],"draft":false,"hide_table_of_contents":false},"nextItem":{"title":"\u89e3\u51b3nuxt\u4f9d\u8d56Node\u539f\u751f\u6a21\u5757\u5bfc\u81f4\u6784\u5efa\u5931\u8d25\u95ee\u9898","permalink":"/blog/2022/09/04/fix-nuxt-node-fs-resolver-problem"}},"content":"\x3c!--truncate--\x3e\\n\\n* [Google Developers](https://developers.google.cn/)\\n* Chrome\u4e0b\u8f7d\u5730\u5740\\n  * [Chrome](https://www.google.cn/intl/en_us/chrome/)\\n  * [Chrome beta](https://www.google.cn/intl/en_us/chrome/beta/)\\n* [Android Developer](https://developer.android.google.cn/)"},{"id":"/2022/09/04/fix-nuxt-node-fs-resolver-problem","metadata":{"permalink":"/blog/2022/09/04/fix-nuxt-node-fs-resolver-problem","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-09-04-fix-nuxt-node-fs-resolver-problem.md","source":"@site/src/blog/2022-09-04-fix-nuxt-node-fs-resolver-problem.md","title":"\u89e3\u51b3nuxt\u4f9d\u8d56Node\u539f\u751f\u6a21\u5757\u5bfc\u81f4\u6784\u5efa\u5931\u8d25\u95ee\u9898","description":"\u63cf\u8ff0\u4fe1\u606f\uff0c\u9ed8\u8ba4\u4e3a\u6587\u7ae0\u7b2c\u4e00\u6bb5","date":"2022-09-04T00:00:00.000Z","formattedDate":"September 4, 2022","tags":[{"label":"nuxt","permalink":"/blog/tags/nuxt"},{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":0.325,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u89e3\u51b3nuxt\u4f9d\u8d56Node\u539f\u751f\u6a21\u5757\u5bfc\u81f4\u6784\u5efa\u5931\u8d25\u95ee\u9898","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["nuxt","javascript"],"description":"\u63cf\u8ff0\u4fe1\u606f\uff0c\u9ed8\u8ba4\u4e3a\u6587\u7ae0\u7b2c\u4e00\u6bb5","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"google.cn \u8d44\u6e90\u6574\u7406","permalink":"/blog/2022/11/13/google-cn-resources"},"nextItem":{"title":"Caching Tutorial for Web Authors and Webmasters","permalink":"/blog/2022/08/21/cache-docs"}},"content":"\u4fee\u6539 `nuxt.config.js` \u4e2d\u7684 webpack \u914d\u7f6e:\\n\\n\x3c!--truncate--\x3e\\n```javascript title=\\"nuxt.config.js\\"\\nexport default {\\n  // ... \u5176\u4ed6\u914d\u7f6e\\n  // Build Configuration: https://go.nuxtjs.dev/config-build\\n  build: {\\n    extend(config) {\\n      // #region \u89e3\u51b3\u65e5\u5fd7\u6a21\u5757fs\u4f9d\u8d56\u95ee\u9898\\n      /**\\n       * ref: https://stackoverflow.com/questions/40959835/webpack-express-cannot-resolve-module-fs-request-dependency-is-expression#40998972\\n       * ref: https://blog.csdn.net/guyue_01/article/details/125298203\\n       * ref: https://maikelveen.com/blog/how-to-solve-module-not-found-cant-resolve-fs-in-nextjs\\n       */\\n      if (!config.node) {\\n        config.node = {};\\n      }\\n      config.node.fs = \\"empty\\";\\n      // #endregion\\n    }\\n  }\\n}\\n```"},{"id":"/2022/08/21/cache-docs","metadata":{"permalink":"/blog/2022/08/21/cache-docs","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-08-21-cache-docs.md","source":"@site/src/blog/2022-08-21-cache-docs.md","title":"Caching Tutorial for Web Authors and Webmasters","description":"\u539f\u6587 Caching Tutorial for Web Authors and Webmasters","date":"2022-08-21T00:00:00.000Z","formattedDate":"August 21, 2022","tags":[{"label":"HTTP","permalink":"/blog/tags/http"},{"label":"Cache","permalink":"/blog/tags/cache"},{"label":"CDN","permalink":"/blog/tags/cdn"}],"readingTime":32.11,"hasTruncateMarker":true,"authors":[{"name":"Mark Nottingham"}],"frontMatter":{"title":"Caching Tutorial for Web Authors and Webmasters","author":"Mark Nottingham","tags":["HTTP","Cache","CDN"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3nuxt\u4f9d\u8d56Node\u539f\u751f\u6a21\u5757\u5bfc\u81f4\u6784\u5efa\u5931\u8d25\u95ee\u9898","permalink":"/blog/2022/09/04/fix-nuxt-node-fs-resolver-problem"},"nextItem":{"title":"GraphQL \u9879\u76ee\u642d\u5efa","permalink":"/blog/2022/07/21/graphql-intro"}},"content":"[\u539f\u6587 Caching Tutorial for Web Authors and Webmasters](https://www.mnot.net/cache_docs/)\\n\\nThis is an informational document. Although technical in nature, it attempts to make the concepts involved understandable and applicable in real-world situations. Because of this, some aspects of the material are simplified or omitted, for the sake of clarity. If you are interested in the minutia of the subject, please explore the [References and Further Information](https://www.mnot.net/cache_docs/#REF) at the end.\\n\\n\x3c!--truncate--\x3e\\n\\n## What\u2019s a Web Cache? Why do people use them?\\n\\nA Web cache sits between one or more Web servers (also known as *origin servers*) and a client or many clients, and watches requests come by, saving copies of the responses \u2014 like HTML pages, images and files (collectively known as *representations*) \u2014 for itself. Then, if there is another request for the same URL, it can use the response that it has, instead of asking the origin server for it again.\\n\\nThere are two main reasons that Web caches are used:\\n\\n* To **reduce latency** \u2014 Because the request is satisfied from the cache (which is closer to the client) instead of the origin server, it takes less time for it to get the representation and display it. This makes the Web seem more responsive.\\n* **To reduce network traffic** \u2014 Because representations are reused, it reduces the amount of bandwidth used by a client. This saves money if the client is paying for traffic, and keeps their bandwidth requirements lower and more manageable.\\n\\n## Kinds of Web Caches\\n\\n### Browser Caches\\n\\nIf you examine the preferences dialog of any modern Web browser (like Internet Explorer, Safari or Mozilla), you\u2019ll probably notice a \u201ccache\u201d setting. This lets you set aside a section of your computer\u2019s hard disk to store representations that you\u2019ve seen, just for you. The browser cache works according to fairly simple rules. It will check to make sure that the representations are fresh, usually once a session (that is, the once in the current invocation of the browser).\\n\\nThis cache is especially useful when users hit the \u201cback\u201d button or click a link to see a page they\u2019ve just looked at. Also, if you use the same navigation images throughout your site, they\u2019ll be served from browsers\u2019 caches almost instantaneously.\\n\\n### Proxy Caches\\n\\nWeb proxy caches work on the same principle, but a much larger scale. Proxies serve hundreds or thousands of users in the same way; large corporations and ISPs often set them up on their firewalls, or as standalone devices (also known as *intermediaries*).\\n\\nBecause proxy caches aren\u2019t part of the client or the origin server, but instead are out on the network, requests have to be routed to them somehow. One way to do this is to use your browser\u2019s proxy setting to manually tell it what proxy to use; another is using interception. Interception proxies have Web requests redirected to them by the underlying network itself, so that clients don\u2019t need to be configured for them, or even know about them.\\n\\nProxy caches are a type of shared cache; rather than just having one person using them, they usually have a large number of users, and because of this they are very good at reducing latency and network traffic. That\u2019s because popular representations are reused a number of times.\\n\\n### Gateway Caches\\n\\nAlso known as \u201creverse proxy caches\u201d or \u201csurrogate caches,\u201d gateway caches are also intermediaries, but instead of being deployed by network administrators to save bandwidth, they\u2019re typically deployed by Webmasters themselves, to make their sites more scalable, reliable and better performing.\\n\\nRequests can be routed to gateway caches by a number of methods, but typically some form of load balancer is used to make one or more of them look like the origin server to clients.\\n\\nContent delivery networks (CDNs) distribute gateway caches throughout the Internet (or a part of it) and sell caching to interested Web sites. Speedera and Akamai are examples of CDNs.\\n\\nThis tutorial focuses mostly on browser and proxy caches, although some of the information is suitable for those interested in gateway caches as well.\\n\\n## Aren\u2019t Web Caches bad for me? Why should I help them?\\n\\nWeb caching is one of the most misunderstood technologies on the Internet. Webmasters in particular fear losing control of their site, because a proxy cache can \u201chide\u201d their users from them, making it difficult to see who\u2019s using the site.\\n\\nUnfortunately for them, even if Web caches didn\u2019t exist, there are too many variables on the Internet to assure that they\u2019ll be able to get an accurate picture of how users see their site. If this is a big concern for you, this tutorial will teach you how to get the statistics you need without making your site cache-unfriendly.\\n\\nAnother concern is that caches can serve content that is out of date, or stale. However, this tutorial can show you how to configure your server to control how your content is cached.\\n\\n> CDNs are an interesting development, because unlike many proxy caches, their gateway caches are aligned with the interests of the Web site being cached, so that these problems aren\u2019t seen. However, even when you use a CDN, you still have to consider that there will be proxy and browser caches downstream.\\n\\nOn the other hand, if you plan your site well, caches can help your Web site load faster, and save load on your server and Internet link. The difference can be dramatic; a site that is difficult to cache may take several seconds to load, while one that takes advantage of caching can seem instantaneous in comparison. Users will appreciate a fast-loading site, and will visit more often.\\n\\nThink of it this way; many large Internet companies are spending millions of dollars setting up farms of servers around the world to replicate their content, in order to make it as fast to access as possible for their users. Caches do the same for you, and they\u2019re even closer to the end user. Best of all, you don\u2019t have to pay for them.\\n\\nThe fact is that proxy and browser caches will be used whether you like it or not. If you don\u2019t configure your site to be cached correctly, it will be cached using whatever defaults the cache\u2019s administrator decides upon.\\n\\n## How Web Caches Work\\n\\nAll caches have a set of rules that they use to determine when to serve a representation from the cache, if it\u2019s available. Some of these rules are set in the protocols (HTTP 1.0 and 1.1), and some are set by the administrator of the cache (either the user of the browser cache, or the proxy administrator).\\n\\nGenerally speaking, these are the most common rules that are followed (don\u2019t worry if you don\u2019t understand the details, it will be explained below):\\n\\n* If the response\u2019s headers tell the cache not to keep it, it won\u2019t.\\n* If the request is authenticated or secure (i.e., HTTPS), it won\u2019t be cached by shared caches.\\n* A cached representation is considered fresh (that is, able to be sent to a client without checking with the origin server) if:\\n  * It has an expiry time or other age-controlling header set, and is still within the fresh period, or\\n  * If the cache has seen the representation recently, and it was modified relatively long ago.\\n  * Fresh representations are served directly from the cache, without checking with the origin server.\\n* If a representation is stale, the origin server will be asked to validate it, or tell the cache whether the copy that it has is still good.\\n* Under certain circumstances \u2014 for example, when it\u2019s disconnected from a network \u2014 a cache can serve stale responses without checking with the origin server.\\n\\nIf no validator (an `ETag` or `Last-Modified` header) is present on a response, *and* it doesn\'t have any explicit freshness information, it will usually \u2014 but not always \u2014 be considered uncacheable.\\n\\nTogether, freshness and validation are the most important ways that a cache works with content. A fresh representation will be available instantly from the cache, while a validated representation will avoid sending the entire representation over again if it hasn\u2019t changed.\\n\\n## How (and how not) to Control Caches\\n\\nThere are several tools that Web designers and Webmasters can use to fine-tune how caches will treat their sites. It may require getting your hands a little dirty with your server\u2019s configuration, but the results are worth it. For details on how to use these tools with your server, see the [Implementation](https://www.mnot.net/cache_docs/#IMP-SERVER) sections below.\\n\\n## HTML Meta Tags and HTTP Headers\\n\\nHTML authors can put tags in a document\u2019s `<HEAD>` section that describe its attributes. These *meta tags* are often used in the belief that they can mark a document as uncacheable, or expire it at a certain time.\\n\\nMeta tags are easy to use, but aren\u2019t very effective. That\u2019s because they\u2019re only honored by a few browser caches, not proxy caches (which almost never read the HTML in the document). While it may be tempting to put a Pragma: no-cache meta tag into a Web page, it won\u2019t necessarily cause it to be kept fresh.\\n\\n> If your site is hosted at an ISP or hosting farm and they don\u2019t give you the ability to set arbitrary HTTP headers (like `Expires` and `Cache-Control`), complain loudly; these are tools necessary for doing your job.\\n\\nOn the other hand, true *HTTP* headers give you a lot of control over how both browser caches and proxies handle your representations. They can\u2019t be seen in the HTML, and are usually automatically generated by the Web server. However, you can control them to some degree, depending on the server you use. In the following sections, you\u2019ll see what HTTP headers are interesting, and how to apply them to your site.\\n\\nHTTP headers are sent by the server before the HTML, and only seen by the browser and any intermediate caches. Typical HTTP 1.1 response headers might look like this:\\n\\n```\\nHTTP/1.1 200 OK\\nDate: Fri, 30 Oct 1998 13:19:41 GMT\\nServer: Apache/1.3.3 (Unix)\\nCache-Control: max-age=3600, must-revalidate\\nExpires: Fri, 30 Oct 1998 14:19:41 GMT\\nLast-Modified: Mon, 29 Jun 1998 02:28:12 GMT\\nETag: \\"3e86-410-3596fbbc\\"\\nContent-Length: 1040\\nContent-Type: text/html\\n```\\n\\nThe HTML would follow these headers, separated by a blank line. See the [Implementation](https://www.mnot.net/cache_docs/#IMP-SERVER) sections for information about how to set HTTP headers.\\n\\n## Pragma HTTP Headers (and why they don\u2019t work)\\n\\nMany people believe that assigning a Pragma: no-cache HTTP header to a representation will make it uncacheable. This is not necessarily true; the HTTP specification does not set any guidelines for Pragma response headers; instead, Pragma request headers (the headers that a browser sends to a server) are discussed. Although a few caches may honor this header, the majority won\u2019t, and it won\u2019t have any effect. Use the headers below instead.\\n\\n## Controlling Freshness with the Expires HTTP Header\\n\\nThe Expires HTTP header is a basic means of controlling caches; it tells all caches how long the associated representation is fresh for. After that time, caches will always check back with the origin server to see if a document is changed. Expires headers are supported by practically every cache.\\n\\nMost Web servers allow you to set Expires response headers in a number of ways. Commonly, they will allow setting an absolute time to expire, a time based on the last time that the client retrieved the representation (last access time), or a time based on the last time the document changed on your server (last *modification time*).\\n\\nExpires headers are especially good for making static images (like navigation bars and buttons) cacheable. Because they don\u2019t change much, you can set extremely long expiry time on them, making your site appear much more responsive to your users. They\u2019re also useful for controlling caching of a page that is regularly changed. For instance, if you update a news page once a day at 6am, you can set the representation to expire at that time, so caches will know when to get a fresh copy, without users having to hit \u2018reload\u2019.\\n\\nThe **only** value valid in an Expires header is a HTTP date; anything else will most likely be interpreted as \u2018in the past\u2019, so that the representation is uncacheable. Also, remember that the time in a HTTP date is Greenwich Mean Time (GMT), not local time.\\n\\nFor example:\\n```\\nExpires: Fri, 30 Oct 1998 14:19:41 GMT\\n```\\n\\n> It\u2019s important to make sure that your Web server\u2019s clock is accurate if you use the `Expires` header. One way to do this is using the [Network Time Protocol](http://www.ntp.org/) (NTP); talk to your local system administrator to find out more.\\n\\nAlthough the `Expires` header is useful, it has some limitations. First, because there\u2019s a date involved, the clocks on the Web server and the cache must be synchronised; if they have a different idea of the time, the intended results won\u2019t be achieved, and caches might wrongly consider stale content as fresh.\\n\\nAnother problem with `Expires` is that it\u2019s easy to forget that you\u2019ve set some content to expire at a particular time. If you don\u2019t update an `Expires` time before it passes, each and every request will go back to your Web server, increasing load and latency.\\n\\n## Cache-Control HTTP Headers\\n\\nHTTP 1.1 introduced a new class of headers, Cache-Control response headers, to give Web publishers more control over their content, and to address the limitations of Expires.\\n\\nUseful `Cache-Control` response headers include:\\n\\n * `max-age=`[seconds] \u2014 specifies the maximum amount of time that a representation will be considered fresh. Similar to `Expires`, this directive is relative to the time of the request, rather than absolute. `[seconds]` is the number of seconds from the time of the request you wish the representation to be fresh for.\\n* `s-maxage=`[seconds] \u2014 similar to `max-age`, except that it only applies to shared (e.g., proxy) caches.\\n* `public` \u2014 marks authenticated responses as cacheable; normally, if HTTP authentication is required, responses are automatically private.\\n* `private` \u2014 allows caches that are specific to one user (e.g., in a browser) to store the response; shared caches (e.g., in a proxy) may not.\\n* `no-cache` \u2014 forces caches to submit the request to the origin server for validation before releasing a cached copy, every time. This is useful to assure that authentication is respected (in combination with public), or to maintain rigid freshness, without sacrificing all of the benefits of caching.\\n* `no-store` \u2014 instructs caches not to keep a copy of the representation under any conditions.\\n* `must-revalidate` \u2014 tells caches that they must obey any freshness information you give them about a representation. HTTP allows caches to serve stale representations under special conditions; by specifying this header, you\u2019re telling the cache that you want it to strictly follow your rules.\\n* `proxy-revalidate` \u2014 similar to `must-revalidate`, except that it only applies to proxy caches.\\n\\nFor example:\\n\\n```\\nCache-Control: max-age=3600, must-revalidate\\n```\\n\\nWhen both `Cache-Control` and `Expires` are present, `Cache-Control` takes precedence. If you plan to use the `Cache-Control` headers, you should have a look at the excellent documentation in HTTP 1.1; see [References and Further Information](https://www.mnot.net/cache_docs/#REF).\\n\\n## Validators and Validation\\n\\nIn [How Web Caches Work](https://www.mnot.net/cache_docs/#WORK), we said that validation is used by servers and caches to communicate when a representation has changed. By using it, caches avoid having to download the entire representation when they already have a copy locally, but they\u2019re not sure if it\u2019s still fresh.\\n\\nValidators are very important; if one isn\u2019t present, and there isn\u2019t any freshness information (`Expires` or `Cache-Control`) available, caches will not store a representation at all.\\n\\nThe most common validator is the time that the document last changed, as communicated in `Last-Modified` header. When a cache has a representation stored that includes a `Last-Modified` header, it can use it to ask the server if the representation has changed since the last time it was seen, with an `If-Modified-Since` request.\\n\\nHTTP 1.1 introduced a new kind of validator called the `ETag`. ETags are unique identifiers that are generated by the server and changed every time the representation does. Because the server controls how the ETag is generated, caches can be sure that if the ETag matches when they make a `If-None-Match` request, the representation really is the same.\\n\\nAlmost all caches use Last-Modified times as validators; ETag validation is also becoming prevalent.\\n\\nMost modern Web servers will generate both `ETag` and `Last-Modified` headers to use as validators for static content (i.e., files) automatically; you won\u2019t have to do anything. However, they don\u2019t know enough about dynamic content (like CGI, ASP or database sites) to generate them; see [Writing Cache-Aware Scripts](https://www.mnot.net/cache_docs/#SCRIPT).\\n\\n## Tips for Building a Cache-Aware Site\\n\\nBesides using freshness information and validation, there are a number of other things you can do to make your site more cache-friendly.\\n\\n* Use URLs consistently \u2014 this is the golden rule of caching. If you serve the same content on different pages, to different users, or from different sites, it should use the same URL. This is the easiest and most effective way to make your site cache-friendly. For example, if you use \u201c/index.html\u201d in your HTML as a reference once, always use it that way.\\n* Use a common library of images and other elements and refer back to them from different places.\\n* Make caches store images and pages that don\u2019t change often by using a Cache-Control: max-age header with a large value.\\n* Make caches recognise regularly updated pages by specifying an appropriate max-age or expiration time.\\n* If a resource (especially a downloadable file) changes, change its name. That way, you can make it expire far in the future, and still guarantee that the correct version is served; the page that links to it is the only one that will need a short expiry time.\\n* Don\u2019t change files unnecessarily. If you do, everything will have a falsely young Last-Modified date. For instance, when updating your site, don\u2019t copy over the entire site; just move the files that you\u2019ve changed.\\n* Use cookies only where necessary \u2014 cookies are difficult to cache, and aren\u2019t needed in most situations. If you must use a cookie, limit its use to dynamic pages.\\n* Check your pages with [REDbot](https://redbot.org/) \u2014 it can help you apply many of the concepts in this tutorial.\\n\\n## Writing Cache-Aware Scripts\\n\\nBy default, most scripts won\u2019t return a validator (a `Last-Modified` or `ETag` response header) or freshness information (`Expires` or `Cache-Control`). While some scripts really are dynamic (meaning that they return a different response for every request), many (like search engines and database-driven sites) can benefit from being cache-friendly.\\n\\nGenerally speaking, if a script produces output that is reproducible with the same request at a later time (whether it be minutes or days later), it should be cacheable. If the content of the script changes only depending on what\u2019s in the URL, it is cacheable; if the output depends on a cookie, authentication information or other external criteria, it probably isn\u2019t.\\n\\n* The best way to make a script cache-friendly (as well as perform better) is to dump its content to a plain file whenever it changes. The Web server can then treat it like any other Web page, generating and using validators, which makes your life easier. Remember to only write files that have changed, so the `Last-Modified` times are preserved.\\n* Another way to make a script cacheable in a limited fashion is to set an age-related header for as far in the future as practical. Although this can be done with `Expires`, it\u2019s probably easiest to do so with `Cache-Control: max-age`, which will make the request fresh for an amount of time after the request.\\n* If you can\u2019t do that, you\u2019ll need to make the script generate a validator, and then respond to `If-Modified-Since` and/or `If-None-Match` requests. This can be done by parsing the HTTP headers, and then responding with `304 Not Modified` when appropriate. Unfortunately, this is not a trival task.\\n\\nSome other tips;\\n\\n* **Don\u2019t use POST** unless it\u2019s appropriate. Responses to the POST method aren\u2019t kept by most caches; if you send information in the path or query (via GET), caches can store that information for the future.\\n* **Don\u2019t embed user-specific information in the URL** unless the content generated is completely unique to that user.\\n* **Don\u2019t count on all requests from a user coming from the same host**, because caches often work together.\\n* **Generate `Content-Length` response headers**. It\u2019s easy to do, and it will allow the response of your script to be used in a *persistent connection*. This allows clients to request multiple representations on one TCP/IP connection, instead of setting up a connection for every request. It makes your site seem much faster.\\n\\nSee the [Implementation Notes](https://www.mnot.net/cache_docs/#IMP-SCRIPT) for more specific information.\\n\\n## Frequently Asked Questions\\n\\n### What are the most important things to make cacheable?\\n\\nA good strategy is to identify the most popular, largest representations (especially images) and work with them first.\\n\\n### How can I make my pages as fast as possible with caches?\\n\\nThe most cacheable representation is one with a long freshness time set. Validation does help reduce the time that it takes to see a representation, but the cache still has to contact the origin server to see if it\u2019s fresh. If the cache already knows it\u2019s fresh, it will be served directly.\\n\\n### I understand that caching is good, but I need to keep statistics on how many people visit my page!\\n\\nIf you must know every time a page is accessed, select ONE small item on a page (or the page itself), and make it uncacheable, by giving it a suitable headers. For example, you could refer to a 1x1 transparent uncacheable image from each page. The Referer header will contain information about what page called it.\\n\\nBe aware that even this will not give truly accurate statistics about your users, and is unfriendly to the Internet and your users; it generates unnecessary traffic, and forces people to wait for that uncached item to be downloaded. For more information about this, see On Interpreting Access Statistics in the [references](https://www.mnot.net/cache_docs/#REF).\\n\\n### How can I see a representation\u2019s HTTP headers?\\n\\nMany Web browsers let you see the `Expires` and `Last-Modified` headers are in a \u201cpage info\u201d or similar interface. If available, this will give you a menu of the page and any representations (like images) associated with it, along with their details.\\n\\nTo see the full headers of a representation, you can manually connect to the Web server using a Telnet client.\\n\\nTo do so, you may need to type the port (be default, 80) into a separate field, or you may need to connect to `www.example.com:80` or `www.example.com 80` (note the space). Consult your Telnet client\u2019s documentation.\\n\\nOnce you\u2019ve opened a connection to the site, type a request for the representation. For instance, if you want to see the headers for http://www.example.com/foo.html, connect to www.example.com, port 80, and type:\\n\\n```\\nGET /foo.html HTTP/1.1 [return]\\nHost: www.example.com [return][return]\\n```\\n\\nPress the Return key every time you see `[return];` make sure to press it twice at the end. This will print the headers, and then the full representation. To see the headers only, substitute HEAD for GET.\\n\\n### My pages are password-protected; how do proxy caches deal with them?\\n\\nBy default, pages protected with HTTP authentication are considered private; they will not be kept by shared caches. However, you can make authenticated pages public with a Cache-Control: public header; HTTP 1.1-compliant caches will then allow them to be cached.\\n\\nIf you\u2019d like such pages to be cacheable, but still authenticated for every user, combine the `Cache-Control: public` and `no-cache` headers. This tells the cache that it must submit the new client\u2019s authentication information to the origin server before releasing the representation from the cache. This would look like:\\n\\n```\\nCache-Control: public, no-cache\\n```\\n\\nWhether or not this is done, it\u2019s best to minimize use of authentication; for example, if your images are not sensitive, put them in a separate directory and configure your server not to force authentication for it. That way, those images will be naturally cacheable.\\n\\n### Should I worry about security if people access my site through a cache?\\n\\n`https://` pages are not cached (or decrypted) by proxy caches, so you don\u2019t have to worry about that. However, because caches store `http:// `responses and URLs fetched through them, you should be conscious about unsecured sites; an unscrupulous administrator could conceivably gather information about their users, especially in the URL.\\n\\nIn fact, any administrator on the network between your server and your clients could gather this type of information. One particular problem is when CGI scripts put usernames and passwords in the URL itself; this makes it trivial for others to find and use their login.\\n\\nIf you\u2019re aware of the issues surrounding Web security in general, you shouldn\u2019t have any surprises from proxy caches.\\n\\n### I\u2019m looking for an integrated Web publishing solution. Which ones are cache-aware?\\n\\nIt varies. Generally speaking, the more complex a solution is, the more difficult it is to cache. The worst are ones which dynamically generate all content and don\u2019t provide validators; they may not be cacheable at all. Speak with your vendor\u2019s technical staff for more information, and see the Implementation notes below.\\n\\n### My images expire a month from now, but I need to change them in the caches now!\\n\\nThe Expires header can\u2019t be circumvented; unless the cache (either browser or proxy) runs out of room and has to delete the representations, the cached copy will be used until then.\\n\\nThe most effective solution is to change any links to them; that way, completely new representations will be loaded fresh from the origin server. Remember that any page that refers to these representations will be cached as well. Because of this, it\u2019s best to make static images and similar representations very cacheable, while keeping the HTML pages that refer to them on a tight leash.\\n\\nIf you want to reload a representation from a specific cache, you can either force a reload (in Firefox, holding down shift while pressing \u2018reload\u2019 will do this by issuing a Pragma: no-cache request header) while using the cache. Or, you can have the cache administrator delete the representation through their interface.\\n\\n### I run a Web Hosting service. How can I let my users publish cache-friendly pages?\\n\\nIf you\u2019re using Apache, consider allowing them to use .htaccess files and providing appropriate documentation.\\n\\nOtherwise, you can establish predetermined areas for various caching attributes in each virtual server. For instance, you could specify a directory /cache-1m that will be cached for one month after access, and a /no-cache area that will be served with headers instructing caches not to store representations from it.\\n\\nWhatever you are able to do, it is best to work with your largest customers first on caching. Most of the savings (in bandwidth and in load on your servers) will be realized from high-volume sites.\\nI\u2019ve marked my pages as cacheable, but my browser keeps requesting them on every request. How do I force the cache to keep representations of them?\\n\\nCaches aren\u2019t required to keep a representation and reuse it; they\u2019re only required to not keep or use them under some conditions. All caches make decisions about which representations to keep based upon their size, type (e.g., image vs. html), or by how much space they have left to keep local copies. Yours may not be considered worth keeping around, compared to more popular or larger representations.\\n\\nSome caches do allow their administrators to prioritize what kinds of representations are kept, and some allow representations to be \u201cpinned\u201d in cache, so that they\u2019re always available.\\n\\n### Implementation Notes \u2014 Web Servers\\n\\nGenerally speaking, it\u2019s best to use the latest version of whatever Web server you\u2019ve chosen to deploy. Not only will they likely contain more cache-friendly features, new versions also usually have important security and performance improvements.\\n\\n### Apache HTTP Server\\n\\nApache uses optional modules to include headers, including both Expires and Cache-Control. Both modules are available in the 1.2 or greater distribution.\\n\\nThe modules need to be built into Apache; although they are included in the distribution, they are not turned on by default. To find out if the modules are enabled in your server, find the httpd binary and run httpd -l; this should print a list of the available modules (note that this only lists compiled-in modules; on later versions of Apache, use httpd -M to include dynamically loaded modules as well). The modules we\u2019re looking for are expires_module and headers_module.\\n\\n* If they aren\u2019t available, and you have administrative access, you can recompile Apache to include them. This can be done either by uncommenting the appropriate lines in the Configuration file, or using the `-enable-module=expires` and -enable-module=headers arguments to configure (1.3 or greater). Consult the INSTALL file found with the Apache distribution.\\n\\nOnce you have an Apache with the appropriate modules, you can use mod_expires to specify when representations should expire, either in .htaccess files or in the server\u2019s access.conf file. You can specify expiry from either access or modification time, and apply it to a file type or as a default. See the module documentation for more information, and speak with your local Apache guru if you have trouble.\\n\\nTo apply Cache-Control headers, you\u2019ll need to use the mod_headers module, which allows you to specify arbitrary HTTP headers for a resource. See the [mod_headers documentation](http://www.apache.org/docs/mod/mod_expires.html).\\n\\nHere\u2019s an example .htaccess file that demonstrates the use of some headers.\\n\\n* `.htaccess` files allow web publishers to use commands normally only found in configuration files. They affect the content of the directory they\u2019re in and their subdirectories. Talk to your server administrator to find out if they\u2019re enabled.\\n\\n```\\n### activate mod_expires\\nExpiresActive On\\n### Expire .gif\'s 1 month from when they\'re accessed\\nExpiresByType image/gif A2592000\\n### Expire everything else 1 day from when it\'s last modified\\n### (this uses the Alternative syntax)\\nExpiresDefault \\"modification plus 1 day\\"\\n### Apply a Cache-Control header to index.html\\n<Files index.html>\\nHeader append Cache-Control \\"public, must-revalidate\\"\\n</Files>\\n```\\n\\n* Note that mod_expires automatically calculates and inserts a `Cache-Control:max-age` header as appropriate.\\n\\nApache 2\u2019s configuration is very similar to that of 1.3; see the 2.2 [mod_expires](http://httpd.apache.org/docs/2.2/mod/mod_expires.html) and [mod_headers](http://httpd.apache.org/docs/2.2/mod/mod_headers.html) documentation for more information.\\n\\n## Microsoft IIS\\n\\nMicrosoft\u2019s Internet Information Server makes it very easy to set headers in a somewhat flexible way. Note that this is only possible in version 4 of the server, which will run only on NT Server.\\n\\nTo specify headers for an area of a site, select it in the Administration Tools interface, and bring up its properties. After selecting the HTTP Headers tab, you should see two interesting areas; Enable Content Expiration and Custom HTTP headers. The first should be self-explanatory, and the second can be used to apply Cache-Control headers.\\n\\nSee the ASP section below for information about setting headers in Active Server Pages. It is also possible to set headers from ISAPI modules; refer to MSDN for details.\\n\\n## Netscape/iPlanet Enterprise Server\\n\\nAs of version 3.6, Enterprise Server does not provide any obvious way to set Expires headers. However, it has supported HTTP 1.1 features since version 3.0. This means that HTTP 1.1 caches (proxy and browser) will be able to take advantage of Cache-Control settings you make.\\n\\nTo use Cache-Control headers, choose Content Management | Cache Control Directives in the administration server. Then, using the Resource Picker, choose the directory where you want to set the headers. After setting the headers, click \u2018OK\u2019. For more information, see the NES manual.\\n\\n## Implementation Notes \u2014 Server-Side Scripting\\n\\n> One thing to keep in mind is that it may be easier to set HTTP headers with your Web server rather than in the scripting language. Try both.\\n\\nBecause the emphasis in server-side scripting is on dynamic content, it doesn\u2019t make for very cacheable pages, even when the content could be cached. If your content changes often, but not on every page hit, consider setting a Cache-Control: max-age header; most users access pages again in a relatively short period of time. For instance, when users hit the \u2018back\u2019 button, if there isn\u2019t any validator or freshness information available, they\u2019ll have to wait until the page is re-downloaded from the server to see it.\\n\\n## CGI\\n\\nCGI scripts are one of the most popular ways to generate content. You can easily append HTTP response headers by adding them before you send the body; Most CGI implementations already require you to do this for the Content-Type header. For instance, in Perl;\\n```\\n#!/usr/bin/perl\\nprint \\"Content-type: text/html\\\\n\\";\\nprint \\"Expires: Thu, 29 Oct 1998 17:04:19 GMT\\\\n\\";\\nprint \\"\\\\n\\";\\n### the content body follows...\\n```\\n\\nSince it\u2019s all text, you can easily generate Expires and other date-related headers with in-built functions. It\u2019s even easier if you use Cache-Control: max-age;\\n```\\nprint \\"Cache-Control: max-age=600\\\\n\\";\\n```\\nThis will make the script cacheable for 10 minutes after the request, so that if the user hits the \u2018back\u2019 button, they won\u2019t be resubmitting the request.\\n\\nThe CGI specification also makes request headers that the client sends available in the environment of the script; each header has \u2018HTTP_\u2019 prepended to its name. So, if a client makes an If-Modified-Since request, it will show up as HTTP_IF_MODIFIED_SINCE.\\n\\n## Server Side Includes\\n\\nSSI (often used with the extension .shtml) is one of the first ways that Web publishers were able to get dynamic content into pages. By using special tags in the pages, a limited form of in-HTML scripting was available.\\n\\nMost implementations of SSI do not set validators, and as such are not cacheable. However, Apache\u2019s implementation does allow users to specify which SSI files can be cached, by setting the group execute permissions on the appropriate files, combined with the XbitHack full directive. For more information, see the mod_include documentation.\\n\\n### PHP\\n\\nPHP is a server-side scripting language that, when built into the server, can be used to embed scripts inside a page\u2019s HTML, much like SSI, but with a far larger number of options. PHP can be used as a CGI script on any Web server (Unix or Windows), or as an Apache module.\\n\\nBy default, representations processed by PHP are not assigned validators, and are therefore uncacheable. However, developers can set HTTP headers by using the Header() function.\\n\\nFor example, this will create a Cache-Control header, as well as an Expires header three days in the future:\\n```php\\n<?php\\n Header(\\"Cache-Control: must-revalidate\\");\\n\\n $offset = 60 * 60 * 24 * 3;\\n $ExpStr = \\"Expires: \\" . gmdate(\\"D, d M Y H:i:s\\", time() + $offset) . \\" GMT\\";\\n Header($ExpStr);\\n?>\\n```\\nRemember that the Header() function MUST come before any other output.\\n\\nAs you can see, you\u2019ll have to create the HTTP date for an Expires header by hand; PHP doesn\u2019t provide a function to do it for you (although recent versions have made it easier; see the PHP\'s date documentation). Of course, it\u2019s easy to set a Cache-Control: max-age header, which is just as good for most situations.\\n\\nFor more information, see the manual entry for header.\\n\\n### Cold Fusion\\n\\nCold Fusion, by Macromedia is a commercial server-side scripting engine, with support for several Web servers on Windows, Linux and several flavors of Unix.\\n\\nCold Fusion makes setting arbitrary HTTP headers relatively easy, with the CFHEADER tag. Unfortunately, their example for setting an Expires header, as below, is a bit misleading.\\n```\\n<CFHEADER NAME=\\"Expires\\" VALUE=\\"#Now()#\\">\\n```\\nIt doesn\u2019t work like you might think, because the time (in this case, when the request is made) doesn\u2019t get converted to a HTTP-valid date; instead, it just gets printed as a representation of Cold Fusion\u2019s Date/Time object. Most clients will either ignore such a value, or convert it to a default, like January 1, 1970.\\n\\nHowever, Cold Fusion does provide a date formatting function that will do the job; GetHttpTimeString. In combination with DateAdd, it\u2019s easy to set Expires dates; here, we set a header to declare that representations of the page expire in one month;\\n```\\n<cfheader name=\\"Expires\\" \\n  value=\\"#GetHttpTimeString(DateAdd(\'m\', 1, Now()))#\\">\\n```\\nYou can also use the CFHEADER tag to set Cache-Control: max-age and other headers.\\n\\nRemember that Web server headers are passed through in some deployments of Cold Fusion (such as CGI); check yours to determine whether you can use this to your advantage, by setting headers on the server instead of in Cold Fusion.\\n\\n### ASP and ASP.NET\\n\\nWhen setting HTTP headers from ASPs, make sure you either place the Response method calls before any HTML generation, or use Response.Buffer to buffer the output. Also, note that some versions of IIS set a Cache-Control: private header on ASPs by default, and must be declared public to be cacheable by shared caches.\\n\\nActive Server Pages, built into IIS and also available for other Web servers, also allows you to set HTTP headers. For instance, to set an expiry time, you can use the properties of the Response object;\\n\\n```\\n<% Response.Expires=1440 %>\\n```\\n\\nspecifying the number of minutes from the request to expire the representation. `Cache-Control` headers can be added like this:\\n\\n```\\n<% Response.CacheControl=\\"public\\" %>\\n```\\n\\nIn ASP.NET, Response.Expires is deprecated; the proper way to set cache-related headers is with Response.Cache;\\n\\n```\\nResponse.Cache.SetExpires ( DateTime.Now.AddMinutes ( 60 ) ) ;\\nResponse.Cache.SetCacheability ( HttpCacheability.Public ) ;\\n```\\n\\n## References and Further Information\\n\\n### [HTTP 1.1 Specification](http://www.ietf.org/rfc/rfc2616.txt)\\n\\nThe HTTP 1.1 spec has many extensions for making pages cacheable, and is the authoritative guide to implementing the protocol. See sections 13, 14.9, 14.21, and 14.25.\\n\\n### [Web-Caching.com](http://www.web-caching.com/)\\n\\nAn excellent introduction to caching concepts, with links to other online resources.\\n\\n### [On Interpreting Access Statistics](http://www.goldmark.org/netrants/webstats/)\\n\\nJeff Goldberg\u2019s informative rant on why you shouldn\u2019t rely on access statistics and hit counters.\\n\\n### [REDbot](https://redbot.org/)\\n\\nExamines HTTP resources to determine how they will interact with Web caches, and generally how well they use the protocol.\\nAbout This Document\\n\\nThis document is Copyright \xa9 1998-2013 Mark Nottingham *<mnot@mnot.net>*. This work is licensed under a Creative Commons Attribution-Noncommercial-No Derivative Works 3.0 Unported License.\\n\\nAll trademarks within are property of their respective holders.\\n\\nAlthough the author believes the contents to be accurate at the time of publication, no liability is assumed for them, their application or any consequences thereof. If any misrepresentations, errors or other need for clarification is found, please contact the author immediately.\\n\\nThe latest revision of this document can always be obtained from https://www.mnot.net/cache_docs/\\n\\nTranslations are available in: Chinese, Czech, German, and French."},{"id":"/2022/07/21/graphql-intro","metadata":{"permalink":"/blog/2022/07/21/graphql-intro","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-07-21-graphql-intro.md","source":"@site/src/blog/2022-07-21-graphql-intro.md","title":"GraphQL \u9879\u76ee\u642d\u5efa","description":"GraphQL \u7b80\u4ecb, \u6700\u4f73\u5b9e\u8df5","date":"2022-07-21T00:00:00.000Z","formattedDate":"July 21, 2022","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"graphql","permalink":"/blog/tags/graphql"},{"label":"typescript","permalink":"/blog/tags/typescript"}],"readingTime":13.95,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"GraphQL \u9879\u76ee\u642d\u5efa","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["javascript","graphql","typescript"],"description":"GraphQL \u7b80\u4ecb, \u6700\u4f73\u5b9e\u8df5","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Caching Tutorial for Web Authors and Webmasters","permalink":"/blog/2022/08/21/cache-docs"},"nextItem":{"title":"\u4e3a\u4ec0\u4e48try catch\u80fd\u6355\u6349await\u540epromise\u9519\u8bef\uff1f \u548c\u6267\u884c\u6808\u6709\u5173\u7cfb\u5417\uff1f","permalink":"/blog/2022/07/12/await-try-catch"}},"content":"import { GiteeImage } from \\"@site/src/components\\";\\n\\n> \u672c\u6587\u8f6c\u6458\u81ea\u516c\u4f17\u53f7\u6587\u7ae0: [GraphQL\u5b9e\u8df5 ](https://mp.weixin.qq.com/s/TjfmpwFbL4gvznc06T30-A)\\n\\n\u968f\u7740\u4e1a\u52a1\u7684\u589e\u957f\uff0c\u9875\u9762\u6d89\u53ca\u7684\u4e1a\u52a1\u7ebf\u8d8a\u6765\u8d8a\u591a, \u4e3a\u4e86\u5b9e\u73b0\u4e00\u4e2a\u9700\u6c42, \u9700\u8981\u8c03\u7528\u591a\u4e2a\u63a5\u53e3\u7ec4\u5408\u6570\u636e, \u7136\u540e\u7ed1\u5b9a\u5230 UI \u7ec4\u4ef6\u4e0a. \u6bcf\u4e2a\u63a5\u53e3\u8fd4\u56de\u7684\u6570\u636e\u4f1a\u6709\u5f88\u591a\u5b57\u6bb5\u662f\u4e0d\u4f1a\u4f7f\u7528\u7684, \u6d6a\u8d39\u4e86\u7f51\u7edc\u6d41\u91cf. \u4e3a\u4e86\u89e3\u51b3\u8be5\u95ee\u9898, \u6211\u4eec\u5c0f\u7ec4\u5f15\u5165\u4e86 GraphQL \u4f5c\u4e3a BFF \u5c42, \u5229\u7528 GraphQL \u670d\u52a1\u51cf\u5c11\u7f51\u7edc\u8bf7\u6c42\u6b21\u6570, \u4ee5\u53ca\u6570\u636e\u88c1\u51cf\u80fd\u529b\u51cf\u5c11\u7f51\u7edc\u54cd\u5e94\u6570\u636e\u91cf.\\n\\n\u4e0b\u9762\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u6211\u4eec\u7ec4\u7684 GraphQL Node \u670d\u52a1\u7aef\u9879\u76ee\u7684\u642d\u5efa\u8fc7\u7a0b.\\n\\n\x3c!--truncate--\x3e\\n\\n\u6211\u4eec\u5728\u642d\u5efa GraphQL \u9879\u76ee\u65f6, \u91c7\u7528\u4e86 [Express](https://expressjs.com/) \u642d\u914d [Apollo GraphQL](https://www.apollographql.com/docs/apollo-server) \u65b9\u5f0f.\\n\\n> GraphQL \u793e\u533a\u7684 Node \u65b9\u6848\u9664\u4e86 Apollo GraphQL, \u8fd8\u6709\u4e2a[Yoga](https://www.graphql-yoga.com/docs/integrations/integration-with-express) \u53ef\u4ee5\u4f7f\u7528. \u5f53\u7136\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 Facebook \u7684 [GraphQL.js](https://github.com/graphql/graphql-js)\\n\\n\\n## Express + Apollo GraphQL\\n\\n**\u5b89\u88c5\u4f9d\u8d56**\\n\\n```bash\\nnpm install apollo-server-express apollo-server-core express graphql\\n```\\n\\n**\u542f\u52a8\u4ee3\u7801**\\n\\n```typescript title=\\"server.ts\\"\\nimport { ApolloServer } from \\"apollo-server-express\\";\\nimport { ApolloServerPluginDrainHttpServer } from \\"apollo-server-core\\";\\nimport express from \\"express\\";\\nimport http from \\"http\\";\\n\\nasync function startApolloServer(typeDefs, resolvers): Promise<void> {\\n  // \u521b\u5efaexpres\u5b9e\u4f8b\\n  const app = express();\\n  const http = http.createServer(app);\\n\\n  // \u521d\u59cb\u5316 ApolloServer, \u5e76\u6dfb\u52a0 ApolloServerPluginDrainHttpServer \u63d2\u4ef6\\n  // \u8be5\u63d2\u4ef6\u80fd\u8ba9\u4f60\u7684HTTP\u670d\u52a1\u5668\u4f18\u96c5\u5173\u95ed\\n  const server = new ApolloServer({\\n    typeDefs,\\n    resolvers,\\n    cache: \\"bounded\\",\\n    plugins: [ApolloServerPluginDrainHttpServer({ http })],\\n  });\\n\\n  // \u5fc5\u987b\u7b49\u5f85 Apollo Server\u542f\u52a8\u5b8c\u6210\u4e4b\u540e, \u518d\u6267\u884c server.applyMiddleware\\n  await server.start();\\n\\n  server.applyMiddleware({\\n    app: app,\\n    // \u8bbe\u7f6e GraphQL \u76d1\u542c\u7684URL\u8def\u5f84\\n    path: \\"/graphql\\",\\n  });\\n\\n  // Modified server startup\\n  await new Promise<void>((resolve) => http.listen({ port: 4000 }, resolve));\\n  console.log(`Server ready at http://localhost:4000/`);\\n}\\n```\\n\\n> Apollo Server \u4e5f\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528, \u4e5f\u53ef\u4ee5\u4f7f\u7528\u5bf9\u5e94 Web \u6846\u67b6\u7684\u96c6\u6210\u5305, `ApolloServer` \u9700\u8981\u4ece\u5bf9\u5e94\u7684\u96c6\u6210\u5305\u91cc\u5bfc\u5165.\\n\\n## \u81ea\u52a8\u52a0\u8f7d\u5408\u5e76 schema \u548c resolvers\\n\\n\u968f\u7740\u9879\u76ee\u8d8a\u6765\u8d8a\u5927, \u5982\u679c GraphQL \u7c7b\u578b\u6587\u4ef6\u548c\u5bf9\u5e94\u7684 resolver \u90fd\u653e\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u4f1a\u53d8\u7684\u96be\u4ee5\u7ef4\u62a4, \u53ef\u4ee5\u4f7f\u7528 [@graphql-tools/merge](https://www.npmjs.com/package/@graphql-tools/merge) \u7f13\u89e3\u8be5\u95ee\u9898. \\n\\n\u4e0b\u9762\u7684\u914d\u7f6e\u4ee3\u7801, \u4f1a\u81ea\u52a8\u52a0\u8f7d `src/schema/graphqls` \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u540e\u7f00\u540d\u4e3a `.gql`\u548c`.graphql` \u7684schema\u6587\u4ef6, \u4ee5\u53ca `src/schema/resolvers` \u4e0b\u6240\u6709\u6269\u5c55\u540d\u4e3a `.ts`\u548c`.js` \u7684JS\u4ee3\u7801\u6587\u4ef6\u4f5c\u4e3aresolver:\\n\\n```typescript title=\\"src/schema/index.ts\\"\\nimport { loadFilesSync } from \\"@graphql-tools/load-files\\";\\nimport { mergeTypeDefs, mergeResolvers } from \\"@graphql-tools/merge\\";\\nimport { ApolloServer } from \\"apollo-server-express\\";\\n\\n/**\\n * \u8fd9\u91cc\u4f1a\u52a0\u8f7d\u5408\u5e76\u76ee\u5f55 src/schema/graphqls \u53ca\u5176\u5b50\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6269\u5c55\u540d\u4e3a gql \u548c graphql \u7684GraphQL\u6587\u4ef6\\n */\\nconst typeDefsArray = loadFilesSync(\\"./schema/graphqls\\", {\\n  recursive: true,\\n  extensions: [\\"gql\\", \\"graphql\\"],\\n});\\n\\n/**\\n * \u8fd9\u91cc\u4f1a\u52a0\u8f7d src/schema/resolvers \u76ee\u5f55\u53ca\u5b50\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6269\u5c55\u540d\u4e3a ts \u548c js \u7684\u6587\u4ef6\u4f5c\u4e3a resolver\\n * \u6269\u5c55\u540d\u5305\u542b ts \u662f\u4e3a\u4e86\u65b9\u4fbf\u672c\u5730\u5f00\u53d1, \u5b9e\u9645\u90e8\u7f72\u4e4b\u540e\u4e0d\u4f1a\u6709 ts \u6587\u4ef6\\n * exportNames \u8868\u793a resolver \u6587\u4ef6\u9700\u8981\u5bfc\u51fa\u540d\u4e3a resolvers \u7684\u5bf9\u8c61\\n */\\nconst resolversArray = loadFilesSync(\\"./schema/resolvers\\", {\\n  recursive: true,\\n  extensions: [\\"ts\\", \\"js\\"],\\n  ignoreIndex: false,\\n  exportNames: [\\"resolvers\\"],\\n});\\n\\nconst typeDefs = mergeTypeDefs(typeDefsArray);\\nconst resolvers = mergeResolvers(resolversArray);\\n\\n/**\\n * \u4e0b\u9762\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4e0a\u9762\u52a0\u8f7d\u7684 typeDefs \u548c resolvers\\n */\\nconst server = new ApolloServer({\\n  typeDefs,\\n  resolvers,\\n  // ... \u5176\u4ed6\u9009\u9879\\n});\\n```\\n\\n\u6216\u8005\u8c03\u7528 `@graphql-tools/schema` \u5305\u91cc\u7684 `makeExecutableSchema` \u65b9\u6cd5\u5904\u7406\u4e4b\u540e\u518d\u4f20\u7ed9 `ApolloServer`:\\n\\n```typescript title=\\"src/server.ts\\"\\nimport { makeExecutableSchema } from \\"@graphql-tools/schema\\";\\n\\nconst server = new ApolloServer({\\n  schema: makeExecutableSchema({\\n    typeDefs: typeDefs,\\n    resolvers: resolvers,\\n  }),\\n  // ... \u5176\u4ed6\u9009\u9879\\n});\\n```\\n\\n## \u4ee3\u7406\\n\\n\u672c\u5730\u5f00\u53d1\u8c03\u8bd5, \u6709\u65f6\u9700\u8981 Mock \u67d0\u4e2a\u540e\u7aef\u63a5\u53e3, \u6216\u8005\u67e5\u770b\u5b9e\u9645\u5e94\u7528\u53d1\u8d77\u4e86\u54ea\u4e9b\u7f51\u7edc\u8bf7\u6c42, \u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e Node.js \u5e94\u7528\u4ee3\u7406\u6765\u89e3\u51b3. \u6216\u8005\u5e94\u7528\u90e8\u7f72\u4e4b\u540e\u4f7f\u7528\u4ee3\u7406\u8bbf\u95ee\u53d7\u9650\u8d44\u6e90.\\n\\n\u867d\u7136 Apollo Server \u652f\u6301 Node.js \u6807\u51c6\u7684\u4ee3\u7406\u914d\u7f6e: [https.globalAgent](https://nodejs.org/api/https.html#https_https_globalagent) \u548c [http.globalAgent](https://nodejs.org/api/http.html#http_http_globalagent), \u4e0d\u8fc7\u63a8\u8350\u4f7f\u7528\u66f4\u52a0\u65b9\u4fbf\u7684\u7b2c\u4e09\u65b9\u7c7b\u5e93 [global-agent](https://github.com/gajus/global-agent#global-agent)\uff0c \u8be5\u7c7b\u5e93\u652f\u6301\u4f7f\u7528\u73af\u5883\u53d8\u91cf(`HTTP_PROXY`, `NO_AGENT`)\u8bbe\u7f6e\u4ee3\u7406(\u800c Node.js \u662f\u4e0d\u652f\u6301\u7684, \u800c\u4e14[\u4e5f\u8bb8\u4ee5\u540e\u4e5f\u4e0d\u6253\u7b97\u652f\u6301](https://github.com/nodejs/node/issues/15620).).\\n\\n**\u5b89\u88c5**\\n\\n```bash\\nnpm install global-agent\\n```\\n\\n**\u4f7f\u7528**\\n\\n```typescript\\nimport { ApolloServer, gql } from \\"apollo-server\\";\\nimport { bootstrap } from \\"global-agent\\";\\n\\n// \u8bbe\u7f6e\u4ee3\u7406\\nbootstrap();\\n\\n// \u521b\u5efa\u670d\u52a1\\nconst server = new ApolloServer({\\n  typesDefs,\\n  resolvers,\\n  cache: \\"bounded\\",\\n});\\n```\\n\\n\u7136\u540e\u542f\u52a8\u9879\u76ee\u65f6\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf `GLOBAL_AGENT_HTTP_PROXY=http://localhost:3210` \u5373\u53ef\u8bbe\u7f6e\u4ee3\u7406.\\n\\n## HTTP Cache\\n\\n\u5173\u4e8e HTTP \u7f13\u5b58\u6709\u4e24\u4e2a\u91cd\u8981\u7684\u6982\u5ff5: \u65b0\u9c9c\u5ea6 \u548c \u6709\u6548\u6027. \u670d\u52a1\u5668\u901a\u8fc7\u8f93\u51fa`Cache-Control`\u548c`Expires`\u54cd\u5e94\u5934\u6765\u6807\u8bc6\u8d44\u6e90\u5728\u591a\u957f\u65f6\u95f4\u5185\u662f\u65b0\u9c9c\u7684. \u6bd4\u5982\u670d\u52a1\u5668\u7aef\u8f93\u51fa `Cache-Control: max-age=300` \u544a\u8bc9\u5ba2\u6237\u7aef 5 \u5206\u949f\u5185\u8d44\u6e90\u90fd\u662f\u65b0\u9c9c\u7684, \u65e0\u9700\u91cd\u590d\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u8be5\u8d44\u6e90. \u5bf9\u4e8e\u4e0d\u5e38\u53d8\u5316\u7684\u8d44\u6e90\u4f7f\u7528\u8be5\u65b9\u5f0f\u662f\u4e00\u79cd\u4e0d\u9519\u7684\u9009\u62e9. \u7136\u540e 5 \u5206\u949f\u4e4b\u540e, \u5ba2\u6237\u7aef\u5c31\u4f1a\u518d\u6b21\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u8d44\u6e90, \u5373\u4fbf\u8d44\u6e90\u5e76\u6ca1\u6709\u53d1\u751f\u53d8\u5316.\\n\\n\u4e3a\u4e86\u907f\u514d\u5ba2\u6237\u7aef\u56e0\u4e3a\u65e0\u6cd5\u77e5\u6653\u8d44\u6e90\u662f\u5426\u65b0\u9c9c\u800c\u91cd\u65b0\u4e0b\u8f7d\u8d44\u6e90, \u53ef\u4ee5\u4f7f\u7528`Last-Modified`, `ETag`\u54cd\u5e94\u5934\u6807\u8bc6\u8d44\u6e90\u7684\u6709\u6548\u6027. \u5982\u679c\u670d\u52a1\u5668\u8bbe\u7f6e\u4e86\u54cd\u5e94\u5934`Last-Modified`, \u5ba2\u6237\u7aef\u53ef\u4ee5\u53d1\u9001\u8bf7\u6c42\u5934 `If-Modifies-Since` \u907f\u514d\u518d\u6b21\u4e0b\u8f7d\u5df2\u7ecf\u7f13\u5b58\u4f46\u672a\u53d1\u751f\u53d8\u5316\u7684\u8d44\u6e90. \u4e5f\u53ef\u4ee5\u4f7f\u7528\u54cd\u5e94\u5934 `ETag` \u6807\u8bc6\u8d44\u6e90\u7248\u672c\u6765\u907f\u514d\u91cd\u590d\u4e0b\u8f7d.\\n\\n\u5229\u7528\u65b0\u9c9c\u5ea6\u548c\u6709\u6548\u6027\u76f8\u5173\u7684\u54cd\u5e94\u5934\u53ef\u4ee5\u6709\u6548\u63a7\u5236\u6d4f\u89c8\u5668\u7aef\u7f13\u5b58\u548c CDN \u7f13\u5b58.\\n\\n\u7531\u4e8e GraphQL \u670d\u52a1\u9ed8\u8ba4\u4f7f\u7528 `POST` \u8bf7\u6c42, \u800c`POST`\u8bf7\u6c42\u65e0\u6cd5\u5229\u7528\u4e0a\u8ff0\u63d0\u5230\u7684 HTTP \u54cd\u5e94\u5934\u7f13\u5b58\u8d44\u6e90, \u5bfc\u81f4 GraphQL \u7ed9\u4eba\u4eec\u7684\u7b2c\u4e00\u5370\u8c61\u662f\u7f13\u5b58\u4e0d\u53cb\u597d.\\n\\n\u867d\u7136\u6280\u672f\u4e0a, GraphQL \u4e5f\u652f\u6301`GET`\u8bf7\u6c42, \u4f46\u662f\u7531\u4e8e\u5ba2\u6237\u7aef\u8bf7\u6c42 GraphQL \u670d\u52a1\u7684\u65f6\u5019\u9700\u8981\u4f20\u9012 query schema, \u5982\u679c\u4f7f\u7528`GET`\u8bf7\u6c42\u6709\u53ef\u80fd\u5bfc\u81f4 URL \u957f\u5ea6\u8d85\u8fc7\u6d4f\u89c8\u5668\u6216\u8005\u670d\u52a1\u5668\u7aef\u7684\u6700\u5927\u9650\u5236.\\n\\n\u6240\u4ee5\u8981\u60f3 GraphQL \u670d\u52a1\u4f7f\u7528 HTTP \u7f13\u5b58, \u5c31\u5fc5\u987b\u89e3\u51b3`GET`\u8bf7\u6c42\u7684 URL \u957f\u5ea6\u95ee\u9898.\\n\\n\u5bf9\u4e8e`GET`\u8bf7\u6c42\u95ee\u9898, GraphQL \u793e\u533a\u63d0\u51fa\u4e86[\u6301\u4e45\u5316\u67e5\u8be2](https://www.apollographql.com/blog/apollo-client/persisted-graphql-queries/)\u7684\u89e3\u51b3\u65b9\u6848. \u4e0b\u9762\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u6211\u4eec\u57fa\u4e8e\u6b64\u601d\u8def\u642d\u5efa\u7684\u6301\u4e45\u5316\u67e5\u8be2\u5b9e\u73b0:\\n\\n- \u5ba2\u6237\u7aef\\n  1. \u5f00\u53d1\u4eba\u5458\u76f4\u63a5\u5728\u524d\u7aef\u9879\u76ee\u91cc\u7f16\u5199 query schema \u6587\u4ef6\\n  1. \u901a\u8fc7\u547d\u4ee4\u884c\u548c\u96c6\u6210\u5de5\u5177\u81ea\u52a8\u5c06 query schema \u6587\u4ef6\u751f\u6210\u4e00\u4e2a\u6587\u4ef6\u540d\u4e3a\u5185\u5bb9 hash \u7684\u6587\u4ef6, \u7136\u540e\u5c06 hash \u6587\u4ef6\u540d\u5bf9\u5e94\u7684\u6587\u4ef6\u4e0a\u4f20\u5230\u4e00\u4e2a\u8fdc\u7aef\u5b58\u50a8\u7a7a\u95f4(\u53ef\u4ee5\u662f\u6570\u636e\u5e93\u3001\u6587\u4ef6\u7cfb\u7edf\u7b49), \u540c\u65f6\u811a\u672c\u4f1a\u751f\u6210\u4e00\u4e2a\u5305\u542b query schema \u6587\u4ef6\u540d\u548c\u5bf9\u5e94\u6587\u4ef6\u5185\u5bb9 hash \u7684\u914d\u7f6e\u6587\u4ef6\\n  1. \u5728\u5b9e\u9645\u4e1a\u52a1\u4ee3\u7801\u91cc\u901a\u8fc7\u6587\u4ef6\u540d\u5f15\u7528 query schema, \u5c01\u88c5\u7684\u8bf7\u6c42 GraphQL \u670d\u52a1\u7684\u4ee3\u7801\u4f1a\u5c06\u6587\u4ef6\u540d\u66ff\u6362\u6210\u771f\u6b63\u7684 hash \u6587\u4ef6\u540d, \u4f20\u7ed9 GraphQL \u670d\u52a1, \u5b9e\u9645\u53d1\u8d77\u7684\u7f51\u7edc\u8bf7\u6c42\u4e3a: `/graphql?query-hash=5d41402abc4b2a76b9719d911017c592&variables=xxxx`\\n- \u670d\u52a1\u5668\u7aef\\n  1. \u670d\u52a1\u5668\u7aef\u63a5\u6536\u5230`GET`\u8bf7\u6c42\u4e4b\u540e, \u89e3\u6790`query-hash`\u53c2\u6570, \u7136\u540e\u6839\u636e\u8be5\u53c2\u6570\u503c\u53bb\u5b58\u50a8\u7a7a\u95f4\u83b7\u53d6\u771f\u6b63\u7684 query schema.\\n  1. \u670d\u52a1\u5668\u7aef\u62ff\u5230 query schema \u4e4b\u540e\u5c31\u53ef\u4ee5\u54cd\u5e94\u8d44\u6e90\u4e86\\n\\n\u6d41\u7a0b\u56fe\u5982\u4e0b([\u67e5\u770b\u5927\u56fe](https://gitee.com/alanway/resources/raw/master/images/GraphQL-diagram-persist-query.png)):\\n\\n<GiteeImage src=\\"images/GraphQL-diagram-persist-query.png\\" />\\n\\n\\n\u4f7f\u7528\u8be5\u65b9\u5f0f\u5373\u89e3\u51b3\u4e86 URL \u957f\u5ea6\u95ee\u9898, \u4e5f\u80fd\u4fdd\u8bc1 query schema \u662f\u53ef\u4fe1\u7684, \u9632\u6b62\u6076\u610f\u7528\u6237\u67e5\u8be2\u5d4c\u5957\u5c42\u7ea7\u5f88\u6df1\u7684 schema.\\n\\n\u7531\u4e8eGraphQL\u7684\u4e00\u6b21\u67e5\u8be2\u8bf7\u6c42, \u53ef\u80fd\u4f1a\u6d89\u53ca\u591a\u4e2a\u540e\u7aef\u63a5\u53e3, \u800c\u6bcf\u4e2a\u540e\u7aef\u63a5\u53e3\u6839\u636e\u4e1a\u52a1\u573a\u666f\u53ef\u7f13\u5b58\u65f6\u957f\u662f\u4e0d\u540c\u7684, \u90a3\u4e48\u672c\u6b21\u67e5\u8be2\u7684\u53ef\u7f13\u5b58\u65f6\u95f4\u53d6\u51b3\u4e8e\u540e\u7aef\u63a5\u53e3\u4e2d\u6700\u5c0f\u7684\u7f13\u5b58\u65f6\u957f. \u867d\u7136\u53ef\u4ee5\u5229\u7528GraphQL\u7684\u6307\u4ee4\u7279\u6027, \u7ec6\u7c92\u5ea6\u63a7\u5236\u7f13\u5b58\u54cd\u5e94\u5934, \u4f46\u662f\u6211\u4eec\u76ee\u524d\u5e76\u6ca1\u6709\u8fd9\u4e48\u505a, \u56e0\u4e3a\u7ed9\u6bcf\u4e2atype\u589e\u52a0\u7f13\u5b58\u6307\u4ee4, \u662f\u4e00\u4ef6\u5f88\u7e41\u7410\u7684\u4e8b\u60c5. \u6211\u4eec\u76ee\u524d\u7684\u89e3\u51b3\u65b9\u5f0f\u662f\u7531\u524d\u7aef\u8bf7\u6c42GraphQL\u670d\u52a1\u65f6\u901a\u8fc7URL\u53c2\u6570\u6307\u5b9a\u672c\u6b21\u67e5\u8be2\u7684\u7f13\u5b58\u65f6\u957f, \u6bd4\u5982 `/graphql?query-hash=xxx&variables=xxx&_cache=300`, \u8fd9\u91cc\u7684URL\u53c2\u6570 `_cache=300` \u8868\u793aGraphQL\u54cd\u5e94\u6570\u636e\u7684\u65f6\u5019\u8bbe\u7f6e\u54cd\u5e94\u5934 `Cache-Control: max-age=300`. \\n\\n## \u8bf7\u6c42\u540e\u7aef\u63a5\u53e3\\n\\nGraphQL \u670d\u52a1\u5668\u7aef\u8c03\u7528\u540e\u7aef\u63a5\u53e3\u65f6, \u53ef\u4ee5\u4f7f\u7528[RESTDataSource](https://github.com/apollographql/apollo-server/tree/main/packages/apollo-datasource-rest)\u548c[DataLoader](https://github.com/graphql/dataloader)\u4f18\u5316\u7f51\u7edc\u8bf7\u6c42\u6b21\u6570.\\n\\n### RESTDataSource\\n\\n`RESTDataSource`\u5b9e\u4f8b\u5185\u90e8\u4f1a\u81ea\u52a8\u7f13\u5b58`GET`\u8bf7\u6c42, URL \u76f8\u540c\u7684`GET`\u8bf7\u6c42\u4f1a\u53ea\u4f1a\u53d1\u8d77\u4e00\u6b21(\u5177\u4f53\u5b9e\u73b0\u4ee3\u7801\u53c2\u8003[RESTDataSource.ts#L273](https://github.com/apollographql/apollo-server/blob/8cc8437d011800aac1b6e79d4561bc6019186bfe/packages/apollo-datasource-rest/src/RESTDataSource.ts#L273)). \u6bd4\u5982\u4ee5\u4e0b\u4ee3\u7801\u867d\u7136\u8bf7\u6c42\u4e86\u4e24\u6b21\u540e\u7aef\u63a5\u53e3, \u4f46\u662f\u5b9e\u9645\u540e\u7aef\u53ea\u4f1a\u63a5\u6536\u5230\u4e00\u6b21\u8bf7\u6c42:\\n\\n```typescript\\nconst source = new RESTDataSource();\\nconst user_1 = await source.get(\\"/user\\", { id: 1 });\\nconst user_2 = await source.get(\\"/user\\", { id: 1 });\\n// \u8fd9\u91cc\u7684 user_1 \u548c user_2 \u5b9e\u9645\u662f\u540c\u4e00\u4e2a Promise \u5bf9\u8c61\\n```\\n\\n### DataLoader\\n\\n`DataLoader`\u5bf9\u4e8e\u6279\u91cf\u67e5\u8be2\u5f88\u6709\u5e2e\u52a9, \u8003\u8651\u4ee5\u4e0b\u573a\u666f:\\n\\n\u670d\u52a1\u5668\u7aef\u6709\u4ee5\u4e0b Schema \u5b9a\u4e49, \u5e76\u652f\u6301\u5546\u54c1\u5217\u8868\u67e5\u8be2:\\n\\n```graphql\\ntype Query {\\n  \\"\u5546\u54c1\u5217\u8868\\"\\n  goodsPagingList(pageSize: Int, pageIndex: Int): [Good]\\n}\\n\\n\\"\u5546\u54c1\u4fe1\u606f\\"\\ntype Good {\\n  skuId: ID\\n  title: String\\n  price: Float\\n  seriesId: Int\\n  \\"\u5546\u54c1\u5173\u8054\u7684\u8f66\u7cfb\u4fe1\u606f\\"\\n  series: SeriesInfo\\n}\\n\\n\\"\u8f66\u7cfb\u4fe1\u606f\\"\\ntype SeriesInfo {\\n  seriesId: Int\\n  seriesName: String\\n  seriesImage: String\\n}\\n```\\n\\n\u5bf9\u5e94 resolver \u5b9e\u73b0\u5982\u4e0b:\\n\\n```javascript\\nexport const resolvers = {\\n  Query: {\\n    goodsPagingList: (parent, args, context) => {\\n      return context.dataSources.get(\\"/goods\\", args);\\n    },\\n  },\\n  Good: {\\n    series: ({ seriesId }, args, context) => {\\n      return context.dataSources.get(\\"/series\\", { seriesId: seriesId });\\n    },\\n  },\\n};\\n```\\n\\n\u5982\u679c\u5217\u8868\u6709 10 \u6761\u5546\u54c1\u6570\u636e, \u4e0a\u8ff0\u7684`context.dataSources.series.getSeriesInfo`\u4f1a\u8c03\u7528 10 \u6b21\u63a5\u53e3, \u52a0\u4e0a\u5546\u54c1\u5217\u8868\u63a5\u53e3, \u603b\u5171\u5411\u540e\u7aef\u8bf7\u6c42\u4e86 11 \u6b21\u63a5\u53e3. \u5229\u7528 `DataLoader` \u53ef\u4ee5\u5b9e\u73b0\u6279\u91cf\u67e5\u8be2, \u51cf\u5c11\u63a5\u53e3\u8c03\u7528\u6b21\u6570:\\n\\n```javascript\\nconst loader = new DataLoader((seriesIds) => {\\n  return this.get(\\"/series\\", {\\n    seriesIds: seriesIds.join(\\",\\"),\\n  }); // \u5047\u8bbe /series \u63a5\u53e3\u652f\u6301\u6279\u91cf\u67e5\u8be2, \u591a\u4e2a\u8f66\u7cfbid\u7528\u9017\u53f7\u5206\u5272\\n});\\n```\\n\\n\u7136\u540e\u4e0a\u8ff0 `Good.series` \u7684 resolver \u5c31\u53ef\u4ee5\u4f7f\u7528 `loader.load(seriesId)` \u8bfb\u53d6\u5355\u4e2a\u8f66\u7cfb\u4fe1\u606f, `DataLoader`\u5185\u90e8\u4f1a\u7ef4\u62a4\u4e00\u4e2a\u961f\u5217, \u4f7f\u7528 [process.nextTick](https://github.com/graphql/dataloader/blob/main/src/index.js#L232)(Node \u73af\u5883)\u5ef6\u8fdf\u6279\u91cf\u8c03\u7528\u540e\u7aef\u63a5\u53e3. \u4f7f\u7528`DataLoader`\u4e4b\u540e, \u4e0a\u8ff0\u5b9e\u9645\u53ea\u4f1a\u8c03\u7528 2 \u6b21\u540e\u7aef\u63a5\u53e3.\\n\\n\u4f7f\u7528`DataLoader`\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u4e24\u70b9:\\n\\n1. `DataLoader`\u8981\u6c42\u7b2c\u4e00\u4e2a\u53c2\u6570`batchLoadFn`\u8fd4\u56de\u7684\u6570\u636e\u987a\u5e8f\u548c\u5165\u53c2\u7684 id \u987a\u5e8f(\u5373\u4e0a\u8ff0\u793a\u4f8b\u4ee3\u7801\u91cc\u7684`seriesIds`\u53c2\u6570)\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4, \u56e0\u4e3a`DataLoader`\u5185\u90e8\u5229\u7528\u8fd9\u4e2a\u987a\u5e8f\u6765\u548c id \u5bf9\u5e94\u8d77\u6765, \u7528\u4e8e`load`/`loadMany`\u65b9\u6cd5\u8fd4\u56de\u6b63\u786e\u7684\u6570\u636e.\\n1. \u4e0a\u8ff0\u793a\u4f8b\u6bd4\u8f83\u7b80\u5355, \u63a5\u53e3\u53ea\u9700\u8981 id \u53c2\u6570, \u4f46\u662f\u5728\u5b9e\u9645\u4e1a\u52a1\u573a\u666f\u4e2d, \u6709\u53ef\u80fd\u9664\u4e86 id \u8fd8\u6709\u5f88\u591a\u5176\u4ed6\u53c2\u6570, \u6bd4\u5982\u63a5\u53e3`/series?seriesIds=1,2,3&cityId=110100&seriesLevel=5`, \u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u91cd\u5199 `DataLoader` \u7b2c\u4e8c\u4e2a\u53c2\u6570\u91cc\u7684`cacheKeyFn`\u51fd\u6570, \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8be5\u53c2\u6570\u4f7f\u7528 id \u4f5c\u4e3a key.\\n\\n## Apollo Server Plugin\\n\\n\u501f\u52a9 Apollo Server \u63d2\u4ef6\u7cfb\u7edf, \u53ef\u4ee5\u5f88\u65b9\u4fbf\u6269\u5c55\u4e00\u4e9b\u529f\u80fd\\n\\n## \u5176\u4ed6\u6280\u5de7\\n\\n### \u81ea\u52a8\u751f\u6210 TypeScript \u7c7b\u578b\u5b9a\u4e49\u4ee3\u7801\\n\\n\u4e3a\u4e86\u65b9\u4fbf\u5f00\u53d1, \u53ef\u4ee5\u501f\u52a9[@graphql-codegen/cli](https://www.graphql-code-generator.com/docs/getting-started/installation)\u81ea\u52a8\u751f\u6210GraphQL schema\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u7c7b\u578b.\\n\\n### \u96c6\u6210\u6d4b\u8bd5\\n\\nApollo Server \u63d0\u4f9b\u4e86\u4e24\u79cde2e\u6d4b\u8bd5\u65b9\u6cd5:\\n\\n* \u4f7f\u7528 `ApolloServer` \u7684 `executeOperation`\\n* \u76f4\u63a5\u5411Apollo Server\u53d1\u8d77HTTP\u8bf7\u6c42\\n\\n\u4e0b\u9762\u662f\u4f7f\u7528 `ApolloServer.executeOperation` \u65b9\u6cd5\u7684\u6d4b\u8bd5\u793a\u4f8b:\\n```javascript\\nimport { ApolloServer, gql } from \\"apollo-server\\";\\n\\ndescribe(\\"sample\\", () => {\\n  test(\\"e2e demo\\", async () => {\\n    const server = new ApolloServer({\\n      typeDefs: gql`\\n      type Query {\\n        hello(name: String): String!\\n      }\\n      `,\\n      resolvers: {\\n        Query: {\\n          hello: (_, { name }) => `Hello ${name}`\\n        }\\n      }\\n    });\\n    const response = await server.executeOperation({\\n      query: `query Say($name: String) { hello(name: $name) }`,\\n      variables: { name: \\"world\\" }\\n    });\\n    expect(response.errors).toBeUndefined();\\n    expect(response.data?.hello).toBe(\\"Hello world\\");\\n  });\\n})\\n```\\n\\n## References\\n\\n- [\u4e3a\u4ec0\u4e48\u4e92\u8054\u7f51\u516c\u53f8\u5f00\u59cb\u7528 node.js \u505a web \u670d\u52a1\u7684\u4e2d\u95f4\u5c42\uff1f\u6709\u4ec0\u4e48\u597d\u5904\u5417\uff1f](https://www.zhihu.com/question/264563447/answer/282533202)\\n- [Pattern: Backends For Frontends](https://samnewman.io/patterns/architectural/bff/)\\n- [GraphQL & Caching: The Elephant in the Room](https://www.apollographql.com/blog/backend/caching/graphql-caching-the-elephant-in-the-room/)\\n- [Schema merging - GraphQL Tools](https://www.graphql-tools.com/docs/schema-merging)\\n- [GraphQL & Caching: The Elephant in the Room](https://www.apollographql.com/blog/backend/caching/graphql-caching-the-elephant-in-the-room/)\\n- [5 benefits of static GraphQL queries](https://www.apollographql.com/blog/community/5-benefits-of-static-graphql-queries/)\\n- [An enhanced GraphQL developer experience with TypeScript](https://www.apollographql.com/blog/community/graphql-dx-d35bcf51c943/)"},{"id":"/2022/07/12/await-try-catch","metadata":{"permalink":"/blog/2022/07/12/await-try-catch","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-07-12-await-try-catch.md","source":"@site/src/blog/2022-07-12-await-try-catch.md","title":"\u4e3a\u4ec0\u4e48try catch\u80fd\u6355\u6349await\u540epromise\u9519\u8bef\uff1f \u548c\u6267\u884c\u6808\u6709\u5173\u7cfb\u5417\uff1f","description":"\u4e3a\u4ec0\u4e48try catch \u4e2dpromise\u7684\u9519\u8befcatch\u4e0d\u4e86\u3002 await\u540e\u5c31\u53ef\u4ee5catch\u4e86\uff1f  \u666e\u901a\u51fd\u6570\u4e0d\u80fdtry catch promise\uff0c\u56e0\u4e3a\u5176throw error\u65f6\u7684\u6267\u884c\u6808\uff0c\u548ctry catch\u5b83\u7684\u51fd\u6570\u65e0\u5173\u4e86\u3002   \u800casync await\u80fd\u50cfgenerate\u4e00\u6837\u5728\u63a7\u5236\u6267\u884c\u6d41\uff0c\u89e6\u53d1\u65f6\uff0c\u51fd\u6570\u6267\u884c\u6808\u6062\u590d\u5230 try catch\u5b83\u65f6\u7684\u51fd\u6570\u6267\u884c\u6808\uff0c\u6240\u4ee5\u80fdtry catch\u3002","date":"2022-07-12T00:00:00.000Z","formattedDate":"July 12, 2022","tags":[{"label":"\u77e5\u4e4e","permalink":"/blog/tags/\u77e5\u4e4e"},{"label":"JavaScript","permalink":"/blog/tags/java-script"}],"readingTime":2.675,"hasTruncateMarker":true,"authors":[{"name":"\u77e5\u4e4e"}],"frontMatter":{"title":"\u4e3a\u4ec0\u4e48try catch\u80fd\u6355\u6349await\u540epromise\u9519\u8bef\uff1f \u548c\u6267\u884c\u6808\u6709\u5173\u7cfb\u5417\uff1f","author":"\u77e5\u4e4e","tags":["\u77e5\u4e4e","JavaScript"],"description":"\u4e3a\u4ec0\u4e48try catch \u4e2dpromise\u7684\u9519\u8befcatch\u4e0d\u4e86\u3002 await\u540e\u5c31\u53ef\u4ee5catch\u4e86\uff1f  \u666e\u901a\u51fd\u6570\u4e0d\u80fdtry catch promise\uff0c\u56e0\u4e3a\u5176throw error\u65f6\u7684\u6267\u884c\u6808\uff0c\u548ctry catch\u5b83\u7684\u51fd\u6570\u65e0\u5173\u4e86\u3002   \u800casync await\u80fd\u50cfgenerate\u4e00\u6837\u5728\u63a7\u5236\u6267\u884c\u6d41\uff0c\u89e6\u53d1\u65f6\uff0c\u51fd\u6570\u6267\u884c\u6808\u6062\u590d\u5230 try catch\u5b83\u65f6\u7684\u51fd\u6570\u6267\u884c\u6808\uff0c\u6240\u4ee5\u80fdtry catch\u3002","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"GraphQL \u9879\u76ee\u642d\u5efa","permalink":"/blog/2022/07/21/graphql-intro"},"nextItem":{"title":"Pass all props to children in Vue","permalink":"/blog/2022/07/12/pass-all-props-to-children"}},"content":"## \u95ee\u9898\\n\\n**\u4e3a\u4ec0\u4e48try catch\u80fd\u6355\u6349await\u540epromise\u9519\u8bef\uff1f \u548c\u6267\u884c\u6808\u6709\u5173\u7cfb\u5417\uff1f**\\n\\n\u4e3a\u4ec0\u4e48try catch \u4e2dpromise\u7684\u9519\u8befcatch\u4e0d\u4e86\u3002 await\u540e\u5c31\u53ef\u4ee5catch\u4e86\uff1f\\n\\n\u666e\u901a\u51fd\u6570\u4e0d\u80fdtry catch promise\uff0c\u56e0\u4e3a\u5176throw error\u65f6\u7684\u6267\u884c\u6808\uff0c\u548ctry catch\u5b83\u7684\u51fd\u6570\u65e0\u5173\u4e86\u3002\\n\\n\\n\u800casync await\u80fd\u50cfgenerate\u4e00\u6837\u5728\u63a7\u5236\u6267\u884c\u6d41\uff0c\u89e6\u53d1\u65f6\uff0c\u51fd\u6570\u6267\u884c\u6808\u6062\u590d\u5230 try catch\u5b83\u65f6\u7684\u51fd\u6570\u6267\u884c\u6808\uff0c\u6240\u4ee5\u80fdtry catch\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u56de\u7b54\\n\\n### Cat Chen\\n\\n> \u6765\u6e90 [Cat Chen](https://www.zhihu.com/question/522726685/answer/2397695233)\\n\\n\u56e0\u4e3a\u8fd9\u662f `await` \u7684\u529f\u80fd\u7684\u4e00\u90e8\u5206\uff0c\u800c\u4e14\u5fc5\u987b\u8bbe\u8ba1\u6210\u8fd9\u6837\u3002\u6ca1\u6709 `await` \u65f6\uff0c\u4f60\u7684\u8868\u8fbe\u5f0f\u8fd4\u56de\u4e00\u4e2a `Promise` \uff0c\u7136\u540e\u4ee3\u7801\u5c31\u7ee7\u7eed\u5f80\u524d\u6267\u884c\u4e86\uff0c\u4e0d\u4f1a\u7b49\u8fd9\u4e2a `Promise` resolve \u6216 reject \u3002\u6709\u4e86 `await` \u4e4b\u540e\uff0c\u4ee3\u7801\u4e0d\u4f1a\u7acb\u5373\u7ee7\u7eed\u5f80\u524d\u6267\u884c\uff0c\u800c\u662f\u505c\u4e0b\u6765\u7b49 Promise \u7684\u8fd4\u56de\u503c\uff0c\u6709\u8fd4\u56de\u503c\u624d\u80fd\u7ee7\u7eed\u5f80\u524d\u6267\u884c\u3002 Promise \u6709\u8fd4\u56de\u503c\u7684\u672c\u8d28\u662f\u4ec0\u4e48\uff1f\u662f Promise resolve \u4e86\u3002\u6240\u4ee5 `await` \u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u628a `await` \u4e4b\u540e\u7684\u4ee3\u7801\u653e\u8fdb\u4e86\u8fd9\u4e2a Promise \u7684 then \u91cc\u9762\uff0c\u8fd9\u662f\u5927\u591a\u6570\u4eba\u53ef\u4ee5\u7406\u89e3\u7684\u3002\u5f88\u591a\u4eba\u6ca1\u6709\u610f\u8bc6\u5230\u7684\u662f\uff0c\u8fd9\u4e2a\u8bbe\u8ba1\u8fd8\u5fc5\u987b\u8003\u8651 Promise reject \u4e86\u8be5\u600e\u4e48\u529e\u3002\u8fd8\u7ee7\u7eed\u5f80\u524d\u6267\u884c\u5417\uff1f\u8fd9\u6837\u8bbe\u8ba1\u663e\u7136\u6709\u95ee\u9898\uff0c\u56e0\u4e3a\u4ee3\u7801\u65e0\u6cd5\u533a\u5206 resolve \u548c reject\u3002\u90a3\u5982\u4f55\u624d\u80fd\u8ba9 await \u4e4b\u540e\u7684\u4ee3\u7801\u533a\u5206\u51fa\u5230\u5e95 Promise \u662f resolve \u4e86\u8fd8\u662f reject \u4e86\u5462\uff1f\u6700\u7b26\u5408\u76f4\u89c9\u7684\u8bbe\u8ba1\u662f\u628a reject \u770b\u4f5c throw\uff0c\u628a reject \u4f20\u9012\u7684\u503c\u7528\u4f5c throw \u8868\u8fbe\u5f0f\u9700\u8981\u7684\u503c\u3002\u8fd9\u79cd\u76f4\u89c2\u7684\u8bbe\u8ba1\u4f7f\u5f97 await \u8868\u8fbe\u5f0f\u8ddf\u6ca1\u6709 await \u4e00\u6837\uff0c\u6210\u529f\u4e86\u5c31\u7ee7\u7eed\u5f80\u524d\u6267\u884c\uff0c\u51fa\u9519\u4e86\u5c31 throw \u7136\u540e\u5916\u9762\u53ef\u4ee5 catch\u3002\u5f53\u7136\uff0c\u5b9e\u9645\u53d1\u751f\u7684\u4e8b\u60c5\u5e76\u4e0d\u662f\u8fd9\u4e48\u7b80\u5355\uff0c\u56e0\u4e3a await \u53ea\u80fd\u7528\u5728 async \u51fd\u6570\u91cc\u9762\uff0casync \u51fd\u6570\u672c\u8d28\u662f\u8fd4\u56de\u4e00\u4e2a Promise\uff0c\u6240\u4ee5\u5982\u679c await \u8fdb\u884c\u4e86 throw\uff0c\u6ca1\u6709 catch \u7684\u8bdd throw \u51fa\u6765\u7684\u4e1c\u897f\u5c31\u53d8\u6210 async \u51fd\u6570\u5c42\u9762\u7684 reject\u3002\u5982\u679c catch \u4e86\u5462\uff1f\u4f60\u53ef\u4ee5\u628a\u6574\u4e2a try-catch \u8868\u8fbe\u5f0f\u770b\u4f5c\u53e6\u5916\u4e00\u5c42 await\uff0c\u5982\u679c catch \u4e86\u90a3 try-catch \u540e\u9762\u7684\u4ee3\u7801\u5c31\u7ee7\u7eed\u5f80\u524d\u6267\u884c\u3002"},{"id":"/2022/07/12/pass-all-props-to-children","metadata":{"permalink":"/blog/2022/07/12/pass-all-props-to-children","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-07-12-pass-all-props-to-children.md","source":"@site/src/blog/2022-07-12-pass-all-props-to-children.md","title":"Pass all props to children in Vue","description":"\u5c06\u7236\u7ec4\u4ef6\u7684\u6240\u6709\u5c5e\u6027\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6","date":"2022-07-12T00:00:00.000Z","formattedDate":"July 12, 2022","tags":[{"label":"vue","permalink":"/blog/tags/vue"}],"readingTime":0.57,"hasTruncateMarker":true,"authors":[{"name":"Jordan Kicklighter","url":"https://dev.to/jwkicklighter/pass-all-props-to-children-in-vue-9on"}],"frontMatter":{"title":"Pass all props to children in Vue","author":"Jordan Kicklighter","author_url":"https://dev.to/jwkicklighter/pass-all-props-to-children-in-vue-9on","tags":["vue"],"description":"\u5c06\u7236\u7ec4\u4ef6\u7684\u6240\u6709\u5c5e\u6027\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4e3a\u4ec0\u4e48try catch\u80fd\u6355\u6349await\u540epromise\u9519\u8bef\uff1f \u548c\u6267\u884c\u6808\u6709\u5173\u7cfb\u5417\uff1f","permalink":"/blog/2022/07/12/await-try-catch"},"nextItem":{"title":"async/await\u5f02\u6b65\u6a21\u578b\u662f\u5426\u4f18\u4e8estackful coroutine\u6a21\u578b\uff1f","permalink":"/blog/2022/07/12/why-async-await-better-stackful-coroutine"}},"content":"\u5728Vue\u4e2d\uff0c\u5c06\u7236\u7ec4\u4ef6\u7684\u6240\u6709\u5c5e\u6027\u900f\u4f20\u7ed9\u5b50\u7ec4\u4ef6.\\n\\n\\n\u539f\u6587 [Pass all props to children in Vue ](https://dev.to/jwkicklighter/pass-all-props-to-children-in-vue-9on)\\n\\n\x3c!--truncate--\x3e\\n\\n\u4f20\u7ed9\u7236\u7ec4\u4ef6\u7684\u7684\u5c5e\u6027\u6570\u636e, \u5982\u679c\u6ca1\u6709\u5728\u7236\u7ec4\u4ef6\u7684`props`\u91cc\u58f0\u660e\uff0c\u90fd\u4f1a\u5305\u542b\u5728\u4e86`$attrs`\u91cc, \u4f7f\u7528\u4e0b\u9762\u65b9\u5f0f\u53ef\u4ee5\u5c06\u5c5e\u6027\u5934\u4f20\u7ed9\u5b50\u7ec4\u4ef6:\\n\\n```vue\\n<template>\\n    <comp2 v-bind=\\"$props\\" v-bind=\\"$attrs\\" />\\n</template>\\n\\n<script>\\n  export default {\\n    components: Comp2\\n  }\\n<\/script>\\n```\\n\\n\u6216\u8005\\n\\n```vue\\n<template>\\n    <comp2 v-bind=\\"{ ...$props, ...$attrs }\\" />\\n</template>\\n\\n<script>\\n  export default {\\n    components: Comp2\\n  }\\n<\/script>\\n```"},{"id":"/2022/07/12/why-async-await-better-stackful-coroutine","metadata":{"permalink":"/blog/2022/07/12/why-async-await-better-stackful-coroutine","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-07-12-why-async-await-better-stackful-coroutine.md","source":"@site/src/blog/2022-07-12-why-async-await-better-stackful-coroutine.md","title":"async/await\u5f02\u6b65\u6a21\u578b\u662f\u5426\u4f18\u4e8estackful coroutine\u6a21\u578b\uff1f","description":"\u8fd9\u91cc\u8bf4\u7684coroutine\u662fstackful\u7684\uff0c\u53ef\u4ee5\u5bf9\u6bd4js\u7684async/await\u548cfibjs\uff0c\u8fd8\u6709c#\u7684async/await\u5bf9\u6bd4go\u7684goroutine\u3002 async/await\u7684\u4f18\u70b9\u662f\u4e0d\u9700\u8981\u4e3a\u6bcf\u4e2acoroutine\u5206\u914d\u5355\u72ec\u7684\u6808\u5185\u5b58\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u95ed\u5305\u4fdd\u5b58\u72b6\u6001\uff0c\u907f\u514d\u4e86\u5185\u5b58\u6d6a\u8d39\uff1b\u5728\u8c03\u5ea6\u4e0a\u4e5f\u66f4\u52a0\u7075\u6d3b\uff0c\u53ef\u4ee5\u8ba9\u7528\u6237\u624b\u52a8\u8c03\u5ea6\uff1b\u53e6\u5916\u5728\u5b9e\u73b0\u4e0a\u4e5f\u4e0d\u9700\u8981\u6539\u52a8\u865a\u62df\u673a\uff0c\u53ea\u8981\u5728\u8bed\u8a00\u5c42\u9762\u52a0\u4e0agenerator\u7684\u652f\u6301\u5c31\u53ef\u4ee5\u5b9e\u73b0\u3002\u90a3\u4e48\u662f\u4e0d\u662f\u53ef\u4ee5\u8ba4\u4e3aasync/await\u662f\u4e00\u4e2a\u66f4\u597d\u7684\u5f02\u6b65\u65b9\u6848\u5462\uff1f","date":"2022-07-12T00:00:00.000Z","formattedDate":"July 12, 2022","tags":[{"label":"\u77e5\u4e4e","permalink":"/blog/tags/\u77e5\u4e4e"},{"label":"JavaScript","permalink":"/blog/tags/java-script"}],"readingTime":17.455,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"async/await\u5f02\u6b65\u6a21\u578b\u662f\u5426\u4f18\u4e8estackful coroutine\u6a21\u578b\uff1f","tags":["\u77e5\u4e4e","JavaScript"],"description":"\u8fd9\u91cc\u8bf4\u7684coroutine\u662fstackful\u7684\uff0c\u53ef\u4ee5\u5bf9\u6bd4js\u7684async/await\u548cfibjs\uff0c\u8fd8\u6709c#\u7684async/await\u5bf9\u6bd4go\u7684goroutine\u3002 async/await\u7684\u4f18\u70b9\u662f\u4e0d\u9700\u8981\u4e3a\u6bcf\u4e2acoroutine\u5206\u914d\u5355\u72ec\u7684\u6808\u5185\u5b58\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u95ed\u5305\u4fdd\u5b58\u72b6\u6001\uff0c\u907f\u514d\u4e86\u5185\u5b58\u6d6a\u8d39\uff1b\u5728\u8c03\u5ea6\u4e0a\u4e5f\u66f4\u52a0\u7075\u6d3b\uff0c\u53ef\u4ee5\u8ba9\u7528\u6237\u624b\u52a8\u8c03\u5ea6\uff1b\u53e6\u5916\u5728\u5b9e\u73b0\u4e0a\u4e5f\u4e0d\u9700\u8981\u6539\u52a8\u865a\u62df\u673a\uff0c\u53ea\u8981\u5728\u8bed\u8a00\u5c42\u9762\u52a0\u4e0agenerator\u7684\u652f\u6301\u5c31\u53ef\u4ee5\u5b9e\u73b0\u3002\u90a3\u4e48\u662f\u4e0d\u662f\u53ef\u4ee5\u8ba4\u4e3aasync/await\u662f\u4e00\u4e2a\u66f4\u597d\u7684\u5f02\u6b65\u65b9\u6848\u5462\uff1f","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Pass all props to children in Vue","permalink":"/blog/2022/07/12/pass-all-props-to-children"},"nextItem":{"title":"TypeScript\u7981\u7528\u89c4\u5219","permalink":"/blog/2022/06/17/typescript-ignore-rules"}},"content":"## \u95ee\u9898\\n\\n**async/await\u5f02\u6b65\u6a21\u578b\u662f\u5426\u4f18\u4e8estackful coroutine\u6a21\u578b\uff1f**\\n\\n\u8fd9\u91cc\u8bf4\u7684coroutine\u662fstackful\u7684\uff0c\u53ef\u4ee5\u5bf9\u6bd4js\u7684async/await\u548cfibjs\uff0c\u8fd8\u6709c#\u7684async/await\u5bf9\u6bd4go\u7684goroutine\u3002\\n\\nasync/await\u7684\u4f18\u70b9\u662f\u4e0d\u9700\u8981\u4e3a\u6bcf\u4e2acoroutine\u5206\u914d\u5355\u72ec\u7684\u6808\u5185\u5b58\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u95ed\u5305\u4fdd\u5b58\u72b6\u6001\uff0c\u907f\u514d\u4e86\u5185\u5b58\u6d6a\u8d39\uff1b\u5728\u8c03\u5ea6\u4e0a\u4e5f\u66f4\u52a0\u7075\u6d3b\uff0c\u53ef\u4ee5\u8ba9\u7528\u6237\u624b\u52a8\u8c03\u5ea6\uff1b\u53e6\u5916\u5728\u5b9e\u73b0\u4e0a\u4e5f\u4e0d\u9700\u8981\u6539\u52a8\u865a\u62df\u673a\uff0c\u53ea\u8981\u5728\u8bed\u8a00\u5c42\u9762\u52a0\u4e0agenerator\u7684\u652f\u6301\u5c31\u53ef\u4ee5\u5b9e\u73b0\u3002\u90a3\u4e48\u662f\u4e0d\u662f\u53ef\u4ee5\u8ba4\u4e3aasync/await\u662f\u4e00\u4e2a\u66f4\u597d\u7684\u5f02\u6b65\u65b9\u6848\u5462\uff1f\\n\\n\x3c!--truncate--\x3e\\n\\n## \u56de\u7b54\\n\\n### \u4e54\u6377\\n\\n> \u539f\u6587 [\u4e54\u6377](https://www.zhihu.com/question/65647171/answer/233781797)\\n\u81ea\u7b54\u4e00\u6ce2\uff0c\u597d\u591a\u7b54\u6848\u91cc\u4f3c\u4e4e\u90fd\u641e\u9519\u4e86\u6982\u5ff5\uff0c\u5bfc\u81f4\u4e86\u4e00\u4e9b\u65e0\u8c13\u7684\u4e89\u8bae\u3002\u8fd9\u91cc\u8c08\u4e00\u4e0b\u6211\u7684\u7406\u89e3\u3002\\n\\n\u9996\u5148coroutine\\n\u662f\u4e2a\u5f88\u5bbd\u6cdb\u7684\u6982\u5ff5\uff0casync/await\\n\\n\u4e5f\u5c5e\u4e8ecoroutine\u7684\u4e00\u79cd\u3002\u4f46\u662f\u95ee\u9898\u662f\u62ffasync/await\u548cstackful coroutine\u6bd4\u8f83\u3002\u6240\u8c13stackful\u662f\u6307\u6bcf\u4e2acoroutine\u6709\u72ec\u7acb\u7684\u8fd0\u884c\u6808\uff0c\u6bd4\u5982\u6bcf\u4e2agoroutine\u4f1a\u5206\u914d\u4e00\u4e2a4k\u7684\u5185\u5b58\u6765\u505a\u4e3a\u8fd0\u884c\u6808\uff0c\u5207\u6362goroutine\u7684\u65f6\u5019\u8fd0\u884c\u6808\u4e5f\u4f1a\u5207\u6362\u3002stackful\u7684\u597d\u5904\u5728\u4e8e\u8fd9\u79cdcoroutine\u662f\u5b8c\u6574\u7684\uff0ccoroutine\u53ef\u4ee5\u5d4c\u5957\u3001\u5faa\u73af\u3002\\n\\n\u4e0estackful\u5bf9\u5e94\u7684\u662fstackless coroutine\uff0c\u6bd4\u5982generator,continuation\\n\uff0c\u8fd9\u7c7bcoroutine\u4e0d\u9700\u8981\u5206\u914d\u5355\u72ec\u7684\u6808\u7a7a\u95f4\uff0ccoroutine\u72b6\u6001\u4fdd\u5b58\u5728\u95ed\u5305\u91cc\uff0c\u4f46\u7f3a\u70b9\u662f\u529f\u80fd\u6bd4\u8f83\u5f31\uff0c\u4e0d\u80fd\u88ab\u5d4c\u5957\u8c03\u7528\uff0c\u4e5f\u6ca1\u529e\u6cd5\u548c\u5f02\u6b65\u51fd\u6570\\n\\n\u914d\u5408\u4f7f\u7528\u8fdb\u884c\u63a7\u5236\u6d41\u7684\u8c03\u5ea6\uff0c\u6240\u4ee5\u57fa\u672c\u4e0a\u6ca1\u529e\u6cd5\u8ddfstackful coroutine\u505a\u6bd4\u8f83\u3002\\n\\n\u4f46\u662fasync/await\u7684\u51fa\u73b0\uff0c\u5b9e\u73b0\u4e86\u57fa\u4e8estackless coroutine\u7684\u5b8c\u6574coroutine\u3002\u5728\u7279\u6027\u4e0a\u5df2\u7ecf\u975e\u5e38\u63a5\u8fd1stackful coroutine\u4e86\uff0c\u4e0d\u4f46\u53ef\u4ee5\u5d4c\u5957\u4f7f\u7528\u4e5f\u53ef\u4ee5\u652f\u6301try catch\u3002\u6240\u4ee5\u662f\u4e0d\u662f\u53ef\u4ee5\u8ba4\u4e3aasync/await\u662f\u4e00\u4e2a\u66f4\u597d\u7684\u65b9\u6848\uff1f\\n\\n\u6700\u540e\u6709\u4e2a\u533f\u540d\u7528\u6237\u6b7b\u6d3b\u5728\u54ea\u91cc\u7ea0\u7ed3\u5e76\u53d1\u9700\u8981\u591a\u7ebf\u7a0b\uff0c\u8fd9\u91cc\u6211\u7edf\u4e00\u505a\u4e2a\u56de\u590d\u3002\u5f88\u591a\u4eba\u662f\u4ece\u591a\u6838\u65f6\u4ee3\u5165\u884c\u7684\uff0c\u770b\u5230\u7684\u5f02\u6b65\u6846\u67b6\u90fd\u662f\u4f7f\u7528\u4e86\u7ebf\u7a0b\u6c60\uff0c\u6240\u4ee5\u60f3\u5f53\u7136\u7684\u8ba4\u4e3a\u5e76\u53d1\u5fc5\u987b\u4f9d\u8d56\u591a\u7ebf\u7a0b\u53bb\u5904\u7406\uff0c\u66f4\u6709\u4eba\u8fde\u5e76\u53d1\u548c\u5e76\u884c\u7684\u6982\u5ff5\u90fd\u641e\u6df7\uff0c\u8ba4\u4e3a\u5355\u6838CPU\u5c31\u4e0d\u80fd\u5e76\u53d1\u4e86\u3002\u5b9e\u9645\u4e0a\u5e76\u53d1\u8fd9\u4e2a\u6982\u5ff5\u5728\u6ca1\u6709\u591a\u6838CPU\u751a\u81f3\u6ca1\u6709\u7ebf\u7a0b\u7684\u5e74\u4ee3\uff08\u65e9\u671f\u7684Linux\u662f\u6ca1\u6709\u7ebf\u7a0b\u7684\uff09\u5c31\u6709\u4e86\u3002\u5e76\u53d1\u4e00\u822c\u7279\u6307IO\uff0cIO\u662f\u72ec\u7acb\u4e8eCPU\u7684\u8bbe\u5907\uff0cIO\u8bbe\u5907\u901a\u5e38\u8fdc\u8fdc\u6162\u4e8eCPU\uff0c\u6240\u4ee5\u6211\u4eec\u5f15\u5165\u4e86\u5e76\u53d1\u7684\u6982\u5ff5\uff0c\u8ba9CPU\u53ef\u4ee5\u4e00\u6b21\u6027\u53d1\u8d77\u591a\u4e2aIO\u64cd\u4f5c\u800c\u4e0d\u7528\u7b49\u5f85IO\u8bbe\u5907\u505a\u5b8c\u4e00\u4e2a\u64cd\u4f5c\u518d\u505a\u4ee4\u4e00\u4e2a\u3002\u600e\u4e48\u5b9e\u73b0\u5462\uff1f\u539f\u7406\u5c31\u662f\u975e\u963b\u585e\u64cd\u4f5c+\u4e8b\u4ef6\u901a\u77e5\uff0c\u5728\u6838\u5fc3\u6001\u975e\u963b\u585e\u64cd\u4f5c\u5bf9\u5e94\u7684\u662f\u8bfb\u5199\u7aef\u53e3\u548cDMA\uff0c\u800c\u4e8b\u4ef6\u901a\u77e5\u5219\u6709\u4e13\u95e8\u7684\u672f\u8bed\u53eb\u4e2d\u65ad\u54cd\u5e94\u3002\u8fc7\u7a0b\u67092\u79cd\uff0c\u4e00\u79cd\u662fIO\u8bbe\u5907\u53d1\u8d77\u4e2d\u65ad\u544a\u8bc9CPU\u73b0\u5728\u53ef\u4ee5\u8fdb\u884cIO\u64cd\u4f5c\uff0c\u7136\u540eCPU\u8fdb\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u8fd8\u6709\u4e00\u79cd\u662fCPU\u5148\u53d1\u8d77IO\u64cd\u4f5c\uff0c\u7136\u540eIO\u8bbe\u5907\u5b8c\u6210\u5904\u7406\u540e\u53d1\u8d77\u4e2d\u65ad\u544a\u8bc9CPU\u64cd\u4f5c\u5b8c\u6210\u3002\u5728\u6838\u5fc3\u6001\u662f\u4e0d\u5b58\u5728\u591a\u7ebf\u7a0b\u8fd9\u79cd\u6982\u5ff5\u7684\uff0c\u4e00\u5207\u90fd\u662f\u5f02\u6b65\u7684\u4e8b\u4ef6\u9a71\u52a8\uff08\u4e2d\u65ad\u54cd\u5e94\uff09\uff0c\u7ebf\u7a0b\u662f\u6838\u5fc3\u7ed9\u7528\u6237\u6001\u63d0\u4f9b\u7684\u9ad8\u5c42\u6982\u5ff5\uff0c\u7ebf\u7a0b\u672c\u8eab\u4e5f\u4f9d\u8d56\u4e2d\u65ad\u6765\u8fdb\u884c\u8c03\u5ea6\u3002\u65e9\u671f\u7684\u7528\u6237\u6001IO\u5e76\u53d1\u5904\u7406\u662f\u7528poll(select)\u6a21\u578b\u53bb\u8f6e\u8be2IO\u72b6\u6001\uff0c\u7136\u540e\u53d1\u8d77\u76f8\u5e94\u7684IO\u64cd\u4f5c\uff0c\u79f0\u4e4b\u4e3a\u4e8b\u4ef6\u54cd\u5e94\u5f0f\u7684\u5f02\u6b65\u6a21\u578b\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5e76\u4e0d\u5bb9\u6613\u4f7f\u7528\uff0c\u6240\u4ee5\u53c8\u53d1\u5c55\u51fa\u4e86\u963b\u585e\u5f0fIO\u64cd\u4f5c\uff0c\u8ba9\u903b\u8f91\u6302\u8d77\u5e76\u7b49\u5f85IO\u5b8c\u6210\uff0c\u4e3a\u4e86\u8ba9\u963b\u585e\u5f0fIO\u80fd\u591f\u5e76\u53d1\u5c31\u5fc5\u987b\u4f9d\u8d56\u591a\u7ebf\u7a0b\u6216\u8005\u591a\u8fdb\u7a0b\u6a21\u578b\u6765\u5b9e\u73b0\u3002\u4f46\u662f\u7ebf\u7a0b\u7684\u5f00\u9500\u662f\u975e\u5e38\u5927\u7684\uff0c\u5f53\u9047\u5230\u5927\u89c4\u6a21\u5e76\u53d1\u7684\u65f6\u5019\u591a\u7ebf\u7a0b\u6a21\u578b\u5c31\u65e0\u6cd5\u80dc\u4efb\u4e86\u3002\u6240\u4ee5\u5927\u89c4\u6a21\u5e76\u53d1\u65f6\u6211\u4eec\u53c8\u9000\u56de\u53bb\u4f7f\u7528\u4e8b\u4ef6\u54cd\u5e94\uff0cepoll\u5728\u672c\u8d28\u4e0a\u8fd8\u662fpoll\u6a21\u578b\uff0c\u53ea\u662f\u5728\u7b97\u6cd5\u4e0a\u4f18\u5316\u4e86\u5b9e\u73b0\uff0c\u6b64\u65f6\u6211\u4eec\u53ea\u7528\u5355\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u5904\u7406\u4e0a\u4e07\u7684\u5e76\u53d1\u8bf7\u6c42\u4e86\u3002\u76f4\u5230\u591a\u6838CPU\u7684\u51fa\u73b0\uff0c\u6211\u4eec\u53d1\u73b0\u53ea\u7528\u4e00\u4e2a\u7ebf\u7a0b\u662f\u65e0\u6cd5\u53d1\u6325\u591a\u6838CPU\u7684\u5a01\u529b\u7684\uff0c\u6240\u4ee5\u518d\u6b21\u5f15\u5165\u7ebf\u7a0b\u6c60\u6765\u5206\u644aIO\u64cd\u4f5c\u7684CPU\u6d88\u8017\uff0c\u751a\u81f3CPU\u7684\u4e2d\u65ad\u54cd\u5e94\u4e5f\u53ef\u4ee5\u7531\u591a\u4e2a\u6838\u6765\u5206\u644a\u6267\u884c\uff0c\u6b64\u65f6\u7684\u7ebf\u7a0b\u6570\u91cf\u662f\u5927\u81f4\u7b49\u4e8eCPU\u7684\u6838\u5fc3\u6570\u800c\u8fdc\u5c0f\u4e8e\u5e76\u53d1IO\u6570\u7684\uff08\u8fd9\u65f6CPU\u80fd\u5904\u7406\u767e\u4e07\u7ea7\u7684\u5e76\u53d1\uff09\uff0c\u7ebf\u7a0b\u7684\u5f15\u5165\u5b8c\u5168\u662f\u4e3a\u4e86\u8d1f\u8f7d\u5747\u8861\u800c\u8ddf\u5e76\u53d1\u6ca1\u6709\u5173\u7cfb\u3002\u6240\u4ee5\u4e0d\u7ba1\u662f\u7528select/epoll/iocp\u5728\u903b\u8f91\u5c42\u90fd\u7ed5\u4e0d\u5f00\u57fa\u4e8e\u4e8b\u4ef6\u54cd\u5e94\u7684\u5f02\u6b65\u64cd\u4f5c\uff0c\u9762\u5bf9\u5f02\u6b65\u903b\u8f91\u672c\u8eab\u7684\u590d\u6742\u6027\uff0c\u6211\u4eec\u624d\u5f15\u5165\u4e86async/await\u4ee5\u53cacoroutine\u6765\u964d\u4f4e\u590d\u6742\u6027\u3002\\n\\n### \u6731\u5143\\n\\n> \u539f\u6587 [\u6731\u5143](https://www.zhihu.com/question/65647171/answer/233495694)\\n\\n\u6211\u4eec\u8981\u5148\u60f3\u6e05\u695a:\u95ee\u9898\u662f\u4ec0\u4e48\uff1f\\n\\n\\n\u5f53\u4ee3\u7801\u9047\u5230\u4e00\u4e2a\u201c\u6682\u65f6\u4e0d\u80fd\u5b8c\u6210\u201d\u7684\u6d41\u7a0b\u65f6\uff08\u4f8b\u5982\u5efa\u7acb\u4e00\u4e2atcp\u94fe\u63a5\uff0c\u53ef\u80fd\u9700\u89815ms\u624d\u80fd\u5efa\u7acb\uff09\uff0c\u4ed6\u4e0d\u60f3\u963b\u585e\u5728\u8fd9\u91cc\u7761\u7720\uff0c\u60f3\u6682\u65f6\u79bb\u5f00\u73b0\u573ayield\\n\\n\u53bb\u5e72\u70b9\u522b\u7684\u4e8b\u60c5\uff08\u4f8b\u5982\u770b\u770b\u53e6\u5916\u4e00\u4e2a\u5df2\u7ecf\u5efa\u7acb\u7684\u94fe\u63a5\u662f\u5426\u53ef\u4ee5\u6536\u5305\u4e86\uff09\u3002\u95ee\u9898\u662f\uff1a\u79bb\u5f00\u73b0\u573a\u540e\uff0c\u5f53\u4f60\u56de\u6765\u7684\u65f6\u5019\uff0c\u4e0a\u4e0b\u6587\u8fd8\u50cf\u4f60\u8d70\u7684\u65f6\u5019\u5417\uff1f\\n\\n\\n\u8df3\u8f6c\u79bb\u5f00\uff0c\u5728\u4efb\u4f55\u8bed\u8a00\u91cc\u90fd\u67092\u79cd\u6700\u57fa\u672c\u7684\u65b9\u6cd5\uff1a1\uff09\u4ece\u5f53\u524d\u51fd\u6570\u8fd4\u56de\uff1b 2\uff09\u8c03\u7528\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u3002 \u524d\u8005\u4f1a\u628a\u4e0a\u4e0b\u6587\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u51fd\u6570\u53c2\u6570\u5168\u90e8\u6467\u6bc1\uff0c\u9664\u975e\u4ed6\u8fd4\u56de\u524d\u628a\u8fd9\u4e9b\u53d8\u91cf\u627e\u4e2a\u522b\u7684\u5730\u65b9\u4fdd\u5b58\u8d77\u6765\uff1b\u540e\u8005\u5219\u80fd\u4fdd\u62a4\u4f4f\u6574\u4e2a\u4e0a\u4e0b\u6587\u7684\u5185\u5b58\uff08\u9664\u4e86\u51fd\u6570\u8fd4\u56de\u4e4b\u540e\u4f1a\u6467\u6bc1\u4e00\u4e9b\u6211\u4eec\u9ad8\u7ea7\u8bed\u8a00\u6240\u770b\u4e0d\u89c1\u7684\u5bc4\u5b58\u5668\uff09\uff0c\u800c\u4e14\u8df3\u8f6c\u56de\u6765\u4e5f\u662f\u5e38\u89c4\u65b9\u6cd5\uff1a\u51fd\u6570\u8fd4\u56de\u3002\\n\\n\\nasync/await\u548c\u6709\u6808\u534f\u7a0b\u7684\u533a\u522b\u5c31\u5728\u4e8e\uff0c\u5728\u8fd9\u91cc\u5206\u522b\u9009\u7528\u4e86\u8fd92\u79cd\u65b9\u6cd5\uff1a\\n\\n\\n\u524d\u8005\uff08async/await\uff09\u5728\u51fd\u6570\u8fd4\u56de\u524d\u628a\u90a3\u4e9b\u53d8\u91cf\u4e34\u65f6\u4fdd\u5b58\u5728\u5806\u7684\u67d0\u4e2a\u5730\u65b9\uff0c\u7136\u540e\u628a\u5b58\u653e\u5730\u5740\u4f20\u56de\u53bb\uff0c\u5f53\u4f60\u60f3\u8fd4\u56de\u73b0\u573a\u7684\u65f6\u5019\uff0c\u628a\u8fd9\u4e9b\u53d8\u91cf\u6062\u590d\uff0c\u5e76\u8df3\u8f6c\u56de\u79bb\u5f00\u65f6\u5019\u90a3\u4e2a\u8bed\u53e5\uff1b\u6301\u6709\u6307\u9488\u8bed\u4e49\u7684c/c++\u8bed\u8a00\u5219\u7565\u9ebb\u70e6\uff1a\u56e0\u4e3a\u53ef\u80fd\u8fd9\u4e9b\u5c40\u90e8\u53d8\u91cf\u4e2d\u6709\u8c01\u6301\u6709\u53e6\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\u7684\u5730\u5740\uff0c\u8fd9\u6837\u201c\u503c\u8bed\u4e49\u201d\u7684\u6062\u590d\u5c31\u4f1a\u628a\u4ed6\u4eec\u53d8\u6210\u91ce\u6307\u9488\uff0c\u6240\u4ee5\u9700\u8981\u5728\u8fdb\u5165\u51fd\u6570\u65f6\u6240\u6709\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u51fd\u6570\u53c2\u6570\u90fd\u5728\u5806\u4e0a\u5206\u914d\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u6709\u8c01\u6301\u6709\u79bb\u5f00\u65f6\u6808\u4e0a\u4e0b\u6587\u7684\u6307\u9488\u4e86\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u5bf9c/c++\u6765\u8bf4\uff0c\u8fd9\u662f\u4e00\u79cd\u65e0\u6808\u534f\u7a0b(\u6709\u4e9b\u81ea\u5df1\u5199\u7684\u65e0\u6808\u534f\u7a0b\u5e93\u63d0\u4f9b\u4f60\u5728\u5806\u4e0a\u9762\u5206\u914d\u5c40\u90e8\u53d8\u91cf\u7684\u63a5\u53e3\uff0c\u6216\u8005\u5f3a\u8feb\u4f60\u5728\u8fdb\u5165\u8fd9\u4e2a\u51fd\u6570\u524d\u628a\u8981\u7528\u5230\u7684\u6240\u6709\u5c40\u90e8\u53d8\u91cf\u5728\u5806\u4e0a\u9762\u5206\u914d\u597d\u5185\u5b58)\uff0c\u5176\u5b83\u8bed\u8a00\u53ea\u8981\u6ca1\u6709\u503c\u8bed\u4e49\u6216\u53d8\u91cf\u5929\u751f\u4e0d\u653e\u6808\u4e0a\u5c31\u6ca1\u8fd9\u4e2a\u6982\u5ff5\u3002\u5982\u679c\u4f7f\u7528\u95ed\u5305\u8bed\u6cd5\u8fd4\u56de\u73b0\u573a\uff0c\u53ef\u4ee5\u53ea\u9700\u8981\u6062\u590d\u95ed\u5305\u4e2d\u6355\u83b7\u7684\u53d8\u91cf\uff1b\u5bf9\u4e8ec++\uff0c\u5728\u79bb\u5f00\u73b0\u573a\u65f6\u4e0d\u80fd\u63d0\u524d\u6790\u6784\u6389\u90a3\u4e9b\u6ca1\u6709\u88ab\u6355\u83b7\u7684\u53d8\u91cf\uff08\u5426\u5219\u6790\u6784\u987a\u5e8f\u672a\u5fc5\u662f\u6784\u9020\u987a\u5e8f\u7684\u53cd\u5e8f\uff0c\u5176\u5b9e\u8fd9\u4e2ac++\u89c4\u5219\u771f\u662f\u6ca1\u5fc5\u8981\uff09\u3002\u6240\u4ee5\u4eceC++\u7684\u89c2\u70b9\u6765\u8bf4\uff0c\u8fd9\u662f\u4e00\u79cd\u5f7b\u5934\u5f7b\u5c3e\u7684\u201c\u5047\u201d\u51fd\u6570\u8fd4\u56de(\u6709\u5783\u573e\u56de\u6536\u5668\u7684\u8bed\u8a00\u5012\u662f\u6709\u53ef\u80fd\u8d70\u5230async\u4e4b\u540e\u7684\u8bed\u53e5\u540e\uff0c\u56de\u6536\u524d\u9762\u5df2\u7ecf\u4e0d\u7528\u7684\u4e34\u65f6\u53d8\u91cf)\u3002\\n\\n\\n\u540e\u8005\uff08\u6709\u6808\u534f\u7a0b\uff09\u5728\u79bb\u5f00\u524d\u53ea\u9700\u8981\u628a\u51fd\u6570\u8c03\u7528\u4e2d\u53ef\u80fd\u88ab\u7834\u574f\u7684callee-saved \u5bc4\u5b58\u5668\u7ed9\u4fdd\u5b58\u5728\u5f53\u524d\u6808\u5c31\u5b8c\u4e8b\u4e86\uff08\u522b\u7684\u534f\u7a0b\u548c\u5f53\u524d\u534f\u7a0b\u6808\u662f\u5b8c\u5168\u9694\u79bb\u7684\uff0c\u4e0d\u4f1a\u7834\u574f\u81ea\u5df1\u5806\u6808\uff09\uff0c\u8df3\u8f6c\u56de\u6765\u7684\u65f6\u5019\u628a\u5728\u6808\u4e2d\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668\\n\\n\u90fd\u6062\u590d\u4e86\u5e76\u8df3\u8f6c\u56de\u79bb\u5f00\u65f6\u5019\u90a3\u4e2a\u8bed\u53e5\u5c31\u884c\u4e86\u3002\\n\\n\\n\u7efc\u4e0a\uff1a\u524d\u8005\uff08\u5c24\u5176\u662fc\u3001c++\uff09\u9700\u8981\u7f16\u8bd1\u5668\u7684\u7279\u6b8a\u652f\u6301\uff0c\u5bf9\u4f7f\u7528\u4e86async/await\u8bed\u4e49\u7684\u51fd\u6570\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\u7684\u5206\u914d\uff0c\u6062\u590d\u8fdb\u884c\u4e9b\u7279\u6b8a\u7684\u5904\u7406\uff1b\u540e\u8005\u5219\u53ea\u9700\u8981\u5199\u5199\u6c47\u7f16\u5c31\u641e\u5b9a\u4e86\uff08\u4e00\u822c\u9700\u8981\u7ed9 \u8fdb\u5165\u534f\u7a0b\u5165\u53e3\u51fd\u6570\uff0c\u534f\u7a0b\u95f4\u5207\u6362\uff0c\u534f\u7a0b\u51fd\u6570\u5165\u53e3\u51fd\u6570\u8fd4\u56de\u540e\u56de\u6536\u534f\u7a0b\u8d44\u6e90\u5e76\u5207\u6362\u53bb\u53e6\u4e00\u4e2a\u534f\u7a0b \u8fd93\u4e2a\u5730\u65b9\u5199\u70b9\u6c47\u7f16\uff0c\u4e5f\u6709\u7684\u534f\u7a0b\u5e93\u628a\u8fd93\u79cd\u60c5\u51b5\u90fd\u7edf\u4e00\u8d77\u6765\u5904\u7406\uff09\u3002\\n\\n\\n\u8c01\u4f18\u8c01\u52a3\u5462\uff1f\\n\\n\\n\u8bed\u6cd5\u53cb\u597d\u5ea6\uff1a\u8861\u91cf\u8fd9\u4e2a\u73a9\u610f\u513f\u7684\u6807\u51c6\uff0c\u83ab\u8fc7\u4e8e\u201c\u903b\u8f91\u805a\u5408\u6027\u201d\uff1a\u903b\u8f91\u76f8\u5173\u7684\u4ee3\u7801\u80fd\u5426\u5199\u5728\u76f8\u8fd1\u7684\u4ee3\u7801\u5904\u3002\u4f8b\u5982 redis/nginx\u4e2d\u5904\u5904\u53ef\u89c1\u8fd9\u79cd\u4e0a\u4e0b\u6587\u88ab\u5206\u5272\u7684\u4ee3\u7801\uff0c\u56e0\u4e3a\u4efb\u4f55\u4e00\u4e2a\u201c\u6682\u65f6\u4e0d\u80fd\u5b8c\u6210\u201c\u7684\u573a\u666f\u90fd\u4f1a\u628a\u573a\u666f\u524d\u540e\u4ee3\u7801\u903b\u8f91\u5199\u5728\u5b8c\u5168\u4e0d\u540c\u7684\u4e24\u4e2a\u51fd\u6570\u91cc\u3002\u3002\u5bf9\u4e8easync/await \u6216\u65e0\u6808\u534f\u7a0b\u8bed\u4e49\uff0cc/c++\u5728\u6ca1\u6709\u95ed\u5305\u4e4b\u524d\u7684\uff0c\u8fd8\u9700\u8981\u8fbe\u592b\u8bbe\u5907\u8df3\u8f6c\u56de\u79bb\u5f00\u73b0\u573a\u7684\u90a3\u884c\u4ee3\u7801\uff0c\u6709\u4e86\u95ed\u5305\u4e4b\u540e\uff0c\u4e0a\u4e0b\u6587\u4e4b\u95f4\u5c31\u53ea\u88ab`return ( [xxx](){` \u5206\u5f00\u4e86\uff0c\u4ee3\u7801\u53ef\u4ee5\u8ba4\u4e3a\u57fa\u672c\u6ca1\u6709\u88ab\u5206\u5272( C# \u65b0\u7248js, VC\u548cclang\u5b9e\u9a8c\u6027\u7684resumable function\u8fde\u8fd9\u70b9\u5206\u5f00\u90fd\u6ca1\u6709\u4e86)\uff1b\u4e0d\u8fc7\u4f9d\u7136\u8fdc\u8fdc\u6bd4\u4e0d\u4e0a\u6709\u6808\u534f\u7a0b\uff0c\u56e0\u4e3a\u4ed6\u8bed\u6cd5\u5b8c\u5168\u662f\u5e38\u89c4\u7684\u51fd\u6570\u8c03\u7528/\u51fd\u6570\u8fd4\u56de\uff0c\u4f7f\u7528hook\u4e4b\u7c7b\u7684\u624b\u6cd5\u751a\u81f3\u53ef\u4ee5\u628a\u5df2\u6709\u7684\u963b\u585e\u4ee3\u7801\u81ea\u52a8yield\u52a0\u65e0\u963b\u585e\u5316\uff08\u53c2\u89c1libco, libgo\uff09\u3002\u53ef\u4ee5\u8ba4\u4e3a\u5728\u8fd9\u4e00\u9879\uff1a\u524d\u8005\u5728\u5f97\u5230\u73b0\u4ee3\u5316\u7f16\u8bd1\u5668\u8f85\u52a9\u540e\uff0c\u548c\u540e\u8005\u76f8\u8fd1\u4f46\u4f9d\u7136\u6709\u5dee\u8ddd\u4e14\u5bb9\u6613\u5bf9\u4e00\u4e9b\u5e38\u8bc6\u4ea7\u751f\u6311\u6218\uff1b\u540e\u8005\u8bed\u6cd5\u975e\u5e38\u9002\u5408\u4f20\u7edf\u7f16\u7a0b\u903b\u8f91\u3002\\n\\n\\n\u65f6\u95f4/\u7a7a\u95f4\u6548\u7387\uff1aasync/await \u8bed\u4e49\u6267\u884c\u7684\u662f\u4f20\u7edf\u7684\u51fd\u6570\u8c03\u7528\u51fd\u6570\u8fd4\u56de\u6d41\u7a0b\uff0c\u6ca1\u6709\u5bf9\u6808\u6307\u9488\u8fdb\u884c\u624b\u5de5\u4fee\u6539\u64cd\u4f5c\uff0ccpu\u5bf9return stack buffer\u7684\u8df3\u8f6c\u9884\u6d4b\u4f18\u5316\u7ee7\u7eed\u6709\u6548\uff1b\u6709\u6808\u534f\u7a0b\u9700\u8981\u5728\u521b\u5efa\u65f6\u6839\u636e\u534f\u7a0b\u4ee3\u7801\u6267\u884c\u7684\u6700\u574f\u60c5\u51b5\u63d0\u524d\u5206\u914d\u597d\u534f\u7a0b\u51fd\u6570\u7684\u6808\uff0c\u8fd9\u5f80\u5f80\u90fd\u5206\u914d\u7684\u8fc7\u5927\u800c\u7f3a\u4e4f\u7a7a\u95f4\u6548\u7387\uff0c\u800c\u4e14\u5728\u534f\u7a0b\u95f4\u5207\u6362\u7684\u65f6\u5019\u624b\u5de5\u5207\u6362\u6808\uff0c\u4ece\u800c\u7834\u574f\u4e86return stack buffer\u8df3\u8f6c\u9884\u6d4b\uff0c\u534f\u7a0b\u5207\u6362\u540e\u51fd\u6570\u7684\u6bcf\u4e00\u6b21\u8fd4\u56de\u90fd\u610f\u5473\u7740\u4e00\u6b21\u8df3\u8f6c\u9884\u6d4b\u5931\u6548\uff0c\u6240\u4ee5\u6d41\u7a0b\u8d8a\u590d\u6742\u6709\u6808\u534f\u7a0b\u7684\u5207\u6362\u5f00\u9500\u8d8a\u5927\uff08\u975e\u5bf9\u79f0\u8c03\u5ea6\u7684\u6709\u6808\u534f\u7a0b\u4f1a\u964d\u4f4e\u4e00\u4e9b\u8fd9\u65b9\u9762\u7684\u5f00\u9500\uff0cboost\u65b0\u7248\u6709\u6808\u534f\u7a0b\u5f7b\u5e95\u629b\u5f03\u4e86\u5bf9\u79f0\u534f\u7a0b\uff09\u3002\u5bf9\u4e8easync/await \u8bed\u4e49\u5b9e\u8df5\u7684\u65e0\u6808\u534f\u7a0b\uff0c\u5982\u679c\u5141\u8bb8\u63d0\u524d\u6790\u6784\u4e0d\u88ab\u6355\u83b7\u7684C++\u53d8\u91cf\uff0c\u6216\u8005\u4f60\u8fd4\u56de\u524d\u624b\u5de5\u9500\u6bc1\u6216\u8005\u4f60\u7528\u7684\u662f\u5e26\u5783\u573e\u56de\u6536\u5668\u7684\u8bed\u8a00\uff0c\u7a7a\u95f4\u6548\u7387\u4f1a\u66f4\u4f73\u3002 \u53ef\u4ee5\u8ba4\u4e3a\u5728\u8fd9\u4e00\u9879\uff1a\u524d\u8005\u8fdc\u80dc\u540e\u8005\uff0c\u800c\u4e14\u540e\u8005\u4f1a\u968f\u7740\u4f60\u4e1a\u52a1\u590d\u6742\u5ea6\u52a0\u6df1\u4ee5\u53cacpu\u6d41\u6c34\u7ebf\u7684\u53d8\u957f\uff08\u8fd8\u597d\u59544\u8fc7\u540e\u7684\u67b6\u6784\u4e0d\u600e\u4e48\u6da8\u4e86\uff09\u800c\u4e0d\u65ad\u53d8\u5dee\u3002\u7b14\u8005\u5199\u7684yuanzhubi/call_in_stack yuanzhubi/local_hook\uff0c \u4ee5\u53ca\u4e00\u4e2a\u6ca1\u6709\u5f00\u6e90\u7684jump assembler\uff08\u628a\u6709\u6808\u534f\u7a0b\u5207\u6362\u540e\u7684\u4ee3\u7801\u8f93\u51fa\u7684\u6c47\u7f16\u8bed\u53e5\u4e2d\u7684ret\u6307\u4ee4\u5168\u90e8\u6362\u6210pop+jmp\u6307\u4ee4\u518d\u7f16\u8bd1\uff0c\u907f\u5f00return stack buffer \u9884\u6d4b\u5931\u8d25\uff09\u90fd\u662f\u6765\u4f18\u5316\u6709\u6808\u534f\u7a0b\u5728\u65f6\u95f4/\u7a7a\u95f4\u7684\u8868\u73b0\u7684 \u3002\\n\\n\\n\u8c03\u5ea6\uff1a\u5176\u5b9e2\u8005\u90fd\u662f\u5141\u8bb8\u7528\u6237\u81ea\u5df1\u53bb\u7ba1\u7406\u8c03\u5ea6\u4e8b\u5b9c\u7684\uff0c\u4e0d\u8fc7\u524d\u8005\u5fc5\u987b\u8fd4\u56de\u7531\u8c03\u5ea6\u51fd\u6570\u9009\u62e9\u4e0b\u4e00\u4e2a\u65e0\u6808\u534f\u7a0b\u7684\u5207\u5165\uff0c\u540e\u8005\u5141\u8bb8\u201d\u6df1\u5ea6\u4f18\u5148\u8c03\u5ea6\u201c\uff1a\u5373\u5f53\u67d0\u4e2a\u534f\u7a0b\u53d1\u73b0\u6709\u201c\u6682\u65f6\u4e0d\u80fd\u5b8c\u6210\u201c\u7684\u573a\u666f\u65f6\u81ea\u5df1\u53ef\u4ee5\u6839\u636e\u5f53\u524d\u573a\u666f\u9009\u62e9\u4e00\u4e2a\u903b\u8f91\u76f8\u5173\u7684\u534f\u7a0b\u8fdb\u884c\u5207\u5165\uff0c\u63d0\u5347\u5185\u5b58\u8bbf\u95ee\u5c40\u90e8\u6027\uff0c\u4e0d\u8fc7\u8fd9\u5bf9\u4f7f\u7528\u8005\u7684\u8981\u6c42\u548c\u4e1a\u52a1\u4fb5\u5165\u5ea6\u975e\u5e38\u9ad8\u3002\u3002\u6574\u4f53\u800c\u8a00\u7684\u8bdd\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u5728\u8fd9\u4e00\u9879\uff1a\u524d\u8005\u548c\u540e\u8005\u5927\u81f4\u6301\u5e73\uff0c\u524d\u8005\u662f\u96c6\u4e2d\u5f0f\u7ba1\u7406\u800c\u540e\u8005\u662f\u5206\u5e03\u5f0f\u7ba1\u7406\\n\\n\uff0c\u540e\u8005\u53ef\u4ee5\u6316\u6398\u7684\u6f5c\u529b\u66f4\u9ad8\u4f46\u5bf9\u4f7f\u7528\u8005\u8981\u6c42\u5f88\u9ad8\u4e14\u672a\u5fc5\u80fd\u9002\u5e94\u4e1a\u52a1\u7684\u53d8\u66f4\u3002\\n\\n\\n\u7ed3\u8bba\uff1a\u6027\u80fd\u4e0a\uff0c\u524d\u8005\u6709\u4e00\u5b9a\u65f6\u95f4\u4f18\u52bf\u4f46\u4e0d\u662f\u7cbe\u96d5\u7ec6\u7422\u7684\u591a\u7528\u9014\u516c\u5171\u5f00\u6e90\u7ec4\u4ef6\u5b8c\u5168\u53ef\u4ee5\u5ffd\u7565\uff0c\u800c\u7a7a\u95f4\u4e0a\u524d\u8005\u8d85\u8d8a\u540e\u8005\u5f88\u591a\uff1b\u6613\u7528\u5ea6\u4e0a\uff0c\u524d\u8005\u6b63\u5728\u5feb\u901f\u6f14\u8fdb \u6162\u6162\u7684\u8ffd\u4e0a\u540e\u8005\uff08c#\u8fd9\u6837\u7684async/await\u9f3b\u7956\u5df2\u7ecf\u5b8c\u5168\u4e0d\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898\uff09\uff1b\u548c\u5df2\u6709\u7ec4\u4ef6\u7684\u53ef\u7ed3\u5408\u5ea6\u4e0a\uff0c\u540e\u8005\u59cb\u7ec8\u4fdd\u6301\u4f18\u52bf\uff08\u4e0d\u7ba1\u5df2\u6709\u7ec4\u4ef6\u662f\u6e90\u7801\u8fd8\u662f\u4e8c\u8fdb\u5236\uff09\u3002\u5b70\u4f18\u5b70\u52a3\uff0c\u5982\u4f55\u4fa7\u91cd\uff0c\u5982\u4f55\u9009\u62e9\uff08\u5982\u679c\u4f60\u4eec\u6709\u9009\u62e9\u7684\u673a\u4f1a\u7684\u8bdd\uff09\uff0c\uff0c\u4e5f\u8bb8 \u7eaf\u5c5e\u4f60\u5934\u513f\u7684\u53e3\u5473\u95ee\u9898\u5427 \u54c8\u54c8\u54c8\u3002\\n\\n\u770b\u5230\u5f88\u591a\u540c\u5b66\u63d0\u72b6\u6001\u673a\uff0c\u5176\u5b9e\u8fd9\u79cd\u7406\u89e3\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898\uff0c\u800c\u662f\u4eba\u548c\u7f16\u8bd1\u5668\u7684\u89c2\u70b9\u6709\u6240\u4e0d\u540c\uff1a\u4eba\u4f1a\u62bd\u8c61\u51fa\u5f88\u591a\u72b6\u6001\uff0c\u5728\u75db\u82e6\u8fd9\u4e9b\u72b6\u6001\u5982\u4f55\u5728\u5404\u79cd\u4e0a\u4e0b\u6587\u8df3\u8f6c\u4e2d\u4f20\u9012\u548c\u4fdd\u5b58\uff08\u72b6\u6001\u673a\uff09; \u7f16\u8bd1\u5668\u5219\u5728\u75db\u82e6\u602a\u5f02\u7684\u4e0a\u4e0b\u6587\u8df3\u8f6c\u4e2d\uff0c\u5c40\u90e8\u53d8\u91cf\u7684\u4fdd\u5b58\u548c\u6062\u590d(\u65e0\u6808\u534f\u7a0b)\u3002 \u524d\u8005\u4f1a\u81ea\u884c\u51b3\u5b9a\u67d0\u4e9b\u5c40\u90e8\u53d8\u91cf\u662f\u201c\u771f\u7684\u5c40\u90e8\u201d\u53d8\u91cf\uff0c\u540e\u7eed\u65e0\u9700\u6062\u590d\u4e86\uff1b\u540e\u8005\u4f1a\u628a\u4ed6\u4eec\u5168\u76d8\u8003\u8651\u4e0b\u6765\uff0c\u628a\u6240\u6709\u7684\u91cf\u90fd\u8981\u5728\u5404\u4e2a\u72b6\u6001\u95f4\u4f20\u9012\u548c\u4fdd\u5b58\uff08\u5f53\u7136\u6709\u7684\u8bed\u8a00\u53ef\u4ee5\u667a\u80fd\u4e9b\uff0c\u6309\u9700\u4f20\u9012\uff09\u3002\u4ece\u672c\u8d28\u6765\u8bf4\uff0c\u5982\u679c\u662f\u7531\u7f16\u8bd1\u5668\u6765\u73a9\u72b6\u6001\u673a\u5b9e\u73b0\u7684async/await\u548c\u65e0\u6808\u534f\u7a0b\u7684\uff0c\u6982\u5ff5\u4e0a\u6ca1\u6709\u4ec0\u4e48\u533a\u522b\u3002 \u4eba\u624d\u8bf4\u72b6\u6001\uff0c\u673a\u5668\u53ea\u8bf4\u53d8\u91cf\uff0c\u5185\u5b58\u8fd9\u4e9b\u3002"},{"id":"/2022/06/17/typescript-ignore-rules","metadata":{"permalink":"/blog/2022/06/17/typescript-ignore-rules","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-06-17-typescript-ignore-rules.md","source":"@site/src/blog/2022-06-17-typescript-ignore-rules.md","title":"TypeScript\u7981\u7528\u89c4\u5219","description":"\u539f\u6587 - How to Ignore and Disable TypeScript Rules","date":"2022-06-17T00:00:00.000Z","formattedDate":"June 17, 2022","tags":[{"label":"typescript","permalink":"/blog/tags/typescript"}],"readingTime":0.285,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"TypeScript\u7981\u7528\u89c4\u5219","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["typescript"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"async/await\u5f02\u6b65\u6a21\u578b\u662f\u5426\u4f18\u4e8estackful coroutine\u6a21\u578b\uff1f","permalink":"/blog/2022/07/12/why-async-await-better-stackful-coroutine"},"nextItem":{"title":"\u89e3\u51b3 TypeScript \u4e2d\u51fa\u73b0\u7684 \'this\' implicitly has type \'any\' error \u95ee\u9898","permalink":"/blog/2022/06/17/typescript-this-implicitly-has-type-any"}},"content":"[\u539f\u6587 - How to Ignore and Disable TypeScript Rules](https://smartdevpreneur.com/typescript-eslint-ignore-and-disable-type-rules/)\\n\\n\u5728TypeScript\u6587\u4ef6\u4e2d\u7981\u7528\u89c4\u5219:\\n\\n\x3c!--truncate--\x3e\\n\\n* `@ts-ignore` \u2013 TypeScript-ESLint syntax for ignoring TypeScript rules\\n* `eslint-disable-next-line` \u2013 ESLint and TypeScript-ESLint syntax for disabling non-ts rules\\n* `tslint:disable-next-line` \u2013 deprecated TSLint syntax\\n\\n\u4f8b\u5982:\\n\\n```typescript\\n// @ts-ignore\\nconst num :number = \'A\';\\n```"},{"id":"/2022/06/17/typescript-this-implicitly-has-type-any","metadata":{"permalink":"/blog/2022/06/17/typescript-this-implicitly-has-type-any","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-06-17-typescript-this-implicitly-has-type-any.md","source":"@site/src/blog/2022-06-17-typescript-this-implicitly-has-type-any.md","title":"\u89e3\u51b3 TypeScript \u4e2d\u51fa\u73b0\u7684 \'this\' implicitly has type \'any\' error \u95ee\u9898","description":"\u89e3\u51b3 TypeScript \u4e2d\u51fa\u73b0\u7684 \'this\' implicitly has type \'any\' error \u95ee\u9898","date":"2022-06-17T00:00:00.000Z","formattedDate":"June 17, 2022","tags":[{"label":"typescript","permalink":"/blog/tags/typescript"}],"readingTime":0.62,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u89e3\u51b3 TypeScript \u4e2d\u51fa\u73b0\u7684 \'this\' implicitly has type \'any\' error \u95ee\u9898","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["typescript"],"description":"\u89e3\u51b3 TypeScript \u4e2d\u51fa\u73b0\u7684 \'this\' implicitly has type \'any\' error \u95ee\u9898","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"TypeScript\u7981\u7528\u89c4\u5219","permalink":"/blog/2022/06/17/typescript-ignore-rules"},"nextItem":{"title":"\u8ba1\u7b97\u4e24\u4e2a\u77e9\u5f62\u91cd\u53e0\u9762\u79ef","permalink":"/blog/2022/06/11/calculate-tow-square-overlap"}},"content":"[\u539f\u6587 - Fix - \'this\' implicitly has type \'any\' error in TypeScript](https://bobbyhadz.com/blog/typescript-this-implicitly-has-type-any)\\n\\n\x3c!--truncate--\x3e\\n\\n\u5728TypeScript\u4e2d, \u5982\u679c\u5728class\u5916\u90e8\u6216\u8005function\u5185\u90e8\u4f7f\u7528`this`\u65f6, TypeScript\u65e0\u6cd5\u63a8\u5bfc\u51fa`this`\u7c7b\u578b, \u5bfc\u81f4\u63d0\u793a\u4ee5\u4e0b\u9519\u8bef:\\n\\n```\\n\'this\' implicitly has type \'any\' error\\n```\\n\\n\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u9700\u8981\u5728\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u6307\u5b9a`this`\u7684\u7c7b\u578b\u5373\u53ef:\\n\\n```typescript\\nclass Employee {\\n  constructor(public name: string, public salary: number) {\\n    this.name = name;\\n    this.salary = salary;\\n  }\\n}\\n\\ninterface Employee {\\n  getSalary(): number;\\n}\\n\\nEmployee.prototype.getSalary = function (this: Employee) { // add a parameter to type `this`\\n  return this.salary;\\n};\\n```"},{"id":"/2022/06/11/calculate-tow-square-overlap","metadata":{"permalink":"/blog/2022/06/11/calculate-tow-square-overlap","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-06-11-calculate-tow-square-overlap.md","source":"@site/src/blog/2022-06-11-calculate-tow-square-overlap.md","title":"\u8ba1\u7b97\u4e24\u4e2a\u77e9\u5f62\u91cd\u53e0\u9762\u79ef","description":"\u8ba1\u7b97\u4e24\u4e2a\u77e9\u5f62\u662f\u5426\u91cd\u53e0, \u4ee5\u53ca\u91cd\u53e0\u9762\u79ef","date":"2022-06-11T00:00:00.000Z","formattedDate":"June 11, 2022","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":1.94,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u8ba1\u7b97\u4e24\u4e2a\u77e9\u5f62\u91cd\u53e0\u9762\u79ef","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["javascript"],"description":"\u8ba1\u7b97\u4e24\u4e2a\u77e9\u5f62\u662f\u5426\u91cd\u53e0, \u4ee5\u53ca\u91cd\u53e0\u9762\u79ef","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3 TypeScript \u4e2d\u51fa\u73b0\u7684 \'this\' implicitly has type \'any\' error \u95ee\u9898","permalink":"/blog/2022/06/17/typescript-this-implicitly-has-type-any"},"nextItem":{"title":"\u5982\u4f55\u8bbe\u7f6eUbuntu 20.04 \u7684\u65f6\u533a","permalink":"/blog/2022/05/22/how-to-change-ubuntu-timezone"}},"content":"## \u7b97\u6cd5\u89e3\u91ca\\n\\n\u7b97\u6cd5\u903b\u8f91\u6765\u81ea [\u4e24\u4e2a\u77e9\u5f62\u7684\u76f8\u4ea4\u9762\u79ef\uff0c\u600e\u4e48\u6c42\u7b97\u6cd5\u6548\u7387\u76f8\u5bf9\u8f83\u9ad8\uff1f - ying xiong\u7684\u56de\u7b54 - \u77e5\u4e4e](https://www.zhihu.com/question/28854765/answer/42331859)\\n\\n\u5047\u8bbe\u77e9\u5f62\u7684\u8fb9\u90fd\u5e73\u884c\u4e8e\u5750\u6807\u8f74\uff0c\u5206\u522b\u8868\u793a\u4e3a`(left1,top1,right1,bottom1)`, `(left2,top2,right2,bottom2)`\uff0c\u5219\u76f8\u4ea4\u90e8\u5206\u5fc5\u5b9a\u4e5f\u662f\u77e9\u5f62\uff0c\u7b97 *\u957f x \u5bbd* \u5c31\u53ef\u4ee5.\\n\\n\x3c!--truncate--\x3e\\n\\n\u76f8\u4ea4\u90e8\u5206\u7684\u5bbd\uff0c\u53ef\u4ee5\u770b\u6210\u4e24\u4e2a\u77e9\u5f62\u7684\u5bbd\uff0c\u5728x\u8f74\u4e0a\u7684\u6295\u5f71\u7684\u957f\u5ea6, \u4e5f\u5c31\u662f\u4e24\u6761\u7ebf\u6bb5\u7684\u603b\u957f\u5ea6\uff0c\u51cf\u53bb\u91cd\u53e0\u4e4b\u540e\u65b0\u7ebf\u6bb5\u7684\u957f\u5ea6. \u6309\u4e0b\u56fe\u793a\u610f\uff0c\u7b97\u51fa A+B-W \u5c31\u53ef\u4ee5\u4e86:\\n![\u793a\u610f\u56fe](https://pic4.zhimg.com/80/90abf969396e4b3110419bfd2f24a56d_720w.jpg?source=1940ef5c)\\n\\n\u7528\u77e9\u5f62\u5750\u6807\u5957\u8fdb\u53bb\uff0c\u5c31\u662f `overlapX = (right1-left1)+(right2-left2) - ( max(right1,right2) - min(left1,left2) )`\u4e0d\u7ba1A B\u4e24\u6761\u7ebf\u6bb5\u600e\u4e48\u79fb\u6765\u79fb\u53bb\uff0c\u8c01\u957f\u8c01\u77ed\uff0c\u8fd9\u4e2a\u5f0f\u5b50\u90fd\u4e0d\u53d8\u7684\uff0c\u5982\u679c\u662f <=0\uff0c\u81ea\u7136\u662f\u6ca1\u6709\u76f8\u4ea4.\\n\\n\u540c\u7406\u518d\u7b97\u51fa\u9ad8\u5c31\u53ef\u4ee5\u4e86\u3002\\n\\n> \u4f5c\u8005\uff1aying xiong \\n> \u94fe\u63a5\uff1ahttps://www.zhihu.com/question/28854765/answer/42331859 \\n> \u6765\u6e90\uff1a\u77e5\u4e4e \\n> \u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002\\n\\n## JavaScript\u5b9e\u73b0\\n\\n```javascript\\n/**\\n * \u8ba1\u7b97\u91cd\u53e0\u9762\u79ef\\n * @param {{left: number, right: number, top: number, bottom: number}} pos1 \\n * @param {{left: number, right: number, top: number, bottom: number}} pos2 \\n */\\nfunction elementInterectArea(pos1, pos2) {\\n  const pos1Width = pos1.right - pos1.left;\\n  const pos1Height = pos1.bottom - pos1.top;\\n  const pos2Width = pos2.right - pos2.left;\\n  const pos2Height = pos2.bottom - pos2.top;\\n\\n  const axisOverlap = pos1Width + pos2Width - (Math.max(pos1.right, pos2.right) - Math.min(pos1.left, pos2.left));\\n  const crossOverlap = pos1Height + pos2Height - (Math.max(pos1.bottom, pos2.bottom) - Math.min(pos1.top, pos2.top));\\n  if (axisOverlap <= 0 || crossOverlap <= 0) {\\n    return 0;\\n  }\\n  return axisOverlap * crossOverlap;\\n}\\n\\n// \u4e0b\u9762\u8ba1\u7b97\u4e24\u4e2aHTML\u5143\u7d20\u7684\u91cd\u53e0\u9762\u79ef\\nconst area = elementInterectArea(element1.getBoundingClientRect(), element2.getBoundingClientRect());\\n```\\n\\n\u5c06\u906e\u4f4f\u5143\u7d20\u5168\u90e8\u5220\u9664JS [hide-verlap.js](/demo/hide-overlap.js)."},{"id":"/2022/05/22/how-to-change-ubuntu-timezone","metadata":{"permalink":"/blog/2022/05/22/how-to-change-ubuntu-timezone","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-05-22-how-to-change-ubuntu-timezone.md","source":"@site/src/blog/2022-05-22-how-to-change-ubuntu-timezone.md","title":"\u5982\u4f55\u8bbe\u7f6eUbuntu 20.04 \u7684\u65f6\u533a","description":"\u6587\u7ae0\u6765\u6e90 How To Set or Change Timezone on Ubuntu 20.04","date":"2022-05-22T00:00:00.000Z","formattedDate":"May 22, 2022","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ubuntu","permalink":"/blog/tags/ubuntu"}],"readingTime":1.025,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u5982\u4f55\u8bbe\u7f6eUbuntu 20.04 \u7684\u65f6\u533a","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["linux","ubuntu"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u8ba1\u7b97\u4e24\u4e2a\u77e9\u5f62\u91cd\u53e0\u9762\u79ef","permalink":"/blog/2022/06/11/calculate-tow-square-overlap"},"nextItem":{"title":"\u4f7f\u7528Linux\u547d\u4ee4\u884c\u68c0\u6d4b\u786c\u4ef6\u4fe1\u606f","permalink":"/blog/2022/05/21/linux-devices-info"}},"content":"> \u6587\u7ae0\u6765\u6e90 [How To Set or Change Timezone on Ubuntu 20.04](https://linuxize.com/post/how-to-set-or-change-timezone-on-ubuntu-20-04/)\\n\\n\x3c!--truncate--\x3e\\n\\n## \u68c0\u67e5\u5f53\u524d\u65f6\u533a\\n\\n```bash\\ntimedatectl show\\n```\\n\u8f93\u51fa\u5982\u4e0b:\\n```\\nTimezone=Asia/Shanghai\\nLocalRTC=no\\nCanNTP=yes\\nNTP=yes\\nNTPSynchronized=yes\\nTimeUSec=Sun 2022-05-22 09:21:19 CST\\nRTCTimeUSec=Sun 2022-05-22 09:21:19 CST\\n```\\n\\n\u7cfb\u7edf\u65f6\u533a\u88ab\u914d\u7f6e\u6210\u8f6f\u8fde\u63a5(symlink)\u65b9\u5f0f, \u5f53\u524d\u65f6\u533a\u5bf9\u5e94\u8f6f\u8fde\u63a5 `/etc/localtime`, \u8be5\u8f6f\u8fde\u63a5\u6307\u5411 `/usr/share/zoneinfo` \u76ee\u5f55\u4e0b\u7684\u67d0\u4e2a\u4e8c\u8fdb\u5236\u65f6\u533a\u6587\u4ef6:\\n```\\n$ ls -al /etc/localtime \\n\\nlrwxrwxrwx 1 root root 33 Mar 25 06:26 /etc/localtime -> /usr/share/zoneinfo/Asia/Shanghai\\n```\\n\\n\u7cfb\u7edf\u65f6\u533a\u540c\u65f6\u4e5f\u4f1a\u5199\u5165\u5230\u6587\u4ef6`/etc/timezone`:\\n\\n```\\n$ cat /etc/timezone \\n\\nAsia/Shanghai\\n```\\n\\n## \u4f7f\u7528\u547d\u4ee4 `timedatectl` \u4fee\u6539\u65f6\u533a\\n\\n\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 `timedatectl list-timezones` \u663e\u793a\u6240\u6709\u53ef\u7528\u65f6\u533a\u540d\u79f0, \u8be5\u547d\u4ee4\u76f8\u5f53\u4e8e\u5217\u51fa`/usr/share/zoneinfo`\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6.\\n\\n\u4e00\u65e6\u627e\u5230\u81ea\u5df1\u60f3\u8981\u8bbe\u7f6e\u7684\u65f6\u533a\u540d\u79f0, \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8bbe\u7f6e\u5f53\u524d\u7cfb\u7edf\u7684\u65f6\u533a:\\n\\n```bash\\nsudo timedatectl set-timezone your_time_zone\\n```"},{"id":"/2022/05/21/linux-devices-info","metadata":{"permalink":"/blog/2022/05/21/linux-devices-info","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-05-21-linux-devices-info.md","source":"@site/src/blog/2022-05-21-linux-devices-info.md","title":"\u4f7f\u7528Linux\u547d\u4ee4\u884c\u68c0\u6d4b\u786c\u4ef6\u4fe1\u606f","description":"\u4f7f\u7528\u547d\u4ee4\u884c\u67e5\u770b\u7cfb\u7edf\u786c\u4ef6\u4fe1\u606f, \u6587\u7ae0\u6458\u81eaCheck Ubuntu Hardware Info.","date":"2022-05-21T00:00:00.000Z","formattedDate":"May 21, 2022","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ubuntu","permalink":"/blog/tags/ubuntu"}],"readingTime":0.775,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u4f7f\u7528Linux\u547d\u4ee4\u884c\u68c0\u6d4b\u786c\u4ef6\u4fe1\u606f","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["linux","ubuntu"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5982\u4f55\u8bbe\u7f6eUbuntu 20.04 \u7684\u65f6\u533a","permalink":"/blog/2022/05/22/how-to-change-ubuntu-timezone"},"nextItem":{"title":"Dockerfile \u6307\u5b9a entrypoint \u4e4b\u540e\u8fd0\u884c\u62a5 exec format error \u9519\u8bef","permalink":"/blog/2022/05/15/docker-entrypoint-exec-format-error"}},"content":"\u4f7f\u7528\u547d\u4ee4\u884c\u67e5\u770b\u7cfb\u7edf\u786c\u4ef6\u4fe1\u606f, \u6587\u7ae0\u6458\u81ea[Check Ubuntu Hardware Info](https://linuxhint.com/check_ubuntu_hardware_info/).\\n\\n\x3c!--truncate--\x3e\\n\\n## dmidecode\\n\\n```bash\\nsudo dmidecode -t4 # CPU\u786c\u4ef6\u4fe1\u606f\\nsudo dmidecode -t17 # \u5185\u5b58\u6761\u786c\u4ef6\u4fe1\u606f\\nsudo dmidecode -t2 # \u663e\u793a\u4e3b\u677f(Motherboard)\u4fe1\u606f\\nsudo dmidecode -t10 # \u663e\u793a\u4e3b\u677f\u4e0a\u7684\u663e\u5361\u6d3b\u58f0\u5361\u4fe1\u606f\\n```\\n\\n## lshw\\n\\n```bash\\nsudo lshw -short # \u5217\u51fa\u6240\u6709\u786c\u4ef6\u7684\u6458\u8981\u4fe1\u606f\\n\\n# \u663e\u793a\u786c\u76d8\u8be6\u7ec6\u4fe1\u606f\\n# -class \u53c2\u6570\u652f\u6301 system, bus, memory, processor, disk, storage, bridge, generic, display, volume, bus, network, multimedia, input.\\nsudo lshw -class disk \\n```\\n\\n## inxi\\n\\n```bash\\n# \u5b89\u88c5 \\nsudo apt install -y inxi\\nsudo inxi -bxx\\n```\\n\\n## \u5176\u4ed6\\n\\n```bash\\nfree -h # \u663e\u793a\u5185\u5b58\u5927\u5c0f\u53ca\u5360\u7528\u4fe1\u606f\\n```"},{"id":"/2022/05/15/docker-entrypoint-exec-format-error","metadata":{"permalink":"/blog/2022/05/15/docker-entrypoint-exec-format-error","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-05-15-docker-entrypoint-exec-format-error.md","source":"@site/src/blog/2022-05-15-docker-entrypoint-exec-format-error.md","title":"Dockerfile \u6307\u5b9a entrypoint \u4e4b\u540e\u8fd0\u884c\u62a5 exec format error \u9519\u8bef","description":"Dockerfile \u6307\u5b9a entrypoint \u811a\u672c\u540e, \u8fd0\u884c\u63d0\u793a\u4e00\u4e0b\u9519\u8bef:","date":"2022-05-15T00:00:00.000Z","formattedDate":"May 15, 2022","tags":[{"label":"docker","permalink":"/blog/tags/docker"}],"readingTime":0.585,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"Dockerfile \u6307\u5b9a entrypoint \u4e4b\u540e\u8fd0\u884c\u62a5 exec format error \u9519\u8bef","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["docker"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4f7f\u7528Linux\u547d\u4ee4\u884c\u68c0\u6d4b\u786c\u4ef6\u4fe1\u606f","permalink":"/blog/2022/05/21/linux-devices-info"},"nextItem":{"title":"\u5f00\u653e docker daemon TCP \u7aef\u53e3\u53f7 2375","permalink":"/blog/2022/05/14/docker-daemon-tcp-port"}},"content":"`Dockerfile` \u6307\u5b9a `entrypoint` \u811a\u672c\u540e, \u8fd0\u884c\u63d0\u793a\u4e00\u4e0b\u9519\u8bef:\\n\\n\x3c!--truncate--\x3e\\n\\n```\\nstandard_init_linux.go:228: exec user process caused: exec format error\\n```\\n\\n\u8fd9\u79cd\u60c5\u51b5\u5c1d\u8bd5\u7ed9 `entrypoint` \u6307\u5b9a\u7684shell\u811a\u672c\u6dfb\u52a0shebang:\\n```bash title=\\"entrypoint.sh\\"\\n#!/bin/bash\\n\\ncode-server --config /code-server/config.yaml /app # \u4f60\u7684\u811a\u672c\u5185\u5bb9\\n```\\n\\n> \u6765\u6e90: [Docker exec format error \u2013 How we sort it out?](https://bobcares.com/blog/docker-exec-format-error/): \\n\\n> The shebang is always on the first line of the script, and is composed of `#!` Characters. So the Shebang (`#!/bin/bash`) should be put on the first line of the script because the first bytes were checked by kernel. So we add the shebang in the script."},{"id":"/2022/05/14/docker-daemon-tcp-port","metadata":{"permalink":"/blog/2022/05/14/docker-daemon-tcp-port","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-05-14-docker-daemon-tcp-port.md","source":"@site/src/blog/2022-05-14-docker-daemon-tcp-port.md","title":"\u5f00\u653e docker daemon TCP \u7aef\u53e3\u53f7 2375","description":"docker \u9ed8\u8ba4\u4f1a\u521b\u5efa\u4e00\u4e2a socket(/var/run/docker.sock) \u4f9b docker daemon \u94fe\u63a5\u4f7f\u7528, \u8fd9\u4e2asocket\u4e00\u822c\u5fc5\u987b\u662froot\u8d26\u53f7\u624d\u80fd\u94fe\u63a5. docker daemon \u540c\u65f6\u652f\u6301\u5f00\u53d1\u4e00\u4e2atcp\u7aef\u53e3\u53f7\u4f9b\u5916\u90e8\u4f7f\u7528, \u5f00\u653e\u6b65\u9aa4\u5982\u4e0b:","date":"2022-05-14T00:00:00.000Z","formattedDate":"May 14, 2022","tags":[{"label":"docker","permalink":"/blog/tags/docker"}],"readingTime":0.74,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u5f00\u653e docker daemon TCP \u7aef\u53e3\u53f7 2375","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["docker"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Dockerfile \u6307\u5b9a entrypoint \u4e4b\u540e\u8fd0\u884c\u62a5 exec format error \u9519\u8bef","permalink":"/blog/2022/05/15/docker-entrypoint-exec-format-error"},"nextItem":{"title":"\u4f7f\u7528JS\u5bf9\u7528\u6237\u9009\u62e9\u89c6\u9891\u8fdb\u884c\u622a\u56fe","permalink":"/blog/2022/05/11/javascript-video-screenshot"}},"content":"docker \u9ed8\u8ba4\u4f1a\u521b\u5efa\u4e00\u4e2a socket(*/var/run/docker.sock*) \u4f9b docker daemon \u94fe\u63a5\u4f7f\u7528, \u8fd9\u4e2asocket\u4e00\u822c\u5fc5\u987b\u662froot\u8d26\u53f7\u624d\u80fd\u94fe\u63a5. docker daemon \u540c\u65f6\u652f\u6301\u5f00\u53d1\u4e00\u4e2atcp\u7aef\u53e3\u53f7\u4f9b\u5916\u90e8\u4f7f\u7528, \u5f00\u653e\u6b65\u9aa4\u5982\u4e0b:\\n\\n\x3c!--truncate--\x3e\\n\\n## \u91cd\u5199 *docker.service* \u6587\u4ef6\\n\\n\u624b\u52a8\u521b\u5efa\u5e76\u7f16\u8f91\u6587\u4ef6 */etc/systemd/system/docker.service.d/override.conf* \u6216\u8005\u4f7f\u7528\u547d\u4ee4 `sudo systemctl edit docker.service` \u7f16\u8f91\u4fdd\u5b58, \u4fee\u6539\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b:\\n\\n```conf\\n[Service]\\nExecStart=\\nExecStart=/usr/bin/dockerd -H fd:// -H tcp://127.0.0.1:2375\\n```\\n\\n\u4fee\u6539\u5b8c\u6210\u540e\u4fdd\u5b58\u6587\u4ef6\\n\\n## \u91cd\u542f\u670d\u52a1\\n\\n```bash\\nsudo systemctl daemon-reload\\nsudo systemctl restart docker.service\\n```\\n\\n## \u53c2\u8003\u8d44\u6599\\n\\n* [Configuring remote access with `systemd` unit file](https://docs.docker.com/engine/install/linux-postinstall/#configuring-remote-access-with-systemd-unit-file)\\n* [Enable TCP port 2375 for external connection to Docker](https://gist.github.com/styblope/dc55e0ad2a9848f2cc3307d4819d819f)"},{"id":"/2022/05/11/javascript-video-screenshot","metadata":{"permalink":"/blog/2022/05/11/javascript-video-screenshot","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-05-11-javascript-video-screenshot.md","source":"@site/src/blog/2022-05-11-javascript-video-screenshot.md","title":"\u4f7f\u7528JS\u5bf9\u7528\u6237\u9009\u62e9\u89c6\u9891\u8fdb\u884c\u622a\u56fe","description":"\u4f7f\u7528 JavaScript \u5bf9\u7528\u6237\u9009\u62e9\u89c6\u9891\u8fdb\u884c\u622a\u56fe","date":"2022-05-11T00:00:00.000Z","formattedDate":"May 11, 2022","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"web","permalink":"/blog/tags/web"}],"readingTime":2.085,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u4f7f\u7528JS\u5bf9\u7528\u6237\u9009\u62e9\u89c6\u9891\u8fdb\u884c\u622a\u56fe","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["javascript","web"],"description":"\u4f7f\u7528 JavaScript \u5bf9\u7528\u6237\u9009\u62e9\u89c6\u9891\u8fdb\u884c\u622a\u56fe","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5f00\u653e docker daemon TCP \u7aef\u53e3\u53f7 2375","permalink":"/blog/2022/05/14/docker-daemon-tcp-port"},"nextItem":{"title":"\u89e3\u51b3 IDEA \u6253\u5f00Java\u9879\u76ee\u63d0\u793a Cannot resolve symbol \u95ee\u9898","permalink":"/blog/2022/05/08/idea-cannot-resolve-symbol"}},"content":"\u4e3b\u8981\u53c2\u8003\u8d44\u6e90 [Manipulating video using canvas](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Manipulating_video_using_canvas)\\n\\n\x3c!--truncate--\x3e\\n\\n\u76f4\u63a5\u8bbf\u95ee [\u622a\u56fe\u793a\u4f8b](https://blog.alanwei.com/demo/video.html) \u5728\u7ebf\u67e5\u770b\u6548\u679c.\\n\\n## \u601d\u8def\u6b65\u9aa4\\n\\n1. \u76d1\u542c`input[type=file]`\u7684`change`\u4e8b\u4ef6, \u8bfb\u53d6 `event.target.files` \u83b7\u5f97\u89c6\u9891\u6587\u4ef6 *File*\\n1. \u4f7f\u7528 `URL.createObjectURL(file)` \u521b\u5efa\u89c6\u9891\u6570\u636e\\n1. \u521b\u5efa `video` \u5143\u7d20, \u89c6\u9891\u6e90\u4f7f\u7528\u4e0a\u9762\u521b\u5efa\u7684 object URL\\n1. \u4f7f\u7528 `canvas.getContext(\\"2d\\").drawImage` \u5c06\u89c6\u9891\u622a\u56fe\u7ed8\u753b\u5230 canvas \u5143\u7d20\u4e0a\\n1. \u8c03\u7528 `canvas.toDataURL` \u8f6c\u6210base64\u56fe\u6807\u6570\u636e, \u4f9b `<img />` \u5c55\u793a\\n\\n## \u6e90\u7801\\n\\n```html title=\\"video.html\\"\\n<!DOCTYPE html>\\n<html lang=\\"en\\">\\n\\n<head>\\n  <meta charset=\\"UTF-8\\">\\n  <meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=edge\\">\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\n  <title>\u89c6\u9891\u622a\u56fe</title>\\n</head>\\n\\n<body>\\n  <div>\\n    <label>\\n      \u8bf7\u5148\u9009\u62e9\u89c6\u9891: <input type=\\"file\\" accept=\\"video/*\\" />\\n    </label>\\n    <button>\u70b9\u6b64\u622a\u5c4f</button>\\n  </div>\\n  <div>\\n    <h3>Canvas \u622a\u56fe</h3>\\n    <canvas id=\\"screenshot\\" style=\\"width: 200px; height: 200px;\\"></canvas>\\n  </div>\\n  <div>\\n    <h3>\u56fe\u7247\u622a\u56fe</h3>\\n    <img />\\n  </div>\\n  <script src=\\"./video.js\\"><\/script>\\n</body>\\n</html>\\n```\\n\\n```javascript title=\\"video.js\\"\\ndocument.querySelector(\\"input[type=file]\\").addEventListener(\\"change\\", e => {\\n  /**\\n   * \u6dfb\u52a0\u89c6\u9891\\n   */\\n  const video = e.target.files[0];\\n\\n  const ele = document.createElement(\\"video\\");\\n  ele.controls = true;\\n  ele.style.height = \\"200px\\";\\n  ele.style.width = \\"200px\\";\\n  const source = document.createElement(\\"source\\");\\n  source.src = URL.createObjectURL(video);\\n  source.type = video.type;\\n  ele.appendChild(source);\\n\\n  document.body.append(ele);\\n});\\n\\ndocument.querySelector(\\"button\\").addEventListener(\\"click\\", () => {\\n  /**\\n   * \u622a\u56fe\\n   */\\n  const video = document.querySelector(\\"video\\");\\n  const canvas = document.getElementById(\\"screenshot\\");\\n  const ctx = canvas.getContext(\\"2d\\");\\n  ctx.drawImage(video, 0, 0, 200, 200);\\n  const imgData = canvas.toDataURL();\\n  document.querySelector(\\"img\\").src = imgData;\\n});\\n```\\n\\n**\u6216\u8005\u9009\u4e2d\u6587\u4ef6\u81ea\u52a8\u622a\u5c4f**\\n\\n```javascript\\ndocument.querySelector(\\"input[type=file]\\").addEventListener(\\"change\\", e => {\\n  /**\\n   * \u6dfb\u52a0\u89c6\u9891\\n   */\\n  const video = e.target.files[0];\\n  readVideoAlbum({\\n    video: video,\\n  }).then(img => document.querySelector(\\"img\\").src = img);\\n});\\n\\n\\n/**\\n * \\n * @param {{video: File}} params \\n */\\nfunction readVideoAlbum(params) {\\n  return new Promise((resolve, reject) => {\\n    const eleVideo = document.createElement(\\"video\\");\\n    eleVideo.style.display = \\"none\\";\\n    eleVideo.controls = true;\\n    eleVideo.autoplay = false;\\n    eleVideo.muted = true;\\n    eleVideo.playsInline = true;\\n    eleVideo.style.height = \\"auto\\";\\n    eleVideo.style.width = \\"auto\\";\\n    const source = document.createElement(\\"source\\");\\n    source.src = URL.createObjectURL(params.video);\\n    source.type = params.video.type;\\n    eleVideo.appendChild(source);\\n    document.body.append(eleVideo);\\n    let canvas;\\n    eleVideo.play()\\n      .then(() => {\\n        canvas = document.createElement(\\"canvas\\");\\n        canvas.width = eleVideo.videoWidth;\\n        canvas.height = eleVideo.videoHeight;\\n        canvas.style.display = \\"none\\";\\n        document.body.append(canvas);\\n        const ctx = canvas.getContext(\\"2d\\");\\n        if (!ctx) {\\n          throw new Error(\\"canvas.getContext \u5f02\u5e38\\");\\n        }\\n        ctx.drawImage(eleVideo, 0, 0, eleVideo.videoWidth, eleVideo.videoHeight);\\n        const base64 = canvas.toDataURL();\\n        resolve(base64);\\n        eleVideo.pause();\\n      })\\n      .catch(err => reject(err))\\n      .then(() => {\\n        setTimeout(() => {\\n          /**\\n           * \u9500\u6bc1\u521b\u5efa\u7684\u5143\u7d20\\n           */\\n          canvas && document.body.removeChild(canvas);\\n          document.body.removeChild(eleVideo);\\n        }, 500);\\n      });\\n  });\\n}\\n```"},{"id":"/2022/05/08/idea-cannot-resolve-symbol","metadata":{"permalink":"/blog/2022/05/08/idea-cannot-resolve-symbol","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-05-08-idea-cannot-resolve-symbol.md","source":"@site/src/blog/2022-05-08-idea-cannot-resolve-symbol.md","title":"\u89e3\u51b3 IDEA \u6253\u5f00Java\u9879\u76ee\u63d0\u793a Cannot resolve symbol \u95ee\u9898","description":"\u4f7f\u7528 IDEA \u6253\u5f00\u4e00\u4e2a\u65b0\u7684maven\u9879\u76ee, \u5076\u5c14\u4f1a\u9047\u5230\u6240\u6709Java\u7c7b\u90fd\u6807\u7ea2, \u63d0\u793a Cannot resolve symbol xxx, \u9047\u5230\u7c7b\u4f3c\u9519\u8bef, \u53ef\u5c1d\u8bd5\u53c2\u8003\u4ee5\u4e0b\u6b65\u9aa4\u89e3\u51b3\uff1a","date":"2022-05-08T00:00:00.000Z","formattedDate":"May 8, 2022","tags":[{"label":"idea","permalink":"/blog/tags/idea"},{"label":"java","permalink":"/blog/tags/java"},{"label":"maven","permalink":"/blog/tags/maven"}],"readingTime":0.99,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u89e3\u51b3 IDEA \u6253\u5f00Java\u9879\u76ee\u63d0\u793a Cannot resolve symbol \u95ee\u9898","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["idea","java","maven"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4f7f\u7528JS\u5bf9\u7528\u6237\u9009\u62e9\u89c6\u9891\u8fdb\u884c\u622a\u56fe","permalink":"/blog/2022/05/11/javascript-video-screenshot"},"nextItem":{"title":"long \u8f6c int - Java","permalink":"/blog/2022/05/06/java-long-to-int"}},"content":"\u4f7f\u7528 IDEA \u6253\u5f00\u4e00\u4e2a\u65b0\u7684maven\u9879\u76ee, \u5076\u5c14\u4f1a\u9047\u5230\u6240\u6709Java\u7c7b\u90fd\u6807\u7ea2, \u63d0\u793a *Cannot resolve symbol xxx*, \u9047\u5230\u7c7b\u4f3c\u9519\u8bef, \u53ef\u5c1d\u8bd5\u53c2\u8003\u4ee5\u4e0b\u6b65\u9aa4\u89e3\u51b3\uff1a\\n\\n\x3c!--truncate--\x3e\\n\\n## \u786e\u8ba4\u9879\u76ee\u8bbe\u7f6e\\n\\n\u786e\u8ba4\u9879\u76ee\u53camaven module\u8bbe\u7f6e\u4e86\u6b63\u786e\u7684 JDK \u7248\u672c, \u4f9d\u6b21\u70b9\u51fb **File > Project Structure(Ctrl + Shift + Alt + S)...**, \u6253\u5f00\u9879\u76ee\u8bbe\u7f6e\u7a97\u53e3.\\n\\n\u786e\u8ba4 **Project Settings > Project** \u548c **Project Settings > Modules** \u91cc\u7684JDK\u548c\u8bed\u8a00\u7ea7\u522b\u8bbe\u7f6e\u6b63\u786e.\\n\\n## \u786e\u8ba4Maven\u8bbe\u7f6e\\n\\n\u4f9d\u6b21\u70b9\u51fb **File > Settings(Ctrl + Alt + S)...** \u6253\u5f00\u8bbe\u7f6e\u7a97\u53e3, \u5b9a\u4f4d\u5230 **Build, Execution, Deployment > Build Tools > Maven**, \u786e\u8ba4 **Maven home path** \u8bbe\u7f6e\u6b63\u786e.\\n\\n## \u6e05\u7406IDEA\u7f13\u5b58\\n\\n\u6e05\u7406IDEA\u7684\u9879\u76ee\u7f13\u5b58, \u4f9d\u6b21\u70b9\u51fb **File > Invalidate Caches...**, \u628a\u6240\u6709 *Optional* \u90fd\u52fe\u9009\u4e86, \u7136\u540e\u70b9\u51fb **Invalidate and Restart**, \u91cd\u542f\u9879\u76ee."},{"id":"/2022/05/06/java-long-to-int","metadata":{"permalink":"/blog/2022/05/06/java-long-to-int","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-05-06-java-long-to-int.md","source":"@site/src/blog/2022-05-06-java-long-to-int.md","title":"long \u8f6c int - Java","description":"Java\u8bed\u8a00\u91cc\u5c06 long \u8f6c\u4e3a int \u7c7b\u578b","date":"2022-05-06T00:00:00.000Z","formattedDate":"May 6, 2022","tags":[{"label":"java","permalink":"/blog/tags/java"}],"readingTime":0.36,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"long \u8f6c int - Java","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["java"],"description":"Java\u8bed\u8a00\u91cc\u5c06 long \u8f6c\u4e3a int \u7c7b\u578b","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3 IDEA \u6253\u5f00Java\u9879\u76ee\u63d0\u793a Cannot resolve symbol \u95ee\u9898","permalink":"/blog/2022/05/08/idea-cannot-resolve-symbol"},"nextItem":{"title":"\u767b\u5f55 Ubuntu 20.04 LTS \u663e\u793a There is 1 zombie process","permalink":"/blog/2022/05/04/ubuntu-there-is-1-zombie-process"}},"content":"> \u539f\u6587 [How can I convert a long to int in Java?](https://stackoverflow.com/questions/4355303/how-can-i-convert-a-long-to-int-in-java)\\n\\n\x3c!--truncate--\x3e\\n\\n**Updated, in Java 8**\\n\\n```java\\nMath.toIntExact(value);\\n```\\n\\n**Original Answer:**\\n\\nSimple type casting should do it:\\n\\n```java\\nlong l = 100000;\\nint i = (int) l;\\n```\\n\\nNote, however, that large numbers (usually larger than `2147483647` and smaller than `-2147483648`) will lose some of the bits and would be represented incorrectly.\\n\\nFor instance, `2147483648` would be represented as `-2147483648`."},{"id":"/2022/05/04/ubuntu-there-is-1-zombie-process","metadata":{"permalink":"/blog/2022/05/04/ubuntu-there-is-1-zombie-process","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-05-04-ubuntu-there-is-1-zombie-process.md","source":"@site/src/blog/2022-05-04-ubuntu-there-is-1-zombie-process.md","title":"\u767b\u5f55 Ubuntu 20.04 LTS \u663e\u793a There is 1 zombie process","description":"\u89e3\u51b3 SSH \u767b\u5f55 Ubuntu 20.04 LTS \u7cfb\u7edf, \u663e\u793a There is 1 zombie process(\u6709\u4e00\u4e2a\u50f5\u5c38\u8fdb\u7a0b) \u7684\u95ee\u9898","date":"2022-05-04T00:00:00.000Z","formattedDate":"May 4, 2022","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ubuntu","permalink":"/blog/tags/ubuntu"}],"readingTime":0.42,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u767b\u5f55 Ubuntu 20.04 LTS \u663e\u793a There is 1 zombie process","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["linux","ubuntu"],"description":"\u89e3\u51b3 SSH \u767b\u5f55 Ubuntu 20.04 LTS \u7cfb\u7edf, \u663e\u793a There is 1 zombie process(\u6709\u4e00\u4e2a\u50f5\u5c38\u8fdb\u7a0b) \u7684\u95ee\u9898","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"long \u8f6c int - Java","permalink":"/blog/2022/05/06/java-long-to-int"},"nextItem":{"title":"Ubuntu 20.04 \u5b89\u88c5 KVM","permalink":"/blog/2022/05/03/ubuntu-install-kvm"}},"content":"\u4f7f\u7528 SSH \u767b\u5f55 Ubuntu 20.04 LTS \u7cfb\u7edf, \u7ec8\u7aef\u663e\u793a There is 1 zombie process(\u6709\u4e00\u4e2a\u50f5\u5c38\u8fdb\u7a0b)\\n\\n\x3c!--truncate--\x3e\\n\\n**\u627e\u5230\u50f5\u5c38\u8fdb\u7a0b**\\n\\n```bash\\nps axo stat,ppid,pid,comm | grep -w defunct\\n```\\n\\n**\u7ed3\u675f\u8fdb\u7a0b**\\n\\n```bash\\nsudo kill -9 <parent_process_number>\\n```\\n\\n> \u6765\u6e90: [Ubuntu 20.04.2 LTS displays \u201cThere is 1 zombie process\u201d upon login](https://www.devopsschool.com/blog/ubuntu-20-04-2-lts-displays-there-is-1-zombie-process-upon-login/)\\n\\n> \u66f4\u65b0\u4fe1\u606f\u53c2\u8003 [How to Kill Zombie Processes in Ubuntu 20.04 LTS](https://vitux.com/how-to-kill-zombie-processes-in-ubuntu-20-04/)"},{"id":"/2022/05/03/ubuntu-install-kvm","metadata":{"permalink":"/blog/2022/05/03/ubuntu-install-kvm","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-05-03-ubuntu-install-kvm.md","source":"@site/src/blog/2022-05-03-ubuntu-install-kvm.md","title":"Ubuntu 20.04 \u5b89\u88c5 KVM","description":"Ubuntu 20.04 \u5b89\u88c5KVM, Ubuntu Server \u865a\u62dfWindows\u7cfb\u7edf","date":"2022-05-03T00:00:00.000Z","formattedDate":"May 3, 2022","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ubuntu","permalink":"/blog/tags/ubuntu"},{"label":"kvm","permalink":"/blog/tags/kvm"}],"readingTime":3.99,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of the Blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png","key":"alan"}],"frontMatter":{"title":"Ubuntu 20.04 \u5b89\u88c5 KVM","authors":["alan"],"tags":["linux","ubuntu","kvm"],"description":"Ubuntu 20.04 \u5b89\u88c5KVM, Ubuntu Server \u865a\u62dfWindows\u7cfb\u7edf","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u767b\u5f55 Ubuntu 20.04 LTS \u663e\u793a There is 1 zombie process","permalink":"/blog/2022/05/04/ubuntu-there-is-1-zombie-process"},"nextItem":{"title":"Windows 10 \u5bc6\u94a5\u67e5\u770b\u53ca\u5907\u4efd","permalink":"/blog/2022/05/03/windows-10-key-backup"}},"content":"[\u539f\u6587 How to Install KVM on Ubuntu 20.04](https://phoenixnap.com/kb/ubuntu-install-kvm)\\n\\n## \u68c0\u67e5\u662f\u5426\u652f\u6301\\n\\n\u5982\u679c\u4ee5\u4e0b\u547d\u4ee4\u8fd4\u56de\u503c\u5927\u4e8e0\uff0c\u8868\u793a\u5f53\u524d\u7cfb\u7edf\u652f\u6301\u865a\u62df\u5316: \\n```bash\\negrep -c \'(vmx|svm)\' /proc/cpuinfo\\n```\\n\\n\x3c!--truncate--\x3e\\n\\n\u68c0\u67e5\u662f\u5426\u652f\u6301KVM\u52a0\u901f:\\n```bash\\nsudo kvm-ok\\n```\\n\\n\u5982\u679c`kvm-ok`\u8fd4\u56de\u9519\u8bef, \u5c1d\u8bd5\u5b89\u88c5 *cpu-checker* \u89e3\u51b3:\\n```bash\\nsudo apt install cpu-checker\\n```\\n\\n\u4e0a\u8ff0\u68c0\u6d4b\u5b8c\u6210\u540e, \u91cd\u65b0\u6253\u5f00\u7ec8\u7aef, \u5f00\u59cb\u51c6\u5907\u5b89\u88c5KVM\u3002\\n\\n## \u5b89\u88c5KVM\\n\\n### \u5b89\u88c5KVM\u5305\\n\\n```\\nsudo apt update\\nsudo apt install -y qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils\\n```\\n\\n### \u6388\u6743\u7528\u6237\\n\\n\u5b89\u88c5\u5b8c\u6210\u540e\u9ed8\u8ba4, \u53ea\u6709 **libvirt** \u548c **kvm** \u7528\u6237\u7ec4\u7684\u7528\u6237\u53ef\u4ee5\u8fd0\u884c\u865a\u62df\u673a, \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u628a\u6307\u5b9a\u7528\u6237\u6dfb\u52a0\u5230 **libvirt** \u548c **kvm** \u7528\u6237\u7ec4:\\n```bash\\nsudo adduser \\"username\\" libvirt\\nsudo adduser \\"username\\" kvm\\n```\\n> \u5982\u679c\u60f3\u4ece\u7528\u6237\u7ec4\u5220\u9664\u7528\u6237, \u628a\u547d\u4ee4`adduser`\u66ff\u6362\u6210`deluser`\u5373\u53ef.\\n\\n### \u9a8c\u8bc1\u5b89\u88c5\u60c5\u51b5\\n\\n\u4f7f\u7528`virsh`\u547d\u4ee4\u9a8c\u8bc1\u5b89\u88c5\u6210\u529f:\\n```bash\\nvirsh list --all\\n```\\n\\n\u6216\u8005\u4f7f\u7528 `systemctl` \u547d\u4ee4\u68c0\u67e5\u670d\u52a1\u72b6\u6001:\\n```bash\\nsudo systemctl status libvirtd\\n```\\n\\n\u5982\u679c\u865a\u62df\u5316\u79c1\u670d\u6ca1\u6709\u8fd0\u884c, \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8\u865a\u62df\u5316\u670d\u52a1:\\n```\\nsudo systemctl enable --now libvirtd\\n```\\n\\n## \u521b\u5efa\u865a\u62df\u673a\\n\\n### GUI\\n\\n\u4f7f\u7528GUI\u7528\u6237\u754c\u9762\u7ba1\u7406\u521b\u5efa\u7ba1\u7406\u865a\u62df\u673a:\\n\\n```bash\\nsudo apt install -y virt-manager\\n```\\nUbuntu\u7cfb\u7edf\u6267\u884c\u4ee5\u4e0a\u547d\u4ee4, \u5b89\u88c5\u5b8c **virt-manager** \u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u8be5\u5de5\u5177\u901a\u8fc7\u53ef\u89c6\u5316\u754c\u9762\u521b\u5efa\u865a\u62df\u673a\u4e86\u3002\\n\\n> \u53ef\u4ee5\u5728\u53e6\u5916\u4e00\u53f0Ubuntu\u5de5\u4f5c\u673a\u5668\u4e0a\u5b89\u88c5 **virt-manager** \u5de5\u5177, \u7136\u540e\u8fdc\u7a0b\u8fde\u63a5(SSH)\u5230\u5b89\u88c5\u865a\u62df\u673a\u670d\u52a1\u7684\u673a\u5668\u4e0a, \u4ee5\u8fdc\u7a0b\u65b9\u5f0f\u7ba1\u7406\u865a\u62df\u673a.\\n\\n[virt-manager](https://virt-manager.org/)\u662f\u4e00\u4e2a[\u5f00\u6e90\u9879\u76ee](https://github.com/virt-manager/virt-manager), \u5176\u4ed6Linux\u53d1\u884c\u7248\u5b89\u88c5\u53c2\u8003:\\n```bash\\nyum install virt-manager (Fedora)\\napt-get install virt-manager (Debian)\\nemerge virt-manager (Gentoo)\\npkg_add virt-manager (OpenBSD)\\n```\\n\\n### CLI\\n\\n\u4f7f\u7528\u547d\u4ee4\u884c\u521b\u5efa\u865a\u62df\u673a\\n\\n```bash\\nsudo virt-install --name=Fedora33 \\\\\\n  --description=\'Fedora 33\' \\\\\\n  --ram=2048\\n  --vcpus=2\\n  --disk path=/data/vm/fedora-33-ws.qcow2,size=15 \\\\\\n  --cdrom /data/vm/fedora-33.iso \\\\\\n  --graphics vn\\n```\\n\\n\u53c2\u6570\u89e3\u91ca:\\n\\n| \u9009\u9879 | \u63cf\u8ff0 |\\n| --- | --- |\\n| `--name` | The name you give to the VM |\\n| `--description` | A short description of the VM |\\n| `--ram` | The amount of RAM you wish to allocate to the VM |\\n| `--vcpus` | The number of virtual CPUs you wish to allocate to the VM |\\n| `--disk` | The location of the VM on your disk (if you specify a qcow2 disk file that does not exist, it will be automatically created) |\\n| `--cdrom` | The location of the ISO file you downloaded |\\n| `--graphics` | Specifies the display type |\\n\\n## \u5176\u4ed6\u547d\u4ee4\\n\\n### \u663e\u793a\u865a\u62df\u673a\\n\\n**virsh list** \u547d\u4ee4\u683c\u5f0f:\\n\\n*domains* \u6307\u7684\u662f\u865a\u62df\u673a\\n\\n```\\n  NAME\\n    list - list domains\\n\\n  SYNOPSIS\\n    list [--inactive] [--all] [--transient] [--persistent] [--with-snapshot] [--without-snapshot] [--with-checkpoint] [--without-checkpoint] [--state-running] [--state-paused] [--state-shutoff] [--state-other] [--autostart] [--no-autostart] [--with-managed-save] [--without-managed-save] [--uuid] [--name] [--table] [--managed-save] [--title]\\n\\n  DESCRIPTION\\n    Returns list of domains.\\n\\n  OPTIONS\\n    --inactive       list inactive domains\\n    --all            list inactive & active domains\\n    --transient      list transient domains\\n    --persistent     list persistent domains\\n    --with-snapshot  list domains with existing snapshot\\n    --without-snapshot  list domains without a snapshot\\n    --with-checkpoint  list domains with existing checkpoint\\n    --without-checkpoint  list domains without a checkpoint\\n    --state-running  list domains in running state\\n    --state-paused   list domains in paused state\\n    --state-shutoff  list domains in shutoff state\\n    --state-other    list domains in other states\\n    --autostart      list domains with autostart enabled\\n    --no-autostart   list domains with autostart disabled\\n    --with-managed-save  list domains with managed save state\\n    --without-managed-save  list domains without managed save\\n    --uuid           list uuid\'s only\\n    --name           list domain names only\\n    --table          list table (default)\\n    --managed-save   mark inactive domains with managed save state\\n    --title          show domain title\\n```\\n\\n**\u5e38\u7528\u547d\u4ee4**:\\n\\n```bash\\nvirsh list # \u663e\u793a\u8fd0\u884c\u7684\u865a\u62df\u673a\\nvirsh list --all # \u663e\u793a\u6240\u6709\u865a\u62df\u673a\\n```\\n\\n### \u542f\u52a8/\u5173\u95ed\u865a\u62df\u673a\\n\\n```bash\\nvirsh start VirtualMachineName # \u542f\u52a8\u540d\u4e3a VirtualMachineName \u7684\u865a\u62df\u673a\\nvirsh shutdown VirtualMachineName # \u5173\u95ed\u540d\u4e3a VirtualMachineName \u7684\u865a\u62df\u673a\\n```"},{"id":"/2022/05/03/windows-10-key-backup","metadata":{"permalink":"/blog/2022/05/03/windows-10-key-backup","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-05-03-windows-10-key-backup.md","source":"@site/src/blog/2022-05-03-windows-10-key-backup.md","title":"Windows 10 \u5bc6\u94a5\u67e5\u770b\u53ca\u5907\u4efd","description":"Windows 10 \u5bc6\u94a5\u67e5\u770b\u53ca\u5907\u4efd, \u6fc0\u6d3b","date":"2022-05-03T00:00:00.000Z","formattedDate":"May 3, 2022","tags":[{"label":"windows","permalink":"/blog/tags/windows"},{"label":"windows 10","permalink":"/blog/tags/windows-10"},{"label":"key","permalink":"/blog/tags/key"}],"readingTime":0.715,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"Windows 10 \u5bc6\u94a5\u67e5\u770b\u53ca\u5907\u4efd","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["windows","windows 10","key"],"description":"Windows 10 \u5bc6\u94a5\u67e5\u770b\u53ca\u5907\u4efd, \u6fc0\u6d3b","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Ubuntu 20.04 \u5b89\u88c5 KVM","permalink":"/blog/2022/05/03/ubuntu-install-kvm"},"nextItem":{"title":"\u57cb\u70b9\u4f7f\u7528Gif\u56fe\u7247\u7684\u4f18\u70b9","permalink":"/blog/2022/04/27/front-end-pv-gif"}},"content":"## \u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u6fc0\u6d3b\u5bc6\u94a5\\n\\n\u6253\u5f00\u6ce8\u518c\u8868( Win+R > regedit ), \u5b9a\u4f4d\u5230 *HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\SoftwareProtectionPlatform*, \u7136\u540e\u67e5\u770b **BackupProductKeyDefault** \u7684\u503c\u5373\u53ef\\n\\n\x3c!--truncate--\x3e\\n\\n## VK7JG-NPHTM-C97JM-9MPGT-3V66T\\n\\n[\u4e3a\u4ec0\u4e48Win10\u6fc0\u6d3b\u5bc6\u94a5\u90fd\u662fVK7JG-NPHTM-C97JM-9MPGT-3V66T](http://www.winwin7.com/JC/8567.html)\\n\\n\u5176\u5b9e`VK7JG-NPHTM-C97JM-9MPGT-3V66T`\u8fd9\u4e2a\u4ea7\u54c1\u79d8\u94a5\u5e76\u4e0d\u80fd\u79f0\u4e3a\u6fc0\u6d3b\u79d8\u94a5\uff0c\u53ea\u4e0d\u8fc7Win7\u3001Win8.1\u7cfb\u7edf\u5347\u7ea7Win10\u7684\u7528\u6237\u5fae\u8f6f\u90fd\u4f1a\u9ed8\u8ba4\u4f7f\u7528\u8fd9\u4e2a\u79d8\u94a5\uff0c\u5bf9\u4e8e\u6fc0\u6d3bwin10\u4f7f\u7528\u7684\u662f\u6570\u5b57\u6743\u5229\u6fc0\u6d3b\u65b9\u8bd5\uff0c3v66t\u662f\u5927\u6279\u91cf\u8bb8\u53ef \u4f7f\u7528\u5b83\u5e76\u4e0d\u4f1a\u5bf9\u5927\u5bb6\u9020\u6210\u5f71\u54cd\u3002\\n\\n\\nWin10\u653f\u5e9c\u7248\u4ea7\u54c1\u901a\u7528\u5bc6\u94a5\uff1a`YYVX9-NTFWV-6MDM3-9PT4T-4M68B` \uff0c\u6765\u6e90 [winwin7](http://www.winwin7.com/JC/8511.html)"},{"id":"/2022/04/27/front-end-pv-gif","metadata":{"permalink":"/blog/2022/04/27/front-end-pv-gif","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-04-27-front-end-pv-gif.md","source":"@site/src/blog/2022-04-27-front-end-pv-gif.md","title":"\u57cb\u70b9\u4f7f\u7528Gif\u56fe\u7247\u7684\u4f18\u70b9","description":"\u57cb\u70b9\u4f7f\u7528Gif\u56fe\u7247\u7684\u4f18\u70b9 \u57cb\u70b9\u4f7f\u7528Gif\u56fe\u7247\u7684\u4f18\u70b9","date":"2022-04-27T00:00:00.000Z","formattedDate":"April 27, 2022","tags":[{"label":"web","permalink":"/blog/tags/web"}],"readingTime":1.41,"hasTruncateMarker":true,"authors":[{"name":"\u524d\u7aef\u5357\u7396","url":"https://home.cnblogs.com/u/songyao666/"}],"frontMatter":{"title":"\u57cb\u70b9\u4f7f\u7528Gif\u56fe\u7247\u7684\u4f18\u70b9","author":"\u524d\u7aef\u5357\u7396","author_url":"https://home.cnblogs.com/u/songyao666/","tags":["web"],"description":"\u57cb\u70b9\u4f7f\u7528Gif\u56fe\u7247\u7684\u4f18\u70b9 \u57cb\u70b9\u4f7f\u7528Gif\u56fe\u7247\u7684\u4f18\u70b9","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Windows 10 \u5bc6\u94a5\u67e5\u770b\u53ca\u5907\u4efd","permalink":"/blog/2022/05/03/windows-10-key-backup"},"nextItem":{"title":"\u67e5\u770bLinux\u7cfb\u7edf\u5f00\u673a\u65f6\u95f4","permalink":"/blog/2022/04/25/linux-reboot-time"}},"content":"> \u539f\u6587\u6458\u81ea: [\u4e3a\u4ec0\u4e48\u5927\u5382\u524d\u7aef\u76d1\u63a7\u90fd\u5728\u7528GIF\u505a\u57cb\u70b9\uff1f](https://www.cnblogs.com/songyao666/p/15899263.html)\\n\\n\x3c!--truncate--\x3e\\n\\n## \u9632\u6b62\u8de8\u57df\\n\\n\u5982\u679c\u8c03\u7528\u63a5\u53e3\u4e0a\u62a5\u6570\u636e, \u9700\u8981\u5904\u7406\u8de8\u57df\u95ee\u9898. \u56fe\u7247\u7684`src`\u5c5e\u6027\u5e76\u4e0d\u4f1a\u8de8\u57df, \u5e76\u4e14\u540c\u6837\u53ef\u4ee5\u53d1\u8d77\u8bf7\u6c42.\\n\\n## \u9632\u6b62\u963b\u585e\u9875\u9762\u52a0\u8f7d\\n\\n\u901a\u5e38, \u521b\u5efa\u8d44\u6e90\u8282\u70b9\u540e\u53ea\u6709\u5c06\u5bf9\u8c61\u6ce8\u5165\u5230\u6d4f\u89c8\u5668DOM\u6811\u540e, \u6d4f\u89c8\u5668\u624d\u4f1a\u5b9e\u9645\u53d1\u9001\u8d44\u6e90\u8bf7\u6c42. \u53cd\u590d\u64cd\u4f5cDOM\u4e0d\u4ec5\u4f1a\u5f15\u53d1\u6027\u80fd\u95ee\u9898, \u800c\u4e14\u8f7d\u5165js/css\u8d44\u6e90\u8fd8\u4f1a\u963b\u585e\u9875\u9762\u6e32\u67d3, \u5f71\u54cd\u7528\u6237\u4f53\u9a8c. \\n\\n\u4f46\u662f\u56fe\u7247\u8bf7\u6c42\u4f8b\u5916. \u6784\u9020\u56fe\u7247\u6253\u70b9\u4e0d\u4ec5\u4e0d\u7528\u63d2\u5165DOM, \u53ea\u8981\u5728js\u4e2dnew\u51faImage\u5bf9\u8c61\u5c31\u80fd\u53d1\u8d77\u8bf7\u6c42, \u800c\u4e14\u8fd8\u6ca1\u6709\u963b\u585e\u95ee\u9898. \\n\\n## GIF\u7684\u4f53\u79ef\u66f4\u5c0f\\n\\n\u6700\u5c0f\u7684BMP\u6587\u4ef6\u9700\u898174\u4e2a\u5b57\u8282, PNG\u9700\u898167\u4e2a\u5b57\u8282, \u800c\u5408\u6cd5\u7684GIF, \u53ea\u9700\u898143\u4e2a\u5b57\u8282.  \u540c\u6837\u7684\u54cd\u5e94, GIF\u53ef\u4ee5\u6bd4BMP\u8282\u7ea641%\u7684\u6d41\u91cf, \u6bd4PNG\u8282\u7ea635%\u7684\u6d41\u91cf. \u5e76\u4e14\u5927\u591a\u91c7\u7528\u7684\u662f1*1\u50cf\u7d20\u7684\u900f\u660eGIF\u6765\u4e0a\u62a5, 1x1\u50cf\u7d20\u662f\u6700\u5c0f\u7684\u5408\u6cd5\u56fe\u7247."},{"id":"/2022/04/25/linux-reboot-time","metadata":{"permalink":"/blog/2022/04/25/linux-reboot-time","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-04-25-linux-reboot-time.md","source":"@site/src/blog/2022-04-25-linux-reboot-time.md","title":"\u67e5\u770bLinux\u7cfb\u7edf\u5f00\u673a\u65f6\u95f4","description":"\u4f7f\u7528\u547d\u4ee4\u884c\u67e5\u770b\u7cfb\u7edf\u5f00\u673a\u65f6\u95f4","date":"2022-04-25T00:00:00.000Z","formattedDate":"April 25, 2022","tags":[{"label":"linux","permalink":"/blog/tags/linux"}],"readingTime":2.505,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u67e5\u770bLinux\u7cfb\u7edf\u5f00\u673a\u65f6\u95f4","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["linux"],"description":"\u4f7f\u7528\u547d\u4ee4\u884c\u67e5\u770b\u7cfb\u7edf\u5f00\u673a\u65f6\u95f4","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u57cb\u70b9\u4f7f\u7528Gif\u56fe\u7247\u7684\u4f18\u70b9","permalink":"/blog/2022/04/27/front-end-pv-gif"},"nextItem":{"title":"undici \u7b80\u4ecb - Node.js","permalink":"/blog/2022/04/22/nodejs-undici-intro"}},"content":"import { GiteeImage, NetworkCopyRight } from \\"@site/src/components\\";\\n\\n[via Linux\u67e5\u770b\u7cfb\u7edf\u5f00\u673a\u65f6\u95f4](https://www.cnblogs.com/kerrycode/p/3759395.html)\\n\\n\x3c!--truncate--\x3e\\n\\n## `who`\\n\\n```bash\\nwho -b # \u67e5\u770b\u6700\u65b0\u4e00\u6b21\u7cfb\u7edf\u542f\u52a8\u65f6\u95f4\\nwho -r # \u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u8fd0\u884c\u65f6\u95f4\\n```\\n\\n\u8f93\u51fa\u5982\u4e0b:\\n```\\nsystem boot  2022-04-25 18:51\\nrun-level 5  2022-04-25 18:51\\n```\\n\\n## `last reboot`\\n\\n\u67e5\u770b\u7cfb\u7edf\u5386\u53f2\u542f\u52a8\u65f6\u95f4 `last reboot`, \u8f93\u51fa\u5982\u4e0b:\\n\\n```\\nreboot   system boot  5.13.0-40-generi Mon Apr 25 18:51   still running\\nreboot   system boot  5.13.0-39-generi Sat Apr 16 09:36   still running\\nreboot   system boot  5.13.0-39-generi Tue Apr  5 11:27   still running\\nreboot   system boot  5.13.0-37-generi Sun Mar 27 20:34   still running\\nreboot   system boot  5.13.0-37-generi Sun Mar 27 18:32 - 20:34  (02:02)\\nreboot   system boot  5.13.0-35-generi Mon Mar 21 09:23 - 20:34 (6+11:11)\\nreboot   system boot  5.13.0-35-generi Sun Mar 20 09:59 - 09:23  (23:23)\\nreboot   system boot  5.13.0-30-generi Wed Mar  9 21:21 - 09:23 (11+12:01)\\nreboot   system boot  5.13.0-30-generi Mon Mar  7 19:42 - 21:21 (2+01:38)\\n```\\n\\n## `top`\\n\\nLinux\u7684`top`\u547d\u4ee4\u7b2c\u4e00\u884c\u7684 *up* \u540e\u9762\u8868\u793a\u7cfb\u7edf\u5230\u76ee\u524d\u8fd0\u884c\u4e86\u591a\u4e45\u65f6\u95f4:\\n\\n```\\ntop - 22:25:08 up  3:33,  2 users,  load average: 0.76, 0.44, 0.28\\nTasks: 361 total,   1 running, 360 sleeping,   0 stopped,   0 zombie\\n%Cpu(s):  2.3 us,  1.2 sy,  0.0 ni, 96.4 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\\nMiB Mem :  31970.3 total,  25747.4 free,   3651.6 used,   2571.3 buff/cache\\nMiB Swap:   2048.0 total,   2048.0 free,      0.0 used.  27779.7 avail Mem \\n\\n    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND\\n    \\n  27115 alan      20   0 1008116 167408  38960 S   7.9   0.5   0:06.21 node             \\n```\\n\\n\u4e0a\u9762\u8f93\u51fa\u7ed3\u679c\u7684\u7b2c\u4e00\u884c\u7684 `22:25:08 up 3:33` \u8868\u793a\u7cfb\u7edf\u5f53\u524d\u65f6\u95f4\u4e3a *22:25:08*, \u8fd0\u884c\u4e863\u4e2a\u5c0f\u65f633\u5206\u949f, `2 users` \u8868\u793a\u4e24\u4e2a\u7528\u6237\u767b\u5f55\u4e86\u8be5\u7cfb\u7edf.\\n\\n## `w`\\n\\n`w`\u547d\u4ee4\u7528\u4e8e\u8f93\u51fa\u8c01(who)\u767b\u5f55\u4e86\u5f53\u524d\u7cfb\u7edf, \u4ee5\u53ca\u5728\u505a\u4ec0\u4e48, \u8f93\u51fa\u5982\u4e0b:\\n\\n```\\n 22:37:11 up  3:45,  2 users,  load average: 0.52, 0.60, 0.44\\nUSER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT\\nalan     :0       :0               18:51   ?xdm?  30:16   0.01s /usr/lib/gdm3/gdm-x-session --run-script env GNOME_\\nalan     pts/2    192.168.0.116    21:56    1.00s 10.72s  0.00s w\\n```\\n\\n\u4e0a\u9762\u8868\u793a\u4e86\u8f93\u51fa\u7684`22:37:11 up 3:45, 2 users`\u8868\u793a\u5f53\u524d\u7cfb\u7edf\u65f6\u95f4\u4e3a *22:37:11*, \u542f\u52a8\u4e863\u5c0f\u65f645\u5206\u949f, \u5f53\u524d\u6709\u4e24\u4e2a\u7528\u6237\u767b\u5f55\u4e86\u8be5\u7cfb\u7edf. \u4e0b\u9762\u8f93\u51fa\u7684\u767b\u5f55\u7528\u6237\u660e\u7ec6\u91cc, **LOGIN@** \u8868\u793a\u7528\u6237\u767b\u5f55\u65f6\u95f4\u70b9.\\n\\n## `/proc/uptime`\\n\\n\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u683c\u5f0f\u5316\u8f93\u51fa\u7cfb\u7edf\u542f\u52a8\u65f6\u95f4:\\n\\n```bash\\ndate -d \\"`cut -f1 -d. /proc/uptime` seconds ago\\"\\n```"},{"id":"/2022/04/22/nodejs-undici-intro","metadata":{"permalink":"/blog/2022/04/22/nodejs-undici-intro","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-04-22-nodejs-undici-intro.md","source":"@site/src/blog/2022-04-22-nodejs-undici-intro.md","title":"undici \u7b80\u4ecb - Node.js","description":"undici \u4e00\u4e2a HTTP/1.1 \u5ba2\u6237\u7aef\u7b80\u4ecb","date":"2022-04-22T00:00:00.000Z","formattedDate":"April 22, 2022","tags":[{"label":"node.js","permalink":"/blog/tags/node-js"},{"label":"undici","permalink":"/blog/tags/undici"}],"readingTime":3.455,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"undici \u7b80\u4ecb - Node.js","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["node.js","undici"],"description":"undici \u4e00\u4e2a HTTP/1.1 \u5ba2\u6237\u7aef\u7b80\u4ecb","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u67e5\u770bLinux\u7cfb\u7edf\u5f00\u673a\u65f6\u95f4","permalink":"/blog/2022/04/25/linux-reboot-time"},"nextItem":{"title":"\u53d6\u6d88 git reset \u64cd\u4f5c","permalink":"/blog/2022/04/12/git-undo-reset"}},"content":"undici \u662f\u4e00\u6b3e HTTP/1.1 \u5ba2\u6237\u7aef, \u7528\u6237HTTP\u8bf7\u6c42. \u76f8\u6bd4\u8f83Node.js\u539f\u751f\u7684`http`\u7c7b\u5e93\u4f7f\u7528\u8d77\u6765\u66f4\u52a0\u53cb\u597d.\\n\\n> \u672c\u6587\u7ffb\u8bd1\u81ea [undici\u5b98\u65b9\u6587\u6863](https://undici.nodejs.org/)\\n> Undici \u662f\u610f\u5927\u5229\u8bed\u4e2d\u7684 11 \u7684\u610f\u601d: HTTP/1.1 -> 11 -> Eleven -> Undici.\\n\\n\x3c!--truncate--\x3e\\n\\nNode.js \u521a\u521a\u53d1\u5e03\u7684 v18.0.0 \u5185\u7f6e\u4e86 fetch \u548c node:test \u7b49\u6807\u51c6\u6a21\u5757, \u5176\u4e2d fetch \u6a21\u5757\u5c31\u6765\u81ea undici.\\n\\n## Install\\n\\n```bash\\nnpm i undici@5.0.0\\n```\\n\\n## Quick Start\\n\\n```javascript title=\\"quick-start.mjs\\"\\nimport { request } from \'undici\';\\n\\nconst {\\n  statusCode,\\n  headers,\\n  trailers,\\n  body // body \u662f\u4e00\u79cd\u53ea\u8bfb\u7684stream\\n} = await request(\'http://localhost:3000/foo\');\\n\\nconsole.log(\'response received\', statusCode);\\nconsole.log(\'headers\', headers);\\n\\nfor await (const data of body) {\\n  console.log(\'data\', data); // \u8fd9\u91cc data \u662f Buffer \u7c7b\u578b, body\u5185\u5bb9\u53ef\u80fd\u88ab\u5206\u591a\u6b21\u8bfb\u53d6\\n}\\n\\nconsole.log(\'trailers\', trailers);\\n```\\n\\n## Body Mixins\\n\\n`body` mixins\u662f\u683c\u5f0f\u5316\u8bf7\u6c42\u5185\u5bb9\u548c\u54cd\u5e94\u5185\u5bb9\u6700\u5e38\u7528\u7684\u65b9\u5f0f, \u5e38\u7528mixins\u6709:\\n\\n* [`.formData()`](https://fetch.spec.whatwg.org/#dom-body-formdata)\\n* [`.json()`](https://fetch.spec.whatwg.org/#dom-body-json)\\n* [`.text()`](https://fetch.spec.whatwg.org/#dom-body-text)\\n* `.blob()`\\n\\n\u793a\u4f8b:\\n```javascript title=\\"body-mixins.mjs\\"\\nimport { request } from \'undici\';\\n\\nconst { body } = await request(\\"https://blog.alanwei.com/\\");\\nconst text = await body.text(); // \u54cd\u5e94\u5185\u5bb9\\n```\\n\\n:::warning\\nbody\u662f\u4e00\u4e2a\u53ea\u8bfb\u6d41, \u53ea\u80fd\u8bfb\u53d6\u4e00\u6b21, \u4e00\u65e6\u8c03\u7528mixin\u8bfb\u53d6\u5185\u5bb9\u4e4b\u540e, body\u5c31\u4e0d\u80fd\u518d\u4f7f\u7528\u4e86. \u5982\u679c\u5728body\u4e0a\u591a\u6b21\u8c03\u7528mixin, \u6bd4\u5982 `body.json(); body.text();` \u5c06\u4f1a\u5f97\u5230\u4e00\u4e2aPromise reject, \u5f02\u5e38\u5185\u5bb9\u4e3a `TypeError: unusable`. \u5982\u679c\u9700\u8981\u591a\u6b21\u4f7f\u7528body, \u6216\u8005body\u4e0d\u662fJSON\u3001Form\u683c\u5f0f, \u6700\u4f73\u5b9e\u8df5\u662f\u4f7f\u7528mixin `.text()` \u8bfb\u53d6\u6587\u672c\u5185\u5bb9\u540e, \u518d\u624b\u52a8\u683c\u5f0f\u5316\u6210\u671f\u671b\u7684\u683c\u5f0f. \u66f4\u591abody mixin\u53c2\u8003 [Fetch Standard](https://fetch.spec.whatwg.org/#body-mixin).\\n:::\\n\\n## Common API Methods\\n\\n\u8fd9\u4e2a\u7ae0\u8282\u5c55\u793a\u6700\u5e38\u7528\u7684\u51e0\u4e2aAPI\u65b9\u6cd5\u7684\u6587\u6863, \u5176\u4ed6API\u6587\u6863\u8bbf\u95ee[docs](https://undici.nodejs.org/#/docs/)\\n\\n### `undici.request([url, options]): Promise`\\n\\n\u53c2\u6570\\n* **url** `string | URL | UrlObject`\\n* **options** [`RequestOptions`](https://undici.nodejs.org/#/docs/api/Dispatcher?id=parameter-requestoptions)\\n  * **dispatcher** `Dispatcher` - \u9ed8\u8ba4\u4f7f\u7528[getGlobalDispatcher](https://undici.nodejs.org/#/?id=undicigetglobaldispatcher)\\n  * **method** `String` - \u5982\u679c\u4f20\u4e86 `options.body`, \u9ed8\u8ba4\u662f `PUT`, \u5426\u5219\u9ed8\u8ba4\u662f `GET`\\n  * **maxRedirections** `Integer` - \u9ed8\u8ba4 `0`\\n\\n\u8fd4\u56de\u4e00\u4e2apromise\u7ed3\u679c\\n\\n### `undici.stream([url, options, ]factory): Promise`\\n\\n* **url** `string | URL | UrlObject`\\n* **options** `StreamOptions`\\n  * **dispatcher** \u540c `undici.request`\\n  * **method** \u540c `undici.request`\\n  * **maxRedirections** \u540c `undici.request`\\n* **factory** `Dispatcher.stream.factory` \u53c2\u8003\u4ee5\u4e0b\u4ee3\u7801\\n\\n`undici.stream` \u662f `Dispatcher.request`\u7684\u5feb\u901f\u7248\u672c, \u8be5\u65b9\u6cd5\u671f\u671b\u7684`facotry`\u53c2\u6570\u9700\u8981\u8fd4\u56de\u4e00\u4e2a\u53ef\u5199\u7684\u6d41[`stream.Writable`](https://nodejs.org/api/stream.html#stream_class_stream_writable), \u7528\u4e8e\u5199\u5165\u54cd\u5e94\u5185\u5bb9.\\n\\n\u5f53\u7528\u6237\u60f3\u628a\u54cd\u5e94\u5185\u5bb9\u5199\u5165\u4e00\u4e2a\u53ef\u5199\u5165\u6d41(`stream.Writable`)\u65f6, \u501f\u52a9`factory`, \u53ef\u4ee5\u907f\u514d\u521b\u5efa\u4e2d\u95f4\u7684`stream.Readable`\u6d41, \u7528\u4e8e\u6539\u5584\u6027\u80fd.\\n\\n\u793a\u4f8b1:\\n```javascript title=\\"undici-stream.mjs\\"\\nimport { stream } from \'undici\';\\nimport { Writable } from \\"stream\\";\\n\\nconst bufs = [];\\nconst response = await stream(\\"https://blog.alanwei.com\\", {\\n  method: \\"GET\\",\\n  opaque: { bufs }\\n}, ({ statusCode, headers, opaque: { bufs } }) => {\\n  return new Writable({\\n    write(chunk, encoding, callback) {\\n      bufs.push(chunk);\\n      callback();\\n    }\\n  })\\n});\\n\\nconst html = Buffer.concat(bufs).toString(\\"utf-8\\"); // \u8bf7\u6c42\u54cd\u5e94\u5185\u5bb9\\nconst equals = bufs === response.opaque.bufs; // => true\\n```\\n\\n\u793a\u4f8b2:\\n```javascript title=\\"client-stream.mjs\\"\\nimport { Client } from \'undici\';\\nimport { Writable } from \\"stream\\";\\n\\nconst buffers = [];\\n\\nconst client = new Client(\\"https://blog.alanwei.com\\");\\nconst response = await client.stream({\\n  path: \\"/me/\\",\\n  method: \\"GET\\",\\n  opaque: {\\n    data: buffers\\n  }\\n}, ({ opaque: { data } }) => {\\n  return new Writable({\\n    write(chunk, encoding, callback) {\\n      buffers.push(chunk);\\n      callback();\\n    }\\n  })\\n});\\n\\nconsole.log(Buffer.concat(response.opaque.data).toString(\\"utf-8\\")); // \u6253\u5370\u54cd\u5e94\u5185\u5bb9\\nconsole.log(buffers === response.opaque.data); // => true\\n```"},{"id":"/2022/04/12/git-undo-reset","metadata":{"permalink":"/blog/2022/04/12/git-undo-reset","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-04-12-git-undo-reset.md","source":"@site/src/blog/2022-04-12-git-undo-reset.md","title":"\u53d6\u6d88 git reset \u64cd\u4f5c","description":"\u53d6\u6d88\u7c7b\u4f3c git reset --soft HEAD~1 \u64cd\u4f5c:","date":"2022-04-12T00:00:00.000Z","formattedDate":"April 12, 2022","tags":[{"label":"git","permalink":"/blog/tags/git"}],"readingTime":1.295,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u53d6\u6d88 git reset \u64cd\u4f5c","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["git"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"undici \u7b80\u4ecb - Node.js","permalink":"/blog/2022/04/22/nodejs-undici-intro"},"nextItem":{"title":"JavaScript\u6570\u7ec4\u4e71\u5e8f","permalink":"/blog/2022/04/9/javascript-array-shuffle"}},"content":"\u53d6\u6d88\u7c7b\u4f3c `git reset --soft HEAD~1` \u64cd\u4f5c:\\n\\n\x3c!--truncate--\x3e\\n\\n\\n## Short answer\\n\\n```bahs\\ngit reset \'HEAD@{1}\'\\n```\\n\\n## Long answer\\n\\nGit keeps a log of all ref updates (e.g., checkout, reset, commit, merge). You can view it by typing:\\n```bash\\ngit reflog\\n```\\nSomewhere in this list is the commit that you lost. Let\'s say you just typed git reset HEAD~ and want to undo it. My reflog looks like this:\\n```bash\\n$ git reflog\\n3f6db14 HEAD@{0}: HEAD~: updating HEAD\\nd27924e HEAD@{1}: checkout: moving from d27924e0fe16776f0d0f1ee2933a0334a4787b4c\\n[...]\\n```\\nThe first line says that HEAD 0 positions ago (in other words, the current position) is 3f6db14; it was obtained by resetting to HEAD~. The second line says that HEAD 1 position ago (in other words, the state before the reset) is d27924e. It was obtained by checking out a particular commit (though that\'s not important right now). So, to undo the reset, run `git reset HEAD@{1}` (or git reset d27924e).\\n\\nIf, on the other hand, you\'ve run some other commands since then that update HEAD, the commit you want won\'t be at the top of the list, and you\'ll need to search through the reflog.\\n\\nOne final note: It may be easier to look at the reflog for the specific branch you want to un-reset, say master, rather than HEAD:\\n```bahs\\n$ git reflog show master\\nc24138b master@{0}: merge origin/master: Fast-forward\\n90a2bf9 master@{1}: merge origin/master: Fast-forward\\n[...]\\n```\\nThis should have less noise it in than the general HEAD reflog.\\n\\n\\n> \u6765\u6e90[How to undo \'git reset\'?](https://stackoverflow.com/questions/2510276/how-to-undo-git-reset)"},{"id":"/2022/04/9/javascript-array-shuffle","metadata":{"permalink":"/blog/2022/04/9/javascript-array-shuffle","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-04-9-javascript-array-shuffle.md","source":"@site/src/blog/2022-04-9-javascript-array-shuffle.md","title":"JavaScript\u6570\u7ec4\u4e71\u5e8f","description":"\u5982\u4f55\u5c06\u4e00\u4e2a JavaScript \u6570\u7ec4\u6253\u4e71\u987a\u5e8f\uff1f","date":"2022-04-09T00:00:00.000Z","formattedDate":"April 9, 2022","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":5.715,"hasTruncateMarker":true,"authors":[{"name":"Lucas HC","url":"https://www.zhihu.com/people/lucas-hc","imageURL":"https://pic3.zhimg.com/6c3e4f09100f35d70c4f7ab86b0a68c1_s.jpg"}],"frontMatter":{"title":"JavaScript\u6570\u7ec4\u4e71\u5e8f","author":"Lucas HC","author_url":"https://www.zhihu.com/people/lucas-hc","author_image_url":"https://pic3.zhimg.com/6c3e4f09100f35d70c4f7ab86b0a68c1_s.jpg","tags":["javascript"],"description":"\u5982\u4f55\u5c06\u4e00\u4e2a JavaScript \u6570\u7ec4\u6253\u4e71\u987a\u5e8f\uff1f","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u53d6\u6d88 git reset \u64cd\u4f5c","permalink":"/blog/2022/04/12/git-undo-reset"},"nextItem":{"title":"TypeScript\u58f0\u660ewindow\u5168\u5c40\u53d8\u91cf","permalink":"/blog/2022/04/9/typescript-declare-window-variables"}},"content":"\u672c\u6587\u6765\u81ea\u95ee\u9898\u53ca\u7b54\u6848[\u5982\u4f55\u5c06\u4e00\u4e2a JavaScript \u6570\u7ec4\u6253\u4e71\u987a\u5e8f\uff1f](https://www.zhihu.com/question/68330851/answer/266506621)\\n\\n\x3c!--truncate--\x3e\\n\\n1) \u9996\u5148\uff0c\u6beb\u65e0\u7591\u95ee\uff1a [@\u987e\u8f76\u7075](https://www.zhihu.com/people/596c0a5fdd9b36cea06bac348d418824) \u8f76\u7075\u5927\u4f6c\u7ed9\u51fa\u7684 Fisher\u2013Yates shuffle \u6d17\u724c\u7b97\u6cd5 \u662f\u6700\u5b8c\u7f8e\u4e71\u5e8f\u7684\u7b97\u6cd5/\u65b9\u6cd5\u4e4b\u4e00\u4e86\uff0c\u6b63\u89e3\u65e0\u7591\u3002\\n\\n2) \u540c\u65f6\uff0c\u5f88\u591a\u7b54\u6848\u63d0\u5230\u4e86\uff1a\\n\\n```javascript\\n[12,4,16,3].sort(function() {\\n    return .5 - Math.random();\\n});\\n```\\n\\n\u8fd9\u6837\u4f7f\u7528 sort \u7684\u65b9\u6cd5\u3002\u67d0\u4e9b\u573a\u666f\u4e0b\uff0c\u8fd9\u6837\u7684\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u7528\u3002\u4f46\u662f\u8fd9\u4e0d\u662f\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u5b8c\u5168\u4e71\u5e8f\uff0c\u4e00\u4e9b\u9700\u6c42\u4e2d\uff08\u6bd4\u5982\u62bd\u5956\uff09\u8fd9\u6837\u7684\u5199\u6cd5\u4f1a\u51fa\u5927\u95ee\u9898\u3002\\n\\n3) \u4e5f\u6709\u7b54\u6848\u63d0\u5230\u4e86\u4f18\u79c0\u7684 lodash \u5e93 `_.shuffle` \u65b9\u6cd5\u3002\u8fd9\u4e5f\u662f\u6b63\u89e3\uff0c\u4e8b\u5b9e\u4e0a\u7ffb\u5f00 lodash \u6e90\u7801\u76f8\u5173\u90e8\u5206\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u6b63\u662f\u91c7\u7528\u4e86 Fisher\u2013Yates shuffle \u6d17\u724c\u7b97\u6cd5\u3002\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u8fdb\u884c\u53c2\u9605\u3002\\n\\n\u5230\u6b64\uff0c\u8fd9\u4e2a\u56de\u7b54\u5e94\u8be5\u5df2\u7ecf\u6709\u4e86\u76f8\u5bf9\u5b8c\u5584\u7684\u89e3\u91ca\u3002\u4f46\u662f\u6700\u4e3a\u4f18\u79c0\u7684\u7801\u519c\uff0c\u8fd8\u662f\u53ef\u4ee5\u7ee7\u7eed\u201c\u8ffd\u6839\u95ee\u5e95\u201d\u3002\u6b63\u597d\u73b0\u5728\u6709\u70b9\u65f6\u95f4\uff0c\u6211\u6765\u9488\u5bf9\u8fd9\u51e0\u70b9\uff0c\u7a0d\u5fae\u89e3\u91ca\u5e76\u62d3\u5c55\u4e00\u4e0b\u3002\\n\\n## 1) \u4e3a\u4ec0\u4e48\u501f\u52a9 sort \u65b9\u6cd5\u4e0d\u662f\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u5b8c\u5168\u4e71\u5e8f\uff1f\\n\\n\u5148\u8bc1\u660e\u4e0d\u5b8c\u5168\u6027\u3002\u4e3a\u6b64\u5b9e\u73b0\u4e00\u4e2a\u811a\u672c\uff0c\u6211\u5bf9\\n```javascript\\nvar letters = [\'A\',\'B\',\'C\',\'D\',\'E\',\'F\',\'G\',\'H\',\'I\',\'J\'];\\n```\\nletters \u8fd9\u6837\u4e00\u4e2a\u6570\u7ec4\u4f7f\u7528 array.sort \u65b9\u6cd5\u8fdb\u884c\u4e86 10000 \u6b21\u4e71\u5e8f\u5904\u7406\uff0c\u5e76\u628a\u4e71\u5e8f\u7684\u6bcf\u4e00\u6b21\u7ed3\u679c\u53ef\u89c6\u5316\u8f93\u51fa\u3002\u6bcf\u4e2a\u5143\u7d20\uff08ABCD...\uff09\u51fa\u73b0\u7684\u4f4d\u7f6e\u6b21\u6570\u8fdb\u884c\u8bb0\u5f55:\\n\\n![](https://pica.zhimg.com/50/v2-d82ef426dc5445185a27d46976896909_720w.jpg)\\n\\n\u5177\u4f53\u811a\u672c\u5b9e\u73b0\uff1a[HOUCe/shuffle-array](https://link.zhihu.com/?target=https%3A//github.com/HOUCe/shuffle-array)\\n\\n\u6bd4\u5982 A \u5143\u7d20\u5927\u6982\u7387\u51fa\u73b0\u5728\u6570\u7ec4\u7684\u5934\u90e8\uff0cJ \u5143\u7d20\u5927\u6982\u7387\u51fa\u73b0\u5728\u6570\u7ec4\u7684\u5c3e\u90e8\uff0c\u6240\u6709\u5143\u7d20\u5927\u6982\u7387\u505c\u7559\u5728\u81ea\u5df1\u521d\u59cb\u4f4d\u7f6e\u3002\\n\\n\u7a76\u5176\u539f\u56e0\uff0c\u5728[Chrome v8\u5f15\u64ce\u6e90\u7801](https://link.zhihu.com/?target=https%3A//github.com/v8/v8/blob/master/src/js/array.js)\u4e2d\uff0c\u53ef\u4ee5\u6e05\u6670\u770b\u5230\u3002\\n> v8 \u5728\u5904\u7406 sort \u65b9\u6cd5\u65f6\uff0c\u4f7f\u7528\u4e86\u63d2\u5165\u6392\u5e8f\u548c\u5feb\u6392\u4e24\u79cd\u65b9\u6848\u3002\u5f53\u76ee\u6807\u6570\u7ec4\u957f\u5ea6\u5c0f\u4e8e10\u65f6\uff0c\u4f7f\u7528\u63d2\u5165\u6392\u5e8f\uff1b\u53cd\u4e4b\uff0c\u4f7f\u7528\u5feb\u6392\u3002\\n\\n\u5176\u5b9e\u4e0d\u7ba1\u7528\u4ec0\u4e48\u6392\u5e8f\u65b9\u6cd5\uff0c\u5927\u591a\u6570\u6392\u5e8f\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4ecb\u4e8e O(n) \u5230 O(n2) \u4e4b\u95f4\uff0c\u5143\u7d20\u4e4b\u95f4\u7684\u6bd4\u8f83\u6b21\u6570\u901a\u5e38\u60c5\u51b5\u4e0b\u8981\u8fdc\u5c0f\u4e8e n(n-1)/2\uff0c\u4e5f\u5c31\u610f\u5473\u7740\u6709\u4e00\u4e9b\u5143\u7d20\u4e4b\u95f4\u6839\u672c\u5c31\u6ca1\u673a\u4f1a\u76f8\u6bd4\u8f83\uff08\u4e5f\u5c31\u6ca1\u6709\u4e86\u968f\u673a\u4ea4\u6362\u7684\u53ef\u80fd\uff09\uff0c\u8fd9\u4e9b sort \u968f\u673a\u6392\u5e8f\u7684\u7b97\u6cd5\u81ea\u7136\u4e5f\u4e0d\u80fd\u771f\u6b63\u968f\u673a\u3002\\n\\n\u901a\u4fd7\u7684\u8bf4\uff0c\u5176\u5b9e\u6211\u4eec\u4f7f\u7528 array.sort \u8fdb\u884c\u4e71\u5e8f\uff0c\u7406\u60f3\u7684\u65b9\u6848\u6216\u8005\u8bf4\u7eaf\u4e71\u5e8f\u7684\u65b9\u6848\u662f\uff1a\u6570\u7ec4\u4e2d\u6bcf\u4e24\u4e2a\u5143\u7d20\u90fd\u8981\u8fdb\u884c\u6bd4\u8f83\uff0c\u8fd9\u4e2a\u6bd4\u8f83\u6709 50% \u7684\u4ea4\u6362\u4f4d\u7f6e\u6982\u7387\u3002\u5982\u6b64\u4e00\u6765\uff0c\u603b\u5171\u6bd4\u8f83\u6b21\u6570\u4e00\u5b9a\u4e3a n(n-1)\u3002\\n\\n\u800c\u5728 sort \u6392\u5e8f\u7b97\u6cd5\u4e2d\uff0c\u5927\u591a\u6570\u60c5\u51b5\u90fd\u4e0d\u4f1a\u6ee1\u8db3\u8fd9\u6837\u7684\u6761\u4ef6\u3002\u56e0\u800c\u5f53\u7136\u4e0d\u662f\u5b8c\u5168\u968f\u673a\u7684\u7ed3\u679c\u4e86\u3002\\n\\n## 2) Fisher\u2013Yates shuffle \u6d17\u724c\u7b97\u6cd5\u662f\u4ec0\u4e48\uff0c\u4e3a\u4ec0\u4e48\u6ee1\u8db3\u9700\u6c42\uff1f\\n\\n\u8fd9\u91cc\uff0c\u6211\u4eec\u7b80\u5355\u501f\u52a9\u56fe\u5f62\u6765\u7406\u89e3\uff0c\u975e\u5e38\u7b80\u5355\u76f4\u89c2\u3002\u4f60\u63a5\u4e0b\u6765\u5c31\u4f1a\u660e\u767d\u4e3a\u4ec0\u4e48\u8fd9\u662f\u7406\u8bba\u4e0a\u7684\u5b8c\u5168\u4e71\u5e8f\uff08\u56fe\u7247\u6765\u6e90\u4e8e\u7f51\u7edc\uff09\u3002\\n\\n\u9996\u5148\u6211\u4eec\u6709\u4e00\u4e2a\u5df2\u7ecf\u6392\u597d\u5e8f\u7684\u6570\u7ec4\uff1a\\n![](https://pic3.zhimg.com/50/v2-c8c701f597c5b303af10478144b9c835_720w.jpg)\\n\\nStep1\uff1a\\n\u7b2c\u4e00\u6b65\u9700\u8981\u505a\u7684\u5c31\u662f\uff0c\u4ece\u6570\u7ec4\u672b\u5c3e\u5f00\u59cb\uff0c\u9009\u53d6\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002\\n![](https://pica.zhimg.com/50/v2-975ee488313c20a4baff7eb9b4205f70_720w.jpg)\\n\\n\u5728\u6570\u7ec4\u4e00\u5171 9 \u4e2a\u4f4d\u7f6e\u4e2d\uff0c\u968f\u673a\u4ea7\u751f\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u8be5\u4f4d\u7f6e\u5143\u7d20\u4e0e\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u8fdb\u884c\u4ea4\u6362\u3002\\n![](https://pic2.zhimg.com/50/v2-a354579de5bda322fb6b28fc59f91162_720w.jpg)\\n![](https://pic1.zhimg.com/50/v2-370bda27a1da89d1248431e5d9c21d19_720w.jpg)\\n![](https://pic1.zhimg.com/50/v2-52aed4647731b53b49467a745c5c2b7d_720w.jpg)\\n\\nStep2\uff1a\u4e0a\u4e00\u6b65\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u628a\u6570\u7ec4\u672b\u5c3e\u5143\u7d20\u8fdb\u884c\u968f\u673a\u7f6e\u6362\u3002\\n\\n\u63a5\u4e0b\u6765\uff0c\u5bf9\u6570\u7ec4\u5012\u6570\u7b2c\u4e8c\u4e2a\u5143\u7d20\u52a8\u624b\u3002\u5728\u9664\u53bb\u5df2\u7ecf\u6392\u597d\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4f4d\u7f6e\u4ee5\u5916\u76848\u4e2a\u4f4d\u7f6e\u4e2d\uff0c\u968f\u673a\u4ea7\u751f\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u8be5\u4f4d\u7f6e\u5143\u7d20\u4e0e\u5012\u6570\u7b2c\u4e8c\u4e2a\u5143\u7d20\u8fdb\u884c\u4ea4\u6362\u3002\\n![](https://pic3.zhimg.com/50/v2-9a12161b403e62b935c53e915ff4b8f3_720w.jpg)\\n![](https://pica.zhimg.com/50/v2-9a5755961db3121663950103b7ff9768_720w.jpg)\\n![](https://pic3.zhimg.com/50/v2-330ba583dcade811d0716356f1eb0768_720w.jpg)\\n\\nStep3\uff1a\\n\u7406\u89e3\u4e86\u524d\u4e24\u90e8\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u4f9d\u6b21\u8fdb\u884c\uff0c\u5982\u6b64\u7b80\u5355\u3002\\n![](https://pica.zhimg.com/50/v2-e0dd916f238e8dd87bac18e5ef974984_720w.jpg)\\n\\n\\n\u6700\u540e\uff0c\u6211\u4eec\u5b9e\u73b0\u4ee3\u7801\uff1a\\n```javascript\\nArray.prototype.shuffle = function() {\\n    var array = this;\\n    var m = array.length,\\n        t, i;\\n    while (m) {\\n        i = Math.floor(Math.random() * m--);\\n        t = array[m];\\n        array[m] = array[i];\\n        array[i] = t;\\n    }\\n    return array;\\n}\\n```\\n\\n\u5f53\u7136\u8fd9\u79cd\u4ee3\u7801\u4e0d\u662f\u7eaf\u51c0\u7684\uff0c\u8fd9\u5c31\u5c5e\u4e8e\u53e6\u4e00\u5c42\u9762\u7684\u95ee\u9898\u4e86\u3002\u7eaf\u51fd\u6570\u4e0e\u975e\u7eaf\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u4f9d\u7167\u81ea\u5df1\u7684\u5f00\u53d1\u6a21\u5f0f\u548c\u4e60\u60ef\uff0c\u81ea\u884c\u8003\u8651\u3002\\n\\n\u4ee5\u4e0a\uff0c\u524d\u4e09\u6bb5\u8fdb\u884c\u4e86\u603b\u7ed3\u3002\u540e\u9762\u5927\u7bc7\u5e45\u8fdb\u884c\u4e86\u89e3\u91ca\u3002\u8bfb\u8005\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u9605\u8bfb\u3002\u5f88\u591a\u5185\u5bb9\u90fd\u662f\u62fe\u4eba\u7259\u6167\uff0c\u63a2\u7a76\u7cbe\u795e\u5bf9\u4e8e\u7a0b\u5e8f\u5458\u6765\u8bf4\u8fd8\u662f\u5f88\u5fc5\u8981\u7684\u3002\\n\\n:::note\\n\u5bf9\u4e8e Array.prototype.sort \u4e0d\u591f\u968f\u673a\u95ee\u9898, \u8bc4\u8bba\u533a\u6709\u4eba\u7ed9\u51fa\u4ee5\u4e0b\u65b9\u6848:\\n```javascript\\nconst random = Math.random;\\nconst shuffle = arr => arr.map(item => {value: item, key: random()})\\n.sort((a, b) => b.key - a.key)\\n.map(item => item.value)\\n```\\n:::"},{"id":"/2022/04/9/typescript-declare-window-variables","metadata":{"permalink":"/blog/2022/04/9/typescript-declare-window-variables","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-04-9-typescript-declare-window-variables.md","source":"@site/src/blog/2022-04-9-typescript-declare-window-variables.md","title":"TypeScript\u58f0\u660ewindow\u5168\u5c40\u53d8\u91cf","description":"TypeScript\u9879\u76ee\u5982\u679c\u7528\u5230\u4e86\u4e00\u4e9b\u7b2c\u4e09\u65b9JS\u7c7b\u5e93\uff0c\u4f46\u662f\u6ca1\u6709\u63d0\u4f9bd.ts\u6587\u4ef6\u65f6, \u53ef\u4ee5\u81ea\u5df1\u624b\u52a8\u58f0\u660e.","date":"2022-04-09T00:00:00.000Z","formattedDate":"April 9, 2022","tags":[{"label":"typescript","permalink":"/blog/tags/typescript"}],"readingTime":0.855,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"TypeScript\u58f0\u660ewindow\u5168\u5c40\u53d8\u91cf","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["typescript"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"JavaScript\u6570\u7ec4\u4e71\u5e8f","permalink":"/blog/2022/04/9/javascript-array-shuffle"},"nextItem":{"title":"JavaScript \u53d6\u6d88\u4e8b\u4ef6\u7ed1\u5b9a","permalink":"/blog/2022/04/6/javascript-cancel-event"}},"content":"TypeScript\u9879\u76ee\u5982\u679c\u7528\u5230\u4e86\u4e00\u4e9b\u7b2c\u4e09\u65b9JS\u7c7b\u5e93\uff0c\u4f46\u662f\u6ca1\u6709\u63d0\u4f9bd.ts\u6587\u4ef6\u65f6, \u53ef\u4ee5\u81ea\u5df1\u624b\u52a8\u58f0\u660e.\\n\\n\u4e00\u822c\u662f\u5728\u6e90\u7801\u7684`src`\u76ee\u5f55\u4e0b, \u521b\u5efa`global.d.ts`\u6587\u4ef6, \u4ee5\u4e0b\u793a\u4f8b\u58f0\u660ejQuery\u7684`$`\u4ee5\u53ca\u4e00\u4e2a[Gitalk](https://github.com/gitalk/gitalk)\u7c7b\u5e93\u7684\u7c7b\u578b:\\n\\n```typescript title=\\"src/global.d.ts\\"\\ninterface Window {\\n  Gitalk: Gitalk\\n  $: any\\n}\\n\\ninterface Gitalk {\\n  new(options: {\\n    clientID: string,\\n    clientSecret: string,\\n    repo: string,\\n    owner: string,\\n    admin: Array<string>,\\n    id: string,\\n    distractionFreeMode: boolean\\n  }): GitalkInstance\\n}\\ninterface GitalkInstance {\\n  render(id: string): void\\n}\\n```\\n\\n\u7136\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528 `new window.Gitalk({ ... })` \u521b\u5efa\u5b9e\u4f8b\u4e86.\\n\\n\u5b9e\u9645\u4e0a\u4efb\u4f55`interface`\u58f0\u660e\u7684\u7c7b\u578b, \u90fd\u53ef\u4ee5\u81ea\u5df1\u624b\u52a8\u6269\u5c55. \u800c`type`\u58f0\u660e\u7684\u7c7b\u578b\u5219\u65e0\u6cd5\u518d\u6b21\u6269\u5c55. \u8fd9\u4e5f\u662f`interface`\u548c`type`\u7684\u4e00\u4e2a\u4e3b\u8981\u533a\u522b."},{"id":"/2022/04/6/javascript-cancel-event","metadata":{"permalink":"/blog/2022/04/6/javascript-cancel-event","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-04-6-javascript-cancel-event.md","source":"@site/src/blog/2022-04-6-javascript-cancel-event.md","title":"JavaScript \u53d6\u6d88\u4e8b\u4ef6\u7ed1\u5b9a","description":"JavaScript \u53d6\u6d88\u4e8b\u4ef6\u7ed1\u5b9a","date":"2022-04-06T00:00:00.000Z","formattedDate":"April 6, 2022","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"web","permalink":"/blog/tags/web"}],"readingTime":1.43,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"JavaScript \u53d6\u6d88\u4e8b\u4ef6\u7ed1\u5b9a","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["javascript","web"],"description":"JavaScript \u53d6\u6d88\u4e8b\u4ef6\u7ed1\u5b9a","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"TypeScript\u58f0\u660ewindow\u5168\u5c40\u53d8\u91cf","permalink":"/blog/2022/04/9/typescript-declare-window-variables"},"nextItem":{"title":"JavaScript\u6eda\u52a8\u5230\u9875\u9762\u9876\u90e8","permalink":"/blog/2022/04/4/javascript-scroll-top-smooth"}},"content":"\u4e00\u822c\u60c5\u51b5\u4e0b\u4f7f\u7528`removeEventListener`\u79fb\u9664\u4e8b\u4ef6\u7ed1\u5b9a\u65f6, \u9700\u8981\u628a\u4e4b\u524d`addEventListener`\u4f20\u9012\u7684\u51fd\u6570\u518d\u4f20\u9012\u4e00\u6b21:\\n\\n\x3c!--truncate--\x3e\\n\\n```javascript\\nfunction onClick() {\\n  alert(\\"window\\");\\n}\\n// \u7ed1\u5b9a\u4e8b\u4ef6\\nwindow.addEventListener(\\"click\\", onClick);\\n\\n// \u79fb\u9664\u4e8b\u4ef6\\nwindow.removeEventListener(\\"click\\", onClick);\\n```\\n\\n\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5fc5\u987b\u8981\u628a\u4e8b\u4ef6\u5904\u7406\u51fd\u6570`onClick`\u5b58\u653e\u5230\u67d0\u4e2a\u53d8\u91cf\u4e0a, \u4e0b\u6b21\u79fb\u9664\u65f6\u624d\u80fd\u4f20\u9012\u7ed9\u79fb\u9664\u4e8b\u4ef6\u51fd\u6570, \u7ed9\u79fb\u9664\u6389.\\n\\n\u4e0b\u9762\u4ecb\u7ecd\u4e00\u79cd\u5b98\u65b9\u7684\u65b0\u65b9\u5f0f, \u89e3\u51b3\u79fb\u9664\u533f\u540d\u4e8b\u4ef6\u5904\u7406\u51fd\u6570:\\n\\n```javascript\\nconst controller = new AbortController();\\nwindow.addEventListener(\\"click\\", () => alert(\\"window\\"), { signal: controller.signal });\\ndocument.addEventListener(\\"click\\", () => alert(\\"document\\"), { signal: controller.signal });\\n\\n// \u6279\u91cf\u53d6\u6d88\u76d1\u542c\\ncontroller.abort();\\n```\\n\\n\u6216\u8005\u81ea\u5df1\u5b9e\u73b0\u7c7b\u4f3c\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\u7684\u65f6\u5019\u8fd8\u6709\u4e2a\u601d\u8def\u662f, \u628a\u53d6\u6d88\u51fd\u6570\u8fd4\u56de\u7ed9\u8c03\u7528\u65b9:\\n```javascript\\nfunction addEventListener(element, type, handler, options){\\n  // \u7ed1\u5b9a\u4e8b\u4ef6\\n  element.addEventListener(type, handler, options);\\n\\n  //\u53d6\u6d88\u4e8b\u4ef6\u7ed1\u5b9a\\n  function removeHandler () {\\n    element.removeEventListener(type, handler);\\n  }\\n  return removeHandler;\\n}\\n\\n// \u7136\u540e\u5c31\u53ef\u4ee5\u8fd9\u4e48\u4f7f\u7528\\nconst cancel = addEventListener(window, \\"click\\", () => alert(\\"window\\"), { signal: controller.signal });\\ncancel(); // \u8fd9\u5c31\u53d6\u6d88\u4e86\u4e8b\u4ef6\u7ed1\u5b9a\\n```\\n\\n> \u4e0a\u8ff0\u89e3\u51b3\u65b9\u6848\u548c\u601d\u8def\u6765\u81ea\u95ee\u9898\u53ca\u5176\u7b54\u6848: [\u628aaddEventListener\u6539\u6210\u8fd9\u6837\u6216\u8bb8\u66f4\u597d\u7528\uff0c\u662f\u5426\u6709\u4ec0\u4e48\u5f0a\u7aef\uff1f](https://www.zhihu.com/question/524996573/answer/2414818445)"},{"id":"/2022/04/4/javascript-scroll-top-smooth","metadata":{"permalink":"/blog/2022/04/4/javascript-scroll-top-smooth","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-04-4-javascript-scroll-top-smooth.md","source":"@site/src/blog/2022-04-4-javascript-scroll-top-smooth.md","title":"JavaScript\u6eda\u52a8\u5230\u9875\u9762\u9876\u90e8","description":"\u539f\u751f\u6eda\u52a8\u5230\u9875\u9762\u9876\u90e8\u7684\u52a8\u753b\u6548\u679c","date":"2022-04-04T00:00:00.000Z","formattedDate":"April 4, 2022","tags":[{"label":"web","permalink":"/blog/tags/web"},{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":0.31,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"JavaScript\u6eda\u52a8\u5230\u9875\u9762\u9876\u90e8","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["web","javascript"],"description":"\u539f\u751f\u6eda\u52a8\u5230\u9875\u9762\u9876\u90e8\u7684\u52a8\u753b\u6548\u679c","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"JavaScript \u53d6\u6d88\u4e8b\u4ef6\u7ed1\u5b9a","permalink":"/blog/2022/04/6/javascript-cancel-event"},"nextItem":{"title":"\u5982\u4f55\u7528\u5f62\u8c61\u7684\u6bd4\u55bb\u63cf\u8ff0\u5927\u6570\u636e\u7684\u6280\u672f\u751f\u6001\uff1fHadoop\u3001Hive\u3001Spark \u4e4b\u95f4\u662f\u4ec0\u4e48\u5173\u7cfb\uff1f","permalink":"/blog/2022/03/31/hadoop-hive-spark-intro"}},"content":"\u4f7f\u7528 `scrollTo({top: 0, behavior: \'smooth\'})` \u53ef\u4ee5\u4e1d\u6ed1\u6eda\u52a8\u5230\u9875\u9762\u9876\u90e8, \u4e0d\u9700\u8981\u5199\u52a8\u753b\u6548\u679c:\\n\\n\x3c!--truncate--\x3e\\n\\n```javascript\\nwindow.scrollTo({top: 0, behavior: \'smooth\'});\\n```\\n\\n\u5982\u679c\u4f60\u7684\u6eda\u52a8\u6761\u4e0d\u5728 `window` \u4e0a, \u9700\u8981\u628a`window`\u66ff\u6362\u6210\u4f60\u7684\u5143\u7d20, \u6bd4\u5982: \\n\\n```javascript\\ndocument.querySelector(\\"#scroll-element\\").scrollTo({top: 0, behavior: \'smooth\'});\\n```"},{"id":"/2022/03/31/hadoop-hive-spark-intro","metadata":{"permalink":"/blog/2022/03/31/hadoop-hive-spark-intro","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-31-hadoop-hive-spark-intro.md","source":"@site/src/blog/2022-03-31-hadoop-hive-spark-intro.md","title":"\u5982\u4f55\u7528\u5f62\u8c61\u7684\u6bd4\u55bb\u63cf\u8ff0\u5927\u6570\u636e\u7684\u6280\u672f\u751f\u6001\uff1fHadoop\u3001Hive\u3001Spark \u4e4b\u95f4\u662f\u4ec0\u4e48\u5173\u7cfb\uff1f","description":"\u5927\u6570\u636e\u672c\u8eab\u662f\u4e2a\u5f88\u5bbd\u6cdb\u7684\u6982\u5ff5\uff0cHadoop\u751f\u6001\u5708\uff08\u6216\u8005\u6cdb\u751f\u6001\u5708\uff09\u57fa\u672c\u4e0a\u90fd\u662f\u4e3a\u4e86\u5904\u7406\u8d85\u8fc7\u5355\u673a\u5c3a\u5ea6\u7684\u6570\u636e\u5904\u7406\u800c\u8bde\u751f\u7684\u3002\u4f60\u53ef\u4ee5\u628a\u5b83\u6bd4\u4f5c\u4e00\u4e2a\u53a8\u623f\u6240\u4ee5\u9700\u8981\u7684\u5404\u79cd\u5de5\u5177\u3002\u9505\u7897\u74e2\u76c6\uff0c\u5404\u6709\u5404\u7684\u7528\u5904\uff0c\u4e92\u76f8\u4e4b\u95f4\u53c8\u6709\u91cd\u5408\u3002\u4f60\u53ef\u4ee5\u7528\u6c64\u9505\u76f4\u63a5\u5f53\u7897\u5403\u996d\u559d\u6c64\uff0c\u4f60\u53ef\u4ee5\u7528\u5c0f\u5200\u6216\u8005\u5228\u5b50\u53bb\u76ae\u3002\u4f46\u662f\u6bcf\u4e2a\u5de5\u5177\u6709\u81ea\u5df1\u7684\u7279\u6027\uff0c\u867d\u7136\u5947\u602a\u7684\u7ec4\u5408\u4e5f\u80fd\u5de5\u4f5c\uff0c\u4f46\u662f\u672a\u5fc5\u662f\u6700\u4f73\u9009\u62e9\u3002","date":"2022-03-31T00:00:00.000Z","formattedDate":"March 31, 2022","tags":[{"label":"hadoop","permalink":"/blog/tags/hadoop"},{"label":"\u5927\u6570\u636e","permalink":"/blog/tags/\u5927\u6570\u636e"},{"label":"spark","permalink":"/blog/tags/spark"},{"label":"hive","permalink":"/blog/tags/hive"},{"label":"\u8f6c\u6458","permalink":"/blog/tags/\u8f6c\u6458"}],"readingTime":14.76,"hasTruncateMarker":true,"authors":[{"name":"Xiaoyu Ma","title":"\u4ea7\u54c1\u7ecf\u7406@PingCAP","url":"https://www.zhihu.com/people/xiaoyu-ma","imageURL":"https://pic2.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_xl.jpg"}],"frontMatter":{"title":"\u5982\u4f55\u7528\u5f62\u8c61\u7684\u6bd4\u55bb\u63cf\u8ff0\u5927\u6570\u636e\u7684\u6280\u672f\u751f\u6001\uff1fHadoop\u3001Hive\u3001Spark \u4e4b\u95f4\u662f\u4ec0\u4e48\u5173\u7cfb\uff1f","author":"Xiaoyu Ma","author_title":"\u4ea7\u54c1\u7ecf\u7406@PingCAP","author_url":"https://www.zhihu.com/people/xiaoyu-ma","author_image_url":"https://pic2.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_xl.jpg","tags":["hadoop","\u5927\u6570\u636e","spark","hive","\u8f6c\u6458"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"JavaScript\u6eda\u52a8\u5230\u9875\u9762\u9876\u90e8","permalink":"/blog/2022/04/4/javascript-scroll-top-smooth"},"nextItem":{"title":"\u5982\u4f55\u89e3\u51b3Git\u4ed3\u5e93 .git \u6587\u4ef6\u8fc7\u5927\u95ee\u9898","permalink":"/blog/2022/03/31/large-git-repository.md"}},"content":"import { NetworkCopyRight } from \\"@site/src/components\\";\\n\\n\u5927\u6570\u636e\u672c\u8eab\u662f\u4e2a\u5f88\u5bbd\u6cdb\u7684\u6982\u5ff5\uff0cHadoop\u751f\u6001\u5708\uff08\u6216\u8005\u6cdb\u751f\u6001\u5708\uff09\u57fa\u672c\u4e0a\u90fd\u662f\u4e3a\u4e86\u5904\u7406\u8d85\u8fc7\u5355\u673a\u5c3a\u5ea6\u7684\u6570\u636e\u5904\u7406\u800c\u8bde\u751f\u7684\u3002\u4f60\u53ef\u4ee5\u628a\u5b83\u6bd4\u4f5c\u4e00\u4e2a\u53a8\u623f\u6240\u4ee5\u9700\u8981\u7684\u5404\u79cd\u5de5\u5177\u3002\u9505\u7897\u74e2\u76c6\uff0c\u5404\u6709\u5404\u7684\u7528\u5904\uff0c\u4e92\u76f8\u4e4b\u95f4\u53c8\u6709\u91cd\u5408\u3002\u4f60\u53ef\u4ee5\u7528\u6c64\u9505\u76f4\u63a5\u5f53\u7897\u5403\u996d\u559d\u6c64\uff0c\u4f60\u53ef\u4ee5\u7528\u5c0f\u5200\u6216\u8005\u5228\u5b50\u53bb\u76ae\u3002\u4f46\u662f\u6bcf\u4e2a\u5de5\u5177\u6709\u81ea\u5df1\u7684\u7279\u6027\uff0c\u867d\u7136\u5947\u602a\u7684\u7ec4\u5408\u4e5f\u80fd\u5de5\u4f5c\uff0c\u4f46\u662f\u672a\u5fc5\u662f\u6700\u4f73\u9009\u62e9\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u5927\u6570\u636e\uff0c\u9996\u5148\u4f60\u8981\u80fd\u5b58\u7684\u4e0b\u5927\u6570\u636e\u3002\\n\\n\u4f20\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u662f\u5355\u673a\u7684\uff0c\u4e0d\u80fd\u6a2a\u8de8\u4e0d\u540c\u7684\u673a\u5668\u3002HDFS\uff08Hadoop Distributed FileSystem\uff09\u7684\u8bbe\u8ba1\u672c\u8d28\u4e0a\u662f\u4e3a\u4e86\u5927\u91cf\u7684\u6570\u636e\u80fd\u6a2a\u8de8\u6210\u767e\u4e0a\u5343\u53f0\u673a\u5668\uff0c\u4f46\u662f\u4f60\u770b\u5230\u7684\u662f\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\u800c\u4e0d\u662f\u5f88\u591a\u6587\u4ef6\u7cfb\u7edf\u3002\u6bd4\u5982\u4f60\u8bf4\u6211\u8981\u83b7\u53d6/hdfs/tmp/file1\u7684\u6570\u636e\uff0c\u4f60\u5f15\u7528\u7684\u662f\u4e00\u4e2a\u6587\u4ef6\u8def\u5f84\uff0c\u4f46\u662f\u5b9e\u9645\u7684\u6570\u636e\u5b58\u653e\u5728\u5f88\u591a\u4e0d\u540c\u7684\u673a\u5668\u4e0a\u3002\u4f60\u4f5c\u4e3a\u7528\u6237\uff0c\u4e0d\u9700\u8981\u77e5\u9053\u8fd9\u4e9b\uff0c\u5c31\u597d\u6bd4\u5728\u5355\u673a\u4e0a\u4f60\u4e0d\u5173\u5fc3\u6587\u4ef6\u5206\u6563\u5728\u4ec0\u4e48\u78c1\u9053\u4ec0\u4e48\u6247\u533a\u4e00\u6837\u3002HDFS\u4e3a\u4f60\u7ba1\u7406\u8fd9\u4e9b\u6570\u636e\u3002\\n\\n\u5b58\u7684\u4e0b\u6570\u636e\u4e4b\u540e\uff0c\u4f60\u5c31\u5f00\u59cb\u8003\u8651\u600e\u4e48\u5904\u7406\u6570\u636e\u3002\u867d\u7136HDFS\u53ef\u4ee5\u4e3a\u4f60\u6574\u4f53\u7ba1\u7406\u4e0d\u540c\u673a\u5668\u4e0a\u7684\u6570\u636e\uff0c\u4f46\u662f\u8fd9\u4e9b\u6570\u636e\u592a\u5927\u4e86\u3002\u4e00\u53f0\u673a\u5668\u8bfb\u53d6\u6210T\u4e0aP\u7684\u6570\u636e\uff08\u5f88\u5927\u7684\u6570\u636e\u54e6\uff0c\u6bd4\u5982\u6574\u4e2a\u4e1c\u4eac\u70ed\u6709\u53f2\u4ee5\u6765\u6240\u6709\u9ad8\u6e05\u7535\u5f71\u7684\u5927\u5c0f\u751a\u81f3\u66f4\u5927\uff09\uff0c\u4e00\u53f0\u673a\u5668\u6162\u6162\u8dd1\u4e5f\u8bb8\u9700\u8981\u597d\u51e0\u5929\u751a\u81f3\u597d\u51e0\u5468\u3002\u5bf9\u4e8e\u5f88\u591a\u516c\u53f8\u6765\u8bf4\uff0c\u5355\u673a\u5904\u7406\u662f\u4e0d\u53ef\u5fcd\u53d7\u7684\uff0c\u6bd4\u5982\u5fae\u535a\u8981\u66f4\u65b024\u5c0f\u65f6\u70ed\u535a\uff0c\u5b83\u5fc5\u987b\u572824\u5c0f\u65f6\u4e4b\u5185\u8dd1\u5b8c\u8fd9\u4e9b\u5904\u7406\u3002\u90a3\u4e48\u6211\u5982\u679c\u8981\u7528\u5f88\u591a\u53f0\u673a\u5668\u5904\u7406\uff0c\u6211\u5c31\u9762\u4e34\u4e86\u5982\u4f55\u5206\u914d\u5de5\u4f5c\uff0c\u5982\u679c\u4e00\u53f0\u673a\u5668\u6302\u4e86\u5982\u4f55\u91cd\u65b0\u542f\u52a8\u76f8\u5e94\u7684\u4efb\u52a1\uff0c\u673a\u5668\u4e4b\u95f4\u5982\u4f55\u4e92\u76f8\u901a\u4fe1\u4ea4\u6362\u6570\u636e\u4ee5\u5b8c\u6210\u590d\u6742\u7684\u8ba1\u7b97\u7b49\u7b49\u3002\u8fd9\u5c31\u662fMapReduce / Tez / Spark\u7684\u529f\u80fd\u3002MapReduce\u662f\u7b2c\u4e00\u4ee3\u8ba1\u7b97\u5f15\u64ce\uff0cTez\u548cSpark\u662f\u7b2c\u4e8c\u4ee3\u3002MapReduce\u7684\u8bbe\u8ba1\uff0c\u91c7\u7528\u4e86\u5f88\u7b80\u5316\u7684\u8ba1\u7b97\u6a21\u578b\uff0c\u53ea\u6709Map\u548cReduce\u4e24\u4e2a\u8ba1\u7b97\u8fc7\u7a0b\uff08\u4e2d\u95f4\u7528Shuffle\u4e32\u8054\uff09\uff0c\u7528\u8fd9\u4e2a\u6a21\u578b\uff0c\u5df2\u7ecf\u53ef\u4ee5\u5904\u7406\u5927\u6570\u636e\u9886\u57df\u5f88\u5927\u4e00\u90e8\u5206\u95ee\u9898\u4e86\u3002\\n\\n\u90a3\u4ec0\u4e48\u662fMap\u4ec0\u4e48\u662fReduce\uff1f\\n\\n\u8003\u8651\u5982\u679c\u4f60\u8981\u7edf\u8ba1\u4e00\u4e2a\u5de8\u5927\u7684\u6587\u672c\u6587\u4ef6\u5b58\u50a8\u5728\u7c7b\u4f3cHDFS\u4e0a\uff0c\u4f60\u60f3\u8981\u77e5\u9053\u8fd9\u4e2a\u6587\u672c\u91cc\u5404\u4e2a\u8bcd\u7684\u51fa\u73b0\u9891\u7387\u3002\u4f60\u542f\u52a8\u4e86\u4e00\u4e2aMapReduce\u7a0b\u5e8f\u3002Map\u9636\u6bb5\uff0c\u51e0\u767e\u53f0\u673a\u5668\u540c\u65f6\u8bfb\u53d6\u8fd9\u4e2a\u6587\u4ef6\u7684\u5404\u4e2a\u90e8\u5206\uff0c\u5206\u522b\u628a\u5404\u81ea\u8bfb\u5230\u7684\u90e8\u5206\u5206\u522b\u7edf\u8ba1\u51fa\u8bcd\u9891\uff0c\u4ea7\u751f\u7c7b\u4f3c\uff08hello, 12100\u6b21\uff09\uff0c\uff08world\uff0c15214\u6b21\uff09\u7b49\u7b49\u8fd9\u6837\u7684Pair\uff08\u6211\u8fd9\u91cc\u628aMap\u548cCombine\u653e\u5728\u4e00\u8d77\u8bf4\u4ee5\u4fbf\u7b80\u5316\uff09\uff1b\u8fd9\u51e0\u767e\u53f0\u673a\u5668\u5404\u81ea\u90fd\u4ea7\u751f\u4e86\u5982\u4e0a\u7684\u96c6\u5408\uff0c\u7136\u540e\u53c8\u6709\u51e0\u767e\u53f0\u673a\u5668\u542f\u52a8Reduce\u5904\u7406\u3002Reducer\u673a\u5668A\u5c06\u4eceMapper\u673a\u5668\u6536\u5230\u6240\u6709\u4ee5A\u5f00\u5934\u7684\u7edf\u8ba1\u7ed3\u679c\uff0c\u673a\u5668B\u5c06\u6536\u5230B\u5f00\u5934\u7684\u8bcd\u6c47\u7edf\u8ba1\u7ed3\u679c\uff08\u5f53\u7136\u5b9e\u9645\u4e0a\u4e0d\u4f1a\u771f\u7684\u4ee5\u5b57\u6bcd\u5f00\u5934\u505a\u4f9d\u636e\uff0c\u800c\u662f\u7528\u51fd\u6570\u4ea7\u751fHash\u503c\u4ee5\u907f\u514d\u6570\u636e\u4e32\u5316\u3002\u56e0\u4e3a\u7c7b\u4f3cX\u5f00\u5934\u7684\u8bcd\u80af\u5b9a\u6bd4\u5176\u4ed6\u8981\u5c11\u5f97\u591a\uff0c\u800c\u4f60\u4e0d\u5e0c\u671b\u6570\u636e\u5904\u7406\u5404\u4e2a\u673a\u5668\u7684\u5de5\u4f5c\u91cf\u76f8\u5dee\u60ac\u6b8a\uff09\u3002\u7136\u540e\u8fd9\u4e9bReducer\u5c06\u518d\u6b21\u6c47\u603b\uff0c\uff08hello\uff0c12100\uff09\uff0b\uff08hello\uff0c12311\uff09\uff0b\uff08hello\uff0c345881\uff09= \uff08hello\uff0c370292\uff09\u3002\u6bcf\u4e2aReducer\u90fd\u5982\u4e0a\u5904\u7406\uff0c\u4f60\u5c31\u5f97\u5230\u4e86\u6574\u4e2a\u6587\u4ef6\u7684\u8bcd\u9891\u7ed3\u679c\u3002\\n\\n\u8fd9\u770b\u4f3c\u662f\u4e2a\u5f88\u7b80\u5355\u7684\u6a21\u578b\uff0c\u4f46\u5f88\u591a\u7b97\u6cd5\u90fd\u53ef\u4ee5\u7528\u8fd9\u4e2a\u6a21\u578b\u63cf\u8ff0\u4e86\u3002\\n\\nMap\uff0bReduce \u7684\u7b80\u5355\u6a21\u578b\u5f88\u9ec4\u5f88\u66b4\u529b\uff0c\u867d\u7136\u597d\u7528\uff0c\u4f46\u662f\u5f88\u7b28\u91cd\u3002\u7b2c\u4e8c\u4ee3\u7684Tez\u548cSpark\u9664\u4e86\u5185\u5b58Cache\u4e4b\u7c7b\u7684\u65b0feature\uff0c\u672c\u8d28\u4e0a\u6765\u8bf4\uff0c\u662f\u8ba9Map/Reduce\u6a21\u578b\u66f4\u901a\u7528\uff0c\u8ba9Map\u548cReduce\u4e4b\u95f4\u7684\u754c\u9650\u66f4\u6a21\u7cca\uff0c\u6570\u636e\u4ea4\u6362\u66f4\u7075\u6d3b\uff0c\u66f4\u5c11\u7684\u78c1\u76d8\u8bfb\u5199\uff0c\u4ee5\u4fbf\u66f4\u65b9\u4fbf\u5730\u63cf\u8ff0\u590d\u6742\u7b97\u6cd5\uff0c\u53d6\u5f97\u66f4\u9ad8\u7684\u541e\u5410\u91cf\u3002\\n\\n\u6709\u4e86MapReduce\uff0cTez\u548cSpark\u4e4b\u540e\uff0c\u7a0b\u5e8f\u5458\u53d1\u73b0\uff0cMapReduce\u7684\u7a0b\u5e8f\u5199\u8d77\u6765\u771f\u9ebb\u70e6\u3002\u4ed6\u4eec\u5e0c\u671b\u7b80\u5316\u8fd9\u4e2a\u8fc7\u7a0b\u3002\u8fd9\u5c31\u597d\u6bd4\u4f60\u6709\u4e86\u6c47\u7f16\u8bed\u8a00\uff0c\u867d\u7136\u4f60\u51e0\u4e4e\u4ec0\u4e48\u90fd\u80fd\u5e72\u4e86\uff0c\u4f46\u662f\u4f60\u8fd8\u662f\u89c9\u5f97\u7e41\u7410\u3002\u4f60\u5e0c\u671b\u6709\u4e2a\u66f4\u9ad8\u5c42\u66f4\u62bd\u8c61\u7684\u8bed\u8a00\u5c42\u6765\u63cf\u8ff0\u7b97\u6cd5\u548c\u6570\u636e\u5904\u7406\u6d41\u7a0b\u3002\u4e8e\u662f\u5c31\u6709\u4e86Pig\u548cHive\u3002Pig\u662f\u63a5\u8fd1\u811a\u672c\u65b9\u5f0f\u53bb\u63cf\u8ff0MapReduce\uff0cHive\u5219\u7528\u7684\u662fSQL\u3002\u5b83\u4eec\u628a\u811a\u672c\u548cSQL\u8bed\u8a00\u7ffb\u8bd1\u6210MapReduce\u7a0b\u5e8f\uff0c\u4e22\u7ed9\u8ba1\u7b97\u5f15\u64ce\u53bb\u8ba1\u7b97\uff0c\u800c\u4f60\u5c31\u4ece\u7e41\u7410\u7684MapReduce\u7a0b\u5e8f\u4e2d\u89e3\u8131\u51fa\u6765\uff0c\u7528\u66f4\u7b80\u5355\u66f4\u76f4\u89c2\u7684\u8bed\u8a00\u53bb\u5199\u7a0b\u5e8f\u4e86\u3002\\n\\n\u6709\u4e86Hive\u4e4b\u540e\uff0c\u4eba\u4eec\u53d1\u73b0SQL\u5bf9\u6bd4Java\u6709\u5de8\u5927\u7684\u4f18\u52bf\u3002\u4e00\u4e2a\u662f\u5b83\u592a\u5bb9\u6613\u5199\u4e86\u3002\u521a\u624d\u8bcd\u9891\u7684\u4e1c\u897f\uff0c\u7528SQL\u63cf\u8ff0\u5c31\u53ea\u6709\u4e00\u4e24\u884c\uff0cMapReduce\u5199\u8d77\u6765\u5927\u7ea6\u8981\u51e0\u5341\u4e0a\u767e\u884c\u3002\u800c\u66f4\u91cd\u8981\u7684\u662f\uff0c\u975e\u8ba1\u7b97\u673a\u80cc\u666f\u7684\u7528\u6237\u7ec8\u4e8e\u611f\u53d7\u5230\u4e86\u7231\uff1a\u6211\u4e5f\u4f1a\u5199SQL\uff01\u4e8e\u662f\u6570\u636e\u5206\u6790\u4eba\u5458\u7ec8\u4e8e\u4ece\u4e5e\u6c42\u5de5\u7a0b\u5e08\u5e2e\u5fd9\u7684\u7a98\u5883\u89e3\u8131\u51fa\u6765\uff0c\u5de5\u7a0b\u5e08\u4e5f\u4ece\u5199\u5947\u602a\u7684\u4e00\u6b21\u6027\u7684\u5904\u7406\u7a0b\u5e8f\u4e2d\u89e3\u8131\u51fa\u6765\u3002\u5927\u5bb6\u90fd\u5f00\u5fc3\u4e86\u3002Hive\u9010\u6e10\u6210\u957f\u6210\u4e86\u5927\u6570\u636e\u4ed3\u5e93\u7684\u6838\u5fc3\u7ec4\u4ef6\u3002\u751a\u81f3\u5f88\u591a\u516c\u53f8\u7684\u6d41\u6c34\u7ebf\u4f5c\u4e1a\u96c6\u5b8c\u5168\u662f\u7528SQL\u63cf\u8ff0\uff0c\u56e0\u4e3a\u6613\u5199\u6613\u6539\uff0c\u4e00\u770b\u5c31\u61c2\uff0c\u5bb9\u6613\u7ef4\u62a4\u3002\\n\\n\u81ea\u4ece\u6570\u636e\u5206\u6790\u4eba\u5458\u5f00\u59cb\u7528Hive\u5206\u6790\u6570\u636e\u4e4b\u540e\uff0c\u5b83\u4eec\u53d1\u73b0\uff0cHive\u5728MapReduce\u4e0a\u8dd1\uff0c\u771f\u9e21\u5df4\u6162\uff01\u6d41\u6c34\u7ebf\u4f5c\u4e1a\u96c6\u4e5f\u8bb8\u6ca1\u5565\u5173\u7cfb\uff0c\u6bd4\u598224\u5c0f\u65f6\u66f4\u65b0\u7684\u63a8\u8350\uff0c\u53cd\u6b6324\u5c0f\u65f6\u5185\u8dd1\u5b8c\u5c31\u7b97\u4e86\u3002\u4f46\u662f\u6570\u636e\u5206\u6790\uff0c\u4eba\u4eec\u603b\u662f\u5e0c\u671b\u80fd\u8dd1\u66f4\u5feb\u4e00\u4e9b\u3002\u6bd4\u5982\u6211\u5e0c\u671b\u770b\u8fc7\u53bb\u4e00\u4e2a\u5c0f\u65f6\u5185\u591a\u5c11\u4eba\u5728\u5145\u6c14\u5a03\u5a03\u9875\u9762\u9a7b\u8db3\uff0c\u5206\u522b\u505c\u7559\u4e86\u591a\u4e45\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5de8\u578b\u7f51\u7ad9\u6d77\u91cf\u6570\u636e\u4e0b\uff0c\u8fd9\u4e2a\u5904\u7406\u8fc7\u7a0b\u4e5f\u8bb8\u8981\u82b1\u51e0\u5341\u5206\u949f\u751a\u81f3\u5f88\u591a\u5c0f\u65f6\u3002\u800c\u8fd9\u4e2a\u5206\u6790\u4e5f\u8bb8\u53ea\u662f\u4f60\u4e07\u91cc\u957f\u5f81\u7684\u7b2c\u4e00\u6b65\uff0c\u4f60\u8fd8\u8981\u770b\u591a\u5c11\u4eba\u6d4f\u89c8\u4e86\u8df3\u86cb\u591a\u5c11\u4eba\u770b\u4e86\u62c9\u8d6b\u66fc\u5c3c\u8bfa\u592b\u7684CD\uff0c\u4ee5\u4fbf\u8ddf\u8001\u677f\u6c47\u62a5\uff0c\u6211\u4eec\u7684\u7528\u6237\u662f\u7325\u7410\u7537\u95f7\u9a9a\u5973\u66f4\u591a\u8fd8\u662f\u6587\u827a\u9752\u5e74\uff0f\u5c11\u5973\u66f4\u591a\u3002\u4f60\u65e0\u6cd5\u5fcd\u53d7\u7b49\u5f85\u7684\u6298\u78e8\uff0c\u53ea\u80fd\u8ddf\u5e05\u5e05\u7684\u5de5\u7a0b\u5e08\u8748\u8748\u8bf4\uff0c\u5feb\uff0c\u5feb\uff0c\u518d\u5feb\u4e00\u70b9\uff01\\n\\n\u4e8e\u662fImpala\uff0cPresto\uff0cDrill\u8bde\u751f\u4e86\uff08\u5f53\u7136\u8fd8\u6709\u65e0\u6570\u975e\u8457\u540d\u7684\u4ea4\u4e92SQL\u5f15\u64ce\uff0c\u5c31\u4e0d\u4e00\u4e00\u5217\u4e3e\u4e86\uff09\u3002\u4e09\u4e2a\u7cfb\u7edf\u7684\u6838\u5fc3\u7406\u5ff5\u662f\uff0cMapReduce\u5f15\u64ce\u592a\u6162\uff0c\u56e0\u4e3a\u5b83\u592a\u901a\u7528\uff0c\u592a\u5f3a\u58ee\uff0c\u592a\u4fdd\u5b88\uff0c\u6211\u4eecSQL\u9700\u8981\u66f4\u8f7b\u91cf\uff0c\u66f4\u6fc0\u8fdb\u5730\u83b7\u53d6\u8d44\u6e90\uff0c\u66f4\u4e13\u95e8\u5730\u5bf9SQL\u505a\u4f18\u5316\uff0c\u800c\u4e14\u4e0d\u9700\u8981\u90a3\u4e48\u591a\u5bb9\u9519\u6027\u4fdd\u8bc1\uff08\u56e0\u4e3a\u7cfb\u7edf\u51fa\u9519\u4e86\u5927\u4e0d\u4e86\u91cd\u65b0\u542f\u52a8\u4efb\u52a1\uff0c\u5982\u679c\u6574\u4e2a\u5904\u7406\u65f6\u95f4\u66f4\u77ed\u7684\u8bdd\uff0c\u6bd4\u5982\u51e0\u5206\u949f\u4e4b\u5185\uff09\u3002\u8fd9\u4e9b\u7cfb\u7edf\u8ba9\u7528\u6237\u66f4\u5feb\u901f\u5730\u5904\u7406SQL\u4efb\u52a1\uff0c\u727a\u7272\u4e86\u901a\u7528\u6027\\n\\n\u7a33\u5b9a\u6027\u7b49\u7279\u6027\u3002\u5982\u679c\u8bf4MapReduce\u662f\u5927\u780d\u5200\uff0c\u780d\u5565\u90fd\u4e0d\u6015\uff0c\u90a3\u4e0a\u9762\u4e09\u4e2a\u5c31\u662f\u5254\u9aa8\u5200\uff0c\u7075\u5de7\u950b\u5229\uff0c\u4f46\u662f\u4e0d\u80fd\u641e\u592a\u5927\u592a\u786c\u7684\u4e1c\u897f\u3002\\n\\n\u8fd9\u4e9b\u7cfb\u7edf\uff0c\u8bf4\u5b9e\u8bdd\uff0c\u4e00\u76f4\u6ca1\u6709\u8fbe\u5230\u4eba\u4eec\u671f\u671b\u7684\u6d41\u884c\u5ea6\u3002\u56e0\u4e3a\u8fd9\u65f6\u5019\u53c8\u4e24\u4e2a\u5f02\u7c7b\u88ab\u9020\u51fa\u6765\u4e86\u3002\u4ed6\u4eec\u662fHive on Tez / Spark\u548cSparkSQL\u3002\u5b83\u4eec\u7684\u8bbe\u8ba1\u7406\u5ff5\u662f\uff0cMapReduce\u6162\uff0c\u4f46\u662f\u5982\u679c\u6211\u7528\u65b0\u4e00\u4ee3\u901a\u7528\u8ba1\u7b97\u5f15\u64ceTez\u6216\u8005Spark\u6765\u8dd1SQL\uff0c\u90a3\u6211\u5c31\u80fd\u8dd1\u7684\u66f4\u5feb\u3002\u800c\u4e14\u7528\u6237\u4e0d\u9700\u8981\u7ef4\u62a4\u4e24\u5957\u7cfb\u7edf\u3002\u8fd9\u5c31\u597d\u6bd4\u5982\u679c\u4f60\u53a8\u623f\u5c0f\uff0c\u4eba\u53c8\u61d2\uff0c\u5bf9\u5403\u7684\u7cbe\u7ec6\u7a0b\u5ea6\u8981\u6c42\u6709\u9650\uff0c\u90a3\u4f60\u53ef\u4ee5\u4e70\u4e2a\u7535\u996d\u7172\uff0c\u80fd\u84b8\u80fd\u7172\u80fd\u70e7\uff0c\u7701\u4e86\u597d\u591a\u53a8\u5177\u3002\\n\\n\u4e0a\u9762\u7684\u4ecb\u7ecd\uff0c\u57fa\u672c\u5c31\u662f\u4e00\u4e2a\u6570\u636e\u4ed3\u5e93\\n\\n\u7684\u6784\u67b6\u4e86\u3002\u5e95\u5c42HDFS\uff0c\u4e0a\u9762\u8dd1MapReduce\uff0fTez\uff0fSpark\uff0c\u5728\u4e0a\u9762\u8dd1Hive\uff0cPig\u3002\u6216\u8005HDFS\u4e0a\u76f4\u63a5\u8dd1Impala\uff0cDrill\uff0cPresto\u3002\u8fd9\u89e3\u51b3\u4e86\u4e2d\u4f4e\u901f\u6570\u636e\u5904\u7406\u7684\u8981\u6c42\u3002\\n\\n\u90a3\u5982\u679c\u6211\u8981\u66f4\u9ad8\u901f\u7684\u5904\u7406\u5462\uff1f\\n\\n\u5982\u679c\u6211\u662f\u4e00\u4e2a\u7c7b\u4f3c\u5fae\u535a\u7684\u516c\u53f8\uff0c\u6211\u5e0c\u671b\u663e\u793a\u4e0d\u662f24\u5c0f\u65f6\u70ed\u535a\uff0c\u6211\u60f3\u770b\u4e00\u4e2a\u4e0d\u65ad\u53d8\u5316\u7684\u70ed\u64ad\u699c\uff0c\u66f4\u65b0\u5ef6\u8fdf\u5728\u4e00\u5206\u949f\u4e4b\u5185\uff0c\u4e0a\u9762\u7684\u624b\u6bb5\u90fd\u5c06\u65e0\u6cd5\u80dc\u4efb\u3002\u4e8e\u662f\u53c8\u4e00\u79cd\u8ba1\u7b97\u6a21\u578b\u88ab\u5f00\u53d1\u51fa\u6765\uff0c\u8fd9\u5c31\u662fStreaming\uff08\u6d41\uff09\u8ba1\u7b97\u3002Storm\u662f\u6700\u6d41\u884c\u7684\u6d41\u8ba1\u7b97\u5e73\u53f0\u3002\u6d41\u8ba1\u7b97\u7684\u601d\u8def\u662f\uff0c\u5982\u679c\u8981\u8fbe\u5230\u66f4\u5b9e\u65f6\u7684\u66f4\u65b0\uff0c\u6211\u4f55\u4e0d\u5728\u6570\u636e\u6d41\u8fdb\u6765\u7684\u65f6\u5019\u5c31\u5904\u7406\u4e86\uff1f\u6bd4\u5982\u8fd8\u662f\u8bcd\u9891\u7edf\u8ba1\u7684\u4f8b\u5b50\uff0c\u6211\u7684\u6570\u636e\u6d41\u662f\u4e00\u4e2a\u4e00\u4e2a\u7684\u8bcd\uff0c\u6211\u5c31\u8ba9\u4ed6\u4eec\u4e00\u8fb9\u6d41\u8fc7\u6211\u5c31\u4e00\u8fb9\u5f00\u59cb\u7edf\u8ba1\u4e86\u3002\u6d41\u8ba1\u7b97\u5f88\u725b\u903c\uff0c\u57fa\u672c\u65e0\u5ef6\u8fdf\uff0c\u4f46\u662f\u5b83\u7684\u77ed\u5904\u662f\uff0c\u4e0d\u7075\u6d3b\uff0c\u4f60\u60f3\u8981\u7edf\u8ba1\u7684\u4e1c\u897f\u5fc5\u987b\u9884\u5148\u77e5\u9053\uff0c\u6bd5\u7adf\u6570\u636e\u6d41\u8fc7\u5c31\u6ca1\u4e86\uff0c\u4f60\u6ca1\u7b97\u7684\u4e1c\u897f\u5c31\u65e0\u6cd5\u8865\u7b97\u4e86\u3002\u56e0\u6b64\u5b83\u662f\u4e2a\u5f88\u597d\u7684\u4e1c\u897f\uff0c\u4f46\u662f\u65e0\u6cd5\u66ff\u4ee3\u4e0a\u9762\u6570\u636e\u4ed3\u5e93\u548c\u6279\u5904\u7406\u7cfb\u7edf\u3002\\n\\n\u8fd8\u6709\u4e00\u4e2a\u6709\u4e9b\u72ec\u7acb\u7684\u6a21\u5757\u662fKV Store\uff0c\u6bd4\u5982Cassandra\uff0cHBase\uff0cMongoDB\u4ee5\u53ca\u5f88\u591a\u5f88\u591a\u5f88\u591a\u5f88\u591a\u5176\u4ed6\u7684\uff08\u591a\u5230\u65e0\u6cd5\u60f3\u8c61\uff09\u3002\u6240\u4ee5KV Store\u5c31\u662f\u8bf4\uff0c\u6211\u6709\u4e00\u5806\u952e\u503c\uff0c\u6211\u80fd\u5f88\u5feb\u901f\u6ef4\u83b7\u53d6\u4e0e\u8fd9\u4e2aKey\u7ed1\u5b9a\u7684\u6570\u636e\u3002\u6bd4\u5982\u6211\u7528\u8eab\u4efd\u8bc1\u53f7\uff0c\u80fd\u53d6\u5230\u4f60\u7684\u8eab\u4efd\u6570\u636e\u3002\u8fd9\u4e2a\u52a8\u4f5c\u7528MapReduce\u4e5f\u80fd\u5b8c\u6210\uff0c\u4f46\u662f\u5f88\u53ef\u80fd\u8981\u626b\u63cf\u6574\u4e2a\u6570\u636e\u96c6\u3002\u800cKV Store\u4e13\u7528\u6765\u5904\u7406\u8fd9\u4e2a\u64cd\u4f5c\uff0c\u6240\u6709\u5b58\u548c\u53d6\u90fd\u4e13\u95e8\u4e3a\u6b64\u4f18\u5316\u4e86\u3002\u4ece\u51e0\u4e2aP\u7684\u6570\u636e\u4e2d\u67e5\u627e\u4e00\u4e2a\u8eab\u4efd\u8bc1\u53f7\uff0c\u4e5f\u8bb8\u53ea\u8981\u96f6\u70b9\u51e0\u79d2\u3002\u8fd9\u8ba9\u5927\u6570\u636e\u516c\u53f8\u7684\u4e00\u4e9b\u4e13\u95e8\u64cd\u4f5c\u88ab\u5927\u5927\u4f18\u5316\u4e86\u3002\u6bd4\u5982\u6211\u7f51\u9875\u4e0a\u6709\u4e2a\u6839\u636e\u8ba2\u5355\u53f7\u67e5\u627e\u8ba2\u5355\u5185\u5bb9\u7684\u9875\u9762\uff0c\u800c\u6574\u4e2a\u7f51\u7ad9\u7684\u8ba2\u5355\u6570\u91cf\u65e0\u6cd5\u5355\u673a\u6570\u636e\u5e93\u5b58\u50a8\uff0c\u6211\u5c31\u4f1a\u8003\u8651\u7528KV Store\u6765\u5b58\u3002KV Store\u7684\u7406\u5ff5\u662f\uff0c\u57fa\u672c\u65e0\u6cd5\u5904\u7406\u590d\u6742\u7684\u8ba1\u7b97\uff0c\u5927\u591a\u6ca1\u6cd5JOIN\uff0c\u4e5f\u8bb8\u6ca1\u6cd5\u805a\u5408\uff0c\u6ca1\u6709\u5f3a\u4e00\u81f4\u6027\u4fdd\u8bc1\uff08\u4e0d\u540c\u6570\u636e\u5206\u5e03\u5728\u4e0d\u540c\u673a\u5668\u4e0a\uff0c\u4f60\u6bcf\u6b21\u8bfb\u53d6\u4e5f\u8bb8\u4f1a\u8bfb\u5230\u4e0d\u540c\u7684\u7ed3\u679c\uff0c\u4e5f\u65e0\u6cd5\u5904\u7406\u7c7b\u4f3c\u94f6\u884c\u8f6c\u8d26\u90a3\u6837\u7684\u5f3a\u4e00\u81f4\u6027\u8981\u6c42\u7684\u64cd\u4f5c\uff09\u3002\u4f46\u662f\u4e2b\u5c31\u662f\u5feb\u3002\u6781\u5feb\u3002\\n\\n\u6bcf\u4e2a\u4e0d\u540c\u7684KV Store\u8bbe\u8ba1\u90fd\u6709\u4e0d\u540c\u53d6\u820d\uff0c\u6709\u4e9b\u66f4\u5feb\uff0c\u6709\u4e9b\u5bb9\u91cf\u66f4\u9ad8\uff0c\u6709\u4e9b\u53ef\u4ee5\u652f\u6301\u66f4\u590d\u6742\u7684\u64cd\u4f5c\u3002\u5fc5\u6709\u4e00\u6b3e\u9002\u5408\u4f60\u3002\\n\\n\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e9b\u66f4\u7279\u5236\u7684\u7cfb\u7edf\uff0f\u7ec4\u4ef6\uff0c\u6bd4\u5982Mahout\u662f\u5206\u5e03\u5f0f\u673a\u5668\u5b66\u4e60\u5e93\uff0cProtobuf\u662f\u6570\u636e\u4ea4\u6362\u7684\u7f16\u7801\u548c\u5e93\uff0cZooKeeper\u662f\u9ad8\u4e00\u81f4\u6027\u7684\u5206\u5e03\u5b58\u53d6\u534f\u540c\u7cfb\u7edf\uff0c\u7b49\u7b49\u3002\\n\\n\u6709\u4e86\u8fd9\u4e48\u591a\u4e71\u4e03\u516b\u7cdf\u7684\u5de5\u5177\uff0c\u90fd\u5728\u540c\u4e00\u4e2a\u96c6\u7fa4\u4e0a\u8fd0\u8f6c\uff0c\u5927\u5bb6\u9700\u8981\u4e92\u76f8\u5c0a\u91cd\u6709\u5e8f\u5de5\u4f5c\u3002\u6240\u4ee5\u53e6\u5916\u4e00\u4e2a\u91cd\u8981\u7ec4\u4ef6\u662f\uff0c\u8c03\u5ea6\u7cfb\u7edf\u3002\u73b0\u5728\u6700\u6d41\u884c\u7684\u662fYarn\u3002\u4f60\u53ef\u4ee5\u628a\u4ed6\u770b\u4f5c\u4e2d\u592e\u7ba1\u7406\uff0c\u597d\u6bd4\u4f60\u5988\u5728\u53a8\u623f\u76d1\u5de5\uff0c\u54ce\uff0c\u4f60\u59b9\u59b9\u5207\u83dc\u5207\u5b8c\u4e86\uff0c\u4f60\u53ef\u4ee5\u628a\u5200\u62ff\u53bb\u6740\u9e21\u4e86\u3002\u53ea\u8981\u5927\u5bb6\u90fd\u670d\u4ece\u4f60\u5988\u5206\u914d\uff0c\u90a3\u5927\u5bb6\u90fd\u80fd\u6109\u5feb\u6ef4\u70e7\u83dc\u3002\\n\\n\u4f60\u53ef\u4ee5\u8ba4\u4e3a\uff0c\u5927\u6570\u636e\u751f\u6001\u5708\u5c31\u662f\u4e00\u4e2a\u53a8\u623f\u5de5\u5177\u751f\u6001\u5708\u3002\u4e3a\u4e86\u505a\u4e0d\u540c\u7684\u83dc\uff0c\u4e2d\u56fd\u83dc\uff0c\u65e5\u672c\u83dc\uff0c\u6cd5\u56fd\u83dc\uff0c\u4f60\u9700\u8981\u5404\u79cd\u4e0d\u540c\u7684\u5de5\u5177\u3002\u800c\u4e14\u5ba2\u4eba\u7684\u9700\u6c42\u6b63\u5728\u590d\u6742\u5316\uff0c\u4f60\u7684\u53a8\u5177\u4e0d\u65ad\u88ab\u53d1\u660e\uff0c\u4e5f\u6ca1\u6709\u4e00\u4e2a\u4e07\u7528\u7684\u53a8\u5177\u53ef\u4ee5\u5904\u7406\u6240\u6709\u60c5\u51b5\uff0c\u56e0\u6b64\u5b83\u4f1a\u53d8\u7684\u8d8a\u6765\u8d8a\u590d\u6742\u3002\\n\\n\\n<NetworkCopyRight author=\\"Xiaoyu Ma\\" link=\\"https://www.zhihu.com/people/xiaoyu-ma\\" />"},{"id":"/2022/03/31/large-git-repository.md","metadata":{"permalink":"/blog/2022/03/31/large-git-repository.md","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-31-large-git-repository.md.md","source":"@site/src/blog/2022-03-31-large-git-repository.md.md","title":"\u5982\u4f55\u89e3\u51b3Git\u4ed3\u5e93 .git \u6587\u4ef6\u8fc7\u5927\u95ee\u9898","description":"\u5982\u4f55\u89e3\u51b3git\u4ed3\u5e93\u63d0\u4ea4\u6b21\u6570\u8fc7\u591a, .git \u6587\u4ef6\u8fc7\u5927\u95ee\u9898","date":"2022-03-31T00:00:00.000Z","formattedDate":"March 31, 2022","tags":[{"label":"git","permalink":"/blog/tags/git"},{"label":"\u8f6c\u6458","permalink":"/blog/tags/\u8f6c\u6458"}],"readingTime":2.025,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"\u5982\u4f55\u89e3\u51b3Git\u4ed3\u5e93 .git \u6587\u4ef6\u8fc7\u5927\u95ee\u9898","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["git","\u8f6c\u6458"],"description":"\u5982\u4f55\u89e3\u51b3git\u4ed3\u5e93\u63d0\u4ea4\u6b21\u6570\u8fc7\u591a, .git \u6587\u4ef6\u8fc7\u5927\u95ee\u9898","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5982\u4f55\u7528\u5f62\u8c61\u7684\u6bd4\u55bb\u63cf\u8ff0\u5927\u6570\u636e\u7684\u6280\u672f\u751f\u6001\uff1fHadoop\u3001Hive\u3001Spark \u4e4b\u95f4\u662f\u4ec0\u4e48\u5173\u7cfb\uff1f","permalink":"/blog/2022/03/31/hadoop-hive-spark-intro"},"nextItem":{"title":"Intel CPU \u540d\u79f0\u548c\u7f16\u53f7\u89c4\u8303","permalink":"/blog/2022/03/27/intel-cpu-numbers"}},"content":"## \u65b9\u68481\\n\\n\u53ea\u662f\u4e3a\u4e86clone\u5c0f\u7684\u8bdd\uff0c\u7528`--depth=1`\u53ea\u83b7\u53d6\u6700\u65b0\u7684commit\u5373\u53ef\\n\\n\x3c!--truncate--\x3e\\n\\n## \u65b9\u68482\\n\\n```\\n\u4e00\uff1a\u5e38\u89c4\u529e\u6cd5\\n1.\u5220\u9664\u65e0\u7528\u7684\u5206\u652f\\n$ git branch -d <branch_name>\\n2.\u5220\u9664\u65e0\u7528\u7684tag\\n$ git tag -d <tag_name>\\n3.\u6e05\u7406\u672c\u5730\u7248\u672c\u5e93\\n$ git gc --prune=now\\n\\n\u4e8c\uff1a\u9ad8\u7ea7\u529e\u6cd5\\n\u6ce8\u610f\u9ad8\u7ea7\u529e\u6cd5\u4f1a\u5bfc\u81f4push\u51b2\u7a81\uff0c\u9700\u8981\u5f3a\u5236\u63d0\u4ea4\uff0c\u5176\u4ed6\u4ebapull\u4e5f\u4f1a\u9047\u5230\u51b2\u7a81\uff0c\u5efa\u8bae\u91cd\u65b0\u514b\u9686\u3002\\n\uff01\uff01\uff01\u6ce8\u610f\u8fd9\u4e9b\u64cd\u4f5c\u90fd\u5f88\u5371\u9669\uff0c\u5efa\u8bae\u627e\u4e2a\u793a\u4f8b\u5e93\u8fdb\u884c\u6d4b\u8bd5\uff0c\u786e\u4fdd\u81ea\u5df1\u5b8c\u5168\u638c\u63e1\u4e4b\u540e\u518d\u5b9e\u9645\u64cd\u4f5c\u3002\\n\\n1.\u5b8c\u5168\u91cd\u5efa\u7248\u672c\u5e93\\n$ rm -rf .git\\n$ git init\\n$ git add .\\n$ git cm \\"first commit\\"\\n$ git remote add origin <your_github_repo_url>\\n$ git push -f -u origin master\\n\\n2.\u6709\u9009\u62e9\u6027\u7684\u5408\u5e76\u5386\u53f2\u63d0\u4ea4\\n$ git rebase -i <first_commit>\\n\\n\u4f1a\u8fdb\u5165\u4e00\u4e2a\u5982\u4e0b\u6240\u793a\u7684\u6587\u4ef6\\n  1 pick ba07c7d add bootstrap theme and format import  \\n  2 pick 7d905b8 add newline at file last line\\n  3 pick 037313c fn up_first_char rename to caps\\n  4 pick 34e647e add fn of && use for index.jsp\\n  5 pick 0175f03 rename common include\\n  6 pick 7f3f665 update group name && update config\\n\\n\u5c06\u60f3\u5408\u5e76\u7684\u63d0\u4ea4\u7684pick\u6539\u6210s\uff0c\u5982\\n  1 pick ba07c7d add bootstrap theme and format import\\n  2 pick 7d905b8 add newline at file last line\\n  3 pick 037313c fn up_first_char rename to caps\\n  4 s 34e647e add fn of && use for index.jsp\\n  5 pick 0175f03 rename common include\\n  6 pick 7f3f665 update group name && update config\\n\\n\u8fd9\u6837\u7b2c\u56db\u4e2a\u63d0\u4ea4\u5c31\u4f1a\u5408\u5e76\u8fdb\u5165\u7b2c\u4e09\u4e2a\u63d0\u4ea4\u3002\\n\u7b49\u5408\u5e76\u5b8c\u63d0\u4ea4\u4e4b\u540e\u518d\u8fd0\u884c\\n$ git push -f\\n$ git gc --prune=now\\n```\\n\\n:::note\\n* \u4f5c\u8005\uff1aIntopass\\n* \u94fe\u63a5\uff1ahttps://www.zhihu.com/question/29769130/answer/45546231\\n* \u6765\u6e90\uff1a\u77e5\u4e4e\\n* \u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002\\n:::"},{"id":"/2022/03/27/intel-cpu-numbers","metadata":{"permalink":"/blog/2022/03/27/intel-cpu-numbers","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-27-intel-cpu-numbers.md","source":"@site/src/blog/2022-03-27-intel-cpu-numbers.md","title":"Intel CPU \u540d\u79f0\u548c\u7f16\u53f7\u89c4\u8303","description":"\u82f1\u7279\u5c14\xae \u5904\u7406\u5668\u540d\u79f0\u548c\u7f16\u53f7","date":"2022-03-27T00:00:00.000Z","formattedDate":"March 27, 2022","tags":[{"label":"intel","permalink":"/blog/tags/intel"},{"label":"cpu","permalink":"/blog/tags/cpu"}],"readingTime":4.225,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png"}],"frontMatter":{"title":"Intel CPU \u540d\u79f0\u548c\u7f16\u53f7\u89c4\u8303","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["intel","cpu"],"description":"\u82f1\u7279\u5c14\xae \u5904\u7406\u5668\u540d\u79f0\u548c\u7f16\u53f7","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5982\u4f55\u89e3\u51b3Git\u4ed3\u5e93 .git \u6587\u4ef6\u8fc7\u5927\u95ee\u9898","permalink":"/blog/2022/03/31/large-git-repository.md"},"nextItem":{"title":"Flutter QA","permalink":"/blog/2022/03/24/flutter-qa"}},"content":"## \u5b98\u65b9\u6587\u6863\\n\\n\x3c!--truncate--\x3e\\n\\n![sku](https://www.intel.cn/content/dam/www/public/us/en/images/illustrations/RWD/10th-gen-sku-graphic-wht.png.rendition.intel.web.864.486.png)\\n\\n* Brand - \u54c1\u724c, \u5982\u4eca\uff0c\u6700\u5e38\u89c1\u7684\u82f1\u7279\u5c14\xae \u5904\u7406\u5668\u540d\u79f0\u4ee5\u82f1\u7279\u5c14\xae \u9177\u777f\u2122\u3001\u82f1\u7279\u5c14\xae \u5954\u817e\xae \u548c\u82f1\u7279\u5c14\xae \u8d5b\u626c\xae \u5f00\u5934\\n* Brand Modifier - \u54c1\u724c\u4fee\u9970\u7b26, \u76ee\u524d\uff0c\u82f1\u7279\u5c14\xae \u9177\u777f\u2122 \u5904\u7406\u5668\u7cfb\u5217\u7684\u54c1\u724c\u4fee\u9970\u7b26\u5305\u62ec i3\u3001i5\u3001i7 \u548c i9\u3002\u54c1\u724c\u4fee\u9970\u7b26\u6570\u5b57\u8d8a\u5927\u8868\u793a\u5176\u63d0\u4f9b\u7684\u6027\u80fd\u7ea7\u522b\u66f4\u9ad8\\n* Generation Indicator - \u4ee3\u6b21\u6307\u793a\u7b26, \u6240\u6709\u7684\u82f1\u7279\u5c14\xae \u9177\u777f\u2122 \u5904\u7406\u5668\u54c1\u724c\u90fd\u5728\u5904\u7406\u5668\u7f16\u53f7\u4e2d\u5bf9\u82f1\u7279\u5c14\xae \u5904\u7406\u5668\u7684\u4ee3\u6b21\u8fdb\u884c\u4e86\u6807\u8bb0\u3002\u5728\u7531\u56db\u4f4d\u6570\u5b57\u7ec4\u6210\u7684\u5904\u7406\u5668\u7f16\u53f7\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u6570\u5b57\u901a\u5e38\u8868\u793a\u4ee3\u6b21\u3002\u4f8b\u5982\uff0c\u5305\u542b\u6570\u5b57 9800 \u7684\u5904\u7406\u5668\u662f\u7b2c 9 \u4ee3\u667a\u80fd\u5904\u7406\u5668\uff0c\u800c\u6807\u8bb0\u4e3a 8800 \u7684\u5904\u7406\u5668\u5219\u5c5e\u4e8e\u7b2c 8 \u4ee3\u6280\u672f\\n* SKU Numeric Digits - SKU \u6570\u503c, \u4ea7\u54c1\u7f16\u53f7\u7684\u6700\u540e\u4e09\u4f4d\u6570\u5b57\u662f SKU \u7f16\u53f7, \u5728\u5904\u7406\u5668\u54c1\u724c\u548c\u4ee3\u6b21\u7684\u5176\u4ed6\u90e8\u5206\u5b8c\u5168\u76f8\u540c\u7684\u524d\u63d0\u4e0b\uff0c\u8f83\u9ad8\u7684 SKU \u4e00\u822c\u8868\u793a\u5177\u6709\u66f4\u591a\u529f\u80fd\\n* Product Line Suffix - \u4ea7\u54c1\u7ebf\u540e\u7f00, SKU \u540e\u7f00\u662f\u5904\u7406\u5668\u529f\u80fd\u7684\u53e6\u4e00\u4e2a\u5173\u952e\u6307\u793a\u7b26, \u4f8b\u5982\uff0c\u5728\u82f1\u7279\u5c14\xae \u9177\u777f\u2122 \u5904\u7406\u5668\u7cfb\u5217\u4e2d\uff0cU \u8868\u793a\u4e13\u4e3a\u9ad8\u80fd\u6548\u7b14\u8bb0\u672c\u7535\u8111\u6216 2 \u5408 1 \u7535\u8111\u8bbe\u8ba1\u7684\u5904\u7406\u5668\u3002\u800c XE \u8868\u793a\u4e13\u4e3a\u5b9e\u73b0\u6700\u9ad8\u6027\u80fd\u800c\u8bbe\u8ba1\u7684\u9762\u5411\u53f0\u5f0f\u673a\u7684\u201c\u81f3\u5c0a\u7248\u201d\u5904\u7406\u5668\u3002\\n\\n\u8981\u7406\u89e3\u5904\u7406\u5668\u540e\u7f00\u7684\u542b\u4e49\uff0c\u8bf7\u67e5\u770b\u4e0b\u9762\u7684\u5217\u8868\u3002\u5e76\u975e\u6240\u6709\u7684\u5904\u7406\u5668\u4ee3\u6b21\u6216\u5bb6\u65cf\u90fd\u5305\u542b\u6240\u6709\u7684\u4ea7\u54c1\u540e\u7f00:\\n\\n| \u540e\u7f00 | \u542b\u4e49 |\\n| --- | --- |\\n| G1-G7 | \u663e\u5361\u7ea7\u522b\uff08\u4ec5\u9002\u7528\u4e8e\u91c7\u7528\u5168\u65b0\u96c6\u6210\u663e\u5361\u6280\u672f\u7684\u5904\u7406\u5668\uff09 |\\n| E | \u5d4c\u5165\u5f0f | \\n| F | \u9700\u8981\u72ec\u7acb\u663e\u5361 | \\n| G | \u5c01\u88c5\u5305\u4e2d\u5305\u542b\u72ec\u7acb\u663e\u5361 | \\n| H | \u9488\u5bf9\u79fb\u52a8\u8bbe\u5907\u8fdb\u884c\u4f18\u5316\u7684\u9ad8\u6027\u80fd | \\n| HK | \u9488\u5bf9\u79fb\u52a8\u8bbe\u5907\u8fdb\u884c\u4f18\u5316\u7684\u9ad8\u6027\u80fd\uff0c\u672a\u9501\u9891 | \\n| HQ | \u9488\u5bf9\u79fb\u52a8\u8bbe\u5907\u8fdb\u884c\u4f18\u5316\u7684\u9ad8\u6027\u80fd\uff0c\u56db\u6838 | \\n| K | \u672a\u9501\u9891 | \\n| S | \u7279\u522b\u7248 | \\n| T | \u7ecf\u8fc7\u529f\u8017\u4f18\u5316\u7684\u751f\u6d3b\u65b9\u5f0f | \\n| U | \u9ad8\u80fd\u6548\u79fb\u52a8\u8bbe\u5907 | \\n| Y | \u6781\u4f4e\u529f\u8017\u7684\u79fb\u52a8\u8bbe\u5907 | \\n| X/XE | \u672a\u9501\u9891\uff0c\u9ad8\u7aef |\\n| B | \u7403\u6805\u9635\u5217 (BGA) |\\n\\n:::note\\n* \u6765\u6e90 [\u82f1\u7279\u5c14\xae \u5904\u7406\u5668\u540d\u79f0\u548c\u7f16\u53f7](https://www.intel.cn/content/www/cn/zh/processors/processor-numbers.html)\\n:::\\n\\n## Inter CPU \u540e\u9762\u7684K\u3001KF\u3001F\u6709\u4ec0\u4e48\u533a\u522b\\n\\nIntel\u7684MSDT\u684c\u9762\u4ea7\u54c1\u7ebf\uff0c\u6392\u9664T\u6807\u7b49\u9762\u5411\u4f4e\u529f\u8017\u7684\uff0c\u6b63\u5e38DIY\u4ea7\u54c1\u7ebf\u5305\u542b\uff1aIntel\u7684MSDT\u684c\u9762\u4ea7\u54c1\u7ebf\uff0c\u6392\u9664T\u6807\u7b49\u9762\u5411\u4f4e\u529f\u8017\u7684\uff0c\u6b63\u5e38DIY\u4ea7\u54c1\u7ebf\u5305\u542b\uff1a\\n\\n* \u65e0\u6807\uff1a\u6ca1\u6709\u4efb\u4f55\u540e\u7f00\uff0c\u5177\u5907\u6838\u663e\u4e0d\u53ef\u8d85\u9891\uff0c\u4f8b\u5982Core i7 11700\u3002\\n* K\u6807\uff1a\u540e\u7f00\u4e3aK\u7ed3\u5c3e\uff0c\u5177\u5907\u6838\u663e\u5e76\u4e14\u53ef\u4ee5\u8d85\u9891\uff0c\u4f8b\u5982Core i7 11700K\u3002\\n* KF\u6807\uff1a\u540e\u7f00\u4e3aKF\u7ed3\u5c3e\uff0c\u4e0d\u5177\u5907\u6838\u663e\u5e76\u4f46\u53ef\u4ee5\u8d85\u9891\uff0c\u4f8b\u5982Core i7 11700KF\u3002\\n* F\u6807\uff1a\u540e\u7f00\u4e3aF\u7ed3\u5c3e\uff0c\u4e0d\u5177\u5907\u6838\u663e\u5e76\u4e5f\u4e0d\u53ef\u4ee5\u8d85\u9891\uff0c\u4f8b\u5982Core i7 11700F\u3002\\n \\n\u7b80\u800c\u8a00\u4e4b\uff0c\u6709K\u8868\u793a\u53ef\u4ee5\u8d85\u9891\uff0c\u663e\u6709F\u8868\u793a\u6ca1\u6709\u6838\uff0c\u6240\u4ee5K\u6807\u5b9a\u4f4d\u6700\u9ad8\uff0cF\u6807\u5b9a\u4f4d\u6700\u4f4e\uff0c\u65e0\u6807\u548cKF\u6807\u5728\u4e2d\u95f4\u3002\\n\\n:::note\\n* \u4f5c\u8005\uff1amengsen\\n* \u94fe\u63a5\uff1ahttps://zhuanlan.zhihu.com/p/484057388 \\n* \u6765\u6e90\uff1a\u77e5\u4e4e \\n* \u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002 \\n:::"},{"id":"/2022/03/24/flutter-qa","metadata":{"permalink":"/blog/2022/03/24/flutter-qa","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-24-flutter-qa.md","source":"@site/src/blog/2022-03-24-flutter-qa.md","title":"Flutter QA","description":"QA","date":"2022-03-24T00:00:00.000Z","formattedDate":"March 24, 2022","tags":[{"label":"flutter","permalink":"/blog/tags/flutter"}],"readingTime":3.575,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of the Blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png","key":"alan"}],"frontMatter":{"title":"Flutter QA","authors":"alan","tags":["flutter"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Intel CPU \u540d\u79f0\u548c\u7f16\u53f7\u89c4\u8303","permalink":"/blog/2022/03/27/intel-cpu-numbers"},"nextItem":{"title":".Net Script \u7b80\u4ecb","permalink":"/blog/2022/03/16/dotnet-script-intro"}},"content":"## QA\\n\\n### flutter run\\n\\n`flutter run` \u5361\u5728 *Running Gradle task \'assembleDebug\'...*\\n\\n\u6267\u884c`flutter run -v`\u67e5\u770b\u5361\u5728\u54ea\u4e2a\u6b65\u9aa4, \u5982\u679c\u662f\u5361\u5728gradle\u73af\u8282, \u5c1d\u8bd5\u8fdb\u5165 `android` \u76ee\u5f55\u6267\u884c `./gradlew clean build` .\\n\\n### Target of URI doesn\'t exist\\n\\nTarget of URI doesn\'t exist \'package:flutter/material.dart\'\\n\\nVisual Studio Code \u91cc\u7684dart\u4ee3\u7801\u5bfc\u5165flutter\u7c7b\u5e93\u6807\u7ea2\u5931\u8d25, \u63d0\u793a *Target of URI doesn\'t exist xxxxx*, \u8fd9\u662f\u56e0\u4e3aflutter\u4ee3\u7801\u6ca1\u6709\u8fd8\u539f, \u5c1d\u8bd5\u5728\u9879\u76ee\u6839\u76ee\u5f55\u6267\u884c `flutter pub get`\\n\\n### flutter doctor \\n\\n\u8bbe\u7f6eflutter\u68c0\u6d4bAndroid sdk\u548cAndroid studio\u7684\u8def\u5f84\\n\\n```\\nflutter config --android-sdk=\\"$HOME/Android/Sdk\\"\\nflutter config --android-studio-dir=\\"/snap/android-studio/current/android-studio/\\"\\n```\\n\\n### `Wrap` \u5143\u7d20\u5de6\u5bf9\u9f50\\n\\n`Wrap` \u91cc\u7684 `children` \u9ed8\u8ba4\u662f\u5c45\u4e2d\u5bf9\u9f50, \u53ef\u4ee5\u501f\u52a9\u4f7f\u7528`Align`\u8bbe\u7f6e\u6210\u5de6\u5bf9\u9f50:\\n\\n```dart\\nAlign(\\n  alignment: Alignment.topLeft, \\n  child: Wrap(\\n    // ...\\n  )\\n)\\n```\\n\\n> \u6765\u6e90: [Flutter Wrap widget align: left inside ExpansionPanel](https://stackoverflow.com/questions/62696982/flutter-wrap-widget-align-left-inside-expansionpanel), [Align\u6587\u6863](https://api.flutter.dev/flutter/widgets/Align-class.html)\\n\\n### \u7ec4\u4ef6\u589e\u52a0\u70b9\u51fb\u89e6\u6478\u4e8b\u4ef6\\n\\n\u7ed9\u4efb\u610f\u7ec4\u4ef6\u589e\u52a0 `onTap` \u4e8b\u4ef6\u76d1\u542c, \u53ef\u4ee5\u4f7f\u7528 `InkWell` \u6216\u8005 `GestureDetector`, \u4e24\u8005\u7684\u533a\u522b\u5728\u4e8e `InkWell` \u662f material \u7ec4\u4ef6, \u4f1a\u6709material\u98ce\u683c\u7684\u7279\u6548, \u800c`GestureDetector`\u5c31\u662f\u901a\u7528\u7684\u589e\u52a0\u624b\u52bf\u64cd\u4f5c\u7684\u7ec4\u4ef6, \u4ee5\u4e0b\u662f\u793a\u4f8b:\\n\\n```dart\\n// \u4f7f\u7528 InkWell\\nInkWell(                        \\n  child: Container(...),                        \\n  onTap: () {                          \\n    print(\\"tapped on container\\");\\n  },                      \\n)\\n\\n// \u4f7f\u7528 GestureDetector\\nGestureDetector(\\n  onTap: () { print(\\"Container was tapped\\"); },\\n  child: Container(...),\\n)\\n\\nGestureDetector(\\n  onTap: () { print(\\"Container was tapped\\"); },\\n  child: Text(\\"Hello world.\\"),\\n)\\n```\\n> \u6765\u6e90: [Flutter onTap method for Containers](https://stackoverflow.com/questions/44317188/flutter-ontap-method-for-containers/44317228#44317228)\\n## \u7b14\u8bb0\\n\\n`Transform` \u7684\u53d8\u6362\u662f\u5e94\u7528\u5728\u7ed8\u5236\u9636\u6bb5\uff0c\u800c\u5e76\u4e0d\u662f\u5e94\u7528\u5728\u5e03\u5c40(layout)\u9636\u6bb5\uff0c\u6240\u4ee5\u65e0\u8bba\u5bf9\u5b50\u7ec4\u4ef6\u5e94\u7528\u4f55\u79cd\u53d8\u5316\uff0c\u5176\u5360\u7528\u7a7a\u95f4\u7684\u5927\u5c0f\u548c\u5728\u5c4f\u5e55\u4e0a\u7684\u4f4d\u7f6e\u90fd\u662f\u56fa\u5b9a\u4e0d\u53d8\u7684\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u662f\u5728\u5e03\u5c40\u9636\u6bb5\u5c31\u786e\u5b9a\u7684.\\n\\n`RotatedBox`\u548c`Transform.rotate`\u529f\u80fd\u76f8\u4f3c\uff0c\u5b83\u4eec\u90fd\u53ef\u4ee5\u5bf9\u5b50\u7ec4\u4ef6\u8fdb\u884c\u65cb\u8f6c\u53d8\u6362\uff0c\u4f46\u662f\u6709\u4e00\u70b9\u4e0d\u540c: `RotatedBox`\u7684\u53d8\u6362\u662f\u5728layout\u9636\u6bb5\uff0c\u4f1a\u5f71\u54cd\u5728\u5b50\u7ec4\u4ef6\u7684\u4f4d\u7f6e\u548c\u5927\u5c0f\u3002\\n\\nFlutter \u4e2d\u6709\u4e24\u79cd\u5e03\u5c40\u6a21\u578b:\\n* \u57fa\u4e8e `RenderBox` \u7684\u76d2\u6a21\u578b\u5e03\u5c40\u3002\\n* \u57fa\u4e8e `Sliver` ( `RenderSliver` ) \u6309\u9700\u52a0\u8f7d\u5217\u8868\u5e03\u5c40\u3002\\n\\nFlutter \u4e2d\u7684\u53ef\u6eda\u52a8\u4e3b\u8981\u7531\u4e09\u4e2a\u89d2\u8272\u7ec4\u6210: Scrollable\u3001Viewport \u548c Sliver: \\n* `Scrollable`: \u7528\u4e8e\u5904\u7406\u6ed1\u52a8\u624b\u52bf\uff0c\u786e\u5b9a\u6ed1\u52a8\u504f\u79fb\uff0c\u6ed1\u52a8\u504f\u79fb\u53d8\u5316\u65f6\u6784\u5efa Viewport \u3002\\n* `Viewport`: \u663e\u793a\u7684\u89c6\u7a97\uff0c\u5373\u5217\u8868\u7684\u53ef\u89c6\u533a\u57df\uff1b\\n* `Sliver`: \u89c6\u7a97\u91cc\u663e\u793a\u7684\u5143\u7d20\u3002\\n\\n\u5177\u4f53\u5e03\u5c40\u8fc7\u7a0b:\\n\\n* `Scrollable` \u76d1\u542c\u5230\u7528\u6237\u6ed1\u52a8\u884c\u4e3a\u540e\uff0c\u6839\u636e\u6700\u65b0\u7684\u6ed1\u52a8\u504f\u79fb\u6784\u5efa Viewport \u3002\\n* `Viewport` \u5c06\u5f53\u524d\u89c6\u53e3\u4fe1\u606f\u548c\u914d\u7f6e\u4fe1\u606f\u901a\u8fc7 SliverConstraints \u4f20\u9012\u7ed9 Sliver\u3002\\n* `Sliver` \u4e2d\u5bf9\u5b50\u7ec4\u4ef6\uff08RenderBox\uff09\u6309\u9700\u8fdb\u884c\u6784\u5efa\u548c\u5e03\u5c40\uff0c\u7136\u540e\u786e\u8ba4\u81ea\u8eab\u7684\u4f4d\u7f6e\u3001\u7ed8\u5236\u7b49\u4fe1\u606f\uff0c\u4fdd\u5b58\u5728 geometry \u4e2d\uff08\u4e00\u4e2a SliverGeometry \u7c7b\u578b\u7684\u5bf9\u8c61\uff09\u3002\\n\\n\u5728\u53ef\u6eda\u52a8\u7ec4\u4ef6\u7684\u5750\u6807\u63cf\u8ff0\u4e2d\uff0c\u901a\u5e38\u5c06\u6eda\u52a8\u65b9\u5411\u79f0\u4e3a\u4e3b\u8f74(main axis)\uff0c\u975e\u6eda\u52a8\u65b9\u5411\u79f0\u4e3a\u7eb5\u8f74(cross axis)\u3002\u7531\u4e8e\u53ef\u6eda\u52a8\u7ec4\u4ef6\u7684\u9ed8\u8ba4\u65b9\u5411\u4e00\u822c\u90fd\u662f\u6cbf\u5782\u76f4\u65b9\u5411\uff0c\u6240\u4ee5\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3b\u8f74\u5c31\u662f\u6307\u5782\u76f4\u65b9\u5411\uff0c\u6c34\u5e73\u65b9\u5411\u540c\u7406\u3002"},{"id":"/2022/03/16/dotnet-script-intro","metadata":{"permalink":"/blog/2022/03/16/dotnet-script-intro","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-16-dotnet-script-intro.md","source":"@site/src/blog/2022-03-16-dotnet-script-intro.md","title":".Net Script \u7b80\u4ecb","description":".Net Core \u5de5\u5177 dotnet-script \u7b80\u4ecb","date":"2022-03-16T00:00:00.000Z","formattedDate":"March 16, 2022","tags":[{"label":".net","permalink":"/blog/tags/net"},{"label":".net core","permalink":"/blog/tags/net-core"}],"readingTime":19.165,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":".Net Script \u7b80\u4ecb","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":[".net",".net core"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Flutter QA","permalink":"/blog/2022/03/24/flutter-qa"},"nextItem":{"title":".Net Core QA","permalink":"/blog/2022/03/16/dotnet-starter"}},"content":".Net Core \u5de5\u5177 `dotnet-script` \u7b80\u4ecb\\n\\n\x3c!--truncate--\x3e\\n\\n## \u603b\u7ed3\\n\\n```shell\\n> dotnet tool install -g dotnet-script  # \u5b89\u88c5 dotnet-script\\n> dotnet script --help # \u663e\u793a\u5e2e\u52a9\u6587\u6863\\n> dotnet script init # \u521b\u5efa\u811a\u624b\u67b6\u811a\u672c\\n> dotnet script # \u8fdb\u5165 REPL \u6a21\u5f0f\\n> dotnet script hello.csx -i # \u6267\u884c\u811a\u672c hell.csx \u540e\u8fdb\u5165 REPL \u6a21\u5f0f\\n> dotnet script hello.csx # \u6267\u884c\u811a\u672c hello.csx\\n> dotnet script -d hello.csx # \u4ee5debug\u6a21\u5f0f\u6267\u884c\u811a\u672c hello.csx\\n> dotnet script -d hello.csx -- arg1 arg2 # \u4ee5debug\u6a21\u5f0f\u6267\u884c\u811a\u672c hello.csx, \u5e76\u4f20\u5165\u4e24\u4e2a\u53c2\u6570: arg1, arg2. \u811a\u672c\u5185\u90e8\u4f7f\u7528\u5168\u5c40\u53d8\u91cf Args \u63a5\u6536\u53c2\u6570.\\n> dotnet script hello.csx -s https://SomePackageSource1 -s https://SomePackageSource2 # \u6267\u884c\u811a\u672c\u65f6\u6307\u5b9a\u591a\u4e2aNuget\u5305\u6e90\u5730\u5740\\n> dotnet script https://dwz.cn/xpsKTaoi # \u6267\u884c\u8fdc\u7a0b\u811a\u672c\\n> ls -al | dotnet script UpperCase.csx # \u63a5\u6536\u7ba1\u9053\u8f93\u5165\\n> dotnet script exec path_to_dll -- arg1 arg2 # \u6267\u884c dll \u6587\u4ef6, \u5e76\u4f20\u5165\u4e24\u4e2a\u53c2\u6570: arg1, arg2.\\n> dotnet script publish main.csx -o publish_dir -c Release # \u7f16\u8bd1\u811a\u672c\u4e3a\u72ec\u7acb\u53ef\u6267\u884c\u7a0b\u5e8f\\n```\\n\\n\\n\u811a\u672c\u5185\u6307\u4ee4:\\n\\n* \u9996\u884c\u52a0\u5165 `#!/usr/bin/env dotnet-script`, \u5e76\u628a\u811a\u672c\u6587\u4ef6\u66f4\u6539\u4e3a\u53ef\u6267\u884c\u6587\u4ef6, \u53ef\u4ee5\u76f4\u63a5\u6267\u884c.\\n* `#r \\"nuget: Newtonsoft.Json, 12.0.2\\"` \u5f15\u7528nuget\u5305\\n* `#load \\"nuget:simple-targets-csx, 6.0.0\\"` \u5f15\u7528nuget\u4e0a\u7684\u811a\u672c\u5305\\n* `#load \\"./other-script.csx\\"` \u5f15\u7528\u5176\u4ed6\u811a\u672c\u6587\u4ef6\\n\\n\u6765\u6e90 [filipw/dotnet-script](https://github.com/filipw/dotnet-script/blob/master/README.md)\\n\\n\u4f7f\u7528.Net CLI\u8fd0\u884cC#\u811a\u672c, \u4f7f\u7528VS Code\u7f16\u8f91\u811a\u672c\u5e76\u5f15\u7528Nuget\u5305. \u6240\u6709OmniSharp\u652f\u6301\u7684\u8bed\u8a00\u90fd\u652f\u6301\u8fd9\u4e9b\u7279\u6027.\\n\\n## \u5b89\u88c5\\n\\n### \u8981\u6c42\\n\\n\u6211\u4eec\u53ea\u9700\u8981\u5b89\u88c5 [.Net Core 2.1+ SDK](https://www.microsoft.com/net/download/core) \u5373\u53ef.\\n\\n### .Net Core 2.1 Global Tool\\n\\n.Net Core 2.1 \u589e\u52a0\u4e86\u5168\u5c40\u5de5\u5177(global tool)\u7684\u6982\u5ff5, \u8fd9\u610f\u5473\u7740\u4f60\u53ea\u9700\u8981.Net CLI\u5c31\u53ef\u4ee5\u5b89\u88c5 `dotnet-script`. \\n\\n```shell\\n> dotnet tool install -g dotnet-script\\n\\nTools directory \'/Users/alan/.dotnet/tools\' is not currently on the PATH environment variable.\\nIf you are using bash, you can add it to your profile by running the following command:\\n\\ncat << \\\\EOF >> ~/.bash_profile\\n# Add .NET Core SDK tools\\nexport PATH=\\"$PATH:/Users/alan/.dotnet/tools\\"\\nEOF\\n\\nYou can add it to the current session by running the following command:\\n\\nexport PATH=\\"$PATH:/Users/alan/.dotnet/tools\\"\\n\\nYou can invoke the tool using the following command: dotnet-script\\nTool \'dotnet-script\' (version \'0.29.1\') was successfully installed.\\n```\\n\\n\u8fd9\u79cd\u65b9\u5f0f\u7684\u597d\u5904\u662f\u4f60\u53ef\u8de8\u5e73\u53f0\u4f7f\u7528\u76f8\u540c\u7684\u547d\u4ee4\u5b89\u88c5 `dotnet-script`.\\n\\n> `/Users/alan` \u662f\u6211\u7684\u7528\u6237\u76ee\u5f55, \u5b89\u88c5\u5b8c\u6210\u540e\u4e3a\u4e86\u65b9\u4fbf\u4f7f\u7528 `dotnet-script` \u547d\u4ee4, \u4f60\u53ef\u4ee5\u628a\u76ee\u5f55`/Users/alan/.dotnet/tools`\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf`PATH`\u4e2d, \u6216\u8005\u4f7f\u7528`ln -s /Users/alan/.dotnet/tools/dotnet-script /usr/local/bin/dotnet-script`\u6dfb\u52a0\u5230\u73b0\u6709\u7684`PATH`\u76ee\u5f55\u4e2d.\\n\\n> \u4f7f\u7528 .Net CLI \u5b89\u88c5\u5b8c `dotnet-script` \u540e, \u9700\u8981\u68c0\u67e5\u662f\u5426\u6dfb\u52a0\u4e86`DOTNET_ROOT`\u73af\u5883\u53d8\u91cf, \u5426\u5219\u6267\u884c`dotnet-script`\u540e\u4f1a\u62a5\u4ee5\u4e0b\u9519\u8bef: \\n> ```bash\\n> $ dotnet-script \\n> A fatal error occurred, the required library libhostfxr.dylib could not be found.\\n> If this is a self-contained application, that library should exist in [/Users/alan/.dotnet/tools/.store/dotnet-script/0.29.1/dotnet-script/0.29.1/tools/netcoreapp2.1/any/].\\n> If this is a framework-dependent application, install the runtime in the default location [/usr/local/share/dotnet] or use the DOTNET_ROOT environment variable to specify the > runtime location.\\n> ```\\n> \u5982\u679c\u4f60\u662f\u4f7f\u7528\u5b98\u65b9\u5b89\u88c5\u5305(Installer), \u800c\u4e0d\u662f\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305(Binaries)\u5b89\u88c5\u7684.Net Core, \u90a3\u4e48\u5b89\u88c5\u5b8c\u6210\u540e\u7cfb\u7edf\u53ef\u80fd\u5c31\u5df2\u7ecf\u589e\u52a0\u4e86`DOTNET_ROOT`\u73af\u5883\u53d8\u91cf, \u73af\u5883\u53d8\u91cf\u7684\u503c\u662f.Net Core\u7684\u5b89\u88c5\u76ee\u5f55, \u6bd4\u5982\u6211\u7684\u7cfb\u7edf\u53ef\u80fd\u5c31\u662f `export DOTNET_ROOT=/usr/local/dotnet-sdk-2.2.104`. \\n\\n\\n.NET Core SDK \u4e5f\u652f\u6301\u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u7684\u5de5\u5177\u5217\u8868, \u4ee5\u53ca\u5378\u8f7d\u529f\u80fd: \\n\\n```shell\\ndotnet tool list -g\\n\\nPackage Id         Version      Commands\\n---------------------------------------------\\ndotnet-script      0.22.0       dotnet-script\\n```\\n\\n```shell\\ndotnet tool uninstall dotnet-script -g\\n\\nTool \'dotnet-script\' (version \'0.22.0\') was successfully uninstalled.\\n```\\n\\n### Windows\\n\\n```powershell\\nchoco install dotnet.script\\n```\\n\\n\u6211\u4eec\u4e5f\u63d0\u4f9b\u4e86PowerShell\u5b89\u88c5\u811a\u672c: \\n\\n```powershell\\n(new-object Net.WebClient).DownloadString(\\"https://raw.githubusercontent.com/filipw/dotnet-script/master/install/install.ps1\\") | iex\\n```\\n\\n### Linux and Mac\\n\\n```shell\\ncurl -s https://raw.githubusercontent.com/filipw/dotnet-script/master/install/install.sh | bash\\n```\\n\\n\u5982\u679c\u6743\u9650\u4e0d\u5141\u8bb8, \u4f60\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528`sudo`: \\n\\n```shell\\ncurl -s https://raw.githubusercontent.com/filipw/dotnet-script/master/install/install.sh | sudo bash\\n```\\n\\n### Docker\\n\\n\u5728Linux\u5bb9\u5668\u4e2d\u8fd0\u884c `dotnet-script` \u7684 Dockerfile \u4e5f\u662f\u88ab\u652f\u6301\u7684. \u5f00\u59cb\u6784\u5efa\u955c\u50cf: \\n\\n```shell\\ncd build\\ndocker build -t dotnet-script -f Dockerfile ..\\n```\\n\\n\u7136\u540e\u6267\u884c: \\n\\n```shell\\ndocker run -it dotnet-script --version\\n```\\n\\n### Github\\n\\n\u4f60\u4e5f\u53ef\u4ee5\u4ece[Github releases page](https://github.com/filipw/dotnet-script/releases)\u624b\u52a8\u4e0b\u8f7d\u6240\u6709`zip`\u683c\u5f0f\u7684\u7248\u672c.\\n\\n\\n## Usage\\n\\ndotnet script\u4e2d\u7ecf\u5178\u7684 `helloworld.csx` \u6f14\u793a\u770b\u8d77\u6765\u50cf\u4e0b\u9762\u8fd9\u6837:\\n\\n```cs\\nConsole.WriteLine(\\"Hello world!\\");\\n```\\n\\n\u8fd9\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86, \u6211\u4eec\u53ef\u4ee5\u6267\u884c\u8fd9\u6bb5\u811a\u672c\u4e86(\u53c2\u6570\u5217\u8868\u53ef\u4ee5\u901a\u8fc7\u5168\u5c40\u7684`Args`\u6570\u7ec4\u8bbf\u95ee): \\n\\n```shell\\ndotnet script helloworld.csx\\n```\\n\\n### \u811a\u624b\u67b6\\n\\n\u5728\u4f60\u7684\u7cfb\u7edf\u4e2d\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939, \u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4: \\n\\n```shell\\ndotnet script init\\n```\\n\\n\u8fd9\u4f1a\u521b\u5efa\u4e00\u4e2a `main.csx` \u6587\u4ef6, \u548c\u4e00\u4e2a\u53ef\u4ee5\u5728VS Code\u4e2d\u8c03\u8bd5\u7684\u542f\u52a8\u914d\u7f6e\u6587\u4ef6.\\n\\n```shell\\n.\\n\u251c\u2500\u2500 .vscode\\n\u2502   \u2514\u2500\u2500 launch.json\\n\u251c\u2500\u2500 main.csx\\n\u2514\u2500\u2500 omnisharp.json\\n```\\n\\n\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6587\u4ef6\u540d\u6765\u521d\u59cb\u5316\u4e00\u4e2a\u6587\u4ef6\u5939.\\n\\n```shell\\ndotnet script init custom.csx\\n```\\n\\n\u6211\u4eec\u73b0\u5728\u6709\u4e86\u4e00\u4e2a\u540d\u4e3a `custom.csx` \u7684\u6587\u4ef6, \u53d6\u4ee3\u4e86\u4e4b\u524d\u9ed8\u8ba4\u7684 `main.csx` \u6587\u4ef6.\\n\\n```shell\\n.\\n\u251c\u2500\u2500 .vscode\\n\u2502   \u2514\u2500\u2500 launch.json\\n\u251c\u2500\u2500 custom.csx\\n\u2514\u2500\u2500 omnisharp.json\\n```\\n\\n> \u5907\u6ce8: \u5728\u4e00\u4e2a\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u811a\u672c\u7684\u6587\u4ef6\u5939\u6267\u884c `dotnet script init` \u4e0d\u4f1a\u521b\u5efa `main.csx` \u6587\u4ef6.\\n\\n### \u8fd0\u884c\u811a\u672c\\n\\n\u5982\u679c\u811a\u672c\u662f\u53ef\u6267\u884c\u6587\u4ef6, \u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7shell\u6267\u884c.\\n\\n```bash\\nfoo.csx arg1 arg2 arg3\\n```\\n> OSX/Linux\\n>\\n> \u5c31\u50cf\u6240\u6709\u5176\u4ed6\u811a\u672c\u4e00\u6837, \u5728 OSX/Linux \u7cfb\u7edf\u4e2d, \u811a\u672c\u7b2c\u4e00\u884c\u9700\u8981\u6709 `!#`, \u800c\u4e14\u5fc5\u987b\u901a\u8fc7\u547d\u4ee4 **chmod +x foo.csx** \u4f7f\u6587\u4ef6\u53d8\u6210\u53ef\u6267\u884c\u6587\u4ef6.\\n> \u4f7f\u7528 **dotnet script init** \u521b\u5efa\u7684csx\u6587\u4ef6\u4f1a\u81ea\u52a8\u6dfb\u52a0\u6307\u4ee4 `!#` \u5e76\u6807\u8bb0csx\u6587\u4ef6\u4e3a\u53ef\u6267\u884c\u6587\u4ef6.\\n\\nOSX/Linux \u7cfb\u7edf\u7684 shebang \u6307\u4ee4\u4e3a **#!/usr/bin/env dotnet-script**\\n\\n```cs\\n#!/usr/bin/env dotnet-script\\nConsole.WriteLine(\\"Hello world\\");\\n```\\n\\n\u4f60\u53ef\u4ee5\u4f7f\u7528 **dotnet script** \u6216\u8005 **dotnet-script** \u6765\u6267\u884c\u4f60\u7684\u811a\u672c, \u8fd9\u79cd\u65b9\u5f0f\u5141\u8bb8\u4f60\u901a\u8fc7\u4f20\u9012\u53c2\u6570\u6765\u63a7\u5236\u811a\u672c\u7684\u6267\u884c.\\n\\n```bash\\nfoo.csx arg1 arg2 arg3\\ndotnet script foo.csx -- arg1 arg2 arg3\\ndotnet-script foo.csx -- arg1 arg2 arg3\\n```\\n\\n\\n\\n#### \u5411\u811a\u672c\u4e2d\u4f20\u9012\u53c2\u6570\\n\\n\u6240\u6709 `--` \u540e\u7684\u53c2\u6570\u90fd\u4f1a\u88ab\u4f20\u9012\u7ed9\u811a\u672c:\\n\\n```shell\\ndotnet script foo.csx -- arg1 arg2 arg3\\n```\\n\\n\u7136\u540e\u4f60\u5728\u811a\u672c\u7684\u4e0a\u4e0b\u6587\u4e2d\u4f7f\u7528\u5168\u5c40\u7684`Args`\u96c6\u5408\u6765\u8bbf\u95ee\u4f20\u9012\u8fdb\u6765\u7684\u53c2\u6570:\\n\\n```cs\\nforeach (var arg in Args)\\n{\\n    Console.WriteLine(arg);\\n}\\n```\\n\\n\u6240\u6709 `--` \u4e4b\u524d\u7684\u53c2\u6570\u90fd\u4f1a\u4ea4\u7531 `dotnet script` \u5904\u7406. \u6bd4\u5982\u4e0b\u9762\u7684\u547d\u4ee4: \\n\\n```shell\\ndotnet script -d foo.csx -- -d\\n```\\n\\n`--` \u4e4b\u524d\u7684\u53c2\u6570 `-d` \u4f20\u9012\u7ed9 `dotnet script` \u7528\u4e8e\u5f00\u542fdebug\u6a21\u5f0f, \u800c `--` \u540e\u9762\u7684 `-d` \u4f1a\u88ab\u4f20\u9012\u7ed9\u811a\u672c.\\n\\n### NuGet \u5305\\n\\n`dotnet script` \u652f\u6301\u76f4\u63a5\u5728\u811a\u672c\u4e2d\u5f15\u7528Nuget\u5305(\u5185\u7f6e\u529f\u80fd). \\n\\n```c#\\n#r \\"nuget: AutoMapper, 6.1.0\\"\\n```\\n\\n![package](https://user-images.githubusercontent.com/1034073/30176983-98a6b85e-9404-11e7-8855-4ae65a20d6b1.gif)\\n\\n> \u5907\u6ce8: \u5728\u6dfb\u52a0\u4e86\u5305\u5f15\u7528\u4e4b\u540e\u9700\u8981\u91cd\u542f Omnisharp .\\n\\n#### Nuget\u5305\u6e90\\n\\n\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5728\u811a\u672c\u6839\u76ee\u5f55\u7684 `NuGet.Config` \u6587\u4ef6\u4e2d\u5b9a\u4e49\u5305\u6e90. \u53e6\u5916\u5728\u811a\u672c\u6267\u884c\u65f6, \u4f1a\u501f\u52a9\u63d0\u4f9b\u8bed\u8a00\u670d\u52a1\u7684 `OmniSharp` \u8fdb\u884c\u4ece\u5305\u6e90\u4e2d\u8fdb\u884c\u5305\u89e3\u6790.\\n\\n\u6211\u4eec\u53ef\u4ee5\u5728\u7528\u6237\u7ea7\u522b\u6216\u8005\u7cfb\u7edf\u7ea7\u522b\u5b9a\u4e49Nuget\u5305\u6e90(\u8fd9\u91cc\u6709\u76f8\u5173\u4ecb\u7ecd [Configuring NuGet Behaviour](https://docs.microsoft.com/en-us/nuget/reference/nuget-config-file) )\u6765\u66ff\u4ee3\u672c\u5730`Nuget.Config`\u7ef4\u62a4.\\n\\n\u4e5f\u53ef\u4ee5\u5728\u6267\u884c\u811a\u672c\u7684\u65f6\u5019\u6307\u5b9a\u5305\u6e90.\\n\\n```shell\\ndotnet script foo.csx -s https://SomePackageSource\\n```\\n\\n\u540c\u65f6\u6307\u5b9a\u591a\u4e2a\u5305\u6e90: \\n\\n```shell\\ndotnet script foo.csx -s https://SomePackageSource -s https://AnotherPackageSource\\n```\\n\\n### \u4eceCSX\u6587\u4ef6\u521b\u5efaDLL\u6216\u8005\u53ef\u6267\u884c\u6587\u4ef6\\n\\nDotnet-Script \u53ef\u4ee5\u4e3a\u4f60\u7684\u811a\u672c\u521b\u5efa\u72ec\u7acb\u7684\u53ef\u6267\u884c\u6587\u4ef6\u6216\u8005DLL\u6587\u4ef6.\\n\\n\u6bd4\u5982 `dotnet script publish main.csx -o publish_dir -c Release -d`\\n\\n| \u5f00\u5173 | \u5bf9\u5e94\u5168\u79f0\u5f00\u5173\u540d\u79f0 | \u63cf\u8ff0 |\\n| --- | --- | --- |\\n| -o | --output | Directory where the published executable should be placed.  Defaults to a \'publish\' folder in the current directory. |\\n| -n | --name | The name for the generated DLL (executable not supported at this time).  Defaults to the name of the script. |\\n| | --dll | Publish to a .dll instead of an executable. |\\n| -c | --configuration  | Configuration to use for publishing the script [Release/Debug]. Default is \\"Debug\\" |\\n| -d | --debug | Enables debug output. |\\n| -r | --runtime | The runtime used when publishing the self contained executable. Defaults to your current runtime. |\\n\\n\u53d1\u5e03\u540e\u7684\u53ef\u6267\u884c\u6587\u4ef6\u65e0\u9700\u4f9d\u8d56 `dotnet install` \u5373\u53ef\u6267\u884c. DLL\u53ef\u4ee5\u4f7f\u7528 .Net CLI \u6267\u884c:\\n\\n```shell\\ndotnet script exec {path_to_dll} -- arg1 arg2\\n```\\n\\n### \u7f13\u5b58\\n\\n\u6211\u4eec\u63d0\u4f9b\u4e86\u4e24\u79cd\u7c7b\u578b\u7684\u7f13\u5b58 `dependency cache` \u548c `execution cache`. \u4e3a\u4e86\u4f7f\u7f13\u5b58\u80fd\u591f\u5f00\u542f, \u8981\u6c42NuGet\u5305\u5f15\u7528\u5fc5\u987b\u6307\u5b9a\u786e\u5207\u7684\u7248\u672c\u53f7. \u8fd9\u4e2a\u9650\u5236\u7684\u539f\u56e0\u662f ~~\u6211\u4eec\u65e0\u6cd5\u6267\u884c\u8fc7\u65f6\u4f9d\u8d56\u6811\u7684\u811a\u672c?~~ (The reason for this constraint is that we need to make sure that we don\'t execute a script with a stale dependency graph.)\\n\\n#### \u4f9d\u8d56\u7f13\u5b58 Dependency Cache \\n\\n\u4e3a\u4e86\u89e3\u51b3\u811a\u672c\u4f9d\u8d56, \u5728\u751f\u6210 `project.assets.json` \u6587\u4ef6\u7684\u56de\u8c03\u4e2d\u6267\u884c `dotnet restore`. `project.assets.json` \u6587\u4ef6\u6307\u5b9a\u4e86\u6240\u6709\u6dfb\u52a0\u5230\u7f16\u8bd1\u7684\u4f9d\u8d56.\\n\\nThis is an out-of-process operation and represents a significant overhead to the script execution. So this cache works by looking at all the dependencies specified in the script(s) either in the form of NuGet package references or assembly file references. If these dependencies matches the dependencies from the last script execution, we skip the restore and read the dependencies from the already generated `project.assets.json` file. If any of the dependencies has changed, we must restore again to obtain the new dependency graph.\\n\\n#### Execution cache\\n\\nIn order to execute a script it needs to be compiled first and since that is a CPU and time consuming operation, we make sure that we only compile when the source code has changed. This works by creating a SHA256 hash from all the script files involved in the execution. This hash is written to a temporary location along with the DLL that represents the result of the script compilation. When a script is executed the hash is computed and compared with the hash from the previous compilation. If they match there is no need to recompile and we run from the already compiled DLL. If the hashes don\'t match, the cache is invalidated and we recompile.\\n\\n> You can override this automatic caching by passing **--nocache** flag, which will bypass both caches and cause dependency resolution and script compilation to happen every time we execute the script.\\n\\n\\n### \u8c03\u8bd5\\n\\n\u4f7f\u7528 `Console.WriteLine` \u8fdb\u884c\u8c03\u8bd5\u7684\u65f6\u4ee3\u5df2\u7ecf\u8fc7\u53bb\u4e86. `dotnet script` \u7684\u4e00\u4e2a\u4e3b\u8981\u7279\u6027\u662f\u80fd\u591f\u76f4\u63a5\u5728VS Code\u4e2d\u8c03\u8bd5\u811a\u672c. \u53ea\u9700\u8981\u5728\u4f60\u7684\u811a\u672c\u4e2d\u8bbe\u7f6e\u597d\u65ad\u70b9, \u7136\u540e\u6309\u4e0bF5\u5373\u53ef\u8c03\u8bd5\\n\\n![debug](https://user-images.githubusercontent.com/1034073/30173509-2f31596c-93f8-11e7-9124-ca884cf6564e.gif)\\n\\n### \u811a\u672c\u5305 Script Packages\\n\\n\u811a\u672c\u5305\u662f\u628a\u53ef\u590d\u7528\u811a\u672c\u7ec4\u7ec7\u597d\u53d1\u5e03\u5230Nuget\u5305\u7ba1\u7406, \u8ba9\u5176\u4ed6\u811a\u672c\u6d88\u8d39\u4f7f\u7528. \u8fd9\u610f\u5473\u7740\u6211\u4eec\u73b0\u5728\u5c31\u53ef\u4ee5\u501f\u52a9\u73b0\u6709\u57fa\u7840\u8bbe\u65bd\u800c\u4e0d\u9700\u8981\u51ed\u501f\u81ea\u5df1\u7684\u529b\u91cf\u4ece\u5934\u5f00\u59cb.\\n\\n#### \u521b\u5efa\u811a\u672c\u5305\\n\\n\u811a\u672c\u5305\u5c31\u662f\u4e00\u4e2a\u5e38\u89c4\u7684Nuget\u5305, \u811a\u672c\u6587\u4ef6\u5305\u542b\u5728 `content` \u6216\u8005 `contentFiles` \u6587\u4ef6\u5939\u4e2d.\\n\\n\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u6839\u636e[standard convention](https://docs.microsoft.com/en-us/nuget/schema/nuspec#including-content-files)\u811a\u672c\u5305\u662f\u5982\u4f55\u5728Nuget\u4e2d\u5c55\u5f00\u7684.\\n\\n```shell\\n\u2514\u2500\u2500 contentFiles\\n    \u2514\u2500\u2500 csx\\n        \u2514\u2500\u2500 netstandard2.0\\n            \u2514\u2500\u2500 main.csx\\n```\\n\\n\u8fd9\u4e2a\u4f8b\u5b50\u4ec5\u4ec5\u5728\u6839\u76ee\u5f55\u5305\u542b\u4e00\u4e2a `main.csx` \u6587\u4ef6. \u4f46\u662f\u811a\u672c\u5305\u4e5f\u8bb8\u5728\u8ddf\u76ee\u5f55\u6216\u6839\u76ee\u5f55\u4e0b\u7684\u5b50\u76ee\u5f55\u4e2d\u4e2d\u5305\u542b\u591a\u4e2a\u6587\u4ef6.\\n\\n\u5f53\u52a0\u8f7d\u4e00\u4e2a\u811a\u672c\u5305\u7684\u65f6\u5019, \u4f1a\u5148\u5bfb\u627e\u5165\u53e3\u53bb\u52a0\u8f7d. \u5165\u53e3\u811a\u672c\u662f\u4e0b\u9762\u5176\u4e2d\u4e4b\u4e00: \\n\\n- \u6839\u76ee\u5f55\u4e2d\u53eb `main.csx` \u7684\u811a\u672c\\n- \u6839\u76ee\u5f55\u4e2d\u4ec5\u6709\u7684\u811a\u672c\u6587\u4ef6 \\n\\n\u5982\u679c\u4f9d\u636e\u4ee5\u4e0a\u89c4\u5219\u6ca1\u6709\u627e\u5230\u5165\u53e3\u811a\u672c, \u4f1a\u52a0\u8f7d\u5305\u4e2d\u7684\u6240\u6709\u811a\u672c\u6587\u4ef6\\n\\n> \u63d0\u4f9b\u5165\u53e3\u811a\u672c\u7684\u597d\u5904\u662f\u6211\u4eec\u53ef\u4ee5\u63a7\u5236\u5305\u4e2d\u5176\u4ed6\u811a\u672c\u52a0\u8f7d. \\n\\n#### \u6d88\u8d39\u811a\u672c\u5305 \\n\\n\u6d88\u8d39\u811a\u672c\u5305, \u6211\u4eec\u53ea\u9700\u8981\u5728 `#locad ` \u6307\u4ee4\u4e2d\u6307\u5b9aNuget\u5305.\\n\\n\u4e0b\u9762\u7684\u4f8b\u5b50\u52a0\u8f7d [simple-targets](https://www.nuget.org/packages/simple-targets-csx) \u5305\u4e2d\u5305\u542b\u7684\u811a\u672c\u6587\u4ef6\u5230\u6211\u4eec\u7684\u811a\u672c\u4e2d. \\n\\n```C#\\n#! \\"netcoreapp2.1\\"\\n#load \\"nuget:simple-targets-csx, 6.0.0\\"\\n\\nusing static SimpleTargets;\\nvar targets = new TargetDictionary();\\n\\ntargets.Add(\\"default\\", () => Console.WriteLine(\\"Hello, world!\\"));\\n\\nRun(Args, targets);\\n```\\n\\n> \u5907\u6ce8: \u8c03\u8bd5\u811a\u672c\u5305\u4e5f\u662f\u652f\u6301\u7684, \u6211\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u8fdb\u5165 `#load ` \u6307\u4ee4\u5f15\u5165\u7684\u811a\u672c.\\n\\n\\n\\n### \u8fdc\u7a0b\u811a\u672c\\n\\n\u811a\u672c\u4e0d\u9700\u8981\u5b58\u5728\u4e8e\u672c\u673a. \u6211\u4eec\u53ef\u4ee5\u6267\u884c`http(s)`\u53ef\u8bbf\u95ee\u7684\u811a\u672c. \\n\\n\u8fd9\u610f\u5473\u7740\u6211\u4eec\u53ef\u4ee5\u521b\u5efaGist, \u7136\u540e\u6267\u884c: \\n\\n\u8fd9\u4e2a [Gist](https://gist.githubusercontent.com/seesharper/5d6859509ea8364a1fdf66bbf5b7923d/raw/0a32bac2c3ea807f9379a38e251d93e39c8131cb/HelloWorld.csx) \u5305\u542b\u6253\u5370 \\"Hello World\\" \u5b57\u7b26\u4e32\u7684\u811a\u672c\\n\\n\u6211\u4eec\u53ef\u4ee5\u50cf\u4ee5\u4e0b\u8fd9\u6837\u6267\u884c\u811a\u672c:\\n\\n```shell\\ndotnet script https://gist.githubusercontent.com/seesharper/5d6859509ea8364a1fdf66bbf5b7923d/raw/0a32bac2c3ea807f9379a38e251d93e39c8131cb/HelloWorld.csx\\n```\\n\\nURL \u592a\u957f\u4e86, \u6211\u4eec\u53ef\u4ee5\u501f\u52a9\u77ed\u94fe\u670d\u52a1 [TinyURL](https://tinyurl.com/): \\n\\n```shell\\ndotnet script https://tinyurl.com/y8cda9zt\\n```\\n\\n### Script Location\\n\\n\u4e00\u4e2a\u975e\u5e38\u5e38\u89c1\u7684\u573a\u666f\u662f\u6211\u4eec\u7684\u903b\u8f91\u9700\u8981\u5173\u8054\u811a\u672c\u8def\u5f84. \u6211\u4eec\u4e0d\u60f3\u8ba9\u7528\u6237\u6765\u786e\u5b9a\u8fd9\u4e9b\u8def\u5f84, \u4e0b\u9762\u63d0\u4f9b\u4e86\u811a\u672c\u5f53\u524d\u6267\u884c\u7684\u8def\u5f84\u548c\u6587\u4ef6\u5939: \\n\\n```c#\\npublic static string GetScriptPath([CallerFilePath] string path = null) => path;\\npublic static string GetScriptFolder([CallerFilePath] string path = null) => Path.GetDirectoryName(path);\\n```\\n\\n> \u63d0\u793a: \u628a\u8fd9\u4e9b\u65b9\u6cd5\u653e\u5230\u4e00\u4e2a\u72ec\u7acb\u811a\u672c, \u4f5c\u4e3a\u9876\u5c42\u65b9\u6cd5. \u7136\u540e\u5728\u4f60\u9700\u8981\u8bbf\u95ee\u7684\u811a\u672c\u6587\u4ef6\u91cc\u901a\u8fc7 `#load ` \u6307\u4ee4\u5f15\u7528. \\n\\n\\n## REPL\\n\\n\u8fd9\u4e2a\u7248\u672c\u4e2d\u5305\u542b\u4e86C# REPL (Read-Evaluate-Print-Loop). \u6267\u884c\u65e0\u53c2\u6570\u7684 `dotnet-script` \u5f00\u542f REPL \u6a21\u5f0f.\\n\\n\u8fd9\u4e2a\u4ea4\u4e92\u6a21\u5f0f\u5141\u8bb8\u4f60\u63d0\u4f9b\u5355\u72ec\u7684C#\u4ee3\u7801\u5757, \u7136\u540e\u6309\u4e0b<kbd>Enter</kbd>\u7acb\u5373\u6267\u884c. REPL \u548c \u5e38\u89c4\u7684 CSX \u811a\u672c\u4e00\u6837\u4f7f\u7528\u76f8\u540c\u7684\u88c5\u914d\u96c6\u5f15\u7528\u548cusing\u8bed\u53e5.\\n\\n### \u57fa\u672c\u4f7f\u7528\\n\\nOnce `dotnet-script` starts you will see a prompt for input. You can start typing C# code there.\\n\\n```\\n~$ dotnet script\\n> var x = 1;\\n> x+x\\n2\\n```\\n\\nIf you submit an unterminated expression into the REPL (no `;` at the end), it will be evaluated and the result will be serialized using a formatter and printed in the output. This is a bit more interesting than just calling `ToString()` on the object, because it attempts to capture the actual structure of the object. For example:\\n\\n```\\n~$ dotnet script\\n> var x = new List<string>();\\n> x.Add(\\"foo\\");\\n> x\\nList<string>(1) { \\"foo\\" }\\n> x.Add(\\"bar\\");\\n> x\\nList<string>(2) { \\"foo\\", \\"bar\\" }\\n>\\n```\\n\\n### Inline Nuget packages\\n\\nREPL also supports inline Nuget packages - meaning the Nuget packages can be installed into the REPL from *within the REPL*. This is done via our `#r` and `#load` from Nuget support and uses identical syntax.\\n\\n```\\n~$ dotnet script\\n> #r \\"nuget: Automapper, 6.1.1\\"\\n> using AutoMapper;\\n> typeof(MapperConfiguration)\\n[AutoMapper.MapperConfiguration]\\n> #load \\"nuget: simple-targets-csx, 6.0.0\\";\\n> using static SimpleTargets;\\n> typeof(TargetDictionary)\\n[Submission#0+SimpleTargets+TargetDictionary]\\n```\\n\\n### Multiline mode\\n\\nUsing Roslyn syntax parsing, we also support multiline REPL mode. This means that if you have an uncompleted code block and press <kbd>Enter</kbd>, we will automatically enter the multiline mode. The mode is indicated by the `*` character. This is particularly useful for declaring classes and other more complex constructs.\\n\\n```\\n~$ dotnet script\\n> class Foo {\\n* public string Bar {get; set;}\\n* }\\n> var foo = new Foo();\\n```\\n\\n### REPL commands\\n\\nAside from the regular C# script code, you can invoke the following commands (directives) from within the REPL:\\n\\n| Command  | Description                                                  |\\n|----------|--------------------------------------------------------------|\\n| `#load`  | Load a script into the REPL (same as `#load` usage in CSX)   |\\n| `#r`     | Load an assembly into the REPL (same as `#r` usage in CSX)   |\\n| `#reset` | Reset the REPL back to initial state (without restarting it) |\\n| `#cls`   | Clear the console screen without resetting the REPL state    |\\n| `#exit`  | Exits the REPL                                               |\\n\\n### Seeding REPL with a script\\n\\nYou can execute a CSX script and, at the end of it, drop yourself into the context of the REPL. This way, the REPL becomes \\"seeded\\" with your code - all the classes, methods or variables are available in the REPL context. This is achieved by running a script with an `-i` flag.\\n\\nFor example, given the following CSX script:\\n\\n```csharp\\nvar msg = \\"Hello World\\";\\nConsole.WriteLine(msg);\\n```\\n\\nWhen you run this with the `-i` flag, `Hello World` is printed, REPL starts and `msg` variable is available in the REPL context.\\n\\n```\\n~$ dotnet script foo.csx -i\\nHello World\\n>\\n```\\n\\nYou can also seed the REPL from inside the REPL - at any point - by invoking a `#load` directive pointed at a specific file. For example:\\n\\n```\\n~$ dotnet script\\n> #load \\"foo.csx\\"\\nHello World\\n>\\n```\\n\\n## \u7ba1\u9053\\n\\n\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u5982\u4f55\u5728\u811a\u672c\u4e2d\u4f7f\u7528\u8f93\u5165/\u8f93\u51fa\u7684\u7ba1\u9053\u6570\u636e.\\n\\n`UpperCase.csx` \u811a\u672c\u7b80\u5355\u5730\u628a\u6807\u51c6\u8f93\u5165\u8f6c\u6362\u6210\u5927\u5199\u540e\u5199\u5165\u5230\u6807\u51c6\u8f93\u51fa\u4e2d.\\n\\n```csharp\\n#! \\"netcoreapp2.1\\"\\nusing (var streamReader = new StreamReader(Console.OpenStandardInput()))\\n{\\n    Write(streamReader.ReadToEnd().ToUpper());\\n}\\n```\\n\\n\u6211\u4eec\u73b0\u5728\u7b80\u5355\u5730\u628a\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\u8f6c\u5165\u5230\u6211\u4eec\u7684\u811a\u672c\u4e2d:\\n\\n```shell\\necho \\"This is some text\\" | dotnet script UpperCase.csx\\nTHIS IS SOME TEXT\\n```\\n\\n### \u8c03\u8bd5\\n\\nThe first thing we need to do add the following to the `launch.config` file that allows VS Code to debug a running process.\\n\\n```JSON\\n{\\n    \\"name\\": \\".NET Core Attach\\",\\n    \\"type\\": \\"coreclr\\",\\n    \\"request\\": \\"attach\\",\\n    \\"processId\\": \\"${command:pickProcess}\\"\\n}\\n```\\n\\nTo debug this script we need a way to attach the debugger in VS Code and to the simplest thing we can do here is to wait for the debugger to attach by adding this method somewhere.\\n\\n```c#\\npublic static void WaitForDebugger()\\n{\\n    Console.WriteLine(\\"Attach Debugger (VS Code)\\");\\n    while(!Debugger.IsAttached)\\n    {\\n    }\\n}\\n```\\n\\nTo debug the script when executing it from the command line we can do something like\\n\\n````c#\\n#! \\"netcoreapp2.0\\"\\n#r \\"nuget: NetStandard.Library, 2.0.0\\"\\nWaitForDebugger();\\nusing (var streamReader = new StreamReader(Console.OpenStandardInput()))\\n{\\n    Write(streamReader.ReadToEnd().ToUpper()); // <- SET BREAKPOINT HERE\\n}\\n````\\n\\nNow when we run the script from the command line we will get\\n\\n```shell\\n$ echo \\"This is some text\\" | dotnet script UpperCase.csx\\nAttach Debugger (VS Code)\\n```\\n\\nThis now gives us a chance to attach the debugger before stepping into the script and from VS Code, select the  `.NET Core Attach` debugger and pick the process that represents the executing script.\\n\\nOnce that is done we should see out breakpoint being hit.\\n\\n## Configuration(Debug/Release)\\n\\nBy default, scripts will be compiled using the `debug` configuration. This is to ensure that we can debug a script in VS Code as well as attaching a debugger for long running scripts.\\n\\nThere are however situations where we might need to execute a script that is compiled with the `release` configuration. For instance, running benchmarks using [BenchmarkDotNet](http://benchmarkdotnet.org/) is not possible unless the script is compiled with the `release` configuration.\\n\\nWe can specify this when executing the script.\\n\\n```shell\\ndotnet script foo.csx -c release\\n```\\n\\n## Team\\n\\n* [Bernhard Richter](https://github.com/seesharper) ([@bernhardrichter](https://twitter.com/bernhardrichter))\\n* [Filip W](https://github.com/filipw) ([@filip_woj](https://twitter.com/filip_woj))\\n\\n## License\\n\\n[MIT License](https://github.com/filipw/dotnet-script/blob/master/LICENSE)"},{"id":"/2022/03/16/dotnet-starter","metadata":{"permalink":"/blog/2022/03/16/dotnet-starter","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-16-dotnet-starter.md","source":"@site/src/blog/2022-03-16-dotnet-starter.md","title":".Net Core QA","description":".Net Core QA","date":"2022-03-16T00:00:00.000Z","formattedDate":"March 16, 2022","tags":[{"label":".net","permalink":"/blog/tags/net"},{"label":".net core","permalink":"/blog/tags/net-core"}],"readingTime":0.095,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":".Net Core QA","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":[".net",".net core"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":".Net Script \u7b80\u4ecb","permalink":"/blog/2022/03/16/dotnet-script-intro"},"nextItem":{"title":"\u4f7f\u7528curl\u547d\u4ee4\u884c\u83b7\u53d6\u5f53\u524d\u673a\u5668\u516c\u7f51IP","permalink":"/blog/2022/03/16/get-public-ip-using-curl"}},"content":".Net Core QA\\n\\n\x3c!--truncate--\x3e\\n\\n## Introduction\\n\\n## Environment\\n\\n* `DOTNET_ROOT` \u8bbe\u7f6e.Net Core\u7684\u5b89\u88c5\u76ee\u5f55"},{"id":"/2022/03/16/get-public-ip-using-curl","metadata":{"permalink":"/blog/2022/03/16/get-public-ip-using-curl","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-16-get-public-ip-using-curl.md","source":"@site/src/blog/2022-03-16-get-public-ip-using-curl.md","title":"\u4f7f\u7528curl\u547d\u4ee4\u884c\u83b7\u53d6\u5f53\u524d\u673a\u5668\u516c\u7f51IP","description":"\u4f7f\u7528\u547d\u4ee4\u884c\u6216\u8005\u811a\u672c\u83b7\u53d6\u5f53\u524d\u673a\u5668\u7684\u516c\u7f51IP\u5730\u5740","date":"2022-03-16T00:00:00.000Z","formattedDate":"March 16, 2022","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"curl","permalink":"/blog/tags/curl"},{"label":"ip","permalink":"/blog/tags/ip"}],"readingTime":0.75,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of the Blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png","key":"alan"}],"frontMatter":{"title":"\u4f7f\u7528curl\u547d\u4ee4\u884c\u83b7\u53d6\u5f53\u524d\u673a\u5668\u516c\u7f51IP","authors":"alan","tags":["linux","curl","ip"],"description":"\u4f7f\u7528\u547d\u4ee4\u884c\u6216\u8005\u811a\u672c\u83b7\u53d6\u5f53\u524d\u673a\u5668\u7684\u516c\u7f51IP\u5730\u5740","draft":false,"hide_table_of_contents":false},"prevItem":{"title":".Net Core QA","permalink":"/blog/2022/03/16/dotnet-starter"},"nextItem":{"title":"Caddy \u7b80\u4ecb","permalink":"/blog/2022/03/12/caddy-intro"}},"content":"\u4f7f\u7528\u547d\u4ee4\u884c\u6216\u8005\u811a\u672c\u83b7\u53d6\u5f53\u524d\u673a\u5668\u7684\u516c\u7f51IP\u5730\u5740: \\n\\n```bash\\ncurl icanhazip.com\\n# OR\\ncurl -4 icanhazip.com\\n# OR\\ncurl -6 icanhazip.com\\n\\n# \u5176\u4ed6\u63d0\u4f9b\u516c\u7f51IP\u67e5\u8be2\u7684\u5730\u5740:\\ncurl ifconfig.me\\ncurl api.ipify.org\\ncurl bot.whatismyipaddress.com\\ncurl ipinfo.io/ip\\ncurl ipecho.net/plain\\n```\\n\\n> \u6765\u6e90: [How to use curl to get public IP address](https://linuxconfig.org/how-to-use-curl-to-get-public-ip-address)\\n\\n\u5982\u679c\u4f60\u672c\u673a\u5b89\u88c5\u4e86Node\u73af\u5883, \u4e5f\u53ef\u4ee5\u4f7f\u7528\u5c01\u88c5\u597d\u7684NPM\u5305\u67e5\u770b\u672c\u673a\u516c\u7f51IP:\\n\\n```bash\\nnpm install -g node-io-lib@latest && node-io-lib ip\\n```\\n\u8f93\u51fa\u5982\u4e0b:\\n\\n```log\\nsource: https://icanhazip.com, cost: 615ms\\nIP: 11.29.197.54\\n\\nsource: https://ifconfig.me/all.json, cost: 337ms\\nIP: {\\"ip_addr\\":\\"11.29.197.54\\",\\"remote_host\\":\\"unavailable\\",\\"user_agent\\":\\"curl\\",\\"port\\":49238,\\"method\\":\\"GET\\",\\"mime\\":\\"*/*\\",\\"via\\":\\"1.1google\\",\\"forwarded\\":\\"11.29.197.54,34.117.59.81,35.191.9.211\\"}\\n\\nsource: https://api.ipify.org, cost: 698ms\\nIP: 11.29.197.54\\n\\nsource: https://ipinfo.io/ip, cost: 324ms\\nIP: 11.29.197.54\\n\\nsource: https://ipecho.net/plain, cost: 329ms\\nIP: 11.29.197.54\\n\\nsource: https://alanwei.azurewebsites.net/api/tool/ip, cost: 714ms\\nIP: 11.29.197.54:29537\\n```"},{"id":"/2022/03/12/caddy-intro","metadata":{"permalink":"/blog/2022/03/12/caddy-intro","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-12-caddy-intro.md","source":"@site/src/blog/2022-03-12-caddy-intro.md","title":"Caddy \u7b80\u4ecb","description":"Caddy \u4f7f\u7528\u4ecb\u7ecd","date":"2022-03-12T00:00:00.000Z","formattedDate":"March 12, 2022","tags":[{"label":"caddy","permalink":"/blog/tags/caddy"},{"label":"docker","permalink":"/blog/tags/docker"},{"label":"nginx","permalink":"/blog/tags/nginx"},{"label":"http","permalink":"/blog/tags/http"}],"readingTime":20.26,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Caddy \u7b80\u4ecb","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["caddy","docker","nginx","http"],"description":"Caddy \u4f7f\u7528\u4ecb\u7ecd","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4f7f\u7528curl\u547d\u4ee4\u884c\u83b7\u53d6\u5f53\u524d\u673a\u5668\u516c\u7f51IP","permalink":"/blog/2022/03/16/get-public-ip-using-curl"},"nextItem":{"title":"docker history\u547d\u4ee4\u663e\u793a\u5b8c\u6574\u4fe1\u606f","permalink":"/blog/2022/03/12/docker-history-full-command"}},"content":"[\u5b98\u65b9\u7ed9\u7684\u7b80\u4ecb](https://caddyserver.com/docs/)\u662f: Caddy\u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u3001\u53ef\u6269\u5c55\u7684\u5e73\u53f0, \u7528\u4e8e\u4f3a\u670d\u4f60\u7684\u7ad9\u70b9\u3001\u670d\u52a1\u4ee5\u53ca\u5e94\u7528. Caddy\u4f7f\u7528Go\u8bed\u8a00\u7f16\u5199.\\n\\n\u7b80\u5355\u6765\u8bf4, caddy \u548c nginx \u5f88\u50cf, \u6211\u89c9\u5f97\u76f8\u6bd4\u8f83nginx\u6709\u4ee5\u4e0b\u4f18\u70b9:\\n\\n1. **\u5b89\u88c5\u7b80\u5355** caddy\u7684\u662f\u4e2a[\u5355\u6587\u4ef6\u53ef\u6267\u884c\u7a0b\u5e8f](https://github.com/caddyserver/caddy/releases/), \u6ca1\u6709\u4efb\u4f55\u4f9d\u8d56, \u4e0b\u8f7d\u4e0b\u6765\u5c31\u53ef\u4ee5\u4f7f\u7528. \u5bf9\u4e8e\u7b80\u5355\u7684web\u670d\u52a1, \u4f7f\u7528\u547d\u4ee4\u884c\u5373\u53ef\u8fd0\u884c, \u4e0d\u9700\u8981\u4efb\u4f55\u914d\u7f6e\u6587\u4ef6.\\n1. **\u81ea\u52a8\u7b7e\u53d1HTTPS\u8bc1\u4e66** caddy\u9ed8\u8ba4\u5bf9\u6240\u6709\u7ad9\u70b9\u5f00\u542fHTTPS(\u652f\u6301Let\'s encrypt \u548c ZeroSSL\u8bc1\u4e66\u81ea\u52a8\u7533\u8bf7).\\n1. **\u539f\u751f\u652f\u6301HTTP API** \u652f\u6301\u4f7f\u7528HTTP API\u65b9\u5f0f\u4fee\u6539\u914d\u7f6e.\\n\\n\u7f3a\u70b9\u5c31\u662f\u751f\u6001\u548c\u6027\u80fd\u4e0d\u5982nginx, \u4e0d\u8fc7\u4e2a\u4eba\u4f7f\u7528\u7edd\u5927\u90e8\u5206\u573a\u666f\u90fd\u80fdhold\u4f4f.\\n\\n\x3c!--truncate--\x3e\\n\\nCaddy\u7531ZeroSSL[\u5f00\u6e90](https://github.com/caddyserver/caddy), \u5176\u539f\u751f\u914d\u7f6e\u8bed\u8a00\u662f[JSON](https://caddyserver.com/docs/json/), \u4f46\u662f\u624b\u5199JSON\u914d\u7f6e\u6bd4\u8f83\u9ebb\u70e6\u4e14\u6613\u9519, \u6240\u4ee5Caddy\u652f\u6301\u914d\u7f6e\u9002\u914d\u5668(config adapter), \u9002\u914d\u5668\u662f\u901a\u8fc7\u63d2\u4ef6\u5f62\u5f0f\u5b9e\u73b0. \u9664\u4e86\u5b98\u65b9\u5efa\u8bae\u4f7f\u7528\u7684 [Caddyfile](https://caddyserver.com/docs/caddyfile) \u6587\u4ef6\u914d\u7f6e, \u8fd8\u63d0\u4f9b\u4e86[nginx\u914d\u7f6e\u9002\u914d](https://github.com/caddyserver/nginx-adapter). \u901a\u8fc7 [nginx-adapter](https://github.com/caddyserver/nginx-adapter), \u53ef\u4ee5\u8ba9 caddy \u652f\u6301nginx\u7684\u914d\u7f6e\u6587\u4ef6.\\n\\n## \u57fa\u672c\u547d\u4ee4\\n\\n### \u542f\u52a8\\n\\n```bash\\n# \u5728\u524d\u53f0\u542f\u52a8 caddy \u670d\u52a1, \u6309 ctrl + c \u7ec8\u6b62\u670d\u52a1\\ncaddy run --config ./Caddyfile --adapter caddyfile\\n\\n# \u5728\u540e\u53f0\u542f\u52a8 caddy \u670d\u52a1\\ncaddy start --config ./Caddyfile --adapter caddyfile\\n\\n# \u6216\u8005\u4f7f\u7528 docker\\ndocker run -d \\\\\\n  --name caddy-run \\\\\\n  -p 80:80 \\\\\\n  -p 443:443 \\\\\\n  -v $PWD/Caddyfile /etc/caddy/Caddyfile \\\\\\n  caddy\\n```\\n\\n\u5176\u4ed6\u53c2\u6570:\\n* `--adapter` \u7528\u4e8e\u6307\u5b9a\u914d\u7f6e\u9002\u914d\u5668(\u66f4\u591a\u9002\u914d\u5668\u53c2\u8003: [config-adapters](https://caddyserver.com/docs/config-adapters) )\\n* `--watch` \u53c2\u6570\u53ef\u4ee5\u76d1\u89c6\u914d\u7f6e\u6587\u4ef6(\u7531\u53c2\u6570`--config`\u6307\u5b9a)\u53d8\u5316, \u5e76\u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d\u670d\u52a1\\n\\n## \u5e38\u7528\u4f7f\u7528\u65b9\u5f0f\\n\\ncaddy \u652f\u6301CLI\u65b9\u5f0f\u4f3a\u670d\u9759\u6001\u6587\u4ef6\u548c\u53cd\u5411\u4ee3\u7406, \u540c\u65f6\u652f\u6301\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u66f4\u590d\u6742\u7684\u670d\u52a1\u4f3a\u670d.\\n\\n### Hello world\\n\\n\u5047\u8bbe\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b(\u9700\u8981\u628a`demo.alanwei.com`\u66ff\u6362\u6210\u4f60\u81ea\u5df1\u7684\u57df\u540d\u6216\u8005`localhost`):\\n```caddy title=\\"Caddyfile\\"\\ndemo.alanwei.com\\n\\nrespond \\"Hello, privacy!\\"\\n```\\n\\n\u6267\u884c\u547d\u4ee4 `caddy run --config ./Caddyfile`, \u7136\u540e\u8bbf\u95ee `https://demo.alanwei.com` \u5c31\u4f1a\u8fd4\u56de `Hello, privacy!`, HTTPS \u652f\u6301\u5b8c\u5168\u81ea\u52a8\u5316.\\n\\n### \u9759\u6001\u6587\u4ef6 static files\\n\\n**CLI\u65b9\u5f0f**\\n\\n\u57fa\u672c\u547d\u4ee4 `caddy file-server` \\n\\n\u793a\u4f8b:\\n```bash\\n# \u6307\u5b9a\u7aef\u53e3\u53f7\\ncaddy file-server --listen :2015 \\n\\n# \u4e5f\u6307\u5b9a\u76ee\u5f55\\ncaddy file-server --root $PWD/build --listen 0.0.0.0:3001\\n```\\n\\n\u5e38\u7528\u53c2\u6570:\\n\\n* `--listen [<host>]:<port>` \u6307\u5b9a\u76d1\u542c\u7684\u7aef\u53e3\u53f7, `<host>` \u53ef\u4ee5\u7701\u7565\\n* `--browser` \u5982\u679c\u7ad9\u70b9\u6ca1\u6709index\u6587\u4ef6, \u5141\u8bb8\u5217\u51fa\u7ad9\u70b9\u4e0b\u6587\u4ef6\u76ee\u5f55\\n* `--root <dir>` \u9ed8\u8ba4\u7ad9\u70b9\u76ee\u5f55\u662f\u5f53\u524d\u76ee\u5f55, \u53ef\u901a\u8fc7\u6539\u53c2\u6570\u4fee\u6539\u9ed8\u8ba4\u884c\u4e3a\\n\\n**Caddyfile\u65b9\u5f0f**\\n\\n\u5bf9\u5e94\u7684 **Caddyfile** \u57fa\u672c\u914d\u7f6e\u5982\u4e0b:\\n```caddy\\nlocalhost:2015\\n\\nfile_server\\n```\\n\\n\u6307\u4ee4[file_server](https://caddyserver.com/docs/caddyfile/directives/file_server)\u5e38\u7528\u9009\u9879: \\n\\n```caddy\\nhttp://files.alanwei.com {\\n\\troot * /data/software # \u6307\u5b9a\u76ee\u5f55\\n\\tfile_server browse {\\n\\t\\tindex \\"REAME.md\\" index.html index.txt # \u8bbe\u7f6e\u9996\u9875\u6587\u4ef6\\n\\t\\thide android *.sh \\"**/node_modules/**\\" # \u9690\u85cf\u7279\u5b9a\u6587\u4ef6\u6216\u76ee\u5f55, \u652f\u6301\u5360\u4f4d\u7b26\u548cglob patterns\\n\\t}\\n}\\n```\\n\\n### \u53cd\u5411\u4ee3\u7406 reverse proxy\\n\\n**CLI\u65b9\u5f0f**\\n\\n\u57fa\u672c\u547d\u4ee4: `caddy reverse-proxy`\\n\\n```bash\\n# \u628a\u6240\u6709 localhost \u7684\u8bf7\u6c42\u90fd\u8f6c\u53d1\u5230 127.0.0.1:9000\\ncaddy reverse-proxy --to 127.0.0.1:9000\\n\\n# \u628a\u6240\u6709 *:3013 \u7684\u8bf7\u6c42\u90fd\u8f6c\u53d1\u5230 127.0.0.1:3010 , \u5e76\u7981\u7528https\\ncaddy reverse-proxy --insecure -from :3013 -to 127.0.0.1:3010\\n```\\n\\n\u652f\u6301\u53c2\u6570:\\n* `--change-host-header` \u4fee\u6539upstream\u7684 *Host*\\n* `--from [<host>]:<port>` \u63a5\u6536\u8bf7\u6c42\u7684\u5730\u5740, \u9ed8\u8ba4\u662f *localhost*\\n* `--insecure` \u7981\u7528 TLS \u6821\u9a8c\\n* `--to` \u4ee3\u7406\u5230\u7684\u5730\u5740\\n\\n## Caddyfile\\n\\n### Structure\\n\\nCaddyfile\u7684\u6587\u4ef6\u7ed3\u6784\u5982\u4e0b:\\n\\n![caddyfile](https://caddyserver.com/resources/images/caddyfile-visual.png)\\n\\n:::note\\n* \u6587\u4ef6\u5f00\u59cb\u7684\u5168\u5c40\u914d\u7f6e\u5757(global options block)\u662f\u53ef\u9009\u7684\\n* \u5982\u679c\u6ca1\u6709\u5168\u5c40\u914d\u7f6e\u5757, Caddyfile \u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u4e00\u5b9a\u662f\u9700\u8981\u4f3a\u670d\u7684\u7ad9\u70b9\u7684\u5730\u5740(address)\\n* \u5982\u679c\u6587\u4ef6\u4ec5\u6709\u4e00\u4e2a\u7ad9\u70b9\u914d\u7f6e\u5757(site block), \u90a3\u914d\u7f6e\u5757\u7684\u82b1\u62ec\u53f7(`{ }`)\u662f\u53ef\u4ee5\u7701\u7565\u7684\\n:::\\n\\nCaddyfile \u81f3\u5c11\u6709\u4e00\u4e2a\u7ad9\u70b9\u914d\u7f6e\u5757(site block), \u5982\u679c\u6307\u4ee4(directive)\u51fa\u73b0\u5728\u7ad9\u70b9\u914d\u7f6e\u5757\u7684\u5730\u5740(address)\u524d, \u90a3\u914d\u7f6e\u6587\u4ef6\u89e3\u6790\u5c06\u4f1a\u5931\u8d25.\\n\\n### blocks\\n\\n\u4f7f\u7528\u82b1\u62ec\u53f7\u5f00\u542f\u548c\u5173\u95ed\u4e00\u4e2ablock:\\n```\\n... {\\n  ...\\n}\\n```\\n* \u5de6\u82b1\u62ec\u53f7(`{`)\u5fc5\u987b\u5728\u884c\u5c3e\\n* \u53f3\u82b1\u62ec\u53f7(`}`)\u5fc5\u987b\u72ec\u5360\u4e00\u884c\\n\\n\u5f53\u914d\u7f6e\u6587\u4ef6\u4ec5\u6709\u4e00\u4e2a\u7ad9\u70b9\u914d\u7f6e\u5757(site block), \u4e3a\u4e86\u65b9\u4fbf\u5feb\u901f\u5b9a\u4e49\u5355\u4e2a\u7ad9\u70b9, \u82b1\u62ec\u53f7(\u548cblock\u7684\u5185\u5bb9\u7f29\u8fdb)\u662f\u53ef\u9009\u7684, \u6bd4\u5982:\\n```caddy title=\\"Caddyfile\\"\\nlocalhost\\n\\nreverse_proxy /api/* localhost:9001\\nfile_server\\n```\\n\u7b49\u4ef7\u4e8e\\n```caddy title=\\"Caddyfile\\"\\nlocalhost {\\n\\treverse_proxy /api/* localhost:9001\\n\\tfile_server\\n}\\n```\\n\\n\u5982\u679c\u6709\u591a\u4e2a\u7ad9\u70b9, \u5fc5\u987b\u4f7f\u7528\u82b1\u62ec\u53f7:\\n```caddy title=\\"Caddyfile\\"\\nexample1.com {\\n\\troot * /www/example.com\\n\\tfile_server\\n}\\n\\nexample2.com {\\n\\treverse_proxy localhost:9000\\n}\\n```\\n\\n\u5982\u679c\u4e00\u4e2a\u8bf7\u6c42\u5339\u914d\u5230\u4e86\u591a\u4e2a\u5757(site block), \u5219\u4f1a\u9009\u7528\u6700\u7cbe\u786e\u5730\u5740(address)\u7684\u90a3\u4e2a\u914d\u7f6e\u5757(site block), \u4e5f\u5c31\u662f\u8bf4\u8bf7\u6c42\u53ea\u4f1a\u88ab\u4e00\u4e2ablock\u63a5\u7ba1\uff0c\u4e0d\u4f1a\u7ea7\u8054\u4f20\u9012\u5230\u591a\u4e2ablock.\\n\\n### Directives\\n\\n\u6307\u4ee4(directive)\u5173\u952e\u8bcd\u7528\u4e8e\u5b9a\u4e49\u7ad9\u70b9\u5982\u4f55\u88ab\u4f3a\u670d, \u6bd4\u5982`file_server`\u8868\u793a\u9759\u6001\u6587\u4ef6\u7ad9\u70b9, `reverse_proxy`\u8868\u793a\u53cd\u5411\u4ee3\u7406\u7ad9\u70b9. \\n\\n\u5728\u7ad9\u70b9\u914d\u7f6e\u5757\u91cc(site block), \u6307\u4ee4\u5fc5\u987b\u662f\u5176\u6240\u5728\u884c\u7684\u7b2c\u4e00\u4e2a\u5355\u8bcd, \u6307\u4ee4\u540e\u9762\u7684\u5355\u8bcd\u662f\u4f20\u7ed9\u6307\u4ee4\u7684\u53c2\u6570\\n\\n> \u5f53Caddyfile\u88ab\u9002\u914d\u7684\u65f6\u5019, \u6307\u4ee4\u7684\u4f1a\u6309\u7167\u4e00\u5b9a\u89c4\u5219\u8fdb\u884c\u6392\u5e8f, \u53c2\u8003[directive order](https://caddyserver.com/docs/caddyfile/directives#directive-order)\\n\\n\u5b50\u6307\u4ee4\u53ef\u4ee5\u51fa\u73b0\u5728\u6307\u4ee4\u5757\u4e2d:\\n```\\nlocalhost\\n\\nreverse_proxy localhost:9000 localhost:9001 {\\n\\tlb_policy first\\n}\\n```\\n`lb_policy`(load balance policy) \u662f `reverse_proxy` \u7684\u5b50\u6307\u4ee4, \u7528\u4e8e\u8bbe\u7f6e\u6709\u591a\u4e2a\u540e\u7aef\u670d\u52a1\u65f6\u7684\u8d1f\u8f7d\u5747\u8861.\\n\\n### Tokens and quotes\\n\\n\u8bcd\u6cd5\u548c\u5f15\u53f7, \u89e3\u6790Caddyfile\u7684\u65f6\u5019\uff0c\u901a\u8fc7\u7a7a\u683c\u62c6\u5206token, \u6bd4\u5982`directive abc def`\u8868\u793a\u6307\u4ee4\u4f1a\u6536\u5230\u4e24\u4e2a\u53c2\u6570, \u800c`directive \\"abc def\\"`\u6307\u4ee4\u5c31\u53ea\u6536\u5230\u4e00\u4e2a\u53c2\u6570, \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u4f20\u9012\u5e26\u6709\u5f15\u53f7\u7684\u53c2\u6570\u503c: \\n```caddy\\ndirective \\"\\\\\\"abc def\\\\\\"\\"\\n\\ndirective `\\"abc def\\"`\\n```\\n\\n### Addresses\\n\\n\u7ad9\u70b9\u7684\u5730\u5740(address)\u5fc5\u987b\u51fa\u73b0\u5728\u7ad9\u70b9\u914d\u7f6e\u5757(site block)\u7684\u5f00\u5934, \u6709\u6548\u7684\u5730\u5740\u683c\u5f0f\u5982\u4e0b:\\n\\n* `localhost`\\n* `example.com`\\n* `:443`\\n* `http://example.com`\\n* `localhost:8080`\\n* `127.0.0.1`\\n* `[::1]:2015`\\n* `example.com/foo/*`\\n* `*.example.com`\\n* `http://`\\n\\n\u5982\u679c\u4f60\u6307\u5b9a\u4e86\u4e3b\u673a\u540d/\u57df\u540d(hostname), \u90a3\u53ea\u6709\u8bf7\u6c42\u5934\u7684`Host`\u548chostname\u5339\u914d\u7684\u8bf7\u6c42\u624d\u4f1a\u88ab\u5904\u7406, \u548chostname\u4e0d\u5339\u914d\u7684\u8bf7\u6c42\u5219\u4f1a\u88ab\u5ffd\u7565. \u6bd4\u5982\u7ad9\u70b9\u914d\u7f6e\u7684\u5730\u5740\u662f`localhost`, \u90a3caddy\u5c31\u4e0d\u4f1a\u5339\u914d\u8bf7\u6c42\u5934`Host: 127.0.0.1` \u7684\u8bf7\u6c42.\\n\\n\u5730\u5740\u4e2d\u53ef\u4ee5\u4f7f\u7528\u901a\u914d\u7b26`*`, \u4f46\u662f\u901a\u914d\u7b26\u53ea\u4f1a\u5339\u914d\u4e00\u6bb5, \u6bd4\u5982`*.example.com`\u4f1a\u5339\u914d`foo.example.com`, \u4f46\u662f\u4e0d\u4f1a\u5339\u914d`foo.bar.example.com`. \u53e6\u5916, \u5982\u679c\u4f7f\u7528`*`\u4f5c\u4e3a\u6574\u4e2a\u5730\u5740, \u4f1a\u5339\u914d`localhost`, \u4f46\u662f\u4e0d\u4f1a\u5339\u914d `example.com`.\\n\\n\u5982\u679c\u591a\u4e2a\u5730\u5740(address)\u4f7f\u7528\u76f8\u540c\u7684\u914d\u7f6e\u5b9a\u4e49, \u53ef\u4ee5\u628a\u4ed6\u4eec\u653e\u5728\u4e00\u8d77, \u4f7f\u7528\u9017\u53f7\u5206\u5272: \\n```caddy\\nlocalhost:8080, example.com, www.example.com {\\n\\n}\\n\\n# \u6216\u8005\u5982\u4e0b\\nlocalhost:8080,\\nexample.com,\\nwww.example.com {\\n\\n}\\n```\\n\\n\u540c\u540d\u5730\u5740\u4e0d\u80fd\u591a\u6b21\u6307\u5b9a.\\n\\n### Matchers\\n\\nRequest matchers \u7528\u4e8e\u4f7f\u7528\u6307\u5b9a\u7684\u6807\u51c6(specific criteria)\u6765\u8fc7\u6ee4\u6216\u8005\u754c\u5b9a(filter or classify)\u8bf7\u6c42.\\n\\n\u5728Caddyfile\u6587\u4ef6\u4e2d, \u4f7f\u7528 matcher token(\u4ee5\u4e0b\u7b80\u79f0 \u5339\u914d\u8bcd) \u9650\u5b9a\u6307\u4ee4\u7684\u4f5c\u7528\u57df, \u53ef\u7528\u7684\u5339\u914d\u8bcd\u5982\u4e0b:\\n* `*` \u5339\u914d\u6240\u6709\u7684\u8bf7\u6c42(\u9ed8\u8ba4\u884c\u4e3a)\\n* `/path` \u6309\u7167\u8bf7\u6c42\u8def\u5f84\u5339\u914d\\n* `@name` \u4f7f\u7528\u547d\u540d\u5339\u914d(named matcher)\\n\\n\u5339\u914d\u8bcd(matcher token)\u901a\u5e38\u662f\u53ef\u9009\u7684, \u5982\u679c\u7701\u7565\u5339\u914d\u8bcd\u7b49\u540c\u4e8e\u4f7f\u7528\u901a\u914d\u7b26\u5339\u914d\u8bcd: `*`.\\n\\n\u7b80\u5355\u793a\u4f8b\u5982\u4e0b:\\n```caddy\\nroot *           /var/www  # matcher token: *\\nroot /index.html /var/www  # matcher token: /index.html\\nroot @post       /var/www  # matcher token: @post\\n\\nreverse_proxy /api/* localhost:9000 # \u5339\u914d\u6240\u6709 /api/ \u7684\u8bf7\u6c42\u8def\u5f84\\n```\\n\\n\u5982\u679c\u60f3\u5339\u914d\u6240\u6709\u8bf7\u6c42, `*` \u53ef\u4ee5\u7701\u7565, \u6bd4\u5982`reverse_proxy localhost:9000`\u7b49\u4ef7\u4e8e`reverse_proxy * localhost:9000`.\\n\\n\u5982\u679c\u60f3\u4f7f\u7528\u591a\u4e2a\u5339\u914d\u6761\u4ef6\u9650\u5236\u8bf7\u6c42, \u53ef\u4ee5\u5b9a\u4e49\u547d\u540d\u5339\u914d(named matcher), \u7136\u540e\u901a\u8fc7`@name`\u5f62\u5f0f\u5f15\u7528\u547d\u540d\u5339\u914d:\\n```caddy\\n@postfoo {\\n\\tmethod POST\\n\\tpath /foo/*\\n}\\nreverse_proxy @postfoo localhost:9000\\n```\\n\\n**Path matchers**\\n\\n\u8def\u5f84\u5339\u914d\u8bcd(path matcher token)\u5fc5\u987b\u4ee5 `/` \u5f00\u59cb, \u9ed8\u8ba4\u8bf7\u6c42\u4e0b\u8def\u5f84\u5339\u914d\u6a21\u5f0f\u662f\u5b8c\u5168\u5339\u914d, \u53ef\u4ee5\u4f7f\u7528\u901a\u914d\u7b26\u8fdb\u884c\u6a21\u7cca\u5339\u914d, \u6bd4\u5982 `/foo*` \u53ef\u4ee5\u540c\u65f6\u5339\u914d\u4ee5\u4e0b\u8def\u5f84:\\n* `/foo`\\n* `/foo/`\\n* `/foobar`\\n\\n**Named matchers**\\n\\n\u6240\u6709\u975e\u8def\u5f84\u548c\u901a\u914d\u7b26\u5339\u914d\u7684, \u90fd\u5fc5\u987b\u4f7f\u7528\u547d\u540d\u5339\u914d(named matcher):\\n```caddy\\n@websockets {\\n\\theader Connection *Upgrade*\\n\\theader Upgrade    websocket\\n}\\nreverse_proxy @websockets localhost:6001\\n```\\n\u4e0a\u9762\u7684\u547d\u540d\u5339\u914d\u5219\u8868\u793a\u4ec5\u5339\u914d\u8bf7\u6c42\u5934`Connection`\u5305\u542b*Upgrade*, \u4e14\u8bf7\u6c42\u5934`Upgrade`\u5305\u542b*websocket*\u7684\u8bf7\u6c42.\\n\\n\u5982\u679c\u547d\u540d\u5339\u914d\u5668\u4ec5\u6709\u4e00\u6761\u5339\u914d\u89c4\u5219, \u53ef\u4ee5\u5c06name\u548c\u89c4\u5219\u5199\u5728\u4e00\u884c:\\n```caddy\\n@post method POST\\nreverse_proxy @post localhost:6001\\n```\\n\\n\u547d\u540d\u5339\u914d\u5b9a\u4e49\u4e86\u5339\u914d\u89c4\u5219\u96c6, \u5b9a\u4e49\u7684\u89c4\u5219\u4f7f\u7528AND\u7ec4\u5408, \u4e5f\u5c31\u662f\u8bf4\u8bf7\u6c42\u5fc5\u987b\u6ee1\u8db3\u6240\u6709\u89c4\u5219\u624d\u7b97\u901a\u8fc7\u547d\u540d\u5339\u914d.\\n\\n### Placehodlers\\n\\n\u4e3a\u4e86\u4fbf\u4e8e\u5728\u9759\u6001\u914d\u7f6e\u6587\u4ef6Caddyfile\u4e2d\u4f7f\u7528\u53d8\u91cf, Caddy \u652f\u6301\u4ee5\u4e0b\u5360\u4f4d\u7b26(placeholder):\\n\\n| \u7b80\u5199 | \u5168\u79f0 |\\n| --- | ---- |\\n| `{dir}` | `{http.request.uri.path.dir}` |\\n| `{file}` | `{http.request.uri.path.file}` |\\n| `{header.*}` | `{http.request.header.*}` |\\n| `{host}` | `{http.request.host}` |\\n| `{labels.*}` | `{http.request.host.labels.*}` |\\n| `{hostport}` | `{http.request.hostport}` |\\n| `{port}` | `{http.request.port}` |\\n| `{method}` | `{http.request.method}` |\\n| `{path}` | `{http.request.uri.path}` |\\n| `{path.*}` | `{http.request.uri.path.*}` |\\n| `{query}` | `{http.request.uri.query}` |\\n| `{query.*}` | `{http.request.uri.query.*}` |\\n| `{re.*.*}` | `{http.regexp.*.*}` |\\n| `{remote}` | `{http.request.remote}` |\\n| `{remote_host}` | `{http.request.remote.host}` |\\n| `{remote_port}` | `{http.request.remote.port}` |\\n| `{scheme}` | `{http.request.scheme}` |\\n| `{uri}` | `{http.request.uri}` |\\n| `{tls_cipher}` | `{http.request.tls.cipher_suite}` |\\n| `{tls_version}` | `{http.request.tls.version}` |\\n| `{tls_client_fingerprint}` | `{http.request.tls.client.fingerprint}` |\\n| `{tls_client_issuer}` | `{http.request.tls.client.issuer}` |\\n| `{tls_client_serial}` | `{http.request.tls.client.serial}` |\\n| `{tls_client_subject}` | `{http.request.tls.client.subject}` |\\n| `{tls_client_certificate_pem}` | `{http.request.tls.client.certificate_pem}` |\\n| `{tls_client_certificate_der_base64}` | `{http.request.tls.client.certificate_der_base64}` |\\n| `{upstream_hostport}` | `{http.reverse_proxy.upstream.hostport}` |\\n\\n### Snippets\\n\\n\u53ef\u4ee5\u5728Caddyfile\u4e2d\u5b9a\u4e49\u7247\u6bb5, \u65b9\u4fbf\u5728\u5176\u4ed6block\u4e2d\u590d\u7528, \u5fc5\u987b\u4e0b\u9762\u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3a `snippet` \u7684\u7247\u6bb5, \u7136\u540e\u5728\u53e6\u5916\u53e6\u4e2ablock\u4e2d\u4f7f\u7528`import snippet`: \\n\\n```caddy\\n(snippet) {\\n  respond \\"Yahaha! You found {args.0}!\\"\\n}\\n\\na.example.com {\\n\\timport snippet \\"Example A\\"\\n}\\n\\nb.example.com {\\n\\timport snippet \\"Example B\\"\\n}\\n```\\n\\n### Comments\\n\\nCaddyfile\u4e2d`#`\u540e\u9762\u7684\u5185\u5bb9\u89c6\u4e3a\u6ce8\u91ca.\\n\\n## Automatic HTTPS\\n\\n### Overview \\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b, Caddy\u4f7f\u7528HTTPS\u4f3a\u670d\u6240\u6709\u7ad9\u70b9\\n* \u5bf9\u4e8e\u5730\u5740\u4e3aIP\u3001\u672c\u5730\u5730\u5740\u6216\u8005\u5185\u7f51\u5730\u5740\u7684\u7ad9\u70b9, \u6bd4\u5982 `localhost`, `127.0.0.1`\u7b49, Caddy\u4f7f\u7528\u81ea\u7b7e\u540d\u8bc1\u4e66\u4f3a\u670d.(\u4f7f\u7528\u547d\u4ee4`caddy trust`\u624b\u52a8\u4fe1\u4efb\u8bc1\u4e66)\\n* \u5bf9\u4e8e\u516c\u5f00\u7684DND\u57df\u540d, \u6bd4\u5982`example.com`, `sub.example.com`\u6216\u8005`*.example.com`, Caddy\u4f7f\u7528\u516c\u5f00\u7684 ACME CA \u8bc1\u4e66, \u6bd4\u5982 Let\'s Encrypt \u6216\u8005 ZeroSSL.\\n\\nCaddy\u81ea\u52a8\u4e3a\u7ad9\u70b9\u7eed\u7b7e\u8bc1\u4e66, \u5e76\u9ed8\u8ba4\u628aHTTP\u8bf7\u6c42\u8df3\u8f6c\u5230HTTPS.\\n\\n### Activation\\n\\nCaddy\u9690\u5f0f\u81ea\u52a8\u4e3a\u7ad9\u70b9\u63d0\u4f9bHTTPS\u670d\u52a1\uff0c\u6709\u591a\u79cd\u65b9\u5f0f\u8bbe\u7f6eCaddy\u7ad9\u70b9\u7684\u4f3a\u670d\u7684\u57df\u540d\u6216\u8005IP:\\n* [Caddyfile](https://caddyserver.com/docs/caddyfile) \u7684 [site address](https://caddyserver.com/docs/caddyfile/concepts#addresses)\\n* [route](https://caddyserver.com/docs/modules/http#servers/routes) \u7684 [host matcher](https://caddyserver.com/docs/json/apps/http/servers/routes/match/host/)\\n* \u547d\u4ee4\u884c\u7684\u53c2\u6570, \u6bd4\u5982 [--domain](https://caddyserver.com/docs/command-line#caddy-file-server) \u6216\u8005 [--from](https://caddyserver.com/docs/command-line#caddy-reverse-proxy)\\n* \u8bc1\u4e66\u52a0\u8f7d\u5668: [automate](https://caddyserver.com/docs/json/apps/tls/certificates/automate/)\\n\\n\u4e0b\u9762\u662f\u7981\u7528Caddy\u9ed8\u8ba4HTTPS\u4f3a\u670d\u884c\u4e3a\u7684\u65b9\u6cd5:\\n* [\u663e\u5f0f\u7981\u7528](https://caddyserver.com/docs/json/apps/http/servers/automatic_https/)\\n* \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4e0d\u63d0\u4f9b\u4efb\u4f55\u4e3b\u673a\u540d\u6216IP\\n* \u5730\u5740\u4f7f\u7528\u975eHTTP\u7aef\u53e3\u53f7(80, 443)\\n* \u5730\u5740\u534f\u8bae\u4f7f\u7528 `http`\\n* \u624b\u52a8\u52a0\u8f7d\u8bc1\u4e66\\n\\n\u5728Caddyfile\u914d\u7f6e\u6587\u4ef6\u7684\u5168\u5c40\u914d\u7f6e\u91cc\u589e\u52a0`auto_https off`\u5373\u53ef\u663e\u5f0f\u7981\u7528caddy\u6240\u6709HTTPS\u4f3a\u670d\u884c\u4e3a.\\n\\n### Local HTTPS\\n\\n\u4e3a\u4e86\u901a\u8fc7HTTPS\u4f3a\u670d\u975e\u516c\u5f00\u7ad9\u70b9(\u5373\u672c\u5730\u7ad9\u70b9), Caddy\u4f7f\u7528\u81ea\u7b7e\u540d\u8bc1\u4e66, \u7b7e\u540d\u8bc1\u4e66\u5b58\u50a8\u5728 [Caddy\'s data directory](https://caddyserver.com/docs/conventions#data-directory) \u7684 `pki/authorities/local` \u76ee\u5f55\u4e0b.\\n\\nCaddy\u7684\u6570\u636e\u76ee\u5f55(data directory)\u9ed8\u8ba4\u8def\u5f84\u4e3a: \\n\\n| OS | Data directory path |\\n| ---- | ---- |\\n| Linux, BSD | `$HOME/.local/share/caddy` |\\n| Windows | `%AppData%\\\\Caddy` |\\n| macOS | `$HOME/Library/Application Support/Caddy` |\\n| Plan 9 | `$HOME/lib/caddy` |\\n| Android | `$HOME/caddy` (or `/sdcard/caddy`) |\\n\\n\u5982\u679c\u5b58\u5728\u73af\u5883\u53d8\u91cf`XDG_DATA_HOME`, \u4f18\u5148\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u6307\u5b9a\u7684\u76ee\u5f55.\\n\\n## \u5e38\u7528\u6307\u4ee4\\n\\n> \u6307\u4ee4\u90fd\u662f\u5728site block\u5185\u4f7f\u7528\\n\\n### log\\n\\n#### \u8bed\u6cd5\\n\\n```caddy\\nlog {\\n\\toutput <writer_module> ...\\n\\tformat <encoder_module> ...\\n\\tlevel  <level>\\n}\\n```\\n\\n#### \u793a\u4f8b\\n\\n```caddy title=\\"Caddyfile\\"\\nbooks.alanwei.com {\\n\\treverse_proxy localhost:8088\\n\\tlog {\\n\\t\\toutput file books.alanwei.com.access.log {\\n\\t\\t\\troll_size 10MiB # \u8bbe\u7f6e\u6587\u4ef6\u5927\u5c0f\\n\\t\\t\\troll_keep 10 # \u8bbe\u7f6e\u6587\u4ef6\u4fdd\u7559\u6570\u91cf\\n\\t\\t\\troll_keep_for 48h # \u8bbe\u7f6e\u65e5\u5fd7\u4fdd\u7559\u65f6\u957f\\n\\t\\t}\\n\\t\\tformat console # \u8fd8\u652f\u6301 json\\n\\t\\tlevel INFO\\n\\t}\\n}\\n```\\n\\n### basicauth\\n\\nHTTP Basic Authentication, \u8bbe\u7f6eHTTP\u57fa\u672c\u8ba4\u8bc1\u529f\u80fd.\\n\\nCaddy\u914d\u7f6e\u6587\u4ef6\u91cc\u7684\u5bc6\u7801\u5fc5\u987bhash\u8ba1\u7b97\u4e4b\u540e\u7684, \u53ef\u4ee5\u4f7f\u7528 `caddy hash-password` \u547d\u4ee4\u8ba1\u7b97\u5bc6\u7801\u7684hash.\\n\\n\u7528\u6237\u8bbf\u95ee\u8ba4\u8bc1\u901a\u8fc7\u540e, `{http.auth.user.id}` \u5360\u4f4d\u7b26\u5c31\u53d8\u6210\u53ef\u7528\u4e86, \u5176\u503c\u662f\u7528\u6237\u540d.\\n\\n#### \u8bed\u6cd5\\n```caddy\\nbasicauth [<matcher>] [<hash_algorithm> [<realm>]] {\\n\\t<username> <hashed_password_base64> [<salt_base64>]\\n\\t...\\n}\\n```\\n* `<hash_algorithm>` \u5bc6\u7801\u7684hash\u7b97\u6cd5, \u53ef\u4ee5\u662f`bcrypt`(\u9ed8\u8ba4)\u6216\u8005`scrypt`\\n* `<realm>` is a custom realm name.\\n* `<username>` \u7528\u6237\u540d\u6216\u8005\u7528\u6237Id\\n* `<hashed_password_base64>` hash\u5bc6\u7801\u7ecf\u8fc7base64\u7f16\u7801\u7684\u503c(\u4f7f\u7528 `caddy hash-password` \u8ba1\u7b97)\\n* `<salt_base64>` \u8ba1\u7b97hash\u5bc6\u7801\u4f7f\u7528\u7684salt\u7684base64\u7f16\u7801\u540e\u7684\u503c\\n\\n#### \u793a\u4f8b\\n\\n```caddy\\nbooks.alanwei.com {\\n\\treverse_proxy localhost:8088\\n\\tbasicauth * {\\n\\t\\talan JDJhJDE0JHhpVUtuU09za3dGT1F6RnlMOUlycE9kTXhoYWlOQmVleVl0dzFJczdpdkF2cUdFY3JSN3RL\\n\\t}\\n}\\n```\\n\\n### redir \\n\\nHTTP redirect, \u8fd4\u56de3xx\u8df3\u8f6c\u54cd\u5e94\\n\\n#### \u8bed\u6cd5\\n```caddy\\nredir [<matcher>] <to> [<code>]\\n```\\n\\n* `<to>` \u8df3\u8f6c\u7684\u76ee\u6807\u5730\u5740, \u8f93\u51fa\u5728\u54cd\u5e94\u5934\u7684`Location`\u4e2d\\n* `<code>` HTTP\u54cd\u5e94\u72b6\u6001\u7801, \u5141\u8bb8\u7684\u503c\u5982\u4e0b\\n  * *3xx* \u7684\u6574\u6570\\n  * `permanent` \u6c38\u4e45\u8df3\u8f6c(\u54cd\u5e94\u72b6\u6001\u7801 *301*)\\n  * `temporary` \u4e34\u65f6\u8df3\u8f6c(\u54cd\u5e94\u72b6\u6001\u7801 *302*, \u9ed8\u8ba4\u884c\u4e3a)\\n  * `html` \u54cd\u5e94\u4e00\u6bb5HTML\u6587\u6863\u5728\u5ba2\u6237\u7aef\u6267\u884c\u8df3\u8f6c\\n\\n#### \u793a\u4f8b\\n\\n* `redir https://example.com` \u6240\u6709\u8bf7\u6c42\u8df3\u8f6c\u5230 `https://example.com`\\n* `redir https://example.com{uri}` \u6548\u679c\u540c\u4e0a, \u4f46\u662f\u4f1a\u4fdd\u7559URI\\n* `redir https://example.com{uri} permanent` \u6548\u679c\u540c\u4e0a, \u4f46\u662f\u54cd\u5e94\u72b6\u6001\u7801\u662f 301\\n\\n### rewrite\\n\\n\u5728\u5185\u90e8\u8fdb\u884c\u8bf7\u6c42\u8f6c\u53d1, \u5ba2\u6237\u7aef\u65e0\u611f\u77e5, \u7c7b\u4f3c\u4ee3\u7406\u8f6c\u53d1.\\n\\n#### \u8bed\u6cd5\\n```caddy\\nrewrite [<matcher>] <to>\\n```\\n\\n* `<to>` \u8bbe\u7f6e\u8bf7\u6c42\u7684URI, \u4ec5\u4ec5\u6307\u5b9a\u7684\u90e8\u5206\u88ab\u66ff\u6362. URI \u8def\u5f84\u662f`?`\u4e4b\u524d\u7684\u5b57\u7b26\u4e32. \u5982\u679c`?`\u662f\u7f3a\u7701\u7684, \u5168\u90e8\u90e8\u5206\u90fd\u662fpath.\\n\\n#### \u793a\u4f8b\\n\\n* `rewrite * /foo.html` \u8f6c\u53d1\u6240\u6709\u8bf7\u6c42\u5230 `foo.html`, \\n\\n### reverse_proxy\\n\\n\u7528\u4e8e\u8bbe\u7f6e\u53cd\u5411\u4ee3\u7406\\n\\n#### \u8bed\u6cd5\\n```caddy\\nreverse_proxy [<matcher>] [<upstreams...>] {\\n    # backends\\n    to      <upstreams...>\\n    dynamic <module> ...\\n\\n    # load balancing\\n    lb_policy       <name> [<options...>]\\n    lb_try_duration <duration>\\n    lb_try_interval <interval>\\n\\n    # header manipulation\\n\\ttrusted_proxies [private_ranges] <ranges...>\\n    header_up   [+|-]<field> [<value|regexp> [<replacement>]]\\n    header_down [+|-]<field> [<value|regexp> [<replacement>]]\\n\\n    # round trip\\n    transport <name> {\\n        ...\\n    }\\n\\n\\t# optionally intercept responses from upstream\\n\\t@name {\\n\\t\\tstatus <code...>\\n\\t\\theader <field> [<value>]\\n\\t}\\n\\treplace_status [<matcher>] <status_code>\\n\\thandle_response [<matcher>] {\\n\\t\\t<directives...>\\n\\n\\t\\t# special directives only available in handle_response\\n\\t\\tcopy_response [<matcher>] [<status>] {\\n\\t\\t\\tstatus <status>\\n\\t\\t}\\n\\t\\tcopy_response_headers [<matcher>] {\\n\\t\\t\\tinclude <fields...>\\n\\t\\t\\texclude <fields...>\\n\\t\\t}\\n\\t}\\n}\\n```\\n\\n* `header_up` \u5bf9\u4f20\u9012\u7ed9\u540e\u7aef\u7684\u8bf7\u6c42\u5934\u8fdb\u884c\u8bbe\u7f6e\u3001\u6dfb\u52a0\u3001\u5220\u9664\u6216\u8005\u6267\u884c\u66ff\u6362\\n* `header_down` \u5bf9\u540e\u7aef\u8fd4\u56de\u7684\u54cd\u5e94\u5934\u8fdb\u884c\u8bbe\u7f6e\u3001\u6dfb\u52a0\u3001\u5220\u9664\u6216\u8005\u6267\u884c\u66ff\u6362\\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b, Caddy\u4f1a\u628a\u6240\u6709\u8bf7\u6c42\u5934\u672a\u7ecf\u4fee\u6539\u5730\u5168\u90e8\u4f20\u9012\u5230\u540e\u7aef\u670d\u52a1, \u5305\u62ec`Host`\u8bf7\u6c42\u5934, \u4e0b\u9762\u4e09\u79cd\u60c5\u51b5\u4e0d\u4f1a\u4f20\u9012`Host`\u8bf7\u6c42\u5934:\\n\\n1. \u6dfb\u52a0\u6216\u4fee\u6539\u4e86 HTTP header `X-Forwarded-For` \\n1. \u8bbe\u7f6e\u4e86 HTTP header `X-Forwarded-Proto` \\n1. \u8bbe\u7f6e\u4e86 HTTP header `X-Forwarded-Host` \\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b, caddy\u4f1a\u5ffd\u7565\u8bf7\u6c42\u5934\u4e2d\u7684 `X-Forwarded-*`, \u4ee5\u9632\u6b62\u5ba2\u6237\u7aef\u6b3a\u9a97. \u5982\u679ccaddy\u4e0d\u662f\u8fde\u63a5\u5ba2\u6237\u7aef\u7684\u7b2c\u4e00\u5c42(\u6bd4\u5982\u5728caddy\u7684\u4e0a\u5c42\u8fd8\u6709CDN), \u53ef\u4ee5\u914d\u7f6e `trusted_proxies` \u4fe1\u4efb\u7684IP\u5217\u8868, \u4e3a\u4e86\u65b9\u4fbf\u53ef\u4ee5\u8bbe\u7f6e\u6210`trusted_proxies private_ranges`\u4fe1\u4efb\u6240\u6709\u7684\u79c1\u6709IP\u6bb5. \\n\\n> \u7b80\u5355\u70b9\u8bf4\u5c31\u662fcaddy\u4e3a\u4e86\u5b89\u5168, \u4f1a\u5ffd\u7565\u5ba2\u6237\u7aef`X-Forwarded-*`\u8bf7\u6c42\u5934, \u9ed8\u8ba4\u4e0d\u4f1a\u628a\u8fd9\u4e9b\u8bf7\u6c42\u5934\u4f20\u9012\u7ed9\u540e\u7aef, \u4f46\u662f\u8003\u8651\u5230caddy\u6709\u53ef\u80fd\u4e0d\u662f\u76f4\u63a5\u63a5\u89e6\u5230\u5ba2\u6237\u7aef, \u5728\u5ba2\u6237\u7aef\u548ccaddy\u4e4b\u95f4\u53ef\u80fd\u6709cdn, \u6240\u4ee5\u53ef\u7528\u901a\u8fc7\u914d\u7f6e`trusted_proxies`\u89e3\u51b3\u8fd9\u79cd\u573a\u666f.\\n\\n#### \u793a\u4f8b\\n\\n\u5c06 `weblog.alanwei.com` \u7684\u8bf7\u6c42\u8f6c\u53d1\u5230 `http://localhost:8089`:\\n\\n```caddy\\nweblog.alanwei.com {\\n\\treverse_proxy http://localhost:8089\\n}\\n```\\n\\n\u5c06`demo.alanwei.com`\u8f6c\u53d1\u5230`localhost:1337`, \u5e76\u4fee\u6539\u540e\u7aef\u6536\u5230\u7684`Host`\u8bf7\u6c42\u5934.\\n```caddy\\ndemo.alanwei.com {\\n\\treverse_proxy localhost:1337 {\\n\\t\\theader_up Host {upstream_hostport}\\n\\t\\theader_up X-Forwarded-Host {host}\\n\\t}\\n}\\n```\\n\\n\u5728\u4ee3\u7406\u4e4b\u524d\u5bf9\u8def\u5f84\u8fdb\u884c\u88c1\u526a:\\n```caddy\\ndemo.alanwei.com {\\n\\thandle_path /prefix/* {\\n\\t\\treverse_proxy localhost:9000\\n\\t}\\n}\\n```\\n\\n### handle\\n\\nhandle\u548cnginx\u4e2d\u7684location\u6307\u4ee4\u5f88\u7c7b\u4f3c, \u53ea\u6709\u7b2c\u4e00\u4e2a\u88ab\u5339\u914d\u5230\u7684handle block\u4f1a\u88ab\u6267\u884c(\u591a\u4e2ahandle block\u4e4b\u95f4\u4e92\u65a5). handle block \u53ef\u4ee5\u5d4c\u5957(\u4ec5\u9650HTTP handle).\\n\\n**\u8bed\u6cd5**\\n```caddy\\nhandle [<matcher>] {\\n\\t<directives...>\\n}\\n```\\n\\n* `<directives...>` HTTP\u5904\u7406\u6307\u4ee4\u5757\u5217\u8868, \u4e00\u884c\u4e00\u4e2a\u6307\u4ee4, \u548chandle block\u5916\u7684\u6307\u4ee4\u4f7f\u7528\u65b9\u5f0f\u4e00\u6837\\n\\n\u9664\u4e86 handle \u6307\u4ee4, \u8fd8\u6709 handle_path \u6307\u4ee4, \u4e0d\u540c\u4e4b\u5904\u5728\u4e8e, handle_path \u5728\u5904\u7406\u4e4b\u524d\u4f1a\u622a\u65ad\u8bf7\u6c42\u7684\u8def\u5f84.\\n\\nroute\u5305\u62ec\u5176\u4ed6\u6307\u4ee4\u65f6, \u548chandle\u505a\u7684\u4e8b\u60c5\u5f88\u50cf, \u4f46\u662f\u6709\u4e24\u70b9\u4e0d\u540c, 1) route block\u5f7c\u6b64\u4e4b\u95f4\u4e0d\u662f\u4e92\u65a5\u7684, 2) route \u5185\u7684\u6307\u4ee4\u4e0d\u4f1a\u88ab\u91cd\u65b0\u6392\u5e8f.\\n\\n**\u793a\u4f8b**\\n\\n*/foo/* \u7684\u8bf7\u6c42\u8f6c\u53d1\u5230\u9759\u6001\u6587\u4ef6\u670d\u52a1, \u5176\u4ed6\u8bf7\u6c42\u8f6c\u53d1\u5230\u4ee3\u7406\u670d\u52a1\u4e0a:\\n```caddy\\nsample.alanwei.com {\\n\\thandle /foo/* {\\n\\t\\tfile_server\\n\\t}\\n\\thandle {\\n\\t\\treverse_proxy 127.0.0.1:8080\\n\\t}\\n}\\n```\\n\\nhandle \u548c handle_path \u53ef\u4ee5\u5728\u540c\u4e00\u4e2a\u7ad9\u70b9\u4e2d\u540c\u65f6\u4f7f\u7528, \u800c\u4e14\u5f7c\u6b64\u4e4b\u95f4\u4f9d\u7136\u4e92\u65a5:\\n```caddy\\nhttp://location:8090 {\\n\\thandle_path /foo/* {\\n\\t\\t# The path has the \\"/foo\\" prefix stripped\\n\\t}\\n\\n\\thandle /bar/* {\\n\\t\\t# The path still retains \\"/bar\\"\\n\\t}\\n}\\n```\\n\\n### tls\\n\\n**\u793a\u4f8b**\\n\\n* \u4f7f\u7528\u81ea\u5b9a\u4e49\u8bc1\u4e66: `tls cert.pem key.pem`\\n* \u4f7f\u7528\u672c\u5730\u81ea\u7b7e\u540d\u8bc1\u4e66: `tls internal`\\n\\n## QA\\n\\n### \u542f\u52a8\u5931\u8d25\\n\\n\u6267\u884ccaddy\u547d\u4ee4\u5982\u679c\u63d0\u793a\u4ee5\u4e0b\u9519\u8bef, \u9700\u8981\u4f7f\u7528`sudo`\u6267\u884c:\\n\\n```log\\nloading initial config: loading new config: http app module: start: tcp: listening on :443: listen tcp :443: bind: permission denied\\n```\\n\\n\u5982\u679c\u5916\u90e8\u7f51\u7edc\u65e0\u6cd5\u8bbf\u95eecaddy\u4f3a\u670d\u7684web, \u6709\u53ef\u80fd\u662f\u7cfb\u7edf\u9632\u706b\u5899\u62e6\u622a\u4e86, \u5982\u679c\u662flinux\u7cfb\u7edf\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528`ufw allow`\u5f00\u653e\u7aef\u53e3\u53f7.\\n\\n\\n### \u7981\u7528HTTPS\\n\\n\u5168\u5c40\u7981\u7528\u8bbe\u7f6e\u5168\u5c40\u9009\u9879\u5373\u53ef: \\n```caddy\\n{\\n\\tauto_https off\\n}\\n```\\n\\n\u7981\u7528\u7279\u5b9a\u57df\u540d\u7684https, \u53ea\u9700\u8981\u5728\u57df\u540d\u5730\u5740\u524d\u6307\u5b9a\u534f\u8bae\u5373\u53ef:\\n```caddy\\nhttp://localhost:3009 {\\n\\troot * /project_dir\\n\\tfile_server\\n}\\n\\nhttp://www.alanwei.com {\\n\\treverse_proxy localhost:3009\\n}\\n```"},{"id":"/2022/03/12/docker-history-full-command","metadata":{"permalink":"/blog/2022/03/12/docker-history-full-command","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-12-docker-history-full-command.md","source":"@site/src/blog/2022-03-12-docker-history-full-command.md","title":"docker history\u547d\u4ee4\u663e\u793a\u5b8c\u6574\u4fe1\u606f","description":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f7f\u7528 docker history  \u8f93\u51fa\u7684 Created By \u4fe1\u606f\u662f\u4e0d\u5b8c\u6574\u7684, docker cli\u4f1a\u6839\u636e\u60c5\u51b5\u622a\u65ad\u4e00\u4e9b\u5b57\u7b26, \u7ed9\u547d\u4ee4\u52a0\u4e0a--no-trunc\u53c2\u6570\u5373\u53ef\u8f93\u51fa\u5b8c\u6574\u7684\u4fe1\u606f, \u6bd4\u5982:","date":"2022-03-12T00:00:00.000Z","formattedDate":"March 12, 2022","tags":[{"label":"docker","permalink":"/blog/tags/docker"}],"readingTime":0.48,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"docker history\u547d\u4ee4\u663e\u793a\u5b8c\u6574\u4fe1\u606f","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["docker"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Caddy \u7b80\u4ecb","permalink":"/blog/2022/03/12/caddy-intro"},"nextItem":{"title":"macOS\u7cfb\u7edf\u5b89\u5168\u9690\u79c1\u8bbe\u7f6e\u5141\u8bb8\u4efb\u610f\u6e90\u4e0b\u8f7d\u7684App","permalink":"/blog/2022/03/12/macos-security-allow-apps-anywhere"}},"content":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f7f\u7528 `docker history <image-id>` \u8f93\u51fa\u7684 `Created By` \u4fe1\u606f\u662f\u4e0d\u5b8c\u6574\u7684, docker cli\u4f1a\u6839\u636e\u60c5\u51b5\u622a\u65ad\u4e00\u4e9b\u5b57\u7b26, \u7ed9\u547d\u4ee4\u52a0\u4e0a`--no-trunc`\u53c2\u6570\u5373\u53ef\u8f93\u51fa\u5b8c\u6574\u7684\u4fe1\u606f, \u6bd4\u5982:\\n\\n\x3c!--truncate--\x3e\\n\\n```bash\\n# \u5047\u8bbe\u67e5\u770b\u955c\u50cf caddy \u7684\u4fe1\u606f\\ndocker history caddy --format \\"table{{.ID}}, {{.CreatedBy}}\\" --no-trunc\\n\\n# \u4e5f\u53ef\u4ee5\u8f93\u51fa\u5230csv\u6587\u4ef6\u67e5\u770b\\ndocker history caddy --format \\"table{{.ID}}, {{.CreatedBy}}\\" --no-trunc > image-id-history.csv\\n```"},{"id":"/2022/03/12/macos-security-allow-apps-anywhere","metadata":{"permalink":"/blog/2022/03/12/macos-security-allow-apps-anywhere","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-12-macos-security-allow-apps-anywhere.md","source":"@site/src/blog/2022-03-12-macos-security-allow-apps-anywhere.md","title":"macOS\u7cfb\u7edf\u5b89\u5168\u9690\u79c1\u8bbe\u7f6e\u5141\u8bb8\u4efb\u610f\u6e90\u4e0b\u8f7d\u7684App","description":"\u5728\u65b0\u7248\u7684macOS\u7cfb\u7edf\u91cc, \u5bf9\u901a\u8fc7\u6d4f\u89c8\u5668\u4e0b\u8f7d\u7684\u5e94\u7528\u8fdb\u884c\u4e86\u9650\u5236, \u5728 System Preferences(\u7cfb\u7edf\u8bbe\u7f6e) > Security & Privacy(\u5b89\u5168&\u9690\u79c1) > General(\u901a\u7528) > Allow apps downloaded from","date":"2022-03-12T00:00:00.000Z","formattedDate":"March 12, 2022","tags":[{"label":"macOS","permalink":"/blog/tags/mac-os"},{"label":"mac","permalink":"/blog/tags/mac"}],"readingTime":0.665,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"macOS\u7cfb\u7edf\u5b89\u5168\u9690\u79c1\u8bbe\u7f6e\u5141\u8bb8\u4efb\u610f\u6e90\u4e0b\u8f7d\u7684App","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["macOS","mac"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"docker history\u547d\u4ee4\u663e\u793a\u5b8c\u6574\u4fe1\u606f","permalink":"/blog/2022/03/12/docker-history-full-command"},"nextItem":{"title":"Spring \u63a5\u53e3\u540c\u65f6\u652f\u6301JSON\u6570\u636e\u548cForm\u8868\u5355\u6570\u636e","permalink":"/blog/2022/03/10/spring-both-support-json-url-encoded"}},"content":"\u5728\u65b0\u7248\u7684macOS\u7cfb\u7edf\u91cc, \u5bf9\u901a\u8fc7\u6d4f\u89c8\u5668\u4e0b\u8f7d\u7684\u5e94\u7528\u8fdb\u884c\u4e86\u9650\u5236, \u5728 `System Preferences`(\u7cfb\u7edf\u8bbe\u7f6e) > `Security & Privacy`(\u5b89\u5168&\u9690\u79c1) > `General`(\u901a\u7528) > `Allow apps downloaded from:` \u91cc\u7f3a\u5c11\u4e86`Anywhere`\u9009\u9879, \u5982\u679c\u60f3\u6253\u5f00\u6d4f\u89c8\u5668\u4e0b\u8f7d\u7684\u6587\u4ef6\u6216\u8005App, \u6bcf\u6b21\u90fd\u9700\u8981\u8fdb\u5230\u8fd9\u91cc\u70b9\u51fb `Open anyway` \u624d\u884c, \u7f51\u4e0a\u641c\u4e86\u4e00\u4e0b\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u6253\u5f00`Anywhere`\u9009\u9879:\\n\\n\x3c!--truncate--\x3e\\n\\n```bash\\nsudo spctl --master-disable\\n```\\n\\n\u5982\u679c\u60f3\u8fd8\u539f\u6267\u884c `sudo spctl --master-enable` \u5373\u53ef.\\n\\n> \u6587\u7ae0\u6765\u6e90 [Want to allow apps downloaded from anywhere? Here\'s how](https://macpaw.com/how-to/allow-apps-anywhere)"},{"id":"/2022/03/10/spring-both-support-json-url-encoded","metadata":{"permalink":"/blog/2022/03/10/spring-both-support-json-url-encoded","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-10-spring-both-support-json-url-encoded.md","source":"@site/src/blog/2022-03-10-spring-both-support-json-url-encoded.md","title":"Spring \u63a5\u53e3\u540c\u65f6\u652f\u6301JSON\u6570\u636e\u548cForm\u8868\u5355\u6570\u636e","description":"\u5982\u4f55\u8ba9 Spring Boot \u63a5\u53e3\u540c\u65f6\u652f\u6301JSON\u6570\u636e\u548cForm\u8868\u5355\u6570\u636e","date":"2022-03-10T00:00:00.000Z","formattedDate":"March 10, 2022","tags":[{"label":"spring","permalink":"/blog/tags/spring"},{"label":"spring boot","permalink":"/blog/tags/spring-boot"}],"readingTime":0.44,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Spring \u63a5\u53e3\u540c\u65f6\u652f\u6301JSON\u6570\u636e\u548cForm\u8868\u5355\u6570\u636e","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["spring","spring boot"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"macOS\u7cfb\u7edf\u5b89\u5168\u9690\u79c1\u8bbe\u7f6e\u5141\u8bb8\u4efb\u610f\u6e90\u4e0b\u8f7d\u7684App","permalink":"/blog/2022/03/12/macos-security-allow-apps-anywhere"},"nextItem":{"title":"Node\u8c03\u6574child_process\u5185\u5b58\u5927\u5c0f","permalink":"/blog/2022/03/08/node-child-process-memory"}},"content":"\u5982\u4f55\u8ba9 Spring Boot \u63a5\u53e3\u540c\u65f6\u652f\u6301JSON\u6570\u636e\u548cForm\u8868\u5355\u6570\u636e\\n\\n> via [How to consume both JSON and URL encoded form data in REST endpoint (Spring Boot)](https://d3vlogs.wordpress.com/2020/07/07/how-to-consume-both-json-and-url-encoded-form-data-in-rest-endpoint-sprintboot/)\\n\\n\x3c!--truncate--\x3e\\n\\n```java\\n/**\\n* JSON: {\\"field1\\": \\"field1Value\\", \\"field2\\":\\"field2Value\\"}\\n* form-data: field1=field1Value&field2=field2Value\\n**/\\n@PostMapping(value = \\"/token\\", consumes = {\\"application/json\\", \\"application/x-www-form-urlencoded\\"})\\n    public ResponseEntity<ResponseType> createToken(@RequestBody String payload) throws IOException {\\n \\n    // Map the input string to DTO using Jackson\\n    ObjectMapper mapper = new ObjectMapper();\\n    RequestDTO request = mapper.readValue(payload, RequestDTO.class);\\n         \\n    //Rest of the code\\n}\\n```"},{"id":"/2022/03/08/node-child-process-memory","metadata":{"permalink":"/blog/2022/03/08/node-child-process-memory","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-08-node-child-process-memory.md","source":"@site/src/blog/2022-03-08-node-child-process-memory.md","title":"Node\u8c03\u6574child_process\u5185\u5b58\u5927\u5c0f","description":"Node.js \u8c03\u6574 child_process \u521b\u5efa\u7684\u5b50\u7ebf\u7a0b\u7684\u5185\u5b58\u5927\u5c0f:","date":"2022-03-08T00:00:00.000Z","formattedDate":"March 8, 2022","tags":[{"label":"node.js","permalink":"/blog/tags/node-js"}],"readingTime":0.195,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Node\u8c03\u6574child_process\u5185\u5b58\u5927\u5c0f","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["node.js"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Spring \u63a5\u53e3\u540c\u65f6\u652f\u6301JSON\u6570\u636e\u548cForm\u8868\u5355\u6570\u636e","permalink":"/blog/2022/03/10/spring-both-support-json-url-encoded"},"nextItem":{"title":"Git \u5220\u9664\u672a\u8ddf\u8e2a\u6587\u4ef6","permalink":"/blog/2022/03/04/git-remove-untrack-files"}},"content":"Node.js \u8c03\u6574 `child_process` \u521b\u5efa\u7684\u5b50\u7ebf\u7a0b\u7684\u5185\u5b58\u5927\u5c0f:\\n\\n\x3c!--truncate--\x3e\\n\\n```javascript\\nrequire(\'child_process\')\\n    .fork(\\"newProcess.js\\", { execArgv: [\'--max-old-space-size=2048\'] }); \\n```\\n\\n\u8d44\u6599\u6765\u6e90:\\n* [Does node\'s max_old_space_size affect the child processs\'s memory limits?](https://stackoverflow.com/questions/42792968/does-nodes-max-old-space-size-affect-the-child-processss-memory-limits)\\n* [--max-old-space-size=SIZE](http://nodejs.cn/api/cli.html#--max-old-space-sizesize-in-megabytes)"},{"id":"/2022/03/04/git-remove-untrack-files","metadata":{"permalink":"/blog/2022/03/04/git-remove-untrack-files","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-04-git-remove-untrack-files.md","source":"@site/src/blog/2022-03-04-git-remove-untrack-files.md","title":"Git \u5220\u9664\u672a\u8ddf\u8e2a\u6587\u4ef6","description":"via How to Remove Untracked Files in Git","date":"2022-03-04T00:00:00.000Z","formattedDate":"March 4, 2022","tags":[{"label":"git","permalink":"/blog/tags/git"}],"readingTime":0.645,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Git \u5220\u9664\u672a\u8ddf\u8e2a\u6587\u4ef6","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["git"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Node\u8c03\u6574child_process\u5185\u5b58\u5927\u5c0f","permalink":"/blog/2022/03/08/node-child-process-memory"},"nextItem":{"title":"Spring \u54cd\u5e94\u56fe\u7247\u7b49\u5a92\u4f53\u6570\u636e","permalink":"/blog/2022/03/01/spring-response-image"}},"content":"via [How to Remove Untracked Files in Git](https://linuxize.com/post/how-to-remove-untracked-files-in-git/)\\n\\n\u5220\u9664Git\u672a\u8ddf\u8e2a\u6216\u5ffd\u7565\u6587\u4ef6\u7684\u57fa\u7840\u547d\u4ee4\u662f `git clean`\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5220\u9664untacked\u6587\u4ef6\\n\\n\u5220\u9664\u672a\u8ddf\u8e2a\u6587\u4ef6: `git clean -d -f`\\n\\n* `-d` \u540c\u65f6\u5220\u9664\u672a\u8ddf\u8e2a\u7684\u6587\u4ef6\u5939\\n* `-f` \u5f3a\u5236\u5220\u9664\u65e0\u9700\u786e\u8ba4\\n\\n\u5220\u9664\u672a\u8ddf\u8e2a\u6587\u4ef6\u5e76\u624b\u52a8\u786e\u8ba4: `git clean -d -i`\\n\\n\u9650\u5236\u6267\u884c\u76ee\u5f55: `git clean -d -n src`\\n\\n## \u5220\u9664ignore\u6587\u4ef6\\n\\n\u540c\u65f6\u5220\u9664\u672a\u8ddf\u8e2a\u548c\u5ffd\u7565\u6587\u4ef6: `git clean -d -n -x`\\n\\n\u4ec5\u5220\u9664\u5ffd\u7565\u6587\u4ef6: `git clean -d -n -X`"},{"id":"/2022/03/01/spring-response-image","metadata":{"permalink":"/blog/2022/03/01/spring-response-image","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-03-01-spring-response-image.md","source":"@site/src/blog/2022-03-01-spring-response-image.md","title":"Spring \u54cd\u5e94\u56fe\u7247\u7b49\u5a92\u4f53\u6570\u636e","description":"via Returning Image/Media Data with Spring MVC","date":"2022-03-01T00:00:00.000Z","formattedDate":"March 1, 2022","tags":[{"label":"spring","permalink":"/blog/tags/spring"},{"label":"spring boot","permalink":"/blog/tags/spring-boot"},{"label":"java","permalink":"/blog/tags/java"}],"readingTime":2.26,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Spring \u54cd\u5e94\u56fe\u7247\u7b49\u5a92\u4f53\u6570\u636e","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["spring","spring boot","java"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Git \u5220\u9664\u672a\u8ddf\u8e2a\u6587\u4ef6","permalink":"/blog/2022/03/04/git-remove-untrack-files"},"nextItem":{"title":"VMware \u547d\u4ee4\u884c\u64cd\u4f5c\u865a\u62df\u673a","permalink":"/blog/2022/02/27/vmware-vmrun-cli"}},"content":"via [Returning Image/Media Data with Spring MVC](https://www.baeldung.com/spring-mvc-image-media-data)\\n\\n\u672c\u6587\u8ba8\u8bba\u5982\u4f55\u4f7f\u7528 Spring MVC \u6846\u67b6\u8fd4\u56de\u56fe\u7247\u6216\u8005\u5176\u4ed6\u5a92\u4f53\u6570\u636e.\\n\\n\x3c!--truncate--\x3e\\n\\n## \u4f7f\u7528 `HttpServletResponse`\\n\\n\u5b9e\u73b0\u56fe\u7247\u4e0b\u8f7d, \u6700\u57fa\u672c\u7684\u65b9\u5f0f\u662f\u901a\u8fc7 `response` \u5bf9\u8c61: \\n\\n```java\\nimport org.apache.commons.io.IOUtils;\\nimport org.springframework.http.MediaType;\\nimport org.springframework.web.bind.annotation.RequestMapping;\\nimport org.springframework.web.bind.annotation.RequestMethod;\\n\\nimport java.io.InputStream;\\nimport java.nio.file.Files;\\nimport java.nio.file.Paths;\\nimport javax.servlet.http.HttpServletResponse;\\n\\n@RequestMapping(value = \\"/image\\", method = RequestMethod.GET)\\npublic void image1(HttpServletResponse response) throws Exception {\\n    InputStream in = Files.newInputStream(Paths.get(\\"/Users/alan/workspace/temporary/test.png\\"));\\n    response.setContentType(MediaType.IMAGE_PNG_VALUE);\\n    IOUtils.copy(in, response.getOutputStream());\\n}\\n```\\n\\n\u7136\u540e\u4f7f\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee *http://localhost:8080/spring-mvc-xml/image-manual-response.jpg* \u4e0b\u8f7d.\\n\\n\u4e0a\u9762\u7684\u5b9e\u73b0, \u5229\u7528 *org.apache.commons.io* \u7684 `IOUtils` \u975e\u5e38\u7b80\u5355\u76f4\u63a5, \u7f3a\u70b9\u662f\u8fd9\u79cd\u65b9\u5f0f\u5bf9\u4e8e\u6f5c\u5728\u7684\u6539\u53d8\u7f3a\u5c11\u9c81\u68d2\u6027. mime\u7c7b\u578b\u4e5f\u662f\u786c\u7f16\u7801.\\n\\n\u4e0b\u9762\u8ba8\u8bba\u66f4\u52a0\u5f39\u6027\u7684\u65b9\u5f0f.\\n\\n## \u4f7f\u7528 `HttpMessageConverter`\\n\\n> **\u672c\u5730\u6ca1\u8dd1\u901a, \u5ffd\u7565**\\n\\n\u4e0b\u9762\u5229\u7528 Spring MVC \u6846\u67b6\u7684 [\u6d88\u606f\u8f6c\u6362](https://www.baeldung.com/spring-httpmessageconverter-rest) \u548c [\u5185\u5bb9\u534f\u5546](https://www.baeldung.com/spring-mvc-content-negotiation-json-xml) \u7279\u6027:\\n\\n* \u5728controller\u7684\u65b9\u6cd5\u4e0a\u4f7f\u7528 `@ResponseBody` \u6ce8\u89e3\\n* \u57fa\u4e8econtroller\u65b9\u6cd5\u7684\u8fd4\u56de\u7c7b\u578b, \u6ce8\u518c\u5408\u9002\u7684\u6d88\u606f\u8f6c\u6362\u5668(`ByteArrayHttpMessageConverter`)\\n\\n### \u914d\u7f6e\\n\\n\u4e3a\u4e86\u6f14\u793a\u8f6c\u6362\u5668\u7684\u914d\u7f6e, \u6211\u4eec\u4f7f\u7528\u5185\u7f6e\u7684 `ByteArrayHttpMessageConverter`, \u8be5\u8f6c\u6362\u5668\u8f6c\u6362\u65b9\u6cd5\u8fd4\u56de\u7684 `byte[]` \u7c7b\u578b.\\n\\n\u6846\u67b6\u9ed8\u8ba4\u6ce8\u518c\u4e86`ByteArrayHttpMessageConverter`, \u914d\u7f6e\u548c\u5176\u4ed6\u5185\u7f6e\u8f6c\u6362\u5668\u4e00\u6837.\\n\\n\u4e0b\u9762\u901a\u8fc7Java\u914d\u7f6e\u65b9\u5f0f\u6ce8\u518c\u6d88\u606f\u8f6c\u6362\u5668:\\n\\n```java title=\\"AppConfig.java\\"\\npackage com.alanwei.net.demo.config;\\n\\nimport org.springframework.context.annotation.Bean;\\nimport org.springframework.context.annotation.Configuration;\\nimport org.springframework.http.MediaType;\\nimport org.springframework.http.converter.ByteArrayHttpMessageConverter;\\nimport org.springframework.http.converter.HttpMessageConverter;\\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\\n\\nimport java.util.Arrays;\\nimport java.util.List;\\n\\n@Configuration\\npublic class AppConfig implements WebMvcConfigurer {\\n\\n    @Override\\n    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {\\n        converters.add(this.byteArrayHttpMessageConverter());\\n    }\\n    @Bean\\n    public ByteArrayHttpMessageConverter byteArrayHttpMessageConverter(){\\n        ByteArrayHttpMessageConverter converter = new ByteArrayHttpMessageConverter();\\n        converter.setSupportedMediaTypes(Arrays.asList(MediaType.IMAGE_JPEG, MediaType.IMAGE_PNG));\\n        return converter;\\n    }\\n}\\n```\\n\\n\u63a7\u5236\u5668\u65b9\u6cd5\u5982\u4e0b:\\n```java\\n@RequestMapping(value = \\"/image2\\", method = RequestMethod.GET)\\npublic @ResponseBody byte[] image2() throws Exception {\\n    InputStream in = Files.newInputStream(Paths.get(\\"/Users/alan/workspace/temporary/test.png\\"));\\n    return IOUtils.toByteArray(in);\\n}\\n```\\n\\n## \u4f7f\u7528 `ResponseEntity` \u7c7b\\n\\n\u63a7\u5236\u5668\u65b9\u6cd5\u53ef\u4ee5\u8fd4\u56de`ResponseEntity<byte[]>`\u7c7b\u578b\u7684\u6570\u636e. Spring MVC \u7684 `ResponseEntity` \u7c7b\u4e0d\u4ec5\u80fd\u63a7\u5236\u54cd\u5e94\u4f53\u5185\u5bb9, \u8fd8\u80fd\u63a7\u5236\u72b6\u6001\u7801\u548c\u54cd\u5e94\u5934:\\n\\n```java\\n@RequestMapping(value = \\"/image3\\", method = RequestMethod.GET)\\npublic ResponseEntity<byte[]> image3() throws Exception {\\n    byte[] data = Files.readAllBytes(Paths.get(\\"/Users/alan/workspace/temporary/test.png\\"));\\n    HttpHeaders headers = new HttpHeaders();\\n    headers.setContentType(MediaType.IMAGE_PNG);\\n    return new ResponseEntity<>(data, headers, HttpStatus.OK);\\n}\\n```"},{"id":"/2022/02/27/vmware-vmrun-cli","metadata":{"permalink":"/blog/2022/02/27/vmware-vmrun-cli","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-27-vmware-vmrun-cli.md","source":"@site/src/blog/2022-02-27-vmware-vmrun-cli.md","title":"VMware \u547d\u4ee4\u884c\u64cd\u4f5c\u865a\u62df\u673a","description":"\u4f7f\u7528\u547d\u4ee4\u884c vmrun \u64cd\u4f5c\u865a\u62df\u673a","date":"2022-02-27T00:00:00.000Z","formattedDate":"February 27, 2022","tags":[{"label":"vmware","permalink":"/blog/tags/vmware"},{"label":"vmrun","permalink":"/blog/tags/vmrun"}],"readingTime":1.455,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"VMware \u547d\u4ee4\u884c\u64cd\u4f5c\u865a\u62df\u673a","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vmware","vmrun"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Spring \u54cd\u5e94\u56fe\u7247\u7b49\u5a92\u4f53\u6570\u636e","permalink":"/blog/2022/03/01/spring-response-image"},"nextItem":{"title":"VMware Workstation Pro keys","permalink":"/blog/2022/02/27/vmware-workstation-pro-keys"}},"content":"\u4f7f\u7528\u547d\u4ee4\u884c `vmrun` \u64cd\u4f5c\u865a\u62df\u673a\\n\\n\x3c!--truncate--\x3e\\n\\n:::note\\nWindows\u73af\u5883, `vmrun` \u547d\u4ee4\u4e00\u822c\u5728 *C:\\\\Program Files\\\\VMware\\\\VMware Workstation\\\\vmrun* \u6216\u8005 *C:\\\\Program Files\\\\VMware\\\\VMware Workstation\\\\vmrun*\\n\\nmacOS \u6216\u8005 Linux \u4e00\u822c\u76f4\u63a5\u8f93\u5165 `vmrun` \u5373\u53ef.\\n:::\\n\\n\\n## \u547d\u4ee4\u53c2\u6570\\n\\n\u547d\u4ee4\u683c\u5f0f: `vmrun [AUTHENTICATION-FLAGS] COMMAND [PARAMETERS]`\\n\\n```\\nAUTHENTICATION-FLAGS\\n--------------------\\nThese must appear before the command and any command parameters.\\n\\n   -T <hostType> (ws|fusion||player)\\n   -vp <password for encrypted virtual machine>\\n   -gu <userName in guest OS>\\n   -gp <password in guest OS>\\n\\n\\n\\nPOWER COMMANDS           PARAMETERS           DESCRIPTION\\n--------------           ----------           -----------\\nstart                    Path to vmx file     Start a VM or Team\\n                         [gui|nogui]\\n\\nstop                     Path to vmx file     Stop a VM or Team\\n                         [hard|soft]\\n\\nreset                    Path to vmx file     Reset a VM or Team\\n                         [hard|soft]\\n\\nsuspend                  Path to vmx file     Suspend a VM or Team\\n                         [hard|soft]\\n\\npause                    Path to vmx file     Pause a VM\\n\\nunpause                  Path to vmx file     Unpause a VM\\n```\\n\\n\\n* `-T <hostType>` \u7528\u4e8e\u6307\u5b9a\u7269\u7406\u673a\u4f7f\u7528vmware\u8f6f\u4ef6, *ws* \u6307\u7684\u662f VMware Workstation, Windows\u548cLinux\u7269\u7406\u673a\u5b89\u88c5\u7684\u662f\u8fd9\u4e2a. VMware Fusion \u662fmacOS\u4f7f\u7528\u7684, player \u4ec5\u6307 VMWare Player(Windows, Linux\u548cmacOS\u90fd\u53ef\u4ee5\u5b89\u88c5).\\n\\n\\n## \u57fa\u7840\u547d\u4ee4\\n\\n### \u5217\u51fa\u8fd0\u884c\u7684\u865a\u62df\u673a\\n\\n```\\nvmrun list\\n\\nTotal running VMs: 1\\n/data/vmware/windows7/windows7x64.vmx\\n```\\n\\n\\n### \u542f\u52a8\u865a\u62df\u673a\\n\\n```bash\\nvmrun -T ws start \\"/data/vmware/windows7/windows7x64.vmx\\"\\n```\\n\\n### \u5173\u95ed\u865a\u62df\u673a\\n\\n```bash\\nvmrun -T ws stop \\"/data/vmware/windows7/windows7x64.vmx\\"\\n```\\n\\n### vmware tools\\n\\n```bash\\nvmrun installtools \\"/data/vmware/windows7/windows7x64.vmx\\"\\nvmrun checkToolsState \\"/data/vmware/windows7/windows7x64.vmx\\"\\n```\\n\\n### \u5220\u9664\u865a\u62df\u673a\\n\\n```bash\\nvmrun deleteVM \\"/data/vmware/windows7/windows7x64.vmx\\"\\n\\n```\\n\\n### \u5f00\u542f\u6587\u4ef6\u5939\u5171\u4eab\\n\\n```bash\\nvmrun -T ws enableSharedFolders \\"/data/vmware/windows7/windows7x64.vmx\\"\\n```"},{"id":"/2022/02/27/vmware-workstation-pro-keys","metadata":{"permalink":"/blog/2022/02/27/vmware-workstation-pro-keys","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-27-vmware-workstation-pro-keys.md","source":"@site/src/blog/2022-02-27-vmware-workstation-pro-keys.md","title":"VMware Workstation Pro keys","description":"VMware Workstation Pro 16 \u8bb8\u53ef\u8bc1\u5bc6\u94a5\uff0c\u6279\u91cf\u6c38\u4e45\u6fc0\u6d3b","date":"2022-02-27T00:00:00.000Z","formattedDate":"February 27, 2022","tags":[{"label":"vmware","permalink":"/blog/tags/vmware"}],"readingTime":0.1,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"VMware Workstation Pro keys","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vmware"],"description":"VMware Workstation Pro 16 \u8bb8\u53ef\u8bc1\u5bc6\u94a5\uff0c\u6279\u91cf\u6c38\u4e45\u6fc0\u6d3b","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"VMware \u547d\u4ee4\u884c\u64cd\u4f5c\u865a\u62df\u673a","permalink":"/blog/2022/02/27/vmware-vmrun-cli"},"nextItem":{"title":"VMware\u7684Windows\u865a\u62df\u673a\u4e2d\u56e0\u9a71\u52a8\u7b7e\u540d\u95ee\u9898\u65e0\u6cd5\u5b89\u88c5 VMware Tools","permalink":"/blog/2022/02/27/windows-vmware-tools-drive-fail"}},"content":"VMware Workstation Pro 16 \u8bb8\u53ef\u8bc1\u5bc6\u94a5\uff0c\u6279\u91cf\u6c38\u4e45\u6fc0\u6d3b: \\n* ZF3R0-FHED2-M80TY-8QYGC-NPKYF\\n* YF390-0HF8P-M81RQ-2DXQE-M2UT6\\n* ZF71R-DMX85-08DQY-8YMNC-PPHV8"},{"id":"/2022/02/27/windows-vmware-tools-drive-fail","metadata":{"permalink":"/blog/2022/02/27/windows-vmware-tools-drive-fail","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-27-windows-vmware-tools-drive-fail.md","source":"@site/src/blog/2022-02-27-windows-vmware-tools-drive-fail.md","title":"VMware\u7684Windows\u865a\u62df\u673a\u4e2d\u56e0\u9a71\u52a8\u7b7e\u540d\u95ee\u9898\u65e0\u6cd5\u5b89\u88c5 VMware Tools","description":"\u89e3\u51b3mac VMware Fusion\u5b89\u88c5vmware tools\u7070\u8272\u7684\u6559\u7a0b\u3002 Vmware Workstation 16 Pro\u201c\u5b89\u88c5\u7a0b\u5e8f\u65e0\u6cd5\u81ea\u52a8\u5b89\u88c5Virtual Machine Communication Interface(VMCI)\u9a71\u52a8\u7a0b\u5e8f\u3002\u5fc5\u987b\u624b\u52a8\u5b89\u88c5\u6b64\u9a71\u52a8\u7a0b\u5e8f\u3002\u201d","date":"2022-02-27T00:00:00.000Z","formattedDate":"February 27, 2022","tags":[{"label":"vmware","permalink":"/blog/tags/vmware"}],"readingTime":2.89,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"VMware\u7684Windows\u865a\u62df\u673a\u4e2d\u56e0\u9a71\u52a8\u7b7e\u540d\u95ee\u9898\u65e0\u6cd5\u5b89\u88c5 VMware Tools","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vmware"],"draft":false,"hide_table_of_contents":false,"description":"\u89e3\u51b3mac VMware Fusion\u5b89\u88c5vmware tools\u7070\u8272\u7684\u6559\u7a0b\u3002 Vmware Workstation 16 Pro\u201c\u5b89\u88c5\u7a0b\u5e8f\u65e0\u6cd5\u81ea\u52a8\u5b89\u88c5Virtual Machine Communication Interface(VMCI)\u9a71\u52a8\u7a0b\u5e8f\u3002\u5fc5\u987b\u624b\u52a8\u5b89\u88c5\u6b64\u9a71\u52a8\u7a0b\u5e8f\u3002\u201d"},"prevItem":{"title":"VMware Workstation Pro keys","permalink":"/blog/2022/02/27/vmware-workstation-pro-keys"},"nextItem":{"title":"Dockerfile \u5e38\u7528\u6307\u4ee4\u4ecb\u7ecd","permalink":"/blog/2022/02/26/docker-dockerfile-intro"}},"content":"## \u539f\u6587\\n\\n> \u7248\u6743\u58f0\u660e\uff1a\u672c\u6587\u4e3aCSDN\u535a\u4e3b\u300c\u51b7\u96e8\u5e7d\u68a6\u300d\u7684\u539f\u521b\u6587\u7ae0\uff0c\u9075\u5faaCC 4.0 BY-SA\u7248\u6743\u534f\u8bae\uff0c\u8f6c\u8f7d\u8bf7\u9644\u4e0a\u539f\u6587\u51fa\u5904\u94fe\u63a5\u53ca\u672c\u58f0\u660e\u3002\\n> \u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/CurtainWei/article/details/115416423\\n\\n### \u95ee\u9898\u63cf\u8ff0\\n\\n\u5728Vmware Workstation 16 Pro\u4e2d\u7b80\u6613\u5b89\u88c5Windows 7 SP1\u540e\uff0c\u65e0\u6cd5\u5b89\u88c5VMware Tools\uff0c\u63d0\u793a\u201c\u5b89\u88c5\u7a0b\u5e8f\u65e0\u6cd5\u81ea\u52a8\u5b89\u88c5Virtual Machine Communication Interface(VMCI)\u9a71\u52a8\u7a0b\u5e8f\u3002\u5fc5\u987b\u624b\u52a8\u5b89\u88c5\u6b64\u9a71\u52a8\u7a0b\u5e8f\u3002\u201d\\n\\n\x3c!--truncate--\x3e\\n\\n![\u65e0\u6cd5\u5b89\u88c5\u9a71\u52a8\u622a\u56fe](https://img-blog.csdnimg.cn/20210403151232182.png)\\n\\n### \u95ee\u9898\u5206\u6790\\n\\n[VMware Tools upgrade fails on Windows without SHA-2 code signing support (78708)](https://kb.vmware.com/s/article/78708)\\n\\n\u539f\u6765\uff0c\u5fae\u8f6f\u66f4\u65b0\u4e86\u9a71\u52a8\u7a0b\u5e8f\u7684\u7b7e\u540d\u7b97\u6cd5\uff0c\u4ece 2019 \u5e74\u521d\u5f00\u59cb\uff0c\u9010\u6b65\u5f03\u7528SHA-1\uff0c\u6539\u4e3aSHA-2\u3002\u4e2a\u4eba\u63a8\u6d4b\u65b0\u7248\u7684VMCI\u9a71\u52a8\u7528\u7684\u662fSHA-2\u7b7e\u540d\uff0c\u800cwin7\u4e0d\u652f\u6301SHA-2\u7b7e\u540d\uff0c\u6240\u4ee5\u51fa\u73b0\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\\n\u4e0d\u8fc7\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b89\u88c5\u8865\u4e01\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\\n\\n[\u9488\u5bf9 Windows \u548c WSUS \u7684 2019 SHA-2 \u4ee3\u7801\u7b7e\u540d\u652f\u6301\u8981\u6c42](https://support.microsoft.com/zh-cn/topic/%E9%92%88%E5%AF%B9-windows-%E5%92%8C-wsus-%E7%9A%84-2019-sha-2-%E4%BB%A3%E7%A0%81%E7%AD%BE%E5%90%8D%E6%94%AF%E6%8C%81%E8%A6%81%E6%B1%82-64d1c82d-31ee-c273-3930-69a4cde8e64f)\\n\\n### \u89e3\u51b3\u65b9\u6848\\n\\n\u53ef\u4ee5\u4eceMicrosoft Update Catalog\u4e0b\u8f7dKB4474419\u548c KB4490628\u8fd9\u4e24\u4e2a\u8865\u4e01\uff0c\u7136\u540e\u5b89\u88c5\u5230win7\u865a\u62df\u673a\u4e2d\u3002\u5728\u6ca1\u6709\u6210\u529f\u5b89\u88c5VMware Tools\u7684\u60c5\u51b5\u4e0b\uff0c\u4f20\u6587\u4ef6\u4e0d\u592a\u65b9\u4fbf\uff0c\u53ef\u4ee5\u7528\u865a\u62df\u673a\u91cc\u6d4f\u89c8\u5668\u8bbf\u95ee\u4e0b\u8f7d\u9875\u9762\uff0c\u7136\u540e\u76f4\u63a5\u5728\u865a\u62df\u673a\u91cc\u4e0b\u8f7d\u5b89\u88c5\u3002\\n\\n**\u4e0b\u8f7d\u5730\u5740** \\n\\n* [KB4474419](https://www.catalog.update.microsoft.com/search.aspx?q=kb4474419)\\n  * [2019-09 Security Update for Windows 7 for x64-based Systems (KB4474419)](http://download.windowsupdate.com/c/msdownload/update/software/secu/2019/09/windows6.1-kb4474419-v3-x64_b5614c6cea5cb4e198717789633dca16308ef79c.msu)\\n  * [2019-09 Security Update for Windows 7 for x86-based Systems (KB4474419)](http://download.windowsupdate.com/c/msdownload/update/software/secu/2019/09/windows6.1-kb4474419-v3-x86_0f687d50402790f340087c576886501b3223bec6.msu)\\n* [KB4490628](https://www.catalog.update.microsoft.com/search.aspx?q=4490628)\\n  * [2019-03 Servicing Stack Update for Windows 7 for x64-based Systems (KB4490628)](http://download.windowsupdate.com/c/msdownload/update/software/secu/2019/03/windows6.1-kb4490628-x64_d3de52d6987f7c8bdc2c015dca69eac96047c76e.msu)\\n  * [2019-03 Servicing Stack Update for Windows 7 for x86-based Systems (KB4490628)](http://download.windowsupdate.com/c/msdownload/update/software/secu/2019/03/windows6.1-kb4490628-x86_3cdb3df55b9cd7ef7fcb24fc4e237ea287ad0992.msu)\\n\\n\u5b89\u88c5\u8865\u4e01\u540e\uff0c\u91cd\u542f\u865a\u62df\u673a\uff0c\u7136\u540e\u91cd\u65b0VMware Tools\u5373\u53ef\u3002\\n\\n2021-6-2\u66f4\u65b0: \u8bc4\u8bba\u533a\u6709\u5c0f\u4f19\u4f34\u8bf4\u5728\u865a\u62df\u673a\u91cc\u4e0b\u8f7d\u4e0d\u592a\u65b9\u4fbf\uff0c\u6211\u5df2\u7ecf\u628a\u8865\u4e01\u4e0b\u8f7d\u4e0b\u6765\u505a\u6210iso\u6587\u4ef6\u5566\uff0c\u53ef\u4ee5\u76f4\u63a5\u52a0\u8f7d\u5230\u865a\u62df\u673a\u7684\u5149\u9a71\u91cc\u54e6\\niso\u6587\u4ef6\u4e0b\u8f7d\u5730\u5740: \\n\\n* \u5929\u7ffc\u4e91\u76d8 https://cloud.189.cn/t/7jqiiav2Ib2m \uff08\u8bbf\u95ee\u7801\uff1aiwi3\uff09\\n* \u66f2\u5947\u4e91\u76d8 https://quqi.gblhgk.com/s/2902308/zDN2UFaJiJ9sL0Gt \uff08\u67e5\u9605\u7801 \uff1aYWWJkd\uff09\\n\\n## \u535a\u4e3b\u5907\u6ce8\\n\\n### ISO \u5176\u4ed6\u7f51\u76d8\u4e0b\u8f7d\u94fe\u63a5\\n\\n* \u548c\u5f69\u4e91\u5206\u4eab \u94fe\u63a5: https://caiyun.139.com/m/i?175Cksk3bZ0PL  \u63d0\u53d6\u7801:72Cr  \u590d\u5236\u5185\u5bb9\u6253\u5f00\u548c\u5f69\u4e91\u624b\u673aAPP\uff0c\u64cd\u4f5c\u66f4\u65b9\u4fbf\u54e6\\n* \u963f\u91cc\u4e91\u76d8 https://www.aliyundrive.com/s/N29hfJ2LQ62\\n\\n### Install VMwarel Tools \u7070\u8272\u4e0d\u53ef\u70b9\u51fb\\n\\n\u5b89\u88c5\u5b8c\u9a71\u52a8, \u91cd\u542f\u865a\u62df\u673a\u4e4b\u540e\u5982\u679c\u8fd8\u662f\u65e0\u6cd5\u5b89\u88c5 Tools, \u53ef\u4ee5\u624b\u52a8\u5c06\u865a\u62df\u673a\u7684 **CD/DVD** \u6307\u5411 **/Applications/VMware Fusion.app/Contents/Library/isoimages/windows.iso**.\\n\\n> \u53c2\u8003 [\u89e3\u51b3mac VMware Fusion\u5b89\u88c5vmware tools\u7070\u8272\u7684\u6559\u7a0b](https://www.jingxialai.com/3809.html)"},{"id":"/2022/02/26/docker-dockerfile-intro","metadata":{"permalink":"/blog/2022/02/26/docker-dockerfile-intro","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-26-docker-dockerfile-intro.md","source":"@site/src/blog/2022-02-26-docker-dockerfile-intro.md","title":"Dockerfile \u5e38\u7528\u6307\u4ee4\u4ecb\u7ecd","description":"Dockerfile\u5e38\u7528\u6307\u4ee4\u4ecb\u7ecd","date":"2022-02-26T00:00:00.000Z","formattedDate":"February 26, 2022","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"dockerfile","permalink":"/blog/tags/dockerfile"}],"readingTime":3.345,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Dockerfile \u5e38\u7528\u6307\u4ee4\u4ecb\u7ecd","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["docker","dockerfile"],"description":"Dockerfile\u5e38\u7528\u6307\u4ee4\u4ecb\u7ecd","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"VMware\u7684Windows\u865a\u62df\u673a\u4e2d\u56e0\u9a71\u52a8\u7b7e\u540d\u95ee\u9898\u65e0\u6cd5\u5b89\u88c5 VMware Tools","permalink":"/blog/2022/02/27/windows-vmware-tools-drive-fail"},"nextItem":{"title":"\u89e3\u51b3IDEA\u4f7f\u7528\u4f4e\u7248\u672clombok\u6ca1\u6709get/set\u65b9\u6cd5\u95ee\u9898","permalink":"/blog/2022/02/24/idea-lombok"}},"content":"\u5e38\u7528`Dockerfile`\u6587\u4ef6\u6307\u4ee4\u4ecb\u7ecd\\n\\n## ARG\\n\\n* [Dockerfile Reference - ARG](https://docs.docker.com/engine/reference/builder/#arg)\\n* [Docker \u2013 ARG Instruction](https://www.geeksforgeeks.org/docker-arg-instruction/)\\n* [Run Docker as a non-root user](https://www.thegeekdiary.com/run-docker-as-a-non-root-user/)\\n\\nDockerfile\u4e2d\u7684`ARG`\u6307\u4ee4\u7528\u4e8e\u5b9a\u4e49\u7528\u6237\u53d8\u91cf, \u8fd9\u4e9b\u53d8\u91cf\u5728\u7528\u6237\u6784\u5efa\u955c\u50cf(`docker build`)\u7684\u65f6\u5019\u4f7f\u7528`--build-arg <var_name>=<value>`\u53ef\u4ee5\u4fee\u6539, \u901a\u8fc7\u955c\u50cf\u521b\u5efa\u5bb9\u5668\u7684\u7cfb\u7edf\u4e2d, \u662f\u65e0\u6cd5\u8bbf\u95ee\u5230\u8fd9\u4e9b\u53d8\u91cf\u7684. \u4e5f\u5c31\u662f\u8bf4`ARG`\u5b9a\u4e49\u7684\u53d8\u91cf, \u4ec5\u5728\u6784\u5efa\u9636\u6bb5\u8d77\u4f5c\u7528. \u5982\u679c\u4f7f\u7528`docker build --build-arg` \u4f7f\u7528\u4e86\u5728 `Dockerfile`\u4e2d\u672a\u5b9a\u4e49\u7684\u53c2\u6570, \u5728\u6784\u5efa\u7684\u65f6\u5019\u4f1a\u8f93\u51fa\u8b66\u544a.\\n\\n### \u793a\u4f8b\\n\\n\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b, \u5728\u6784\u5efa\u955c\u50cf\u7684\u65f6\u5019\u53ef\u4ee5\u4fee\u6539\u955c\u50cf\u91cc\u7684\u7528\u6237\u540d: \\n\\n```dockerfile title=\\"Dockerfile\\"\\nFROM alanway/code-server:latest\\n\\nEXPOSE 80\\n\\n# \u8bbe\u7f6e\u4e24\u4e2a\u53d8\u91cf\\nARG USER=editor\\nARG USER_ID=1000\\n\\n# 1. \u521b\u5efa\u7528\u6237\\n# 2. \u521b\u5efa /app \u76ee\u5f55\\n# 3. \u4fee\u6539 /app \u76ee\u5f55\u6240\u6709\u8005, \u5982\u679c\u4e0d\u4fee\u6539, \u521b\u5efa\u7684\u7528\u6237\u5bf9 /app \u76ee\u5f55\u6ca1\u6709\u8bfb\u5199\u6743\u9650\\nRUN useradd --create-home --uid $USER_ID --user-group --shell /bin/bash $USER \\\\\\n    && mkdir /app \\\\\\n    && chown $USER:$USER /app\\n\\n# \u8bbe\u7f6e\u955c\u50cf\u7684\u5f53\u524d\u7528\u6237\\nUSER $USER\\n\\nWORKDIR /app\\n# \u62f7\u8d1d\u6587\u4ef6\u7684\u9ed8\u8ba4\u6240\u6709\u8005\u4e3aroot, \u52a0\u4e0a --chown=$USER \u4fee\u6539\u6587\u4ef6\u6240\u6709\u8005\u4e3a\u4e0a\u9762\u65b0\u521b\u5efa\u7684\u7528\u6237\\nCOPY --chown=$USER ./src ./\\n```\\n\\n\u5f00\u59cb\u6784\u5efa\\n\\n```bash title=\\"build.sh\\"\\ndocker build --file Dockerfile --tag blog-editor --build-arg USER=alan ./\\n```\\n\\n:::warning\\n\u4e0d\u63a8\u8350\u5728\u955c\u50cf\u6784\u5efa\u9636\u6bb5\u4f20\u9012\u5b89\u5168\u5bc6\u94a5\u4fe1\u606f(\u6bd4\u5982github keys, user credentials\u7b49). \u6784\u5efa\u9636\u6bb5\u7684\u53d8\u91cf\u5bf9\u7528\u6237\u662f\u53ef\u89c1\u7684, \u4f7f\u7528`docker history`\u547d\u4ee4\u5373\u53ef\u770b\u5230\u6784\u5efa\u65f6\u7684\u53d8\u91cf.\\n:::\\n\\n### Dockerfile\u9884\u7f6e ARG\\n\\nDocker\u63d0\u4f9b\u4e86\u4e00\u6279\u9884\u5148\u5b9a\u4e49\u7684`ARG`, \u65e0\u9700\u5728Dockerfile\u4e2d\u5b9a\u4e49\u5373\u53ef\u4f7f\u7528:\\n\\n* HTTP_PROXY\\n* http_proxy\\n* HTTPS_PROXY\\n* https_proxy\\n* FTP_PROXY\\n* ftp_proxy\\n* NO_PROXY\\n* no_proxy\\n\\n\u76f4\u63a5\u4f7f\u7528 `--build-arg` \u6807\u8bc6\u5373\u53ef\u4f7f\u7528: `docker build --build-arg HTTPS_PROXY=https://my-proxy.example.com .`\\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b, \u4e0a\u9762\u9884\u7f6e\u7684\u6307\u4ee4\u5728`docker history`\u547d\u4ee4\u4e2d\u662f\u4e0d\u4f1a\u8f93\u51fa\u7684, \u8fd9\u6837\u505a\u662f\u4e3a\u4e86\u51cf\u5c11\u7c7b\u4f3c\u4e0b\u9762\u4f7f\u7528\u65b9\u5f0f\u5e26\u6765\u7684\u5b89\u5168\u98ce\u9669:\\n```bash\\ndocker build --build-arg HTTP_PROXY=http://user:pass@proxy.lon.example.com ./\\n```\\n\u4e0a\u9762\u7684 `HTTP_PROXY` \u53c2\u6570\u503c\u6709\u654f\u611f\u4fe1\u606f, \u4f7f\u7528 `docker history` \u662f\u65e0\u6cd5\u770b\u5230\u8fd9\u4e2a\u654f\u611f\u4fe1\u606f\u7684. \u5982\u679c\u4e0a\u8ff0`ARG`\u5728`docker history`\u4e2d\u51fa\u73b0, \u53ef\u4ee5\u5728Dockerfile\u4e2d\u58f0\u660e\u4e00\u6b21:\\n\\n```dockerfile title=\\"Dockerfile\\"\\nFROM ubuntu\\n\\nARG HTTP_PROXY\\n```\\n\\n## ENV\\n\\n`ENV`\u6307\u4ee4\u53ef\u4ee5\u7528\u6765\u5b9a\u4e49\u7cfb\u7edf\u73af\u5883\u53d8\u91cf, \u8fd9\u4e9b\u53d8\u91cf\u53ef\u4ee5\u5728\u521b\u5efa\u5bb9\u5668(`docker run`)\u7684\u65f6\u5019\u4f7f\u7528`-e`\u53c2\u6570\u4fee\u6539\u73af\u5883\u53d8\u91cf. \u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u5728\u5bb9\u5668\u542f\u52a8\u540e\u4ecd\u7136\u53ef\u4ee5\u8bbf\u95ee.\\n\\n**\u683c\u5f0f\u5982\u4e0b**\\n\\n```dockerfile\\nENV <key>=<value> ...\\n```\\n\\n### \u793a\u4f8b\\n\\n```dockerfile title=\\"Dockerfile\\"\\nFROM ubuntu\\n\\nENV TZ=Asia/Shanghai\\nENV MY_NAME=\\"John Doe\\"\\nENV MY_DOG=Rex\\\\ The\\\\ Dog\\nENV MY_CAT=fluffy\\n```\\n\\n\u53ef\u4ee5\u4f7f\u7528 `docker inspect` \u67e5\u770b\u73af\u5883\u53d8\u91cf\u7684\u503c, \u5728`docker run`\u521b\u5efa\u5bb9\u5668\u7684\u65f6\u5019\u4f7f\u7528`--env` \u4fee\u6539\u73af\u5883\u53d8\u91cf\u7684\u503c:\\n```bash\\ndocker run -it --rm --env TZ=test_value -e MY_NAME=\\"Alan Wei\\" ubuntu bash\\n```"},{"id":"/2022/02/24/idea-lombok","metadata":{"permalink":"/blog/2022/02/24/idea-lombok","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-24-idea-lombok.md","source":"@site/src/blog/2022-02-24-idea-lombok.md","title":"\u89e3\u51b3IDEA\u4f7f\u7528\u4f4e\u7248\u672clombok\u6ca1\u6709get/set\u65b9\u6cd5\u95ee\u9898","description":"\u4f9d\u6b21\u6253\u5f00IDEA\u8bbe\u7f6e:","date":"2022-02-24T00:00:00.000Z","formattedDate":"February 24, 2022","tags":[{"label":"idea","permalink":"/blog/tags/idea"},{"label":"lombok","permalink":"/blog/tags/lombok"}],"readingTime":0.34,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u89e3\u51b3IDEA\u4f7f\u7528\u4f4e\u7248\u672clombok\u6ca1\u6709get/set\u65b9\u6cd5\u95ee\u9898","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["idea","lombok"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Dockerfile \u5e38\u7528\u6307\u4ee4\u4ecb\u7ecd","permalink":"/blog/2022/02/26/docker-dockerfile-intro"},"nextItem":{"title":"Mock Retrofit http request","permalink":"/blog/2022/02/23/retrofit-mock-server"}},"content":"\u4f9d\u6b21\u6253\u5f00IDEA\u8bbe\u7f6e:\\n\\n`Settings > Build, Execution, Deployment > Compiler`\\n\\n\u7136\u540e\u5728 `Shared build process VM options` \u589e\u52a0 `-Djps.track.ap.dependencies=false` \u5373\u53ef.\\n\\n\u4e5f\u53ef\u4ee5\u9488\u5bf9\u9879\u76ee\u8bbe\u7f6e. \u539f\u7406\u5c31\u662f\u4f7f\u7528\u589e\u52a0JVM\u73af\u5883\u53d8\u91cf.\\n\\n\u5982\u679c\u8fd8\u672a\u751f\u6548, \u9700\u8981\u6267\u884c\u4ee5\u4e0b`mvn clean`\u547d\u4ee4\u6e05\u7406 *target*"},{"id":"/2022/02/23/retrofit-mock-server","metadata":{"permalink":"/blog/2022/02/23/retrofit-mock-server","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-23-retrofit-mock-server.md","source":"@site/src/blog/2022-02-23-retrofit-mock-server.md","title":"Mock Retrofit http request","description":"keywords:  mockwebserver retrofit","date":"2022-02-23T00:00:00.000Z","formattedDate":"February 23, 2022","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"retrofit","permalink":"/blog/tags/retrofit"},{"label":"spring boot","permalink":"/blog/tags/spring-boot"},{"label":"mock","permalink":"/blog/tags/mock"}],"readingTime":0.02,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Mock Retrofit http request","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["java","retrofit","spring boot","mock"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3IDEA\u4f7f\u7528\u4f4e\u7248\u672clombok\u6ca1\u6709get/set\u65b9\u6cd5\u95ee\u9898","permalink":"/blog/2022/02/24/idea-lombok"},"nextItem":{"title":"Flutter\u8fdc\u7a0b\u8c03\u8bd5Android\u8bbe\u5907","permalink":"/blog/2022/02/20/flutter-remote-debug-android-device"}},"content":"\x3c!--truncate--\x3e\\n\\nkeywords:  mockwebserver retrofit"},{"id":"/2022/02/20/flutter-remote-debug-android-device","metadata":{"permalink":"/blog/2022/02/20/flutter-remote-debug-android-device","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-20-flutter-remote-debug-android-device.md","source":"@site/src/blog/2022-02-20-flutter-remote-debug-android-device.md","title":"Flutter\u8fdc\u7a0b\u8c03\u8bd5Android\u8bbe\u5907","description":"Flutter\u8fdc\u7a0b\u65e0\u7ebf\u8c03\u8bd5 zAndroid App:","date":"2022-02-20T00:00:00.000Z","formattedDate":"February 20, 2022","tags":[{"label":"flutter","permalink":"/blog/tags/flutter"},{"label":"adb","permalink":"/blog/tags/adb"},{"label":"android","permalink":"/blog/tags/android"}],"readingTime":0.79,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Flutter\u8fdc\u7a0b\u8c03\u8bd5Android\u8bbe\u5907","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["flutter","adb","android"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Mock Retrofit http request","permalink":"/blog/2022/02/23/retrofit-mock-server"},"nextItem":{"title":"Dart Visual Studio Code \u63a8\u8350\u8bbe\u7f6e","permalink":"/blog/2022/02/19/dart-visual-studio-code-settings"}},"content":"Flutter\u8fdc\u7a0b\u65e0\u7ebf\u8c03\u8bd5 zAndroid App:\\n\\n1. \u624b\u673a\u53f7\u7535\u8111\u8981\u5728\u540c\u4e00\u65e0\u7ebf\u7f51\u7edc(SSID)\\n1. \u624b\u673a\u5f00\u542f\u5f00\u53d1\u8005\u6a21\u5f0f(\u4e00\u822c\u662f\u8fde\u7eed\u70b9\u51fbAndroid\u7248\u672c\u53f7\u6216\u8005MIUI\u7248\u672c\u53f7), \\n1. \u8fdb\u5165\u5f00\u53d1\u8005\u9009\u9879\u91cc, \u5f00\u542f **Wireless debugging** \u5e76\u8fdb\u5165\\n1. \u70b9\u51fb **Pair device with pairing code**, \u751f\u6210\u4e00\u4e2apair code, \u7136\u540e\u7535\u8111\u4e0a\u6267\u884c `adb pair [host]:[port] [pair code]` \u8fde\u63a5\u8bbe\u5907.(*adb*\u547d\u4ee4\u4f4d\u4e8e android sdk \u7684 *platform-tools* \u6587\u4ef6\u5939)\\n1. \u7ee7\u7eed\u6267\u884c `adb connect [host]:[port]`, \u8fd9\u91cc\u7684*host*\u548c*port*\u662f **Wireless debugging** \u8bbe\u7f6e\u91cc\u7684 **IP address & Port**\\n1. \u7136\u540e\u6267\u884c `flutter devices` \u5c31\u53ef\u4ee5\u770b\u5230\u8fde\u4e0a android \u8bbe\u5907.\\n\\n\\n> \u53c2\u8003 [Set Up Device for Development](https://docs.microsoft.com/en-us/xamarin/android/get-started/installation/set-up-device-for-development)"},{"id":"/2022/02/19/dart-visual-studio-code-settings","metadata":{"permalink":"/blog/2022/02/19/dart-visual-studio-code-settings","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-19-dart-visual-studio-code-settings.md","source":"@site/src/blog/2022-02-19-dart-visual-studio-code-settings.md","title":"Dart Visual Studio Code \u63a8\u8350\u8bbe\u7f6e","description":"Dart Visual Studio Code \u63a8\u8350\u8bbe\u7f6e","date":"2022-02-19T00:00:00.000Z","formattedDate":"February 19, 2022","tags":[{"label":"dart","permalink":"/blog/tags/dart"},{"label":"vsc","permalink":"/blog/tags/vsc"},{"label":"visual studio code","permalink":"/blog/tags/visual-studio-code"}],"readingTime":1.425,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Dart Visual Studio Code \u63a8\u8350\u8bbe\u7f6e","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["dart","vsc","visual studio code"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Flutter\u8fdc\u7a0b\u8c03\u8bd5Android\u8bbe\u5907","permalink":"/blog/2022/02/20/flutter-remote-debug-android-device"},"nextItem":{"title":"GitHub QA","permalink":"/blog/2022/02/18/github-qa"}},"content":"[Dart Visual Studio Code \u63a8\u8350\u8bbe\u7f6e](https://dartcode.org/docs/recommended-settings/)\\n\\n\x3c!--truncate--\x3e\\n\\n```json\\n{\\n\\t// Causes the debug view to automatically appear when a breakpoint is hit. This\\n\\t// setting is global and not configurable per-language.\\n\\t\\"debug.openDebug\\": \\"openOnDebugBreak\\",\\n\\n\\t\\"[dart]\\": {\\n\\t\\t// Automatically format code on save and during typing of certain characters\\n\\t\\t// (like `;` and `}`).\\n\\t\\t\\"editor.formatOnSave\\": true,\\n\\t\\t\\"editor.formatOnType\\": true,\\n\\n\\t\\t// Draw a guide line at 80 characters, where Dart\'s formatting will wrap code.\\n\\t\\t\\"editor.rulers\\": [80],\\n\\n\\t\\t// Disables built-in highlighting of words that match your selection. Without\\n\\t\\t// this, all instances of the selected text will be highlighted, interfering\\n\\t\\t// with Dart\'s ability to highlight only exact references to the selected variable.\\n\\t\\t\\"editor.selectionHighlight\\": false,\\n\\n\\t\\t// By default, VS Code prevents code completion from popping open when in\\n\\t\\t// \\"snippet mode\\" (editing placeholders in inserted code). Setting this option\\n\\t\\t// to `false` stops that and allows completion to open as normal, as if you\\n\\t\\t// weren\'t in a snippet placeholder.\\n\\t\\t\\"editor.suggest.snippetsPreventQuickSuggestions\\": false,\\n\\n\\t\\t// By default, VS Code will pre-select the most recently used item from code\\n\\t\\t// completion. This is usually not the most relevant item.\\n\\t\\t//\\n\\t\\t// \\"first\\" will always select top item\\n\\t\\t// \\"recentlyUsedByPrefix\\" will filter the recently used items based on the\\n\\t\\t//     text immediately preceding where completion was invoked.\\n\\t\\t\\"editor.suggestSelection\\": \\"first\\",\\n\\n\\t\\t// Allows pressing <TAB> to complete snippets such as `for` even when the\\n\\t\\t// completion list is not visible.\\n\\t\\t\\"editor.tabCompletion\\": \\"onlySnippets\\",\\n\\n\\t\\t// By default, VS Code will populate code completion with words found in the\\n\\t\\t// current file when a language service does not provide its own completions.\\n\\t\\t// This results in code completion suggesting words when editing comments and\\n\\t\\t// strings. This setting will prevent that.\\n\\t\\t\\"editor.wordBasedSuggestions\\": false,\\n\\t}\\n}\\n```"},{"id":"/2022/02/18/github-qa","metadata":{"permalink":"/blog/2022/02/18/github-qa","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-18-github-qa.md","source":"@site/src/blog/2022-02-18-github-qa.md","title":"GitHub QA","description":"GitHub \u4f7f\u7528\u4ecb\u7ecd","date":"2022-02-18T00:00:00.000Z","formattedDate":"February 18, 2022","tags":[{"label":"github","permalink":"/blog/tags/github"}],"readingTime":0.795,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"GitHub QA","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["github"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Dart Visual Studio Code \u63a8\u8350\u8bbe\u7f6e","permalink":"/blog/2022/02/19/dart-visual-studio-code-settings"},"nextItem":{"title":"Windows \u865a\u62df\u684c\u9762\u5feb\u6377\u952e","permalink":"/blog/2022/02/18/windows-virtual-desktop"}},"content":"GitHub \u4f7f\u7528\u4ecb\u7ecd\\n\\n\x3c!--truncate--\x3e\\n\\n## GitHub Action\\n\\n* [\u962e\u4e00\u5cf0 - GitHub Actions \u5165\u95e8\u6559\u7a0b](http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html)\\n\\n### \u83b7\u53d6\u5206\u652f\u540d\\n\\n[via How to get branch name on GitHub action?](https://stackoverflow.com/questions/60300169/how-to-get-branch-name-on-github-action)\\n\\nYou can create a step output of the last part of `GITHUB_REF` like the following:\\n\\n```yml\\non: push\\njobs:\\n  example:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v2\\n\\n      - name: Set output\\n        id: vars\\n        run: echo ::set-output name=short_ref::${GITHUB_REF#refs/*/}\\n\\n      - name: Check output\\n        run: echo ${{ steps.vars.outputs.short_ref }} # \u8fd9\u4e2a\u5730\u65b9\u5c31\u53ef\u4ee5\u62ff\u5230\u4e0a\u4e00\u6b65\u9aa4 vars \u521b\u5efa\u7684\u8f93\u51fa\u4e86\\n```\\n\\n### \u6dfb\u52a0Action\u5fbd\u7ae0\\n\\n[via Adding a workflow status badge](https://docs.github.com/en/actions/monitoring-and-troubleshooting-workflows/adding-a-workflow-status-badge)\\n\\n\u5fbd\u7ae0URL\u683c\u5f0f\u4e3a: `https://github.com/<OWNER>/<REPOSITORY>/actions/workflows/<WORKFLOW_FILE>/badge.svg`\\n\\n\u5047\u8bbe\u5de5\u4f5c\u6d41\u6587\u4ef6\u8def\u5f84\u4e3a `.github/workflows/main.yml`, \u4ed3\u5e93\u7684 `OWNER` \u4e3a `github` \u7ec4\u7ec7, `REPOSITORY` \u540d\u79f0\u4e3a `docs`, \u5176\u5fbd\u7ae0\u4e3a `https://github.com/github/docs/actions/workflows/main.yml/badge.svg`\\n\\n\u4e5f\u53ef\u4ee5\u52a0\u4e0a\u5206\u652f\u540d\u79f0: `https://github.com/github/docs/actions/workflows/main.yml/badge.svg?branch=feature-1`"},{"id":"/2022/02/18/windows-virtual-desktop","metadata":{"permalink":"/blog/2022/02/18/windows-virtual-desktop","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-18-windows-virtual-desktop.md","source":"@site/src/blog/2022-02-18-windows-virtual-desktop.md","title":"Windows \u865a\u62df\u684c\u9762\u5feb\u6377\u952e","description":"Windows \u865a\u62df\u684c\u9762\u5feb\u6377\u952e\u5217\u8868:","date":"2022-02-18T00:00:00.000Z","formattedDate":"February 18, 2022","tags":[{"label":"windows","permalink":"/blog/tags/windows"}],"readingTime":0.465,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Windows \u865a\u62df\u684c\u9762\u5feb\u6377\u952e","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["windows"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"GitHub QA","permalink":"/blog/2022/02/18/github-qa"},"nextItem":{"title":"\u89e3\u51b3Ubuntu\u4f7f\u7528dpkg\u5b89\u88c5deb\u8f6f\u4ef6\u5305\u63d0\u793a\u7f3a\u5c11\u4f9d\u8d56\u95ee\u9898","permalink":"/blog/2022/02/16/ubuntu-dpkg-install-dependency"}},"content":"Windows \u865a\u62df\u684c\u9762\u5feb\u6377\u952e\u5217\u8868:\\n\\n\x3c!--truncate--\x3e\\n\\n\\n* **Win + Tab**: \u6253\u5f00\u300c\u4efb\u52a1\u89c6\u56fe\u300d\uff0c\u76f8\u5f53\u4e8e\u70b9\u51fb\u300c\u53ef\u89c6\u5316\u5165\u53e3\u300d\u3002\\n* **Win + Ctrl + D**: \u521b\u5efa\u65b0\u7684\u865a\u62df\u684c\u9762\u3002\\n* **Win + Ctrl + F4**: \u5220\u9664\u5f53\u524d\u865a\u62df\u684c\u9762\u3002\\n* **Win + Ctrl + \u5de6\u952e**: \u5207\u6362\u5230\u76f8\u90bb\u5de6\u4fa7\u7684\u865a\u62df\u684c\u9762\u3002\\n* **Win + Ctrl + \u53f3\u952e**: \u5207\u6362\u5230\u76f8\u90bb\u53f3\u4fa7\u7684\u865a\u62df\u684c\u9762\u3002"},{"id":"/2022/02/16/ubuntu-dpkg-install-dependency","metadata":{"permalink":"/blog/2022/02/16/ubuntu-dpkg-install-dependency","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-16-ubuntu-dpkg-install-dependency.md","source":"@site/src/blog/2022-02-16-ubuntu-dpkg-install-dependency.md","title":"\u89e3\u51b3Ubuntu\u4f7f\u7528dpkg\u5b89\u88c5deb\u8f6f\u4ef6\u5305\u63d0\u793a\u7f3a\u5c11\u4f9d\u8d56\u95ee\u9898","description":"\u89e3\u51b3Ubuntu\u4f7f\u7528dpkg\u5b89\u88c5deb\u8f6f\u4ef6\u5305\u63d0\u793a\u7f3a\u5c11\u4f9d\u8d56\u95ee\u9898","date":"2022-02-16T00:00:00.000Z","formattedDate":"February 16, 2022","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ubuntu","permalink":"/blog/tags/ubuntu"}],"readingTime":0.5,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u89e3\u51b3Ubuntu\u4f7f\u7528dpkg\u5b89\u88c5deb\u8f6f\u4ef6\u5305\u63d0\u793a\u7f3a\u5c11\u4f9d\u8d56\u95ee\u9898","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["linux","ubuntu"],"description":"\u89e3\u51b3Ubuntu\u4f7f\u7528dpkg\u5b89\u88c5deb\u8f6f\u4ef6\u5305\u63d0\u793a\u7f3a\u5c11\u4f9d\u8d56\u95ee\u9898","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Windows \u865a\u62df\u684c\u9762\u5feb\u6377\u952e","permalink":"/blog/2022/02/18/windows-virtual-desktop"},"nextItem":{"title":"\u84b2\u516c\u82f1 X1 \u7b80\u4ecb","permalink":"/blog/2022/02/14/oray-box-intro"}},"content":"\u5982\u679c\u4f60\u4f7f\u7528 `dpkg -i xxx.deb` \u63d0\u793a\u7c7b\u4f3c\u4ee5\u4e0b\u4fe1\u606f:\\n\\n```\\ndpkg: dependency problems prevent configuration of nautilus-nutstore-public:\\n nautilus-nutstore-public depends on gir1.2-appindicator3-0.1 (>= 0.4.1); however:\\n  Package gir1.2-appindicator3-0.1 is not installed.\\n```\\n\\n\x3c!--truncate--\x3e\\n\\n\u53ef\u4ee5\u6267\u884c `sudo apt-get -f install` \u5b89\u88c5\u7f3a\u5931\u7684\u4f9d\u8d56.\\n\\n\u6216\u8005\u76f4\u63a5\u4f7f\u7528 `dpkg -f xxxx.deb` \u5b89\u88c5deb\u5305, `-f`\u53c2\u6570\u4f1a\u81ea\u52a8\u5b89\u88c5\u4f9d\u8d56.\\n\\n> \u53c2\u8003\\n> * [How to Install Dpkg dependencies automatically](https://fedingo.com/how-to-install-dpkg-dependencies-automatically/)\\n> * [How to Install Dependencies with Apt](https://fedingo.com/how-to-install-dependencies-with-apt)\\n> * [How to let dpkg Install Dependencies Automatically](https://linuxhint.com/install-dpkg-dependencies-automatically/)"},{"id":"/2022/02/14/oray-box-intro","metadata":{"permalink":"/blog/2022/02/14/oray-box-intro","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-14-oray-box-intro.md","source":"@site/src/blog/2022-02-14-oray-box-intro.md","title":"\u84b2\u516c\u82f1 X1 \u7b80\u4ecb","description":"\u8bb0\u5f55\u51e0\u4e2a\u7f51\u5740\uff0c\u65b9\u4fbf\u4ee5\u540e\u5fd8\u8bb0\u3002","date":"2022-02-14T00:00:00.000Z","formattedDate":"February 14, 2022","tags":[{"label":"oray","permalink":"/blog/tags/oray"}],"readingTime":0.565,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u84b2\u516c\u82f1 X1 \u7b80\u4ecb","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["oray"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3Ubuntu\u4f7f\u7528dpkg\u5b89\u88c5deb\u8f6f\u4ef6\u5305\u63d0\u793a\u7f3a\u5c11\u4f9d\u8d56\u95ee\u9898","permalink":"/blog/2022/02/16/ubuntu-dpkg-install-dependency"},"nextItem":{"title":"\u5bb9\u5668\u5185\u8bbf\u95ee\u7269\u7406\u7f51\u7edc","permalink":"/blog/2022/02/12/docker-connect-host"}},"content":"\u8bb0\u5f55\u51e0\u4e2a\u7f51\u5740\uff0c\u65b9\u4fbf\u4ee5\u540e\u5fd8\u8bb0\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u76d2\u5b50\u4f7f\u7528\u7f51\u7ebf\u8054\u7f51\u4e4b\u540e, \u4f7f\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee [https://pgybox.oray.com](https://pgybox.oray.com)(\u53c2\u8003 [\u84b2\u516c\u82f1X1 - \u8fdc\u7a0b\u8bbf\u95ee\u4e32\u53e3\u8bbe\u5907\u6307\u5357](https://service.oray.com/question/12146.html?icn=help_x1-serial&ici=guide_box-x1-serial)), \u9009\u62e9 *SN\u7801\u767b\u9646* (\u9ed8\u8ba4\u5bc6\u7801\u662f*admin*, SN\u5728\u8bbe\u5907\u4e0a\u67e5\u627e)\\n\\n![oray login](https://upload-cdn.orayimg.com/upload/help/2101/202101251530529541.png)\\n\\n\u767b\u9646\u5b8c\u6210\u4e4b\u540e, \u8fdb\u5230\u540e\u53f0\u7ed1\u5b9a\u81ea\u5df1\u7684\u84b2\u516c\u82f1\u8d26\u53f7. \u540e\u7eed\u5c31\u53ef\u4ee5\u5728[\u84b2\u516c\u82f1\u7f51\u7edc\u7ba1\u7406\u5e73\u53f0](https://console.sdwan.oray.com/smartNetwork?networkid=1550585)\u67e5\u770b\u7ec4\u7f51\u4fe1\u606f\u4e86."},{"id":"/2022/02/12/docker-connect-host","metadata":{"permalink":"/blog/2022/02/12/docker-connect-host","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-12-docker-connect-host.md","source":"@site/src/blog/2022-02-12-docker-connect-host.md","title":"\u5bb9\u5668\u5185\u8bbf\u95ee\u7269\u7406\u7f51\u7edc","description":"\u6982\u8ff0","date":"2022-02-12T00:00:00.000Z","formattedDate":"February 12, 2022","tags":[{"label":"docker","permalink":"/blog/tags/docker"}],"readingTime":2.625,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u5bb9\u5668\u5185\u8bbf\u95ee\u7269\u7406\u7f51\u7edc","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["docker"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u84b2\u516c\u82f1 X1 \u7b80\u4ecb","permalink":"/blog/2022/02/14/oray-box-intro"},"nextItem":{"title":"\u5b89\u88c5\u6216\u5378\u8f7d Docker","permalink":"/blog/2022/02/12/install-docker"}},"content":"## \u6982\u8ff0\\n\\n\u5982\u679c\u5b89\u88c5\u7684\u662f\u6700\u65b0\u7248\u7684 Docker, \u5728\u5bb9\u5668\u5185\u90e8\u76f4\u63a5\u4f7f\u7528 `host.docker.internal` \u5373\u53ef\u8bbf\u95ee\u4e3b\u673a\u7f51\u7edc, \u6bd4\u5982\u5728\u5bb9\u5668\u6267\u884c `curl http://host.docker.internal:8080` \u5373\u53ef\u8bbf\u95ee\u4e3b\u673a\u7684*8080*\u7aef\u53e3. (\u5bf9\u4e8eLinux\u73af\u5883, \u521b\u5efa\u5bb9\u5668\u65f6\u9700\u8981\u589e\u52a0`--add-host=host.docker.internal:host-gateway`\u53c2\u6570)\\n\\n\x3c!--truncate--\x3e\\n\\n## How to access host port from docker container\\n\\n\u53c2\u8003: [How to access host port from docker container](https://stackoverflow.com/questions/31324981/how-to-access-host-port-from-docker-container)\\n\\n### Linux\\n\\nDocker v20.10\u53ca\u4ee5\u4e0a\u7248\u672c\\n\\n\u5728Linux\u73af\u5883\uff0c\u6267\u884cdocker\u547d\u4ee4\u65f6\uff0c\u589e\u52a0`--add-host=host.docker.internal:host-gateway`\u53c2\u6570\u5f00\u542f\u6b64\u7279\u6027(Docker Compose \u914d\u7f6e\u5982\u4e0b)\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u5728\u5bb9\u5668\u5185\u90e8\u4f7f `host.docker.internal` \u8bbf\u95ee\u4e3b\u673a\u7f51\u7edc(\u53ef\u4f7f\u7528 `cat /etc/hosts` \u67e5\u770b\u6b64\u53c2\u6570\u589e\u52a0\u7684DNS\u89e3\u6790\u8bb0\u5f55)\u3002\\n\\n```yml title=\\"\u7b49\u4ef7\u7684Docker Compose\u914d\u7f6e\\"\\nextra_hosts:\\n- \\"host.docker.internal:host-gateway\\"\\n```\\n\\n### macOS \u548c Windows\\n\\nDocker v18.03\u53ca\u4ee5\u4e0a\u7248\u672c\\n\\n\u76f4\u63a5\u4f7f\u7528 `host.docker.internal` \u5373\u53ef\u8bbf\u95ee\u4e3b\u673a\u7f51\u7edc\u3002(\u8be5DNS Name\uff0cLinux\u9ed8\u8ba4\u5c1a\u4e0d\u652f\u6301\uff0c\u8fdb\u5ea6\u53c2\u8003 https://github.com/docker/for-linux/issues/264 )\\n\\nmacOS\u4f4e\u7248\u672c\u5c1d\u8bd5\u4f7f\u7528 `docker.for.mac.host.internal` \u6216\u8005 `docker.for.mac.localhost`.\\n\\n\\n## I want to connect from a container to a service on the host\\n\\n\u7ffb\u8bd1\u81ea [I want to connect from a container to a service on the host](https://docs.docker.com/desktop/mac/networking/)\\n\\n\u4e3b\u673a(host)\u7684IP\u662f\u52a8\u6001\u7684(\u6216\u8005\u6ca1\u6709\u7f51\u7edc\u8bbf\u95ee). \u6211\u4eec\u5efa\u8bae\u4f60(\u5bb9\u5668\u5185)\u8bbf\u95ee\u7279\u5b9a\u7684DNS\u540d\u79f0: `host.docker.internal`, \u8fd9\u4e2aDNS\u540d\u4f1a\u88ab\u89e3\u6790\u6210\u4e3b\u673a(host)IP\u5730\u5740. \u8fd9\u662f\u4e3a\u4e86\u65b9\u4fbf\u5f00\u53d1, \u6240\u4ee5\u5728\u975eMac\u7248Docker\u7684\u751f\u4ea7\u73af\u5883\u4e0d\u53ef\u7528.\\n\\n\u4f60\u4e5f\u53ef\u4ee5\u5728\u5bb9\u5668\u5185\u90e8\u4f7f\u7528DNS\u540d`gateway.docker.internal`\u8bbf\u95ee\u7f51\u5173(gateway)\\n\\n\u5047\u5982\u4f60\u7684\u7269\u7406\u673a\u5668\u5b89\u88c5\u4e86python, \u4f7f\u7528\u4e0b\u9762\u7684\u6307\u4ee4\u4f5c\u4e3a\u4f8b\u5b50, \u5728\u5bb9\u5668\u91cc\u8bbf\u95ee\u4e3b\u673a(host)\u670d\u52a1.\\n\\n1. \u5728\u4e3b\u673a(host)\u4e0a\u4f7f\u7528`python -m http.server 8000`\u521b\u5efa\u4e00\u4e2a\u76d1\u542c*8000*\u7aef\u53e3\u7684web\u670d\u52a1\\n2. \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u5bb9\u5668, \u5e76\u501f\u52a9`curl`\u547d\u4ee4\u8bbf\u95ee\u7b2c\u4e00\u6b65\u5728\u4e3b\u673a\u521b\u5efa\u7684web\u670d\u52a1:\\n```bash\\ndocker run --rm -it alpine sh\\napk add curl\\ncurl http://host.docker.internal:8000\\n```\\n\\n:::note\\n\u5982\u679c\u5bb9\u5668\u5185\u90e8\u65e0\u6cd5\u8bbf\u95ee `curl http://host.docker.internal:8000`, \u6709\u53ef\u80fd\u662f\u9632\u706b\u5899\u9650\u5236\u4e868000\u7aef\u53e3\u7684\u8bbf\u95ee, \u5bf9\u4e8e\u652f\u6301`ufw`\u547d\u4ee4\u7684Linux\u7cfb\u7edf, \u53ef\u4ee5\u5728\u4e3b\u673a(host machine)\u4f7f\u7528\u547d\u4ee4 `ufw allow 8000` \u5f00\u653e *8000* \u7aef\u53e3\u7684\u8bbf\u95ee, `ufw`\u547d\u4ee4\u53c2\u8003[UFW allow port range \u2013 How we do it?](https://bobcares.com/blog/ufw-allow-port-range/).\\n:::"},{"id":"/2022/02/12/install-docker","metadata":{"permalink":"/blog/2022/02/12/install-docker","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-12-install-docker.md","source":"@site/src/blog/2022-02-12-install-docker.md","title":"\u5b89\u88c5\u6216\u5378\u8f7d Docker","description":"\u5b89\u88c5\u6216\u8005\u5378\u8f7dDocker.","date":"2022-02-12T00:00:00.000Z","formattedDate":"February 12, 2022","tags":[{"label":"docker","permalink":"/blog/tags/docker"}],"readingTime":1.935,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u5b89\u88c5\u6216\u5378\u8f7d Docker","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["docker"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5bb9\u5668\u5185\u8bbf\u95ee\u7269\u7406\u7f51\u7edc","permalink":"/blog/2022/02/12/docker-connect-host"},"nextItem":{"title":"Linux\u542f\u52a8\u81ea\u52a8\u6267\u884c\u7279\u5b9a\u811a\u672c","permalink":"/blog/2022/02/12/linux-startup-script-crontab"}},"content":"\u5b89\u88c5\u6216\u8005\u5378\u8f7dDocker.\\n\\n\x3c!--truncate--\x3e\\n\\n## CentOS \u5b89\u88c5\\n\\n> \u53c2\u8003: \\n> [How to Upgrade Docker on CentOS](https://linoxide.com/upgrade-docker-fedora-centos/)\\n\\n```bash\\n# \u5982\u679c\u7cfb\u7edf\u4e0a\u5df2\u7ecf\u5b89\u88c5, \u5148\u5378\u8f7d Docker\\n# yum remove docker docker-common docker-selinux docker-engine\\n\\n# Install required packages\\nyum install -y yum-utils device-mapper-persistent-data lvm2\\n# Use the following command to set up the stable repository \\nyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo # \u589e\u52a0\u4ed3\u5e93\\n# Install the latest version of Docker CE and containerd\\nyum install docker-ce docker-ce-cli containerd.io -y\\n```\\n\\n## Ubuntu \u5b89\u88c5 \\n\\n```bash\\n# \u5982\u679c\u4f60\u8fc7\u53bb\u5b89\u88c5\u8fc7 docker\uff0c\u5148\u5220\u6389\\n# apt-get remove docker docker-engine docker.io\\n\\n# Update the apt package index\\napt-get update\\n\\n# Install packages to allow apt to use a repository over HTTPS\\napt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common -y\\n\\n# Add Docker\u2019s official GPG key\\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\\napt-key fingerprint 0EBFCD88\\n\\n# Set up the stable repository\\nadd-apt-repository \\"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\\"\\napt-get update\\n\\n# install\\napt-get install docker-ce docker-ce-cli containerd.io -y\\n```\\n\\n\\n## \u6e05\u534e\u5927\u5b66\u5f00\u6e90\u955c\u50cf\\n\\n> \u53c2\u8003 [Docker Community Edition \u955c\u50cf\u4f7f\u7528\u5e2e\u52a9](https://mirrors.tuna.tsinghua.edu.cn/help/docker-ce/)\\n\\n### CentOS\\n\\n\\n```bash\\n# \u5982\u679c\u4f60\u4e4b\u524d\u5b89\u88c5\u8fc7 docker\uff0c\u8bf7\u5148\u5220\u6389\\nyum remove docker docker-common docker-selinux docker-engine\\n\\n# \u5b89\u88c5\u4f9d\u8d56\\nyum install -y yum-utils device-mapper-persistent-data lvm2 wget\\n\\n# \u4e0b\u8f7drepo\u6587\u4ef6\\nwget -O /etc/yum.repos.d/docker-ce.repo https://download.docker.com/linux/centos/docker-ce.repo\\n\\n# \u628a\u8f6f\u4ef6\u4ed3\u5e93\u5730\u5740\u66ff\u6362\u4e3a TUNA:\\nsed -i \'s+download.docker.com+mirrors.tuna.tsinghua.edu.cn/docker-ce+\' /etc/yum.repos.d/docker-ce.repo\\n\\n# \u5b89\u88c5\\nyum makecache fast\\nyum install docker-ce\\n```\\n\\n### Ubuntu\\n\\n```bash\\n# \u5982\u679c\u4f60\u8fc7\u53bb\u5b89\u88c5\u8fc7 docker\uff0c\u5148\u5220\u6389\\n# apt-get remove docker docker-engine docker.io\\n\\n# \u5b89\u88c5\u4f9d\u8d56\\napt-get install apt-transport-https ca-certificates curl gnupg2 software-properties-common\\n\\n# \u4fe1\u4efb Docker \u7684 GPG \u516c\u94a5:\\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\\n\\n# \u5bf9\u4e8e amd64 \u67b6\u6784\u7684\u8ba1\u7b97\u673a\uff0c\u6dfb\u52a0\u8f6f\u4ef6\u4ed3\u5e93\\nadd-apt-repository \\\\\\n   \\"deb [arch=amd64] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/ubuntu \\\\\\n   $(lsb_release -cs) \\\\\\n   stable\\"\\n\\n# \u5982\u679c\u4f60\u662f\u6811\u8393\u6d3e\u6216\u5176\u5b83 ARM \u67b6\u6784\u8ba1\u7b97\u673a\uff0c\u8bf7\u8fd0\u884c:\\necho \\"deb [arch=armhf] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/ubuntu \\\\\\n     $(lsb_release -cs) stable\\" | \\\\\\n    sudo tee /etc/apt/sources.list.d/docker.list\\n\\n# \u5b89\u88c5\\napt-get update\\napt-get install docker-ce\\n```"},{"id":"/2022/02/12/linux-startup-script-crontab","metadata":{"permalink":"/blog/2022/02/12/linux-startup-script-crontab","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-12-linux-startup-script-crontab.md","source":"@site/src/blog/2022-02-12-linux-startup-script-crontab.md","title":"Linux\u542f\u52a8\u81ea\u52a8\u6267\u884c\u7279\u5b9a\u811a\u672c","description":"\u5229\u7528linux\u7684crontab\u670d\u52a1\u8bbe\u7f6e\u542f\u52a8\u811a\u672c","date":"2022-02-12T00:00:00.000Z","formattedDate":"February 12, 2022","tags":[{"label":"cron","permalink":"/blog/tags/cron"},{"label":"linux","permalink":"/blog/tags/linux"}],"readingTime":0.74,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Linux\u542f\u52a8\u81ea\u52a8\u6267\u884c\u7279\u5b9a\u811a\u672c","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["cron","linux"],"description":"\u5229\u7528linux\u7684crontab\u670d\u52a1\u8bbe\u7f6e\u542f\u52a8\u811a\u672c","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5b89\u88c5\u6216\u5378\u8f7d Docker","permalink":"/blog/2022/02/12/install-docker"},"nextItem":{"title":"Ubuntu 20.04 \u5b89\u88c5\u4f7f\u7528 SQLite","permalink":"/blog/2022/02/6/ubuntu-sqlite3-starter"}},"content":"\u53c2\u8003 [Crontab Reboot: How to Execute a Job Automatically at Boot](https://phoenixnap.com/kb/crontab-reboot)\\n\\n\x3c!--truncate--\x3e\\n\\n## cron.service\\n\\n\u5148\u786e\u8ba4 `cron.service` \u670d\u52a1\u662f\u5426\u5df2\u7ecf\u542f\u7528:\\n\\n```bash\\nsystemctl status cron.service\\n```\\n\\n\u5982\u679c\u6ca1\u6709\u542f\u7528, \u6267\u884c `systemctl enable cron.service` \u542f\u52a8\u8be5\u670d\u52a1.\\n\\n## \u589e\u52a0\u542f\u52a8\u811a\u672c\\n\\n\u6267\u884c `crontab -e` \u5f00\u59cb\u7f16\u8f91\u542f\u52a8\u542f\u52a8\u4efb\u52a1, \u8bed\u6cd5\u5982\u4e0b:\\n\\n```\\n@reboot [path to command] [argument1] [argument2] \u2026 [argument n]\\n@reboot [part to shell script]\\n```\\n\\n\u793a\u4f8b:\\n\\n```\\n# \u542f\u52a8\u65e5\u671f\u4fdd\u5b58\u5230\u7528\u6237\u76ee\u5f55\u4e0b\u7684 date.txt \u6587\u4ef6\u4e2d\\n@reboot date >> ~/date.txt\\n\\n# \u7cfb\u7edf\u7cfb\u7edf\u540e\u6267\u884c\u7279\u5b9ashell\u811a\u672c\u6587\u4ef6\\n@reboot /root/backup.sh\\n\\n# \u7cfb\u7edf\u542f\u52a8\u540e\u5ef6\u8fdf5\u5206\u949f\u6267\u884c\\n@reboot sleep 300 && date >> ~/date.txt\\n```"},{"id":"/2022/02/6/ubuntu-sqlite3-starter","metadata":{"permalink":"/blog/2022/02/6/ubuntu-sqlite3-starter","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-02-6-ubuntu-sqlite3-starter.md","source":"@site/src/blog/2022-02-6-ubuntu-sqlite3-starter.md","title":"Ubuntu 20.04 \u5b89\u88c5\u4f7f\u7528 SQLite","description":"\u539f\u6587 How To Install and Use SQLite on Ubuntu 20.04","date":"2022-02-06T00:00:00.000Z","formattedDate":"February 6, 2022","tags":[{"label":"sqlite3","permalink":"/blog/tags/sqlite-3"},{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ubuntu","permalink":"/blog/tags/ubuntu"}],"readingTime":0.565,"hasTruncateMarker":true,"authors":[{"name":"author"}],"frontMatter":{"title":"Ubuntu 20.04 \u5b89\u88c5\u4f7f\u7528 SQLite","author":"author","tags":["sqlite3","linux","ubuntu"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Linux\u542f\u52a8\u81ea\u52a8\u6267\u884c\u7279\u5b9a\u811a\u672c","permalink":"/blog/2022/02/12/linux-startup-script-crontab"},"nextItem":{"title":"Flutter JSON \u5e8f\u5217\u5316","permalink":"/blog/2022/01/25/flutter-json-seriealize"}},"content":"[\u539f\u6587 How To Install and Use SQLite on Ubuntu 20.04](https://www.digitalocean.com/community/tutorials/how-to-install-and-use-sqlite-on-ubuntu-20-04)\\n\\n\x3c!--truncate--\x3e\\n\\n## Step 1 \u5b89\u88c5\\n\\n```bash\\nsudo apt install sqlite3 -y\\nsqlite3 --version\\n```\\n\\n## Step 2 \u521b\u5efa\u6570\u636e\u5e93\\n\\n```bash\\nsqlite3 sharks.db\\n```\\n\\n\u4e0a\u9762\u547d\u4ee4\u4f1a\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a `sharks` \u7684\u6570\u636e\u5e93, \u5982\u679c\u6587\u4ef6*sharks.db*\u5df2\u7ecf\u5b58\u5728, \u5219\u662f\u6253\u5f00\u6570\u636e\u5e93\u6587\u4ef6.\\n\\n## \u5e38\u7528\u547d\u4ee4\\n\\n\u8fdb\u5165 `sqlite> ` \u6a21\u5f0f\u4e4b\u540e:\\n\\n* `.help` \u67e5\u770b\u5e2e\u52a9\u4fe1\u606f\\n* `.databases` \u663e\u793a\u6570\u636e\u5e93\u4fe1\u606f\\n* `.tables` \u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\u6240\u6709\u7684\u8868\u540d"},{"id":"/2022/01/25/flutter-json-seriealize","metadata":{"permalink":"/blog/2022/01/25/flutter-json-seriealize","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-01-25-flutter-json-seriealize.md","source":"@site/src/blog/2022-01-25-flutter-json-seriealize.md","title":"Flutter JSON \u5e8f\u5217\u5316","description":"flutter JSON \u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316","date":"2022-01-25T00:00:00.000Z","formattedDate":"January 25, 2022","tags":[{"label":"flutter","permalink":"/blog/tags/flutter"},{"label":"android","permalink":"/blog/tags/android"},{"label":"ios","permalink":"/blog/tags/ios"}],"readingTime":3.77,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Flutter JSON \u5e8f\u5217\u5316","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["flutter","android","ios"],"description":"flutter JSON \u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Ubuntu 20.04 \u5b89\u88c5\u4f7f\u7528 SQLite","permalink":"/blog/2022/02/6/ubuntu-sqlite3-starter"},"nextItem":{"title":"\u89e3\u51b3SSH no matching host key type found \u95ee\u9898","permalink":"/blog/2022/01/24/ssh-no-matching-host-key-type-found"}},"content":"[\u539f\u6587 - JSON \u548c\u5e8f\u5217\u5316\u6570\u636e](https://flutter.cn/docs/development/data-and-backend/json)\\n\\n\u56e0\u4e3aFlutter\u4e2d\u7684dart\u4e0d\u652f\u6301\u53cd\u5c04\uff0c\u6240\u4ee5\u6ca1\u6709\u7c7b\u4f3c GSON/Jackson/Netonsoft.Net \u90a3\u79cd\u7c7b\u5e93\uff0c\u4e0d\u652f\u6301\u53cd\u5c04\u7684\u539f\u56e0\u662f\u4e3a\u4e86\u652f\u6301 tree shake\uff0c\u51cf\u5c11App\u4f53\u79ef\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u4e0b\u9762\u4ecb\u7ecd\u5982\u679c\u4f7f\u7528`json_serializable`\u5e8f\u5217\u5316:\\n\\n## \u5b89\u88c5\u4f9d\u8d56\\n\\n```bash\\nflutter pub add json_annotation\\nflutter pub add build_runner --dev\\nflutter pub add json_model --dev # \u7528\u4e8e\u4eceJSON\u6587\u4ef6\u751f\u6210dart\u7c7b\\nflutter pub add json_serializable --dev\\n```\\n\\n## \u65b9\u5f0f1 JSON\u6587\u4ef6\u751f\u6210\u5b9e\u4f53\u7c7b\\n\\n[json_model](https://github.com/flutterchina/json_model)\\n\\n### \u4f7f\u7528\u6b65\u9aa4\\n\\n\u6839\u636eJSON\u6587\u4ef6\u81ea\u52a8\u521b\u5efa\u5b9e\u4f53\u7c7b\\n\\n1. \u9879\u76ee\u6839\u76ee\u5f55\u521b\u5efa *jsons* \u6587\u4ef6\u5939\\n1. \u521b\u5efaJSON\u6587\u4ef6(\u6587\u4ef6\u5185\u5bb9\u793a\u4f8b\u53c2\u8003\u4e0b\u9762)\\n1. \u6267\u884c\u547d\u4ee4\u751f\u6210 model: `flutter pub run json_model src=jsons`\\n\\n\\n```user.json title=\\"jsons/user.json\\"\\n{\\n  \\"name\\":\\"wendux\\",\\n  \\"father\\":\\"$user\\", //\u53ef\u4ee5\u901a\u8fc7\\"$\\"\u7b26\u53f7\u5f15\u7528\u5176\u5b83model\u7c7b, \u8fd9\u4e2a\u662f\u5f15\u7528User\u7c7b\\n  \\"friends\\":\\"$[]user\\", // \u53ef\u4ee5\u901a\u8fc7\\"$[]\\"\u6765\u5f15\u7528\u6570\u7ec4\\n  \\"keywords\\":\\"$[]String\\", // \u540c\u4e0a\\n  \\"age?\\": 20,  // \u5e74\u9f84\uff0c\u53ef\u80fd\u4e3anull\\n  \\"license?\\": { // \u8be5\u9879\u76ee\u7684\u5f00\u6e90\u8bb8\u53ef\u8bc1\\n    \\"key\\": \\"mit\\",\\n    \\"name\\": \\"MIT License\\",\\n    \\"spdx_id\\": \\"MIT\\",\\n    \\"url\\": \\"https://api.github.com/licenses/mit\\",\\n    \\"node_id\\": \\"MDc6TGljZW5zZW1pdA==\\"\\n  }\\n}\\n```\\n\\n### JSON\u6587\u4ef6\u7279\u6027\\n\\n* \u53ef\u4ee5\u901a\u8fc7 **$** \u7b26\u53f7\u5f15\u7528\u5176\u4ed6model\u7c7b, \u6bd4\u5982\u5f15\u7528 `User`\u7c7b: `\\"father\\": \\"$user\\"`\\n* \u53ef\u4ee5\u901a\u8fc7 **$[]** \u5f15\u7528\u8f93\u5165, \u6bd4\u5982 `\\"array\\": \\"$[]User\\"` \u6216\u8005 `\\"friends\\": \\"$[]String\\"`\\n* \u53ef\u4e3a\u7a7a\u5b57\u6bb5: `\\"age?\\": 20`\\n* \u4f7f\u7528 [json_annotation](https://pub.dev/packages/json_annotation)\u4e2d\u7684\u6240\u6709\u6ce8\u89e3, \u6bd4\u5982:\\n\\n```json\\n{\\n  \\"@JsonKey(name: \'+1\') int?\\": \\"loved\\", //\u5c06\u201c+1\u201d\u6620\u5c04\u4e3a\u201cloved\u201d\\n  \\"name\\":\\"wendux\\",\\n  \\"age?\\":20\\n}\\n```\\n\\n* \u53ef\u4ee5\u5728JSON\u6587\u4ef6\u589e\u52a0 `@meta` \u4fe1\u606f\u5b9a\u5236dart\u7c7b\u751f\u6210\u89c4\u5219:\\n\\n```json\\n{\\n  \\"@meta\\": {\\n    \\"import\\": [ // \u751f\u6210\u7684Dart\u6587\u4ef6\u4e2d\u9700\u8981\u989d\u5916import\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u6709\u591a\u4e2a\\n      \\"test_dir/profile.dart\\"\\n    ],\\n    \\"comments\\": { // Json\u6587\u4ef6\u4e2d\u76f8\u5e94\u5b57\u6bb5\u7684\u6ce8\u91ca\\n      \\"name\\": \\"\u540d\u5b57\\"\\n    },\\n    \\"nullable\\": true, // \u662f\u5426\u751f\u6210\u7684model\u5b57\u6bb5\u90fd\u662f\u53ef\u7a7a\u7684\uff0c\u5982\u679c\u4e3afalse\uff0c\u5219\u5b57\u6bb5\u4e3alate\\n    \\"ignore\\": false // json->dart\u65f6\u662f\u5426\u8df3\u8fc7\u5f53\u524d\u6587\u4ef6\uff0c\u9ed8\u8ba4\u4e3afalse\uff0c\u8bbe\u4e3atrue\u65f6\uff0c\u751f\u6210\u65f6\u5219\u4f1a\u8df3\u8fc7\u672cjson\u6587\u4ef6\\n  },\\n  \\"name\\":\\"wendux\\",\\n  \\"age?\\":20 \\n}\\n```\\n\\n\\n> \u5728\u5b9e\u9645ubuntu\u73af\u5883, \u53d1\u73b0\u6587\u4ef6\u5939\u540d\u5fc5\u987b\u662f `Jsons`. \u81ea\u5df1\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u8c03\u6574.\\n\\n\\n## \u65b9\u5f0f2 \u624b\u52a8\u7f16\u5199\u5b9e\u4f53\u7c7b\u5c5e\u6027\\n\\n\u624b\u52a8\u7f16\u5199\u5b9e\u4f53\u7c7b, \u7136\u540e\u81ea\u52a8\u751f\u6210 `fromJson` \u548c `toJson` \u65b9\u6cd5.\\n\\n### \u7f16\u5199\u5b9e\u4f53\u7c7b\\n\\n```dart title=\\"user.dart\\"\\nimport \'package:json_annotation/json_annotation.dart\';\\n\\n/// This allows the `User` class to access private members in\\n/// the generated file. The value for this is *.g.dart, where\\n/// the star denotes the source file name.\\npart \'user.g.dart\';\\n\\n/// An annotation for the code generator to know that this class needs the\\n/// JSON serialization logic to be generated.\\n@JsonSerializable()\\nclass User {\\n  User(this.name, this.email, this.age);\\n\\n  String name;\\n  String email;\\n  @JsonKey(defaultValue: 18)\\n  int age;\\n\\n  /// A necessary factory constructor for creating a new User instance\\n  /// from a map. Pass the map to the generated `_$UserFromJson()` constructor.\\n  /// The constructor is named after the source class, in this case, User.\\n  factory User.fromJson(Map<String, dynamic> json) => _$UserFromJson(json);\\n\\n  /// `toJson` is the convention for a class to declare support for serialization\\n  /// to JSON. The implementation simply calls the private, generated\\n  /// helper method `_$UserToJson`.\\n  Map<String, dynamic> toJson() => _$UserToJson(this);\\n}\\n```\\n\\n:::info\\n\u5982\u679c\u6709\u5d4c\u5957\u7c7b\uff0c\u6bd4\u5982 `User.dart` \u6709\u4e2a\u5b57\u6bb5 `final Address address;`\uff0c\u8fd9\u4e2a`Address`\u662f\u4e2a\u7c7b\uff0c\u90a3\u5c31\u9700\u8981\u628a `User` \u7c7b\u7684\u6ce8\u89e3 `@JsonSerializable()` \u6539\u6210 `@JsonSerializable(explicitToJson: true)`.\\n:::\\n\\n### \u6267\u884c\u547d\u4ee4\u751f\u6210\\n\\n```bash\\nflutter pub run build_runner build # \u6267\u884c\u8be5\u547d\u4ee4\u751f\u6210\u7f3a\u5931\u7684\u65b9\u6cd5\\nflutter pub run build_runner watch # \u6216\u8005\u6267\u884c\u8be5\u547d\u4ee4\u76d1\u542c\u6587\u4ef6\u53d8\u5316\u81ea\u52a8\u751f\u6210\\n```"},{"id":"/2022/01/24/ssh-no-matching-host-key-type-found","metadata":{"permalink":"/blog/2022/01/24/ssh-no-matching-host-key-type-found","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-01-24-ssh-no-matching-host-key-type-found.md","source":"@site/src/blog/2022-01-24-ssh-no-matching-host-key-type-found.md","title":"\u89e3\u51b3SSH no matching host key type found \u95ee\u9898","description":"\u89e3\u51b3\u901a\u8fc7git\u534f\u8bae\u514b\u9686\u4ed3\u5e93\u5230\u672c\u5730, \u6216\u8005SSH\u8fdc\u7a0b\u673a\u5668\u65f6\u8fd4\u56de\u7684 no matching host key type found","date":"2022-01-24T00:00:00.000Z","formattedDate":"January 24, 2022","tags":[{"label":"ssh","permalink":"/blog/tags/ssh"},{"label":"git","permalink":"/blog/tags/git"},{"label":"openssh","permalink":"/blog/tags/openssh"}],"readingTime":2.265,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u89e3\u51b3SSH no matching host key type found \u95ee\u9898","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["ssh","git","openssh"],"description":"\u89e3\u51b3\u901a\u8fc7git\u534f\u8bae\u514b\u9686\u4ed3\u5e93\u5230\u672c\u5730, \u6216\u8005SSH\u8fdc\u7a0b\u673a\u5668\u65f6\u8fd4\u56de\u7684 no matching host key type found","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Flutter JSON \u5e8f\u5217\u5316","permalink":"/blog/2022/01/25/flutter-json-seriealize"},"nextItem":{"title":"\u89e3\u51b3 Ubuntu/Debian SSH \u8fde\u63a5\u65f6\u8fd4\u56de\u7684 Connection refused","permalink":"/blog/2022/01/15/ubuntu-ssh-connection-refused"}},"content":"[\u539f\u6587 Solution to openssh-8.8-p1 update: no matching host key type found. Their offer: ssh-rsa](https://ttys3.dev/post/openssh-8-8-p1-no-matching-host-key-type-found-their-offer-ssh-rsa/)\\n\\n\\n## \u89e3\u51b3\u529e\u6cd5\\n\\n\u5982\u679c\u6700\u8fd1\u5347\u7ea7\u5230\u4e86 **openssh 8.8-p1** \u7248, \u4f60\u4f1a\u53d1\u73b0\u8fde\u63a5\u67d0\u4e9b\u4e4b\u524d\u8fde\u63a5\u5f97\u597d\u597d\u7684\u670d\u52a1\u5668\u7a81\u7136\u65e0\u6cd5\u8fde\u63a5: \\n\\n\x3c!--truncate--\x3e\\n\\n```\\nUnable to negotiate with x.x.x.x port 2222: no matching host key type found. Their offer: ssh-rsa\\n```\\n\\n\u6216\u8005\u4ed3\u5e93\u65e0\u6cd5clone:\\n\\n```\\n> git clone git@github.com:user/repository.git\\n\\nCloning into \'xxxx\'...\\nUnable to negotiate with x.x.x.x port 22: no matching host key type found. Their offer: ssh-rsa,ssh-dss\\nfatal: Could not read from remote repository.\\n\\nPlease make sure you have the correct access rights\\n```\\n\\n\u89e3\u51b3\u529e\u6cd5\u662f`ssh`\u547d\u4ee4\u6307\u5b9a\u7b97\u6cd5:\\n```\\nssh -o HostKeyAlgorithms=+ssh-rsa -o PubkeyAcceptedKeyTypes=+ssh-rsa  user@host -p 2222\\n```\\n\\n\u4e0a\u9762\u6bd4\u8f83\u9ebb\u70e6, \u53ef\u4ee5\u4fee\u6539ssh\u914d\u7f6e\u6587\u4ef6 *~/.ssh/config*, \u5bf9\u4e8e\u65e0\u6cd5\u6210\u529f\u8fde\u63a5\u7684host, \u589e\u52a0\u914d\u7f6e\u9879:\\n```config title=\\"~/.ssh/config\\"\\nHostKeyAlgorithms +ssh-rsa\\nPubkeyAcceptedKeyTypes +ssh-rsa\\n```\\n\\n\u5b8c\u6574\u914d\u7f6e\u5982\u4e0b:\\n```config title=\\"~/.ssh/config\\"\\nHost ssh.alanwei.com\\n  HostName ssh.alanwei.com\\n  User alan\\n  Port 22\\n  HostKeyAlgorithms +ssh-rsa\\n  PubkeyAcceptedKeyTypes +ssh-rsa\\n```\\n\\n:::info\\n\u5b8c\u6574\u914d\u7f6e\u91cc\u7684 `HostName`, `User`, `Port` \u53ef\u4ee5\u7701\u7565\\n:::\\n\\n\u6216\u8005\u5bf9\u6240\u6709`Host`\u6307\u5b9a:\\n```config title=\\"~/.ssh/config\\"\\nHost *\\n  ServerAliveInterval 10\\n  HostKeyAlgorithms +ssh-rsa\\n  PubkeyAcceptedKeyTypes +ssh-rsa\\n```\\n\\n## \u4e3a\u4ec0\u4e48\u4f1a\u6709\u8fd9\u4e2a\u9519\u8bef\\n\\n\u6839\u636e OpenSSH Release Notes:\\n\\n:::info\\nFuture deprecation notice\\nIt is now possible[1] to perform chosen-prefix attacks against the SHA-1 algorithm for less than USD$50K.\\n\\nIn the SSH protocol, the \u201cssh-rsa\u201d signature scheme uses the SHA-1 hash algorithm in conjunction with the RSA public key algorithm. OpenSSH will disable this signature scheme by default in the near future.\\n\\nNote that the deactivation of \u201cssh-rsa\u201d signatures does not necessarily require cessation of use for RSA keys. In the SSH protocol, keys may be capable of signing using multiple algorithms. In particular, \u201cssh-rsa\u201d keys are capable of signing using \u201crsa-sha2-256\u201d (RSA/SHA256), \u201crsa-sha2-512\u201d (RSA/SHA512) and \u201cssh-rsa\u201d (RSA/SHA1). Only the last of these is being turned off by default.\\n:::\\n\\n\u4e5f\u5c31\u662f\u8bf4 8.8p1 \u7248\u7684 openssh \u7684 ssh \u5ba2\u6237\u7aef\u9ed8\u8ba4\u7981\u7528\u4e86 `ssh-rsa` \u7b97\u6cd5, \u4f46\u662f\u5bf9\u65b9\u670d\u52a1\u5668\u53ea\u652f\u6301 `ssh-rsa`, \u5f53\u4f60\u4e0d\u80fd\u81ea\u5df1\u5347\u7ea7\u8fdc\u7a0b\u670d\u52a1\u5668\u7684 openssh \u7248\u672c\u6216\u4fee\u6539\u914d\u7f6e\u8ba9\u5b83\u4f7f\u7528\u66f4\u5b89\u5168\u7684\u7b97\u6cd5\u65f6, \u5728\u672c\u5730 ssh \u9488\u5bf9\u8fd9\u4e9b\u65e7\u7684ssh server\u91cd\u65b0\u542f\u7528 `ssh-rsa` \u4e5f\u662f\u4e00\u79cd\u6743\u5b9c\u4e4b\u6cd5."},{"id":"/2022/01/15/ubuntu-ssh-connection-refused","metadata":{"permalink":"/blog/2022/01/15/ubuntu-ssh-connection-refused","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-01-15-ubuntu-ssh-connection-refused.md","source":"@site/src/blog/2022-01-15-ubuntu-ssh-connection-refused.md","title":"\u89e3\u51b3 Ubuntu/Debian SSH \u8fde\u63a5\u65f6\u8fd4\u56de\u7684 Connection refused","description":"\u89e3\u51b3 Ubuntu/Debian SSH \u8fde\u63a5\u65f6\u8fd4\u56de\u7684 Connection refused","date":"2022-01-15T00:00:00.000Z","formattedDate":"January 15, 2022","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ssh","permalink":"/blog/tags/ssh"},{"label":"ubuntu","permalink":"/blog/tags/ubuntu"},{"label":"debian","permalink":"/blog/tags/debian"}],"readingTime":0.68,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u89e3\u51b3 Ubuntu/Debian SSH \u8fde\u63a5\u65f6\u8fd4\u56de\u7684 Connection refused","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["linux","ssh","ubuntu","debian"],"description":"\u89e3\u51b3 Ubuntu/Debian SSH \u8fde\u63a5\u65f6\u8fd4\u56de\u7684 Connection refused","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3SSH no matching host key type found \u95ee\u9898","permalink":"/blog/2022/01/24/ssh-no-matching-host-key-type-found"},"nextItem":{"title":"VSC\u5e38\u7528\u4ee3\u7801\u7247\u6bb5","permalink":"/blog/2022/01/10/visual-studio-code-snippets"}},"content":"[\u539f\u6587 How to fix: Connection refused by port 22 Debian/Ubuntu](https://linuxhint.com/fix_connection_refused_ubuntu/#:~:text=One%20of%20the%20reasons%20you%20may%20receive%20a,which%20you%20are%20trying%20to%20access%20via%20SSH.)\\n\\n\u4e00\u822c\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u662f\u56e0\u4e3a\u7cfb\u7edf\u6ca1\u6709\u5b89\u88c5**openssh-server**, \u6216\u8005\u6ca1\u6709\u542f\u7528**ssh** \u670d\u52a1\\n\\n\x3c!--truncate--\x3e\\n\\n## \u68c0\u67e5\u4f9d\u8d56\\n\\n\u6267\u884c\u4ee5\u4e0b\u811a\u672c\u786e\u5b9a\u662f\u5426\u5b89\u88c5\u4e86 **openssh-server**: \\n\\n```\\nsudo apt list --installed | grep openssh-server\\n```\\n\\n\u5982\u679c\u6ca1\u6709\u5b89\u88c5, \u6267\u884c\u4ee5\u4e0b\u811a\u672c\u5b89\u88c5:\\n\\n```\\nsudo apt install openssh-server -y\\n```\\n\\n## \u68c0\u67e5\u670d\u52a1\\n\\n\u6267\u884c\u4ee5\u4e0b\u811a\u672c\u68c0\u67e5**ssh**\u670d\u52a1\u5f53\u524d\u72b6\u6001:\\n\\n```\\nsudo service ssh status\\n```\\n\\n\u5982\u679c\u4e0d\u662f *Active: active(running)*, \u6267\u884c\u4ee5\u4e0b\u811a\u672c\u5c1d\u8bd5\u542f\u7528\u670d\u52a1:\\n\\n```\\nsudo service ssh start\\n```"},{"id":"/2022/01/10/visual-studio-code-snippets","metadata":{"permalink":"/blog/2022/01/10/visual-studio-code-snippets","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-01-10-visual-studio-code-snippets.md","source":"@site/src/blog/2022-01-10-visual-studio-code-snippets.md","title":"VSC\u5e38\u7528\u4ee3\u7801\u7247\u6bb5","description":"Visual Studio Code \u5e38\u7528\u4ee3\u7801\u7247\u6bb5","date":"2022-01-10T00:00:00.000Z","formattedDate":"January 10, 2022","tags":[{"label":"vsc","permalink":"/blog/tags/vsc"},{"label":"visual studio code","permalink":"/blog/tags/visual-studio-code"},{"label":"snippets","permalink":"/blog/tags/snippets"}],"readingTime":6.52,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"VSC\u5e38\u7528\u4ee3\u7801\u7247\u6bb5","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vsc","visual studio code","snippets"],"description":"Visual Studio Code \u5e38\u7528\u4ee3\u7801\u7247\u6bb5","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3 Ubuntu/Debian SSH \u8fde\u63a5\u65f6\u8fd4\u56de\u7684 Connection refused","permalink":"/blog/2022/01/15/ubuntu-ssh-connection-refused"},"nextItem":{"title":"Ubuntu 20.04 LTS \u5b89\u88c5\u591a\u5a92\u4f53\u89e3\u7801\u5e93","permalink":"/blog/2022/01/08/ubuntu-install-multimia-codecs"}},"content":"Visual Studio Code \u5e38\u7528\u4ee3\u7801\u7247\u6bb5\u6536\u96c6:\\n\\n\x3c!--truncate--\x3e\\n\\n## React\\n\\n### TypeScript Class Component\\n\\n```json title=\\".vscode/react-ts-class-component.code-snippets\\"\\n{\\n  \\"React TypeScript Class Component\\": {\\n    \\"prefix\\": \\"react-ts-class-component\\",\\n    \\"scope\\": \\"tsx\\",\\n    \\"body\\": [\\n      \\" import React from \\\\\\"react\\\\\\"; \\",\\n      \\" /** \\",\\n      \\"  *  \\",\\n      \\"  * @date $CURRENT_YEAR-$CURRENT_MONTH-$CURRENT_DATE \\",\\n      \\"  */ \\",\\n      \\" export class ${TM_FILENAME_BASE} extends React.Component<${TM_FILENAME_BASE}Props, ${TM_FILENAME_BASE}State> { \\",\\n      \\"   constructor(props: ${TM_FILENAME_BASE}Props) { \\",\\n      \\"     super(props); \\",\\n      \\"     this.state = {\\",\\n      \\"     // \u521d\u59cb\u5316\u72b6\u6001\\",\\n      \\"     };\\",\\n      \\"   } \\",\\n      \\"   render() {\\",\\n      \\"     return (<div>${1}</div>)\\",\\n      \\"   } \\",\\n      \\" } \\",\\n      \\" export type ${TM_FILENAME_BASE}Props = { }\\",\\n      \\" export type ${TM_FILENAME_BASE}State = { }\\",\\n    ],\\n    \\"description\\": \\"create react typescript class component\\"\\n  }\\n}\\n```\\n\\n\\n### TypeScript Function Component\\n\\n```json title=\\".vscode/react-ts-fn-component.code-snippets\\"\\n{\\n  \\"React TypeScript Function Component\\": {\\n    \\"prefix\\": \\"react-ts-fn-component\\",\\n    \\"body\\": [\\n      \\" import { FC, ReactElement, ReactChild } from \\\\\\"react\\\\\\"; \\",\\n      \\" /** \\",\\n      \\"  *  \\",\\n      \\"  * @date $CURRENT_YEAR-$CURRENT_MONTH-$CURRENT_DATE \\",\\n      \\"  */ \\",\\n      \\" const ${TM_FILENAME_BASE} : FC<${TM_FILENAME_BASE}Props> = (props): ReactElement => { \\",\\n      \\"   return (<div>{props.children}</div>)\\",\\n      \\" } \\",\\n      \\" export type ${TM_FILENAME_BASE}Props = { children: ReactChild }\\",\\n      \\" export default ${TM_FILENAME_BASE};\\"\\n    ],\\n    \\"description\\": \\"create react typescript class component\\"\\n  }\\n}\\n```\\n## TypeScript \\n\\n**\u521b\u5efa TypeScript \u51fd\u6570**\\n\\n```json title=\\".vscode/ts-function.code-snippets\\"\\n{\\n  \\"TS Function\\": {\\n    \\"prefix\\": \\"ts-function\\",\\n    \\"scope\\": \\"typescript\\",\\n    \\"body\\": [\\n      \\"export type ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Params = {}\\",\\n      \\"export interface ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Result { }\\",\\n      \\" \\",\\n      \\"/**\\",\\n      \\" * \\",\\n      \\" * @author ${1:\u521b\u5efa\u4eba} \\",\\n      \\" * @date $CURRENT_YEAR-$CURRENT_MONTH-$CURRENT_DATE\\",\\n      \\" */\\",\\n      \\"export function ${TM_FILENAME_BASE}(params: ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Params): ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Result {\\",\\n      \\"}\\",\\n    ],\\n    \\"description\\": \\"\u521b\u5efa TypeScript \u51fd\u6570\\"\\n  }\\n}\\n```\\n\\n```json title=\\".vscode/ts-fn-override.code-snippets\\"\\n{\\n  \\"TS Function Override\\": {\\n    \\"prefix\\": \\"ts-fn-override\\",\\n    \\"scope\\": \\"typescript\\",\\n    \\"body\\": [\\n      \\"export type ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Params = { }\\",\\n      \\"export type ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Result = { }\\",\\n      \\"export type ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Def = {\\",\\n      \\"  (params: ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Params): ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Result\\",\\n      \\"  __cache?: ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Result\\",\\n      \\"}\\",\\n      \\" \\",\\n      \\"/**\\",\\n      \\" * \\",\\n      \\" * @author ${1:\u521b\u5efa\u4eba} \\",\\n      \\" * @date $CURRENT_YEAR-$CURRENT_MONTH-$CURRENT_DATE\\",\\n      \\" */\\",\\n      \\"export const ${TM_FILENAME_BASE}: ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Def = function(params: ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Params): ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Result {\\",\\n      \\"}\\",\\n    ],\\n    \\"description\\": \\"\u521b\u5efa TypeScript \u51fd\u6570\\"\\n  }\\n}\\n```\\n\\n## Vue \\n\\n```json title=\\".vscode/ts-vue-component.code-snippets\\"\\n{\\n  \\"Vue TypeScript Component\\": {\\n    \\"prefix\\": \\"vue-typescript-component\\",\\n    \\"scope\\": \\"vue\\",\\n    \\"body\\": [\\n      \\"<template>\\",\\n      \\"  <div> \\",\\n      \\"  </div> \\",\\n      \\"</template> \\",\\n      \\" \\",\\n      \\"<script lang=\\\\\\"ts\\\\\\"> \\",\\n      \\"/** \\",\\n      \\" * @author ${1:\u521b\u5efa\u4eba} \\",\\n      \\" * @date $CURRENT_YEAR-$CURRENT_MONTH-$CURRENT_DATE\\",\\n      \\" * @see https://www.digitalocean.com/community/tutorials/vuejs-typescript-class-components \\",\\n      \\" * @see https://github.com/ktsn/vuex-class \\",\\n      \\" * @see https://github.com/vuejs/vue-class-component \\",\\n      \\" * @see https://github.com/kaorun343/vue-property-decorator \\",\\n      \\" */ \\",\\n      \\"import { Component, Prop, Vue, Watch, Mixins } from \\\\\\"vue-property-decorator\\\\\\"; \\",\\n      \\"// import ChildComponent from \\\\\\"./ChildComponent.vue\\\\\\"; \\",\\n      \\" \\",\\n      \\"// const MixSample = Vue.extend(mixObject()); \\",\\n      \\" \\",\\n      \\"@Component({ \\",\\n      \\"  // mixins: [MixSample], \\",\\n      \\"  // components: { ChildComponent }, \\",\\n      \\"}) \\",\\n      \\"export default class ${TM_FILENAME_BASE} extends Mixins() { \\",\\n      \\"  name: string = ${TM_FILENAME_BASE}\\",\\n      \\"  /** \\",\\n      \\"   * \u5b9a\u4e49\u5c5e\u6027 \\",\\n      \\"   */ \\",\\n      \\"  @Prop({ required: false }) \\",\\n      \\"  propName1?: string; \\",\\n      \\"  @Prop({ required: true }) \\",\\n      \\"  propName2: string; \\",\\n      \\" \\",\\n      \\"  /** \\",\\n      \\"   * \u5b9a\u4e49\u6570\u636e \\",\\n      \\"   */ \\",\\n      \\"  status: { \\",\\n      \\"    showCity: boolean; \\",\\n      \\"  } = { \\",\\n      \\"    showCity: false, \\",\\n      \\"  }; \\",\\n      \\"  data: { \\",\\n      \\"    title: string; \\",\\n      \\"  } = { \\",\\n      \\"    title: \\\\\\"example\\\\\\", \\",\\n      \\"  }; \\",\\n      \\" \\",\\n      \\"  created() { \\",\\n      \\"    /** \\",\\n      \\"     * \u65f6\u673a\u65e9\u4e8e mounted \\",\\n      \\"     */ \\",\\n      \\"  } \\",\\n      \\" \\",\\n      \\"  mounted() { \\",\\n      \\"    /** \\",\\n      \\"     * mounted \\",\\n      \\"     */ \\",\\n      \\"  } \\",\\n      \\"  /** \\",\\n      \\"   * \u5b9a\u4e49\u65b9\u6cd5 \\",\\n      \\"   */ \\",\\n      \\"  methodName() { \\",\\n      \\"    /** \\",\\n      \\"     * \u65b9\u6cd5 \\",\\n      \\"     */ \\",\\n      \\"  } \\",\\n      \\" \\",\\n      \\"  /** \\",\\n      \\"   * \u8ba1\u7b97\u5c5e\u6027 \\",\\n      \\"   */ \\",\\n      \\"  get computedField() { \\",\\n      \\"    return this.propName1; \\",\\n      \\"  } \\",\\n      \\"  /** \\",\\n      \\"   * Watch\u76d1\u89c6\u53d8\u5316 \\",\\n      \\"   */ \\",\\n      \\"  @Watch(`status.showCity`, { \\",\\n      \\"    immediate: true, \\",\\n      \\"    deep: false, \\",\\n      \\"  }) \\",\\n      \\"  onPropertyWatch(newVal: boolean) { \\",\\n      \\"    console.log(`newVal: `, newVal); \\",\\n      \\"  } \\",\\n      \\"} \\",\\n      \\"<\/script> \\",\\n    ],\\n    \\"description\\": \\"\u521b\u5efa TypeScript \u7c7b\u578b\u7ec4\u4ef6\\"\\n  }\\n}\\n```\\n\\n## jest \\n\\n\u521b\u5efa\u666e\u901a\u7684 jest node.js \u5355\u5143\u6d4b\u8bd5\\n\\n```json title=\\".vscode/jest-node-test.code-snippets\\"\\n{\\n    \\"jest test\\": {\\n        \\"prefix\\": \\"jest-node-test\\",\\n        \\"body\\": [\\n            \\" import { ${TM_FILENAME_BASE/^(\\\\\\\\w+).test/${1}/} } from \\\\\\"../${TM_FILENAME_BASE/^(\\\\\\\\w+).test/${1}/}\\\\\\";\\",\\n            \\"\\",\\n            \\"describe(\\\\\\"${TM_FILENAME_BASE}\\\\\\", () => {\\",\\n            \\"    beforeEach(() => {\\",\\n            \\"    });\\",\\n            \\"    afterEach(() => {\\",\\n            \\"    });\\",\\n            \\"    test(\\\\\\"${1}\\\\\\", () => {\\",\\n            \\"    });\\",\\n            \\"});\\",\\n        ],\\n        \\"description\\": \\"\u521b\u5efa jest \u5355\u6d4b\\",\\n    }\\n}\\n```\\n\\n\u521b\u5efa\u6d89\u53caDOM\u7684\u5355\u5143\u6d4b\u8bd5\\n\\n```json title=\\".vscode/jest-dom-test.code-snippets\\"\\n{\\n    \\"jest test\\": {\\n        \\"prefix\\": \\"jest-dom-test\\",\\n        \\"body\\": [\\n            \\"/**\\",\\n            \\" * @jest-environment jsdom\\",\\n            \\" */\\",\\n            \\" import { ${TM_FILENAME_BASE/^(\\\\\\\\w+).test/${1}/} } from \\\\\\"../${TM_FILENAME_BASE/^(\\\\\\\\w+).test/${1}/}\\\\\\";\\",\\n            \\"\\",\\n            \\"describe(\\\\\\"${TM_FILENAME_BASE}\\\\\\", () => {\\",\\n            \\"    let ua: jest.SpyInstance<string, []>;\\",\\n            \\"    beforeEach(() => {\\",\\n            \\"        ua = jest.spyOn(global.navigator, \\\\\\"userAgent\\\\\\", \\\\\\"get\\\\\\");\\",\\n            \\"    });\\",\\n            \\"    afterEach(() => {\\",\\n            \\"        ua.mockRestore();\\",\\n            \\"    });\\",\\n            \\"    test(\\\\\\"\u6d4b\u8bd5\u5185\u5bb9\\\\\\", () => {\\",\\n            \\"        ua.mockReturnValue(``);\\",\\n            \\"    });\\",\\n            \\"});\\",\\n        ],\\n        \\"description\\": \\"\u521b\u5efa jest-dom \u5355\u6d4b\\",\\n    }\\n}\\n```\\n\\n## yargs \\n\\n\u5b89\u88c5\u4f9d\u8d56:\\n\\n```bash\\nnpm i yargs@16.2.0 --save\\n```\\n\\n\u521b\u5efa\u5165\u53e3\u6587\u4ef6\uff1a\\n\\n```typescript title=\\"bin/cli.ts\\"\\n#!/usr/bin/env node\\n\\nimport yargs from \\"yargs\\";\\n\\nconst ext = __filename.split(\\".\\")[__filename.split(\\".\\").length - 1] || \\"js\\";\\n\\nyargs.commandDir(\\"command-files-directory\\", { \\n  recurse: true,\\n  extensions: [ext]\\n}).demandCommand()\\n  .version(\\"version\\", \\"\u663e\u793a\u7248\u672c\u53f7\\", \\"0.0.1\\")\\n  .help(\\"help\\", \\"\u663e\u793a\u5e2e\u52a9\\")\\n  .argv;\\n```\\n\\n\u521b\u5efa\u547d\u4ee4\u6a21\u677f:\\n\\n```json title=\\".vscode/yargs-command.code-snippets\\"\\n{\\n  \\"yargs command\\": {\\n    \\"prefix\\": \\"yargs-command\\",\\n    \\"scope\\": \\"typescript\\",\\n    \\"body\\": [\\n      \\" import { Options } from \'yargs\'; \\",\\n      \\"  \\",\\n      \\" export const command = \'${TM_FILENAME_BASE} [${1:input}]\'; \\",\\n      \\" export const desc = \'\u547d\u4ee4\u8bf4\u660e\'; \\",\\n      \\"  \\",\\n      \\" type OptionType = { \\",\\n      \\"   ${1:input}: string, \\",\\n      \\"   files?: Array<string> \\",\\n      \\" } \\",\\n      \\" export const builder: { [key in keyof OptionType]: Options } = { \\",\\n      \\"   ${1:input}: { \\",\\n      \\"     requiresArg: true, \\",\\n      \\"     description: \'\u53c2\u6570\u63cf\u8ff0\', \\",\\n      \\"     type: \'string\' \\",\\n      \\"   }, \\",\\n      \\"   files: { \\",\\n      \\"     requiresArg: false, \\",\\n      \\"     description: \'\u652f\u6301\u591a\u4e2a\u53c2\u6570\u503c\', \\",\\n      \\"     default: false, \\",\\n      \\"     type: \'array\', \\",\\n      \\"     alias: \'f\' \\",\\n      \\"   } \\",\\n      \\" }; \\",\\n      \\" export const handler = function ({ ${1:input}, files }: OptionType) { \\",\\n      \\" }\\"\\n    ],\\n    \\"description\\": \\"\u521b\u5efa yargs \u547d\u4ee4\\"\\n  }\\n}\\n```\\n\\n## flutter\\n\\n\u521b\u5efa Flutter \u7ec4\u4ef6\\n\\n```json title=\\".vscode/dart-widget.code-snippets\\"\\n{\\n  \\"stateless scaffold\\": {\\n    \\"prefix\\": \\"scaffold-stateless\\",\\n    \\"scope\\": \\"dart\\",\\n    \\"body\\": [\\n      \\"import \'package:flutter/material.dart\';\\",\\n      \\"\\",\\n      \\"/**\\",\\n      \\" * \\",\\n      \\" * @date $CURRENT_YEAR-$CURRENT_MONTH-$CURRENT_DATE\\",\\n      \\" */\\",\\n      \\"class ${1:$TM_FILENAME_BASE} extends StatelessWidget {\\",\\n      \\"  @override\\",\\n      \\"  Widget build(BuildContext context) {\\",\\n      \\"    return Scaffold(\\",\\n      \\"      appBar: AppBar(\\",\\n      \\"        title: Text(\'${TM_FILENAME_BASE}\'),\\",\\n      \\"      ),\\",\\n      \\"      body: ${2|Text(\'Ctrl+v\u66ff\u6362\u5f53\u524d\u5185\u5bb9\')|},\\",\\n      \\"    );\\",\\n      \\"  }\\",\\n      \\"}\\",\\n    ],\\n    \\"description\\": \\"\u521b\u5efa\u65e0\u72b6\u6001scaffold\\"\\n  },\\n  \\"scaffold statefull\\": {\\n    \\"prefix\\": \\"scaffold-stateful\\",\\n    \\"scope\\": \\"dart\\",\\n    \\"body\\": [\\n      \\"import \'package:flutter/material.dart\';\\",\\n      \\"\\",\\n      \\"\\",\\n      \\"/**\\",\\n      \\" * \\",\\n      \\" * @date $CURRENT_YEAR-$CURRENT_MONTH-$CURRENT_DATE\\",\\n      \\" */\\",\\n      \\"class ${1:$TM_FILENAME_BASE} extends StatefulWidget {\\",\\n      \\"  @override\\",\\n      \\"  State<StatefulWidget> createState() {\\",\\n      \\"    return new _${1:$TM_FILENAME_BASE}State();\\",\\n      \\"  }\\",\\n      \\"}\\",\\n      \\"\\",\\n      \\"class _${1:$TM_FILENAME_BASE}State extends State<${1:$TM_FILENAME_BASE}> {\\",\\n      \\"  @override\\",\\n      \\"  void initState() {\\",\\n      \\"    super.initState();\\",\\n      \\"  }\\",\\n      \\"\\",\\n      \\"  String _title = \'${3:$TM_FILENAME_BASE}\';\\",\\n      \\"@override\\",\\n      \\"Widget build(BuildContext context) {\\",\\n      \\"  return Scaffold(\\",\\n      \\"    appBar: AppBar(\\",\\n      \\"      title: Text(_title),\\",\\n      \\"    ),\\",\\n      \\"    body: ${2:$CLIPBOARD},\\",\\n      \\"    floatingActionButton: FloatingActionButton(\\",\\n      \\"      onPressed: _onPress,\\",\\n      \\"      child: Icon(Icons.change_circle),\\",\\n      \\"    ),\\",\\n      \\"  );\\",\\n      \\"}\\",\\n      \\"\\",\\n      \\"  void _onPress() {\\",\\n      \\"  }\\",\\n      \\"}\\",\\n    ],\\n    \\"description\\": \\"\u521b\u5efa\u6709\u72b6\u6001\u7684 Scaffold\\"\\n  },\\n  \\"stateful widget\\": {\\n    \\"prefix\\": \\"widget-stateful\\",\\n    \\"scope\\": \\"dart\\",\\n    \\"body\\": [\\n      \\"class ${1:$TM_FILENAME_BASE} extends StatefulWidget {\\",\\n      \\"  ${1:$TM_FILENAME_BASE}({Key? key}) : super(key: key);\\",\\n      \\"\\",\\n      \\"  @override\\",\\n      \\"  State<StatefulWidget> createState() {\\",\\n      \\"    return _${1:TM_FILENAME_BASE}State();\\",\\n      \\"  }\\",\\n      \\"}\\",\\n      \\"\\",\\n      \\"class _${1:TM_FILENAME_BASE}State extends State<${1:TM_FILENAME_BASE}> {\\",\\n      \\"  @override\\",\\n      \\"  Widget build(BuildContext context) {\\",\\n      \\"    return ${2|Text(\'Ctrl+v\u66ff\u6362\u5185\u5bb9\')|};\\",\\n      \\"  }\\",\\n      \\"}\\",\\n    ],\\n    \\"description\\": \\"\u521b\u5efa\u5e26\u6709\u72b6\u6001\u7684\u7ec4\u4ef6\\",\\n  },\\n  \\"stateless widget\\": {\\n    \\"prefix\\": \\"widget-stateless\\",\\n    \\"scope\\": \\"dart\\",\\n    \\"body\\": [\\n      \\"class ${1:$TM_FILENAME_BASE} extends StatelessWidget {\\",\\n      \\"  ${1:$TM_FILENAME_BASE}({Key? key}) : super(key: key);\\",\\n      \\"\\",\\n      \\"  @override\\",\\n      \\"  Widget build(BuildContext context) {\\",\\n      \\"    return ${2|Text(\'Ctrl+v\u66ff\u6362\u5185\u5bb9\')|};\\",\\n      \\"  }\\",\\n      \\"}\\",\\n    ],\\n    \\"description\\": \\"\u521b\u5efa\u65e0\u72b6\u6001\u7684\u7ec4\u4ef6\\",\\n  }\\n}\\n```"},{"id":"/2022/01/08/ubuntu-install-multimia-codecs","metadata":{"permalink":"/blog/2022/01/08/ubuntu-install-multimia-codecs","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-01-08-ubuntu-install-multimia-codecs.md","source":"@site/src/blog/2022-01-08-ubuntu-install-multimia-codecs.md","title":"Ubuntu 20.04 LTS \u5b89\u88c5\u591a\u5a92\u4f53\u89e3\u7801\u5e93","description":"\u89e3\u51b3\u5b89\u88c5 Ubuntu 20.04 LTS \u5b8c\u6210\u540e\u65e0\u6cd5\u64ad\u653e\u97f3\u9891\u89c6\u9891\u95ee\u9898","date":"2022-01-08T00:00:00.000Z","formattedDate":"January 8, 2022","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ubuntu","permalink":"/blog/tags/ubuntu"}],"readingTime":0.42,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Ubuntu 20.04 LTS \u5b89\u88c5\u591a\u5a92\u4f53\u89e3\u7801\u5e93","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["linux","ubuntu"],"description":"\u89e3\u51b3\u5b89\u88c5 Ubuntu 20.04 LTS \u5b8c\u6210\u540e\u65e0\u6cd5\u64ad\u653e\u97f3\u9891\u89c6\u9891\u95ee\u9898","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"VSC\u5e38\u7528\u4ee3\u7801\u7247\u6bb5","permalink":"/blog/2022/01/10/visual-studio-code-snippets"},"nextItem":{"title":"\u89e3\u51b3Ubuntu\u7cfb\u7edf\u542f\u52a8 VMware Workstation Pro \u63d0\u793a Kernel Module Updater \u95ee\u9898","permalink":"/blog/2022/01/08/vmware-workstation-kernel-module-updater"}},"content":"[\u539f\u6587](https://linuxhint.com/install_multimedia_codecs_ubuntu/)\\n\\n\x3c!--truncate--\x3e\\n\\n\u9996\u5148\u786e\u8ba4 **Software & Updates > Ubuntu Software** \u91cc\u7684 `main`, `restricted`, `universe` \u548c `multiverse` \u90fd\u5df2\u7ecf\u5f00\u542f, \u7136\u540e\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\\n\\n```bash\\n# \u4ee5\u4e0b\u547d\u4ee4\u9700\u8981\u4f7f\u7528 sudo \u6267\u884c\\n# add-apt-repository multiverse # \u4f7f\u7528\u547d\u4ee4\u5f00\u542f multiverse\\napt update\\napt install ubuntu-restricted-extras # \u5b89\u88c5\u5a92\u4f53\u89e3\u7801\\napt install vlc # \u5b89\u88c5\u89c6\u9891\u64ad\u653e\u5668(\u53ef\u5ffd\u7565)\\n```"},{"id":"/2022/01/08/vmware-workstation-kernel-module-updater","metadata":{"permalink":"/blog/2022/01/08/vmware-workstation-kernel-module-updater","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-01-08-vmware-workstation-kernel-module-updater.md","source":"@site/src/blog/2022-01-08-vmware-workstation-kernel-module-updater.md","title":"\u89e3\u51b3Ubuntu\u7cfb\u7edf\u542f\u52a8 VMware Workstation Pro \u63d0\u793a Kernel Module Updater \u95ee\u9898","description":"\u89e3\u51b3Ubuntu\u7cfb\u7edf\u521d\u6b21\u5b89\u88c5 VMware Workstation Pro, \u542f\u52a8\u63d0\u793a kernel module updater, gcc \u7b49\u95ee\u9898","date":"2022-01-08T00:00:00.000Z","formattedDate":"January 8, 2022","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ubuntu","permalink":"/blog/tags/ubuntu"},{"label":"vmware","permalink":"/blog/tags/vmware"}],"readingTime":0.415,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u89e3\u51b3Ubuntu\u7cfb\u7edf\u542f\u52a8 VMware Workstation Pro \u63d0\u793a Kernel Module Updater \u95ee\u9898","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["linux","ubuntu","vmware"],"description":"\u89e3\u51b3Ubuntu\u7cfb\u7edf\u521d\u6b21\u5b89\u88c5 VMware Workstation Pro, \u542f\u52a8\u63d0\u793a kernel module updater, gcc \u7b49\u95ee\u9898","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Ubuntu 20.04 LTS \u5b89\u88c5\u591a\u5a92\u4f53\u89e3\u7801\u5e93","permalink":"/blog/2022/01/08/ubuntu-install-multimia-codecs"},"nextItem":{"title":"JDK LTS \u8def\u7ebf\u56fe\u53ca\u4e0b\u8f7d\u5730\u5740","permalink":"/blog/2022/01/06/jdk-roadmap-download"}},"content":"\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 gcc compiler \u548c linux header:\\n\\n\x3c!--truncate--\x3e\\n\\n```bash\\nsudo apt-get update\\nsudo apt-get install build-essential linux-headers-$(uname -r) -y\\n```\\n\\n\u6267\u884c\u5b8c\u4e0a\u8ff0\u547d\u4ee4\u540e, \u6ce8\u9500\u5f53\u524d\u8d26\u53f7\uff0c\u767b\u9646\u4e4b\u540e\u91cd\u65b0\u6253\u5f00VMware\u5373\u53ef\u3002\\n\\n\u53c2\u8003 [Ubuntu18.04\u5b89\u88c5VMware\u51fa\u73b0\u201cvmware-kernel-module-updater\u201d](https://www.jianshu.com/p/64254f5a0c5e)\\n\\n\u4e0b\u8f7d [Linux \u7248\u672c VMware Workstation 16.2.1](https://download3.vmware.com/software/wkst/file/VMware-Workstation-Full-16.2.1-18811642.x86_64.bundle)\\n\\n\u5e8f\u5217\u53f7: `ZF3R0-FHED2-M80TY-8QYGC-NPKYF` (\u6765\u6e90[VMware Workstation 16 Pro + Key](https://vv1234.cn/archives/575.html))"},{"id":"/2022/01/06/jdk-roadmap-download","metadata":{"permalink":"/blog/2022/01/06/jdk-roadmap-download","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-01-06-jdk-roadmap-download.md","source":"@site/src/blog/2022-01-06-jdk-roadmap-download.md","title":"JDK LTS \u8def\u7ebf\u56fe\u53ca\u4e0b\u8f7d\u5730\u5740","description":"JDK LTS \u8def\u7ebf\u56fe, JDK 17 LTS\u4e0b\u8f7d\u5730\u5740","date":"2022-01-06T00:00:00.000Z","formattedDate":"January 6, 2022","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"jdk","permalink":"/blog/tags/jdk"},{"label":"jdk1.8","permalink":"/blog/tags/jdk-1-8"},{"label":"jdk8","permalink":"/blog/tags/jdk-8"},{"label":"jdk lts","permalink":"/blog/tags/jdk-lts"}],"readingTime":2.44,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"JDK LTS \u8def\u7ebf\u56fe\u53ca\u4e0b\u8f7d\u5730\u5740","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["java","jdk","jdk1.8","jdk8","jdk lts"],"description":"JDK LTS \u8def\u7ebf\u56fe, JDK 17 LTS\u4e0b\u8f7d\u5730\u5740","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3Ubuntu\u7cfb\u7edf\u542f\u52a8 VMware Workstation Pro \u63d0\u793a Kernel Module Updater \u95ee\u9898","permalink":"/blog/2022/01/08/vmware-workstation-kernel-module-updater"},"nextItem":{"title":"\u5fae\u8f6f\u62fc\u97f3\u8f93\u5165\u6cd5\u81ea\u5b9a\u4e49\u65e5\u671f\u65f6\u95f4\u683c\u5f0f","permalink":"/blog/2022/01/01/microsoft-pinyin-date"}},"content":"## JDK \u8def\u7ebf\u56fe\\n\\n[\u539f\u6587\u94fe\u63a5](https://www.oracle.com/java/technologies/java-se-support-roadmap.html)\\n\\n\x3c!--truncate--\x3e\\n\\n| Release | GA Date | Premier Support Until | Extended Support Until | Sustaining Support |\\n| -- | -- | -- | -- | -- |\\n| 7 (LTS) | July 2011 | July 2019 | July 2022 | Indefinite |\\n| 8 (LTS) | March 2014 | March 2022 | December 2030 | Indefinite |\\n| 9 (non\u2011LTS) | September 2017 | March 2018 | Not Available | Indefinite |\\n| 10 (non\u2011LTS) | March 2018 | September 2018 | Not Available | Indefinite |\\n| 11 (LTS) | September 2018 | September 2023 | September 2026 | Indefinite |\\n| 12 (non\u2011LTS) | March 2019 | September 2019 | Not Available | Indefinite |\\n| 13 (non\u2011LTS) | September 2019 | March 2020 | Not Available | Indefinite |\\n| 14 (non\u2011LTS) | March 2020 | September 2020 | Not Available | Indefinite |\\n| 15 (non\u2011LTS) | September 2020 | March 2021 | Not Available | Indefinite |\\n| 16 (non-LTS) | March 2021 | September 2021 | Not Available | Indefinite |\\n| 17 (LTS) | September 2021 | September 2026 | September 2029 | Indefinite |\\n| 18 (non-LTS) | March 2022 | September 2022 | Not Available | Indefinite |\\n| 19 (non-LTS) | September 2022 | March 2023 | Not Available | Indefinite |\\n| 20 (non-LTS) | March 2023 | September 2023 | Not Available | Indefinite |\\n| 21 (LTS) | September 2023 | September 2028 | September 2031 | Indefinite |\\n\\n## JDK 1.8 LTS Download\\n\\n[\u539f\u6587\u94fe\u63a5](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html)\\n\\n**Java SE Development Kit 8u202**\\n\\n* [Linux ARM v6/v7 Soft Float ABI - 72.86 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Linux ARM v6/v7 Soft Float ABI - 69.75 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Linux x86 - 173.08 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Linux x86 - 187.9 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Linux x64 - 170.15 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Linux x64 - 185.05 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Mac OS X x64 - 249.15 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Solaris SPARC 64-bit (SVR4 package) - 125.09 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Solaris SPARC 64-bit - 88.1 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Solaris x64 (SVR4 package) - 124.37 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Solaris x64 - 85.38 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Windows x86 - 201.64 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n* [Windows x64 - 211.58 MB](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html#license-lightbox)\\n\\n## JDK 17 LTS Download\\n\\n[\u539f\u6587\u94fe\u63a5](https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html)\\n\\n**Java SE Development Kit 17.0.1**\\n\\n* [Linux Arm 64 Compressed Archive - 171.13 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_linux-aarch64_bin.tar.gz)\\n* [Linux Arm 64 RPM Package - 153.16 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_linux-aarch64_bin.rpm)\\n* [Linux x64 Compressed Archive - 172.35 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_linux-x64_bin.tar.gz)\\n* [Linux x64 Debian Package - 148.02 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_linux-x64_bin.deb)\\n* [Linux x64 RPM Package - 154.78 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_linux-x64_bin.rpm)\\n* [macOS Arm 64 Compressed Archive - 166.88 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_macos-aarch64_bin.tar.gz)\\n* [macOS 64 DMG Installer - 166.11 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_macos-aarch64_bin.dmg)\\n* [macOS x64 Compressed Archive - 169.42 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_macos-x64_bin.tar.gz)\\n* [macOS x64 DMG Installer - 168.81 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_macos-x64_bin.dmg)\\n* [Windows x64 Compressed Archive - 170.66 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_windows-x64_bin.zip)\\n* [Windows x64 Installer - 152 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_windows-x64_bin.exe)\\n* [Windows x64 msi Installer - 150.89 MB](https://download.oracle.com/java/17/archive/jdk-17.0.1_windows-x64_bin.msi)"},{"id":"/2022/01/01/microsoft-pinyin-date","metadata":{"permalink":"/blog/2022/01/01/microsoft-pinyin-date","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-01-01-microsoft-pinyin-date.md","source":"@site/src/blog/2022-01-01-microsoft-pinyin-date.md","title":"\u5fae\u8f6f\u62fc\u97f3\u8f93\u5165\u6cd5\u81ea\u5b9a\u4e49\u65e5\u671f\u65f6\u95f4\u683c\u5f0f","description":"\u5fae\u8f6f\u62fc\u97f3\u8f93\u5165\u6cd5\u81ea\u5b9a\u4e49\u65e5\u671f\u65f6\u95f4\u683c\u5f0f","date":"2022-01-01T00:00:00.000Z","formattedDate":"January 1, 2022","tags":[{"label":"windows","permalink":"/blog/tags/windows"}],"readingTime":0.55,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u5fae\u8f6f\u62fc\u97f3\u8f93\u5165\u6cd5\u81ea\u5b9a\u4e49\u65e5\u671f\u65f6\u95f4\u683c\u5f0f","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["windows"],"description":"\u5fae\u8f6f\u62fc\u97f3\u8f93\u5165\u6cd5\u81ea\u5b9a\u4e49\u65e5\u671f\u65f6\u95f4\u683c\u5f0f","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"JDK LTS \u8def\u7ebf\u56fe\u53ca\u4e0b\u8f7d\u5730\u5740","permalink":"/blog/2022/01/06/jdk-roadmap-download"},"nextItem":{"title":"PowerShell \u5e38\u89c1\u95ee\u7b54","permalink":"/blog/2022/01/01/powershell-qa"}},"content":"\u4f9d\u6b21\u8fdb\u5165 **\u8bbe\u7f6e > \u65f6\u95f4\u548c\u8bed\u8a00 > \u8bed\u8a00 > \u9996\u9009\u8bed\u8a00 > \u4e2d\u6587(\u9009\u9879) > \u5fae\u8f6f\u62fc\u97f3(\u9009\u9879) > \u8bcd\u5e93\u548c\u81ea\u5b66\u4e60 > \u7528\u6237\u5b9a\u4e49\u7684\u77ed\u8bed(\u6dfb\u52a0\u6216\u7f16\u8f91\u81ea\u5b9a\u4e49\u77ed\u8bed) > \u6dfb\u52a0\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u77ed\u8bed(\u6dfb\u52a0)**\\n\\n\u5728**\u6dfb\u52a0\u77ed\u8bed**\u7684\u7a97\u53e3\u91cc\u8f93\u5165\u62fc\u97f3\uff08\u6bd4\u5982 `riqi`\uff09\uff0c\u7136\u540e**\u77ed\u8bed**\u91cc\u8f93\u5165 `%yyyy%-%MM%-%dd%`\u3002\\n\\n\u652f\u6301\u7684\u5176\u4ed6\u5360\u4f4d\u7b26\u5982\u4e0b:\\n* `yyyy` \u5e74\\n* `MM` \u6708\\n* `dd` \u65e5\\n* `HH` \u5c0f\u65f6\\n* `mm` \u5206\u949f\\n* `ss` \u79d2"},{"id":"/2022/01/01/powershell-qa","metadata":{"permalink":"/blog/2022/01/01/powershell-qa","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022-01-01-powershell-qa.md","source":"@site/src/blog/2022-01-01-powershell-qa.md","title":"PowerShell \u5e38\u89c1\u95ee\u7b54","description":"PowerShell \u5e38\u89c1\u95ee\u7b54","date":"2022-01-01T00:00:00.000Z","formattedDate":"January 1, 2022","tags":[{"label":"powershell","permalink":"/blog/tags/powershell"}],"readingTime":0.355,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"PowerShell \u5e38\u89c1\u95ee\u7b54","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["powershell"],"description":"PowerShell \u5e38\u89c1\u95ee\u7b54","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5fae\u8f6f\u62fc\u97f3\u8f93\u5165\u6cd5\u81ea\u5b9a\u4e49\u65e5\u671f\u65f6\u95f4\u683c\u5f0f","permalink":"/blog/2022/01/01/microsoft-pinyin-date"},"nextItem":{"title":"API Extractor \u4f7f\u7528","permalink":"/blog/2021/12/12/tsdoc-config"}},"content":"PowerShell \u5e38\u89c1\u95ee\u9898\u53ca\u89e3\u7b54\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5e38\u7528\u73af\u5883\u53d8\u91cf\\n\\n* `$PSHOME` \u5f53\u524d\u8fd0\u884c\u7684PowerShell\u7a0b\u5e8f\u5b89\u88c5\u76ee\u5f55, \u4e00\u822c `powershell.exe` \u6216\u8005 `pwsh.exe` \u6587\u4ef6\u5728\u8be5\u76ee\u5f55.\\n* `$PROFILE` \u6bcf\u6b21\u542f\u52a8 PowerShell \u4f1a\u8bdd\u4f1a\u6267\u884c\u7684\u811a\u672c, \u529f\u80fd\u7c7b\u4f3c\u4e8eLinux\u4e0a`.bashrc`\u6216\u8005`.bash_profile`\u529f\u80fd\u7684\u811a\u672c."},{"id":"/2021/12/12/tsdoc-config","metadata":{"permalink":"/blog/2021/12/12/tsdoc-config","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-12-12-tsdoc-config.md","source":"@site/src/blog/2021-12-12-tsdoc-config.md","title":"API Extractor \u4f7f\u7528","description":"\u4f7f\u7528API Extractor \u548c tsdoc \u751f\u6210 TypeScript \u9879\u76ee\u6587\u6863","date":"2021-12-12T00:00:00.000Z","formattedDate":"December 12, 2021","tags":[{"label":"typescript","permalink":"/blog/tags/typescript"},{"label":"tsdoc","permalink":"/blog/tags/tsdoc"},{"label":"api extractor","permalink":"/blog/tags/api-extractor"}],"readingTime":0.475,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"API Extractor \u4f7f\u7528","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["typescript","tsdoc","api extractor"],"description":"\u4f7f\u7528API Extractor \u548c tsdoc \u751f\u6210 TypeScript \u9879\u76ee\u6587\u6863","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"PowerShell \u5e38\u89c1\u95ee\u7b54","permalink":"/blog/2022/01/01/powershell-qa"},"nextItem":{"title":"TypeScript \u7c7b\u578b\u5b9a\u4e49\u5c0f\u6280\u5de7","permalink":"/blog/2021/11/28/typescript-type-define-skills"}},"content":"## \u5b89\u88c5eslint\\n\\n\u53c2\u8003[eslint-plugin-tsdoc](https://www.npmjs.com/package/eslint-plugin-tsdoc)\\n\\n\x3c!--truncate--\x3e\\n\\n```bash\\nnpm i -D @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-plugin-tsdoc\\n```\\n\\n```javascript title=\\".eslintrc.js\\"\\nmodule.exports =  {\\n  plugins: [\\n    \\"@typescript-eslint/eslint-plugin\\",\\n    \\"eslint-plugin-tsdoc\\"\\n  ],\\n  extends:  [\\n    \'plugin:@typescript-eslint/recommended\'\\n  ],\\n  parser:  \'@typescript-eslint/parser\',\\n  parserOptions: {\\n    project: \\"./tsconfig.json\\",\\n    tsconfigRootDir: __dirname,\\n    ecmaVersion: 2018,\\n    sourceType: \\"module\\"\\n  },\\n  rules: {\\n    \\"tsdoc/syntax\\": \\"warn\\"\\n  }\\n};\\n```\\n\\n## `api extractor` \u914d\u7f6e\\n\\n\u53c2\u8003 [API Extractor: Invoking API Extractor](https://api-extractor.com/pages/setup/invoking/)\\n\\n```bash\\nnpm i -D @microsoft/api-extractor\\nnpx api-extractor init\\nnpx api-extractor run --local --verbose\\n```\\n\\n\\n\u5176\u4ed6\u53c2\u8003\u6587\u6863 [\u524d\u7aef\u5f00\u53d1\u8005\u5982\u4f55\u7528 API Extractor \u7ba1\u7406 API\uff1f](https://zhuanlan.zhihu.com/p/434565485)"},{"id":"/2021/11/28/typescript-type-define-skills","metadata":{"permalink":"/blog/2021/11/28/typescript-type-define-skills","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-11-28-typescript-type-define-skills.md","source":"@site/src/blog/2021-11-28-typescript-type-define-skills.md","title":"TypeScript \u7c7b\u578b\u5b9a\u4e49\u5c0f\u6280\u5de7","description":"TypeScript \u51fd\u6570\u91cd\u8f7d\u5b9a\u4e49, \u51fd\u6570\u5c5e\u6027\u5b9a\u4e49","date":"2021-11-28T00:00:00.000Z","formattedDate":"November 28, 2021","tags":[{"label":"typescript","permalink":"/blog/tags/typescript"}],"readingTime":1.325,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"TypeScript \u7c7b\u578b\u5b9a\u4e49\u5c0f\u6280\u5de7","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["typescript"],"description":"TypeScript \u51fd\u6570\u91cd\u8f7d\u5b9a\u4e49, \u51fd\u6570\u5c5e\u6027\u5b9a\u4e49","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"API Extractor \u4f7f\u7528","permalink":"/blog/2021/12/12/tsdoc-config"},"nextItem":{"title":"\u300a\u56fe\u89e3HTTP\u300b\u7b14\u8bb0","permalink":"/blog/2021/11/18/book-tu-jie-http"}},"content":"TypeScript\u5b9a\u4e49\u5c0f\u6280\u5de7\\n\\n\\n\x3c!--truncate--\x3e\\n## \u51fd\u6570\u91cd\u8f7d\\n\\n[\u5f15\u7528\u6587\u6863](https://www.typescriptlang.org/docs/handbook/2/functions.html#function-overloads)\\n\\n```typescript title=\\"makeDate.ts\\"\\nexport function makeDate(timestamp: number): Date;\\nexport function makeDate(m: number, d: number, y: number): Date;\\nexport function makeDate(mOrTimestamp: number, d?: number, y?: number): Date {\\n  if (d !== undefined && y !== undefined) {\\n    return new Date(y, mOrTimestamp, d);\\n  } else {\\n    return new Date(mOrTimestamp);\\n  }\\n}\\nconst d1 = makeDate(12345678);\\nconst d2 = makeDate(5, 5, 5);\\nconst d3 = makeDate(1, 3);\\n```\\n\\n:::note\\n1. \u5982\u679c\u9700\u8981\u5bfc\u51fa(export)\u51fd\u6570, \u90a3\u6bcf\u4e2a\u51fd\u6570\u5b9a\u4e49\u90fd\u8981\u5bfc\u51fa(export)\\n2. \u5b9e\u9645\u4ee3\u7801\u5b9e\u73b0\u8981\u5199\u5728\u53c2\u6570\u6700\u591a\u90a3\u4e2a\u91cd\u8f7d\u5b9a\u4e49\u91cc\\n:::\\n\\n\u4e5f\u53ef\u4ee5\u501f\u52a9`interface`\u6216\u8005`type`\u5b9e\u73b0:\\n\\n```typescript title=\\"makeDate.ts\\"\\ninterface MakeDateDef {\\n  (val: string): Date\\n  (year: number, month: number): Date\\n}\\n\\nexport const makeDate: MakeDateDef = function(valOrYear: string | number, month?: number) {\\n  /**\\n  * \u5177\u4f53\u51fd\u6570\u5b9e\u73b0\\n  */\\n}\\n```\\n\\n## \u51fd\u6570\u5c5e\u6027/\u5b57\u6bb5\u5b9a\u4e49\\n\\n\u4f7f\u7528 `type` \u5b9a\u4e49\\n\\n```typescript title=\\"loadJs.ts\\"\\ntype LoadJsDef = {\\n  (src: string): Promise<string>\\n  __caches: { [key: string]: Promise<string> }\\n}\\nexport const loadJs: LoadJsDef = function (src: string) { \\n  /** \u51fd\u6570\u5b9e\u73b0*/ \\n  loadJs.__caches[\\"url\\"] = Promise.resolve(\\"values\\");\\n};\\nloadJs.__caches = { };\\n```\\n\\n\u6216\u8005\u4f7f\u7528 `interface`:\\n\\n```typescript title=\\"loadJs.ts\\"\\ninterface LoadJsDef {\\n  (src: string): Promise<string>\\n  __caches: { [key: string]: Promise<string> }\\n}\\nexport const loadJs: LoadJsDef = function (src: string) { \\n  /** \u51fd\u6570\u5b9e\u73b0*/ \\n  loadJs.__caches[\\"url\\"] = Promise.resolve(\\"values\\");\\n};\\nloadJs.__caches = { };\\n```"},{"id":"/2021/11/18/book-tu-jie-http","metadata":{"permalink":"/blog/2021/11/18/book-tu-jie-http","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-11-18-book-tu-jie-http.md","source":"@site/src/blog/2021-11-18-book-tu-jie-http.md","title":"\u300a\u56fe\u89e3HTTP\u300b\u7b14\u8bb0","description":"\u300a\u56fe\u89e3HTTP\u300b\u7b14\u8bb0","date":"2021-11-18T00:00:00.000Z","formattedDate":"November 18, 2021","tags":[{"label":"\u8bfb\u4e66\u7b14\u8bb0","permalink":"/blog/tags/\u8bfb\u4e66\u7b14\u8bb0"},{"label":"http","permalink":"/blog/tags/http"}],"readingTime":6.37,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u300a\u56fe\u89e3HTTP\u300b\u7b14\u8bb0","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["\u8bfb\u4e66\u7b14\u8bb0","http"],"description":"\u300a\u56fe\u89e3HTTP\u300b\u7b14\u8bb0","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"TypeScript \u7c7b\u578b\u5b9a\u4e49\u5c0f\u6280\u5de7","permalink":"/blog/2021/11/28/typescript-type-define-skills"},"nextItem":{"title":"\u521b\u5efa.Net Web API\u9879\u76ee","permalink":"/blog/2021/11/13/dotnet-web-api-starter"}},"content":"\u300a\u56fe\u89e3HTTP\u300b\u7b14\u8bb0\\n\\n\x3c!--truncate--\x3e\\n\\n## 6.2 HTTP \u9996\u90e8\u5b57\u6bb5\\n\\n\u5f53 HTTP \u62a5\u6587\u9996\u90e8\u4e2d\u51fa\u73b0\u4e86\u4e24\u4e2a\u6216\u4e24\u4e2a\u4ee5\u4e0a\u5177\u6709\u76f8\u540c\u9996\u90e8\u5b57\u6bb5\u540d\u65f6\u4f1a\u600e\u4e48\u6837? \u8fd9\u79cd\u60c5\u51b5\u5728\u89c4\u8303\u5185\u5c1a\u672a\u660e\u786e\uff0c\u6839\u636e\u6d4f\u89c8\u5668\u5185\u90e8\u5904\u7406\u903b\u8f91\u7684\u4e0d\u540c\uff0c\u7ed3\u679c\u53ef\u80fd\u5e76\u4e0d\u4e00\u81f4\u3002\u6709\u4e9b\u6d4f\u89c8\u5668\u4f1a\u4f18\u5148\u5904\u7406\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u9996\u90e8\u5b57\u6bb5\uff0c\u800c\u6709\u4e9b\u5219\u4f1a\u4f18\u5148\u5904\u7406\u6700\u540e\u51fa\u73b0\u7684\u9996\u90e8\u5b57\u6bb5\u3002\\n\\n## 6.3 HTTP/1.1 \u901a\u7528\u9996\u90e8\u5b57\u6bb5\\n\\n### Cache-Control\\n\\n\u901a\u8fc7`Cache-Control`\u6307\u4ee4\u53ef\u4ee5\u64cd\u4f5c\u7f13\u5b58\u7684\u5de5\u4f5c\u673a\u5236. \u6307\u4ee4\u7684\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u591a\u4e2a\u6307\u4ee4\u4e4b\u95f4\u901a\u8fc7\u9017\u53f7\u5206\u5272:\\n\\n```http\\nCache-Control: private, max-age=0, no-cache\\n```\\n\\n**`Cache-Control` \u652f\u6301\u7684\u6307\u4ee4\u6309\u8bf7\u6c42\u548c\u54cd\u5e94\u5206\u7c7b\u5982\u4e0b:**\\n\\n\u7f13\u5b58\u8bf7\u6c42(Request)\u6307\u4ee4: \\n\\n| \u6307\u4ee4 | \u53c2\u6570 | \u8bf4\u660e |\\n| - | - | - |\\n| no-cache | \u65e0 | \u5f3a\u5236\u5411\u6e90\u670d\u52a1\u5668\u518d\u6b21\u9a8c\u8bc1 |\\n| no-store |\\t\u65e0 | \u4e0d\u7f13\u5b58\u8bf7\u6c42\u6216\u54cd\u5e94\u7684\u4efb\u4f55\u5185\u5bb9 |\\n| max-age=[\u79d2] | \u5fc5\u9700 | \u54cd\u5e94\u7684\u6700\u5927Age\u503c |\\n| max-stale(=[\u79d2]) | \u53ef\u7701\u7565 | \u63a5\u6536\u5df2\u8fc7\u671f\u7684\u54cd\u5e94 |\\n| min-fresh=[\u79d2] | \u5fc5\u9700 | \u671f\u671b\u5728\u6307\u5b9a\u65f6\u95f4\u5185\u7684\u54cd\u5e94\u4ecd\u6709\u6548 |\\n| no-transform | \u65e0 | \u4ee3\u7406\u4e0d\u53ef\u66f4\u6539\u5a92\u4f53\u7c7b\u578b |\\n| only-if-cached | \u65e0 | \u4ece\u7f13\u5b58\u83b7\u53d6\u8d44\u6e90 |\\n| cache-extension |\\t- | \u65b0\u6307\u4ee4\u6807\u8bb0\uff08token\uff09 |\\n\\n\u7f13\u5b58\u54cd\u5e94(Response)\u6307\u4ee4:\\n\\n| \u6307\u4ee4 | \u53c2\u6570 | \u8bf4\u660e |\\n| - | - | - |\\n| public | \u65e0 | \u53ef\u5411\u4efb\u610f\u65b9\u63d0\u4f9b\u54cd\u5e94\u7684\u7f13\u5b58 |\\n| private | \u53ef\u7701\u7565 | \u4ec5\u5411\u7279\u5b9a\u7528\u6237\u8fd4\u56de\u54cd\u5e94 |\\n| no-cache | \u53ef\u7701\u7565 | \u7f13\u5b58\u524d\u5fc5\u987b\u5148\u786e\u8ba4\u5176\u6709\u6548\u6027 |\\n| no-store | \u65e0 | \u4e0d\u7f13\u5b58\u8bf7\u6c42\u6216\u54cd\u5e94\u7684\u4efb\u4f55\u5185\u5bb9 |\\n| no-transform | \u65e0 | \u4ee3\u7406\u4e0d\u53ef\u66f4\u6539\u5a92\u4f53\u7c7b\u578b |\\n| must-revalidate | \u65e0 | \u53ef\u7f13\u5b58\u4f46\u5fc5\u987b\u518d\u5411\u6e90\u670d\u52a1\u5668\u8fdb\u884c\u786e\u8ba4 |\\n| proxy-revalidate | \u65e0 | \u8981\u6c42\u4e2d\u95f4\u7f13\u5b58\u670d\u52a1\u5668\u5bf9\u7f13\u5b58\u7684\u54cd\u5e94\u6709\u6548\u6027\u518d\u8fdb\u884c\u786e\u8ba4 |\\n| max-age=[\u79d2] | \u5fc5\u9700 | \u54cd\u5e94\u7684\u6700\u5927Age\u503c |\\n| s-maxage=[\u79d2] | \u5fc5\u9700 | \u516c\u5171\u7f13\u5b58\u670d\u52a1\u5668\u54cd\u5e94\u7684\u6700\u5927Age\u503c |\\n| cache-extension | - | \u65b0\u6307\u4ee4\u6807\u8bb0\uff08token\uff09 |\\n\\n**\u662f\u5426\u80fd\u7f13\u5b58\u7684\u6307\u4ee4**\\n\\n`Cache-Control: public` \u6307\u4ee4, \u5219\u660e\u786e\u8868\u660e\u5176\u4ed6\u7528\u6237\u4e5f\u53ef\u5229\u7528\u7f13\u5b58(CDN\u670d\u52a1\u5668\u53ef\u4ee5\u7f13\u5b58\u8d44\u6e90, \u5e76\u8fd4\u56de\u7ed9\u6240\u6709\u7528\u6237.)\\n\\n`Cache-Control: private` \u6307\u4ee4\u8868\u793a\u54cd\u5e94\u53ea\u4ee5\u7279\u5b9a\u7684\u7528\u6237\u4f5c\u4e3a\u5bf9\u8c61, \u8fd9\u4e0e `public` \u6307\u4ee4\u7684\u884c\u4e3a\u76f8\u53cd. \u7f13\u5b58\u670d\u52a1\u5668(CDN)\u4f1a\u5bf9\u8be5\u7279\u5b9a\u7528\u6237\u63d0\u4f9b\u8d44\u6e90\u7f13\u5b58\u7684\u670d\u52a1. \u5bf9\u4e8e\u5176\u4ed6\u7528\u6237\u53d1\u9001\u8fc7\u6765\u7684\u8bf7\u6c42\uff0c\u4ee3\u7406\u670d\u52a1\u5668\u5219\u4e0d\u4f1a\u8fd4\u56de\u7f13\u5b58\u3002\\n\\n`Cache-Control: no-cache` \u6307\u4ee4\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u9632\u6b62\u4ece\u7f13\u5b58\u4e2d\u8fd4\u56de\u8fc7\u671f\u7684\u8d44\u6e90:\\n* \u5982\u679c\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u4e2d\u5982\u679c\u5305\u542b `no-cache` \u6307\u4ee4\uff0c\u5219\u8868\u793a\u5ba2\u6237\u7aef\u5c06\u4e0d\u4f1a\u63a5\u6536\u7f13\u5b58\u8fc7\u7684\u54cd\u5e94\u3002\u4e8e\u662f\uff0c\u201c\u4e2d\u95f4\u201d\u7684\u7f13\u5b58\u670d\u52a1\u5668\u5fc5\u987b\u628a\u5ba2\u6237\u7aef\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u6e90\u670d\u52a1\u5668\u3002\\n* \u5982\u679c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u4e2d\u5305\u542b `no-cache` \u6307\u4ee4\uff0c\u90a3\u4e48\u7f13\u5b58\u670d\u52a1\u5668\u4e0d\u80fd\u5bf9\u8d44\u6e90\u8fdb\u884c\u7f13\u5b58\u3002\u6e90\u670d\u52a1\u5668\u4ee5\u540e\u4e5f\u5c06\u4e0d\u518d\u5bf9\u7f13\u5b58\u670d\u52a1\u5668\u8bf7\u6c42\u4e2d\u63d0\u51fa\u7684\u8d44\u6e90\u6709\u6548\u6027\u8fdb\u884c\u786e\u8ba4\uff0c\u4e14\u7981\u6b62\u5176\u5bf9\u54cd\u5e94\u8d44\u6e90\u8fdb\u884c\u7f13\u5b58\u64cd\u4f5c\u3002\\n\\n:::caution \u6ce8\u610f\u4e8b\u9879\\n`no-cache` \u8868\u793a\u4e0d\u7f13\u5b58\u8fc7\u671f\u7684\u8d44\u6e90, \u7f13\u5b58\u4f1a\u5411\u6e90\u670d\u52a1\u5668\u8fdb\u884c\u6709\u6548\u671f\u786e\u8ba4\u540e\u5904\u7406\u8d44\u6e90, \u4e5f\u5c31\u662f\u8bf4CDN\u4e0d\u4f1a\u7f13\u5b58\u8be5\u8d44\u6e90. \\n:::\\n\\n**\u63a7\u5236\u53ef\u6267\u884c\u7f13\u5b58\u7684\u5bf9\u8c61\u7684\u6307\u4ee4**\\n\\n`Cache-Control: no-store` \u6307\u5b9a\u89c4\u5b9a\u7f13\u5b58\u4e0d\u80fd\u5728\u672c\u5730\u5b58\u50a8\u8bf7\u6c42\u6216\u54cd\u5e94\u7684\u4efb\u4e00\u90e8\u5206\\n\\n**\u6307\u5b9a\u7f13\u5b58\u671f\u9650\u548c\u8ba4\u8bc1\u7684\u6307\u4ee4**\\n\\n`Cache-Control: maxage=604800`(\u5355\u4f4d \uff1a\u79d2) \u6307\u5b9a\u8d44\u6e90\u4fdd\u5b58\u4e3a\u7f13\u5b58\u7684\u6700\u957f\u65f6\u95f4:\\n\\n* \u5f53\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u4e2d\u5305\u542b `max-age` \u6307\u4ee4\u65f6\uff0c\u7f13\u5b58\u670d\u52a1\u5668\u5c06\u4e0d\u5bf9\u8d44\u6e90\u7684\u6709\u6548\u6027\u518d\u4f5c\u786e\u8ba4\uff0c\u800c `max-age` \u6570\u503c\u4ee3\u8868\u8d44\u6e90\u4fdd\u5b58\u4e3a\u7f13\u5b58\u7684\u6700\u957f\u65f6\u95f4\u3002\\n* \u5f53\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u4e2d\u5305\u542b `max-age` \u6307\u4ee4\u65f6\uff0c\u5982\u679c\u5224\u5b9a\u7f13\u5b58\u8d44\u6e90\u7684\u7f13\u5b58\u65f6\u95f4\u6570\u503c\u6bd4\u6307\u5b9a\u65f6\u95f4\u7684\u6570\u503c\u66f4\u5c0f\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5c31\u63a5\u6536\u7f13\u5b58\u7684\u8d44\u6e90\u3002\u53e6\u5916\uff0c\u5f53\u6307\u5b9a `max-age` \u503c\u4e3a 0\uff0c\u90a3\u4e48\u7f13\u5b58\u670d\u52a1\u5668\u901a\u5e38\u9700\u8981\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u6e90\u670d\u52a1\u5668\u3002\\n\\n:::caution max-age \u548c Expires \u4f18\u5148\u7ea7\\n\u5e94\u7528 HTTP/1.1 \u7248\u672c\u7684\u7f13\u5b58\u670d\u52a1\u5668\u9047\u5230\u540c\u65f6\u5b58\u5728 `Expires` \u9996\u90e8\u5b57\u6bb5\u7684\u60c5\u51b5\u65f6\uff0c\u4f1a\u4f18\u5148\u5904\u7406 `max-age` \u6307\u4ee4\uff0c\u800c\u5ffd\u7565\u6389 `Expires` \u9996\u90e8\u5b57\u6bb5\u3002\u800c HTTP/1.0 \u7248\u672c\u7684\u7f13\u5b58\u670d\u52a1\u5668\u7684\u60c5\u51b5\u5374\u76f8\u53cd\uff0c`max-age` \u6307\u4ee4\u4f1a\u88ab\u5ffd\u7565\u6389\u3002\\n:::\\n\\n`Cache-Control: s-maxage=604800` s-maxage \u6307\u4ee4\u7684\u529f\u80fd\u548c max-age \u6307\u4ee4\u7684\u76f8\u540c\uff0c\u5b83\u4eec\u7684\u4e0d\u540c\u70b9\u662f s-maxage \u6307\u4ee4\u53ea\u9002\u7528\u4e8e\u4f9b\u591a\u4f4d\u7528\u6237\u4f7f\u7528\u7684\u516c\u5171\u7f13\u5b58\u670d\u52a1\u5668\u3002\u5f53\u4f7f\u7528 s-maxage \u6307\u4ee4\u540e\uff0c\u5219\u76f4\u63a5\u5ffd\u7565\u5bf9 Expires \u9996\u90e8\u5b57\u6bb5\u53ca max-age \u6307\u4ee4\u7684\u5904\u7406\u3002\\n\\n`Cache-Control: must-revalidate` \u6307\u4ee4\u8981\u6c42\u4ee3\u7406\u4f1a\u5411\u6e90\u670d\u52a1\u5668\u518d\u6b21\u9a8c\u8bc1\u5373\u5c06\u8fd4\u56de\u7684\u54cd\u5e94\u7f13\u5b58\u76ee\u524d\u662f\u5426\u4ecd\u7136\u6709\u6548\\n\\n`Cache-Control: proxy-revalidate` \u6307\u4ee4\u8981\u6c42\u6240\u6709\u7684\u7f13\u5b58\u670d\u52a1\u5668\u5728\u63a5\u6536\u5230\u5ba2\u6237\u7aef\u5e26\u6709\u8be5\u6307\u4ee4\u7684\u8bf7\u6c42\u8fd4\u56de\u54cd\u5e94\u4e4b\u524d\uff0c\u5fc5\u987b\u518d\u6b21\u9a8c\u8bc1\u7f13\u5b58\u7684\u6709\u6548\u6027\u3002\\n\\n`Cache-Control: no-transform` \u6307\u4ee4\u89c4\u5b9a\u65e0\u8bba\u662f\u5728\u8bf7\u6c42\u8fd8\u662f\u54cd\u5e94\u4e2d\uff0c\u7f13\u5b58\u90fd\u4e0d\u80fd\u6539\u53d8\u5b9e\u4f53\u4e3b\u4f53\u7684\u5a92\u4f53\u7c7b\u578b\u3002"},{"id":"/2021/11/13/dotnet-web-api-starter","metadata":{"permalink":"/blog/2021/11/13/dotnet-web-api-starter","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-11-13-dotnet-web-api-starter.md","source":"@site/src/blog/2021-11-13-dotnet-web-api-starter.md","title":"\u521b\u5efa.Net Web API\u9879\u76ee","description":"\u4f7f\u7528.Net CLI\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 Web API \u9879\u76ee","date":"2021-11-13T00:00:00.000Z","formattedDate":"November 13, 2021","tags":[{"label":".net","permalink":"/blog/tags/net"}],"readingTime":0.895,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u521b\u5efa.Net Web API\u9879\u76ee","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":[".net"],"description":"\u4f7f\u7528.Net CLI\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 Web API \u9879\u76ee","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u300a\u56fe\u89e3HTTP\u300b\u7b14\u8bb0","permalink":"/blog/2021/11/18/book-tu-jie-http"},"nextItem":{"title":"VMware Fusion Pro \u6ce8\u518c\u7801 \u5e8f\u5217\u53f7","permalink":"/blog/2021/10/16/VMware-fusion-pro"}},"content":"[\u53c2\u8003\u6587\u6863](https://docs.microsoft.com/en-us/aspnet/core/tutorials/first-web-api?view=aspnetcore-6.0&tabs=visual-studio-code)\\n\\n\x3c!--truncate--\x3e\\n\\n## \u8bbe\u7f6e\u73af\u5883\\n\\n1. \u4e0b\u8f7d\u5b89\u88c5 .Net Core Binary\\n2. \u8bbe\u7f6e\u4ee5\u4e0b\u73af\u5883\u53d8\u91cf\\n\\n```bash\\nexport DOTNET_ROOT=\\"/your_dotnet_binary_directory/\\" # \u6ce8\u610f\u8fd9\u91cc\u66ff\u6362\u6210\u4f60\u89e3\u538b\u540e\u7684.Net\u7a0b\u5e8f\u76ee\u5f55\\nexport PATH=\\"$PATH:$DOTNET_ROOT\\" # \u6dfb\u52a0.net\u5230PATH\uff0c\u65b9\u4fbf\u4f7f\u7528 dotnet cli\\nexport PATH=\\"$PATH:$HOME/.dotnet/tools\\" # \u6dfb\u52a0\u8fd9\u4e2a\u73af\u5883\u53d8\u91cf\u662f\u65b9\u4fbf\u540e\u9762\u4f7f\u7528 dotnet tool\\n```\\n\\n## \u521b\u5efa\u9879\u76ee\\n\\n\u4f7f\u7528\u4ee5\u4e0b\u811a\u672c\u521b\u5efa\u4e00\u4e2a\u65b0\u9879\u76ee:\\n\\n```bash\\ndotnet new webapi --no-https --name YourProjectName\\n```\\n\\n## \u4f7f\u7528\u811a\u624b\u67b6\u521b\u5efa\u63a7\u5236\u5668\\n\\n```bash\\ndotnet add package Microsoft.VisualStudio.Web.CodeGeneration.Design --prerelease\\ndotnet add package Microsoft.EntityFrameworkCore.Design --prerelease\\ndotnet add package Microsoft.EntityFrameworkCore.SqlServer --prerelease\\ndotnet tool install -g dotnet-aspnet-codegenerator --version 6.0.0-preview.7.21413.1\\ndotnet-aspnet-codegenerator controller -name TodoItemsController -async -api -m TodoItem -dc TodoContext -outDir Controllers\\n```\\n\\n## \u5176\u4ed6\u547d\u4ee4\\n\\n```bash\\ndotnet tool -g list # \u663e\u793a\u5168\u5c40\u5b89\u88c5\u7684 .net tool\\n```"},{"id":"/2021/10/16/VMware-fusion-pro","metadata":{"permalink":"/blog/2021/10/16/VMware-fusion-pro","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-10-16-VMware-fusion-pro.md","source":"@site/src/blog/2021-10-16-VMware-fusion-pro.md","title":"VMware Fusion Pro \u6ce8\u518c\u7801 \u5e8f\u5217\u53f7","description":"Fusion Pro \u4e0b\u8f7d\u5730\u5740","date":"2021-10-16T00:00:00.000Z","formattedDate":"October 16, 2021","tags":[{"label":"vmware","permalink":"/blog/tags/vmware"},{"label":"fusion","permalink":"/blog/tags/fusion"},{"label":"mac","permalink":"/blog/tags/mac"},{"label":"key","permalink":"/blog/tags/key"}],"readingTime":0.155,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"VMware Fusion Pro \u6ce8\u518c\u7801 \u5e8f\u5217\u53f7","tags":["vmware","fusion","mac","key"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u521b\u5efa.Net Web API\u9879\u76ee","permalink":"/blog/2021/11/13/dotnet-web-api-starter"},"nextItem":{"title":"React\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u7bad\u5934\u51fd\u6570\u9020\u6210\u7684\u91cd\u590d\u6e32\u67d3\u95ee\u9898","permalink":"/blog/2021/10/10/react-loop-bind-event"}},"content":"## Fusion Pro \u4e0b\u8f7d\u5730\u5740\\n\\n* [Fusion Evaluation](https://www.vmware.com/cn/products/fusion/fusion-evaluation.html)\\n* [\u76f4\u63a5\u4e0b\u8f7d\u94fe\u63a5](https://download3.vmware.com/software/fusion/file/VMware-Fusion-12.2.0-18760249_x86.dmg)\\n\\n\\n\x3c!--truncate--\x3e\\n\\n## Fusion Pro 12 \u8bb8\u53ef\u8bc1:\\n\\n* `ZF3R0-FHED2-M80TY-8QYGC-NPKYF`\\n* `YF390-0HF8P-M81RQ-2DXQE-M2UT6`\\n* `ZF71R-DMX85-08DQY-8YMNC-PPHV8`"},{"id":"/2021/10/10/react-loop-bind-event","metadata":{"permalink":"/blog/2021/10/10/react-loop-bind-event","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-10-10-react-loop-bind-event.md","source":"@site/src/blog/2021-10-10-react-loop-bind-event.md","title":"React\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u7bad\u5934\u51fd\u6570\u9020\u6210\u7684\u91cd\u590d\u6e32\u67d3\u95ee\u9898","description":"React\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u7bad\u5934\u51fd\u6570\u9020\u6210\u7684\u91cd\u590d\u6e32\u67d3\u95ee\u9898","date":"2021-10-10T00:00:00.000Z","formattedDate":"October 10, 2021","tags":[{"label":"react","permalink":"/blog/tags/react"},{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":2.42,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"React\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u7bad\u5934\u51fd\u6570\u9020\u6210\u7684\u91cd\u590d\u6e32\u67d3\u95ee\u9898","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["react","javascript"],"description":"React\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u7bad\u5934\u51fd\u6570\u9020\u6210\u7684\u91cd\u590d\u6e32\u67d3\u95ee\u9898","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"VMware Fusion Pro \u6ce8\u518c\u7801 \u5e8f\u5217\u53f7","permalink":"/blog/2021/10/16/VMware-fusion-pro"},"nextItem":{"title":"\u68c0\u6d4b\u662f\u5426\u662fpuppeteer\u8bbf\u95ee\u4ee5\u53ca\u5982\u4f55\u7834\u89e3","permalink":"/blog/2021/10/07/detect-puppeteer-browse"}},"content":"\u672c\u6587\u662f\u4ee5\u4e0b\u6587\u7ae0\u7684\u603b\u7ed3\\n\\n* [\u539f\u6587 \u4e2d\u6587](https://zhuanlan.zhihu.com/p/29266705)\\n* [\u539f\u6587 \u82f1\u6587](https://link.zhihu.com/?target=https%3A//medium.freecodecamp.org/why-arrow-functions-and-bind-in-reacts-render-are-problematic-f1c08b060e36)\\n\\n\x3c!--truncate--\x3e\\n\\n## \u95ee\u9898\u5f15\u5165\\n\\n```jsx title=\\"components/User.jsx\\"\\nimport React from \\"react\\";\\n\\nclass User extends React.PureComponent {\\n  render() {\\n    const { name, onDeleteClick, id } = this.props;\\n    console.log(`${name} just rendered`);\\n    return (\\n      <li>\\n        <input type=\\"button\\" value=\\"Delete\\" onClick={onDeleteClick} />\\n        {name}\\n      </li>\\n    );\\n  }\\n}\\n\\nexport default User;\\n```\\n\\n```jsx title=\\"App.jsx\\"\\nimport React from \\"react\\";\\nimport User from \\"./components/User\\";\\n\\nclass App extends React.Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      users: [\\n        { id: 1, name: \\"Cory\\" },\\n        { id: 2, name: \\"Meg\\" },\\n        { id: 3, name: \\"Bob\\" }\\n      ]\\n    };\\n  }\\n\\n  deleteUser = id => {\\n    this.setState(prevState => {\\n      return {\\n        users: prevState.users.filter(user => user.id !== id)\\n      };\\n    });\\n  };\\n\\n  render() {\\n    return (\\n      <div>\\n        <h1>Users</h1>\\n        <ul>\\n          {this.state.users.map(user => {\\n            return (\\n              <User\\n                key={user.id}\\n                name={user.name}\\n                id={user.id}\\n                onDeleteClick={() => this.deleteUser(user.id)}\\n              />\\n            );\\n          })}\\n        </ul>\\n      </div>\\n    );\\n  }\\n}\\nexport default App;\\n```\\n\\n\u5f53`state`\u6216\u8005`props`\u53d1\u751f\u53d8\u5316\u65f6, React\u4f1a\u6267\u884c\u7ec4\u4ef6\u7684`render`\u65b9\u6cd5. \\n\\n\u7528\u6237\u70b9\u51fb\u5220\u9664\u6309\u94ae\u4e4b\u540e\u89e6\u53d1\u4ee5\u4e0b\u6d41\u7a0b:\\n\\n1. \u89e6\u53d1 `onDeleteClick` \u4e8b\u4ef6\\n2. \u6267\u884c `() => this.deleteUser(id)`\\n3. `setState`\u65b9\u6cd5\u4fee\u6539`users`\u72b6\u6001\\n4. \u72b6\u6001\u53d1\u751f\u53d8\u5316, \u89e6\u53d1 `<App >`\u7ec4\u4ef6\u7684`render`\u65b9\u6cd5\\n5. `<App />`\u7ec4\u4ef6\u7684`render`\u65b9\u6cd5\u4f1a\u4f20\u9012\u65b0\u7684\u4e00\u4e2a\u7bad\u5934\u51fd\u6570\u7ed9`<User />`\u7ec4\u4ef6\u7684`onDeleteClick`\u5c5e\u6027\\n6. \u5bfc\u81f4`<User />`\u7684props\u53d1\u751f\u53d8\u5316, \u91cd\u65b0\u6267\u884c`<User />`\u7ec4\u4ef6\u7684`render`\u65b9\u6cd5\\n\\n\u539f\u56e0\u5c31\u662f\u7bad\u5934\u51fd\u6570\u6bcf\u6b21\u90fd\u662f\u65b0\u7684, \u5bfc\u81f4`<App />`\u7ec4\u4ef6\u6bcf\u6b21\u6267\u884c`render`\u53d1\u653e\u65f6, `<User />`\u7684`props`\u90fd\u4f1a\u53d1\u751f\u53d8\u5316.\\n\\n## \u89e3\u51b3\u65b9\u6848\\n\\n\u6587\u7ae0\u5f00\u59cb\u5f15\u7528\u7684\u535a\u6587\u91cc\u7ed9\u7684\u89e3\u51b3\u65b9\u6848\u662f`<User />`\u7ec4\u4ef6\u5185\u90e8\u8c03\u7528 `onDeleteClick`\u65b9\u6cd5\u65f6\u628aid\u4f20\u8fc7\u53bb:\\n\\n```jsx title=\\"components/User.jsx\\"\\n<input value=\\"Delete\\" onClick={() => this.onDeleteClick(this.props.id)} />\\n```\\n\\n```jsx title=\\"App.jsx\\"\\n<User key={user.id} name={user.name} id={user.id} onDeleteClick={this.deleteUser} />\\n```\\n\\n\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u6709\u4e2a\u7f3a\u9677, \u5c31\u662f\u5b50\u7ec4\u4ef6\u9700\u8981\u5173\u5fc3\u5165\u53c2, \u800c\u4e14\u90a3\u4e2a\u5165\u53c2\u53ef\u80fd\u662f\u5b50\u7ec4\u4ef6\u4e0d\u77e5\u9053\u7684.\\n\\n\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898, \u53ef\u4ee5\u7ed9state\u4e0a\u7684\u6bcf\u4e2auser\u6570\u636e\u6dfb\u52a0\u4e00\u4e2adelete\u51fd\u6570:\\n\\n```jsx title=\\"App.jsx\\"\\nclass App extends React.Component {\\n  constructor() {\\n    // ...\\n    this.state.users.forEach(item => {\\n      item.onDelete = () => {\\n        this.deleteUser(item.id);\\n      }\\n    });\\n    // ...\\n  }\\n  render() {\\n    // ...\\n    <User\\n      key={user.id}\\n      name={user.name}\\n      id={user.id}\\n      onDeleteClick={user.onDelete}\\n    />\\n    // ...\\n  }\\n}\\n```"},{"id":"/2021/10/07/detect-puppeteer-browse","metadata":{"permalink":"/blog/2021/10/07/detect-puppeteer-browse","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-10-07-detect-puppeteer-browse.md","source":"@site/src/blog/2021-10-07-detect-puppeteer-browse.md","title":"\u68c0\u6d4b\u662f\u5426\u662fpuppeteer\u8bbf\u95ee\u4ee5\u53ca\u5982\u4f55\u7834\u89e3","description":"\u4f7f\u7528JavaScript\u68c0\u6d4b\u662f\u5426\u662fpuppeteer\u7b49\u81ea\u52a8\u5316\u5de5\u5177\u8bbf\u95ee\u9875\u9762, \u4ee5\u53ca\u5982\u4f55\u7834\u89e3.","date":"2021-10-07T00:00:00.000Z","formattedDate":"October 7, 2021","tags":[{"label":"node.js","permalink":"/blog/tags/node-js"},{"label":"puppeteer","permalink":"/blog/tags/puppeteer"}],"readingTime":3.92,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u68c0\u6d4b\u662f\u5426\u662fpuppeteer\u8bbf\u95ee\u4ee5\u53ca\u5982\u4f55\u7834\u89e3","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["node.js","puppeteer"],"description":"\u4f7f\u7528JavaScript\u68c0\u6d4b\u662f\u5426\u662fpuppeteer\u7b49\u81ea\u52a8\u5316\u5de5\u5177\u8bbf\u95ee\u9875\u9762, \u4ee5\u53ca\u5982\u4f55\u7834\u89e3.","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"React\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u7bad\u5934\u51fd\u6570\u9020\u6210\u7684\u91cd\u590d\u6e32\u67d3\u95ee\u9898","permalink":"/blog/2021/10/10/react-loop-bind-event"},"nextItem":{"title":"\u5982\u4f55\u77e5\u9053 Node.js stream pipe \u5b8c\u6210","permalink":"/blog/2021/10/07/nodejs-stream-pipe-finish"}},"content":"\u6709\u51e0\u4e2abilibili\u89c6\u9891\u60f3\u4e0b\u8f7d\u4e0b\u6765, \u7f51\u4e0a\u627e\u4e86\u4e2a\u5de5\u5177[\u54d4\u54e9\u54d4\u54e9\u89c6\u9891\u89e3\u6790\u4e0b\u8f7d](https://bilibili.iiilab.com/), \u4f46\u662f\u4e0d\u652f\u6301\u591a\u4e2a\u89c6\u9891\u4e0b\u8f7d, \u4e3a\u4e86\u5feb\u901f\u4e0b\u8f7d, \u6253\u7b97\u5229\u7528puppeteer\u81ea\u52a8\u5316\u4e0b\u8f7d.\\n\\n\x3c!--truncate--\x3e\\n\\n## \u95ee\u9898\\n\\n\u7b80\u5355\u5199\u4e86\u4e00\u4e0bpuppeteer\u4e0b\u8f7d\u4ee3\u7801\u4f46\u662f\u4e00\u76f4\u4e0b\u8f7d\u5931\u8d25, \u7f51\u9875\u63d0\u793a\u8bf7\u4f7f\u7528\u63a8\u8350\u6d4f\u89c8\u5668\u4e0b\u8f7d\u7684\u9519\u8bef\u4fe1\u606f, \u6392\u67e5\u4e86\u4e0b\u4ee3\u7801\uff0c\u53d1\u73b0[\u54d4\u54e9\u54d4\u54e9\u89c6\u9891\u89e3\u6790\u4e0b\u8f7d](https://bilibili.iiilab.com/)\u901a\u8fc7\u5224\u65ad`navigator.webdriver`\u53d8\u91cf, \u68c0\u6d4b\u662f\u5426\u662f\u81ea\u52a8\u5316\u5de5\u5177\u8bbf\u95ee, \u4e3b\u8981\u68c0\u6d4b\u4ee3\u7801\u5982\u4e0b:\\n```javascript\\nfunction u(t, e) {\\n  if (!0 === window.navigator.webdriver || window.document.documentElement.getAttribute(\'webdriver\') || window.callPhantom || window._phantom) return md5(o + t + o);\\n  var n = e.charAt(t.charCodeAt(0) % e.length),\\n  r = e.charAt(t.charCodeAt(t.length - 1) % e.length);\\n  return md5(n + t + r)\\n}\\n```\\n\\n\u95ee\u9898\u5c31\u51fa\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b, \u4f7f\u7528puppeteer\u7b49UI\u81ea\u52a8\u5316\u5de5\u5177\u8bbf\u95ee\u7f51\u9875\u65f6, `navigator.webdriver`\u53d8\u91cf\u4e3a`true`, \u7136\u540e\u8fd9\u4e2a\u4e0b\u8f7d\u7f51\u7ad9\u68c0\u6d4b\u5230\u8fd9\u4e2a\u53d8\u91cf\u4e3a`true`\u65f6\u5c31\u4f7f\u7528\u7279\u6b8a\u7684md5\u503c, \u670d\u52a1\u5668\u7aef\u68c0\u6d4b\u5230\u8fd9\u4e2a\u503c\u5c31\u8fd4\u56de\u7ed9\u524d\u7aef\u63d0\u793a\u8bf7\u4f7f\u7528\u63a8\u8350\u7684\u6d4f\u89c8\u5668.\\n\\n## \u89e3\u51b3\\n\\n\u4e8e\u662f\u7f51\u4e0a\u641c\u4e86\u4e00\u4e0b\u600e\u4e48\u7834\u89e3, [can\'t set webdriver #6725](https://github.com/puppeteer/puppeteer/issues/6725), \u5176\u4e2d[vabaly](https://github.com/puppeteer/puppeteer/issues/6725#issuecomment-770313953)\u63d0\u5230\u4ee5\u4e0b\u89e3\u51b3\u65b9\u6848:\\n\\n> You can try to add argument `--disable-blink-features=AutomationControlled` when launch the browser:\\n```javascript\\nconst browser = await launch({\\n    // ...\\n    ignoreDefaultArgs: [\'--enable-automation\'],\\n    args: [\'--disable-blink-features=AutomationControlled\'],\\n    // ...\\n })\\n```\\n\\n## \u793a\u4f8b\u4ee3\u7801\\n\\n### puppeteer\\n\\n\u4e0b\u9762\u5c55\u793a\u4e00\u4e0b\u793a\u4f8b\u4ee3\u7801:\\n\\n```typescript title=\\"src/main.ts\\"\\nimport puppeteer from \\"puppeteer\\";\\nimport axios, { AxiosResponse } from \\"axios\\";\\nimport { Stream } from \\"stream\\";\\nimport fs from \\"fs\\";\\n\\nlet start: number = 88;\\nconst end: number = 172;\\nconst baseLink = \\"https://www.bilibili.com/video/BV1sQ4y1X7o8?p=\\";\\n\\nasync function download() {\\n    const browser = await puppeteer.launch({\\n        headless: false,\\n        ignoreDefaultArgs: [\'--enable-automation\'],\\n        args: [\'--disable-blink-features=AutomationControlled\'],\\n    });\\n    const page = await browser.newPage();\\n\\n    page.on(\\"response\\", async (response) => {\\n        const req = response.request();\\n        const url: string = req.url();\\n        const method = req.method();\\n        if (method === \\"POST\\" && url.includes(\\"/video/web/bilibili\\")) {\\n            const body: {\\n                data: {\\n                    text: string,\\n                    video: string\\n                }\\n            } = await response.json();\\n            try {\\n                const fileName = `p${start}-${body.data.text}`;\\n                print(`download url: ${body.data.video} -> ${fileName}`);\\n                await saveAs(body.data.video, fileName);\\n                await sleep(10);\\n                start++;\\n                await access(page)\\n            } catch (err) {\\n                console.log(body)\\n                console.warn(err)\\n            }\\n        }\\n    })\\n\\n    await page.goto(\\"https://bilibili.iiilab.com/\\");\\n    access(page);\\n}\\n\\nasync function access(page: puppeteer.Page) {\\n    if (start > end) {\\n      // \u4e0b\u8f7d\u7ed3\u675f\\n      process.exit();\\n    }\\n    const url = baseLink + start;\\n    page.reload();\\n    await page.waitForTimeout(5000);\\n    page.type(\\"#app input.link-input\\", url);\\n    await page.waitForTimeout(5000);\\n    page.click(\\"#app button.btn-default\\");\\n}\\nfunction sleep(seconds: number): Promise<void> {\\n    return new Promise(resolve => {\\n        setTimeout(() => {\\n            resolve();\\n        }, seconds * 1000);\\n    });\\n}\\n\\nasync function saveAs(url: string, fileName: string): Promise<void> {\\n    return new Promise(resolve => {\\n        print(`${fileName} download start`);\\n        axios({\\n            method: \\"GET\\",\\n            url: url,\\n            responseType: \\"stream\\"\\n        }).then((response: AxiosResponse<Stream>) => {\\n            response.data.pipe(fs.createWriteStream(`./${fileName}.mp4`))\\n                .on(\\"finish\\", () => {\\n                    resolve();\\n                    print(`${fileName} download finish`);\\n                });\\n        });\\n    });\\n}\\nfunction print(text: string) {\\n    console.log(`[${new Date().toLocaleString()}] ${text}`)\\n}\\n\\ndownload(); // \u5f00\u59cb\u6267\u884c\u4e0b\u8f7d\\n```\\n\\n```json title=\\"package.json\\"\\n{\\n  \\"dependencies\\": {\\n    \\"@msgpack/msgpack\\": \\"^2.4.0\\",\\n    \\"axios\\": \\"^0.22.0\\",\\n    \\"puppeteer\\": \\"^8.0.0\\",\\n    \\"tslib\\": \\"^2.1.0\\"\\n  },\\n  \\"devDependencies\\": {\\n    \\"@types/axios\\": \\"^0.14.0\\",\\n    \\"@types/node\\": \\"^16.10.3\\",\\n    \\"ts-node\\": \\"^9.1.1\\",\\n    \\"typescript\\": \\"^4.2.2\\"\\n  }\\n}\\n```\\n\\n```json title=\\"tsconfig.json\\"\\n{\\n    \\"compilerOptions\\": {\\n        \\"module\\": \\"commonjs\\",\\n        \\"declaration\\": false,\\n        \\"noImplicitAny\\": true,\\n        \\"skipLibCheck\\": true,\\n        \\"noUnusedLocals\\": false,\\n        \\"importHelpers\\": true,\\n        \\"removeComments\\": false,\\n        \\"emitDecoratorMetadata\\": true,\\n        \\"experimentalDecorators\\": true,\\n        \\"target\\": \\"ES2017\\",\\n        \\"sourceMap\\": true,\\n        \\"allowJs\\": false,\\n        \\"esModuleInterop\\": true,\\n        \\"moduleResolution\\": \\"Node\\",\\n        \\"baseUrl\\": \\"./\\",\\n        \\"resolveJsonModule\\": true,\\n        \\"outDir\\": \\"dist/\\",\\n        \\"typeRoots\\": [\\n            \\"./node_modules/*\\",\\n        ]\\n    },\\n    \\"include\\": [\\n        \\"src/**/*.ts\\",\\n    ],\\n    \\"exclude\\": [\\n        \\"node_modules\\"\\n    ]\\n}\\n```\\n\\n### Cypress\\n\\n\u4f7f\u7528Cypress\u53ef\u80fd\u66f4\u65b9\u4fbf\u4e00\u4e9b:\\n\\n```javascript title=\\"cypress/plugins/index.js\\"\\nmodule.exports = (on, config) => {\\n  // `on` is used to hook into various events Cypress emits\\n  // `config` is the resolved Cypress config\\n  on(\'before:browser:launch\', (browser = {}, launchOptions) => {\\n    // `args` is an array of all the arguments that will\\n    // be passed to browsers when it launches\\n    console.log(launchOptions.args) // print all current args\\n\\n    if (browser.family === \'chromium\' && browser.name !== \'electron\') {\\n      // auto open devtools\\n      launchOptions.args.push(\'--auto-open-devtools-for-tabs\')\\n      launchOptions.args.push(\\"--disable-blink-features=AutomationControlled\\")\\n    }\\n\\n    // whatever you return here becomes the launchOptions\\n    return launchOptions\\n  })\\n}\\n```\\n\u7136\u540e\u5c31\u662f\u5199\u7528\u4f8b\u4e0b\u8f7d\u9700\u8981\u7684\u89c6\u9891\u5c31\u662f, \u4ee3\u7801\u7c7b\u4f3c\u4e0a\u9762\u7684 puppeteer"},{"id":"/2021/10/07/nodejs-stream-pipe-finish","metadata":{"permalink":"/blog/2021/10/07/nodejs-stream-pipe-finish","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-10-07-nodejs-stream-pipe-finish.md","source":"@site/src/blog/2021-10-07-nodejs-stream-pipe-finish.md","title":"\u5982\u4f55\u77e5\u9053 Node.js stream pipe \u5b8c\u6210","description":"Node.js \u7684\u6d41\u8c03\u7528 pipe \u65b9\u6cd5\u4e4b\u540e\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u6d41, \u76d1\u542c\u8fd9\u4e2a\u65b0\u6d41\u7684finish\u4e8b\u4ef6\u5c31\u53ef\u4ee5\u77e5\u9053pipe\u5b8c\u6210\u4e86:","date":"2021-10-07T00:00:00.000Z","formattedDate":"October 7, 2021","tags":[{"label":"node.js","permalink":"/blog/tags/node-js"},{"label":"stream","permalink":"/blog/tags/stream"}],"readingTime":0.33,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u5982\u4f55\u77e5\u9053 Node.js stream pipe \u5b8c\u6210","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["node.js","stream"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u68c0\u6d4b\u662f\u5426\u662fpuppeteer\u8bbf\u95ee\u4ee5\u53ca\u5982\u4f55\u7834\u89e3","permalink":"/blog/2021/10/07/detect-puppeteer-browse"},"nextItem":{"title":"DOM Attributes in React 16","permalink":"/blog/2021/10/06/dom-attributes-in-react-16"}},"content":"Node.js \u7684\u6d41\u8c03\u7528 `pipe` \u65b9\u6cd5\u4e4b\u540e\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u6d41, \u76d1\u542c\u8fd9\u4e2a\u65b0\u6d41\u7684`finish`\u4e8b\u4ef6\u5c31\u53ef\u4ee5\u77e5\u9053pipe\u5b8c\u6210\u4e86:\\n\\n```typescript\\naxios({\\n    method: \\"GET\\",\\n    url: \\"https://www.bilibili.com/\\",\\n    responseType: \\"stream\\"\\n}).then((response: AxiosResponse<Stream>) => {\\n  const newStream = response.data.pipe(fs.createWriteStream(`./save-file.html`));\\n  newStream.on(\\"finish\\", () => {\\n    // \u8fd9\u91cc\u6d41pipe\u5df2\u7ecf\u5b8c\u6210\\n  });\\n});\\n```"},{"id":"/2021/10/06/dom-attributes-in-react-16","metadata":{"permalink":"/blog/2021/10/06/dom-attributes-in-react-16","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-10-06-dom-attributes-in-react-16.md","source":"@site/src/blog/2021-10-06-dom-attributes-in-react-16.md","title":"DOM Attributes in React 16","description":"\u5728\u8fc7\u53bb\uff0c React\u901a\u5e38\u5ffd\u7565\u672a\u77e5\u7684DOM\u5c5e\u6027\u3002 \u5982\u679c\u4f60\u5199\u7684JSX\u4f7f\u7528\u4e86React\u4e0d\u80fd\u8bc6\u522b\u7684\u5c5e\u6027\uff0c React\u5c06\u4f1a\u8df3\u8fc7\u5b83\uff0c \u6bd4\u5982\uff1a","date":"2021-10-06T00:00:00.000Z","formattedDate":"October 6, 2021","tags":[{"label":"react","permalink":"/blog/tags/react"},{"label":"\u8bd1\u6587","permalink":"/blog/tags/\u8bd1\u6587"}],"readingTime":3,"hasTruncateMarker":true,"authors":[{"name":"Dan Abramov","url":"https://twitter.com/dan_abramov"}],"frontMatter":{"title":"DOM Attributes in React 16","author":"Dan Abramov","author_url":"https://twitter.com/dan_abramov","tags":["react","\u8bd1\u6587"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5982\u4f55\u77e5\u9053 Node.js stream pipe \u5b8c\u6210","permalink":"/blog/2021/10/07/nodejs-stream-pipe-finish"},"nextItem":{"title":"\u4fee\u6539\u706b\u72d0\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u5b57\u4f53\u5927\u5c0f","permalink":"/blog/2021/08/10/mozilla-firefox-devtool-zoom"}},"content":"\u5728\u8fc7\u53bb\uff0c React\u901a\u5e38\u5ffd\u7565\u672a\u77e5\u7684DOM\u5c5e\u6027\u3002 \u5982\u679c\u4f60\u5199\u7684JSX\u4f7f\u7528\u4e86React\u4e0d\u80fd\u8bc6\u522b\u7684\u5c5e\u6027\uff0c React\u5c06\u4f1a\u8df3\u8fc7\u5b83\uff0c \u6bd4\u5982\uff1a\\n\x3c!--truncate--\x3e\\n```jsx\\n// Your code:\\n<div mycustomattribute=\\"something\\" />\\n```\\n\\n\u5c06\u4f1a\u6e32\u67d3\u6210\u4e00\u4e2a\u7a7a\u7684div\u5143\u7d20\uff0c\u5728React15\u4e2d\u3002\\n```jsx\\n// React 15 \u8f93\u51fa:\\n<div />\\n```\\n\\n\u5728React 16\u4e2d\uff0c \u6211\u4eec\u505a\u4e86\u6539\u53d8\u3002 \u73b0\u5728\u4efb\u4f55\u672a\u77e5\u7684\u5c5e\u6027\u90fd\u4f1a\u5728DOM\u4e2d\u51fa\u73b0\uff1a\\n```jsx\\n// React 16 \u8f93\u51fa:\\n<div mycustomattribute=\\"something\\" />\\n```\\n\\n## \u4e3a\u4ec0\u4e48\u6211\u4eec\u6539\u53d8\u4e86\u8fd9\u4e2a\u884c\u4e3a\\n\\nReact\u63d0\u4f9b\u4e86\u4e00\u5957\u57fa\u4e8eJS API\u6765\u751f\u6210DOM\u3002 \u56e0\u6b64React\u50cfDOM APIs\u4e00\u6837\u4f7f\u7528 *canelCase* \u7ea6\u5b9a\u6765\u64cd\u4f5cDOM\u76f8\u5173\u7684\u5c5e\u6027.\\n\\n```jsx\\n<div tabIndex={-1} />\\n```\\n\\n\u7136\u800c\u4e4b\u524d, \u6211\u4eec\u5728React DOM\u7c7b\u5e93\u4e2d\u7ef4\u62a4\u4e86DOM\u767d\u540d\u5355\u5c5e\u6027\u5217\u8868, \u5f3a\u5236\u5fc5\u987b\u4f7f\u7528\u8fd9\u4e9bDOM\u5c5e\u6027:\\n```javascript\\n// ...\\nsummary: \'summary\',\\ntabIndex: \'tabindex\'\\ntarget: \'target\',\\ntitle: \'title\',\\n// ...\\n```\\n\\n\u8fd9\u5bfc\u81f4\u4e24\u4e2a\u5f0a\u7aef:\\n* \u4f60\u4e0d\u80fd\u4f20\u9012\u4f7f\u7528[\u81ea\u5b9a\u4e49\u5c5e\u6027](https://github.com/facebook/react/issues/140). \u5bf9\u4e8e\u4f7f\u7528\u6d4f\u89c8\u5668\u4e13\u6709\u7684\u975e\u6807\u51c6\u5c5e\u6027, \u5c1d\u8bd5\u4f7f\u7528\u65b0\u7684DOM APIs, \u6216\u8005\u96c6\u6210\u7b2c\u4e09\u65b9\u7c7b\u5e93\u7b49\u573a\u666f, \u81ea\u5b9a\u4e49\u5c5e\u6027\u662f\u6709\u7528\u7684.\\n* \u968f\u7740\u65f6\u95f4\u7ef4\u62a4\u7684\u5c5e\u6027\u5217\u8868\u4e0d\u505c\u589e\u957f, \u5220\u9664\u5927\u90e8\u5206\u767d\u540d\u5355\u5c5e\u6027\u5217\u8868\u6709\u52a9\u4e8e\u51cf\u5c11\u7c7b\u5e93\u5c3a\u5bf8.\\n\\n\u968f\u7740React 16\u7684\u5230\u6765, \u4f60\u73b0\u5728\u53ef\u4ee5\u5411HTML\u6216\u8005SVG\u5143\u7d20\u4f20\u9012\u81ea\u5b9a\u4e49\u5c5e\u6027, \u800c\u4e14React\u4e0d\u518d\u5728\u751f\u4ea7\u73af\u5883\u5305\u542b\u6574\u4e2a\u767d\u540d\u5355\u5c5e\u6027\u5217\u8868.\\n\\n:::note\\n\u4f60\u4f9d\u7136\u53ef\u4ee5\u4f7f\u7528React\u63d0\u4f9b\u7684\u5df2\u77e5\u5c5e\u6027\u547d\u540d\\n:::\\n```jsx\\n// Yes, please\\n<div tabIndex={-1} />\\n\\n// Warning: Invalid DOM property `tabindex`. Did you mean `tabIndex`?\\n<div tabindex={-1} />\\n```\\n\\n\u603b\u800c\u8a00\u4e4b, React 16\u63d0\u4f9b\u4e86\u4e00\u4e9b\u517c\u5bb9, \u4f60\u5728React\u4e2d\u4f7f\u7528DOM\u7ec4\u4ef6\u7684\u65b9\u5f0f\u6ca1\u6709\u53d1\u751f\u6539\u53d8.\\n\\n## \u6211\u5e94\u8be5\u5728\u81ea\u5b9a\u4e49\u5c5e\u6027\u4e2d\u4fdd\u5b58\u6570\u636e\u5417\\n\\n\u6211\u4eec\u4e0d\u9f13\u52b1\u4f60\u5728DOM\u5c5e\u6027\u4e2d\u4fdd\u5b58\u6570\u636e. \u5373\u4fbf\u4e0d\u5f97\u5df2\u9700\u8981\u8fd9\u4e48\u505a, `data-` \u5c5e\u6027\u4e5f\u8bb8\u662f\u4e00\u4e2a\u66f4\u597d\u5730\u65b9\u5f0f, \u4f46\u662f\u5927\u90e8\u5206\u60c5\u51b5\u4e0b, \u5c5e\u6027\u5e94\u8be5\u4fdd\u5b58\u5728React\u7ec4\u4ef6\u7684\u72b6\u6001\u4e2d, \u6216\u8005\u5916\u90e8\u5b58\u50a8.\\n\\n\u5982\u679c\u4f60\u9700\u8981\u4f7f\u7528\u65b0\u7684\u6216\u8005\u975e\u6807\u51c6DOM\u5c5e\u6027, \u6216\u8005\u4f60\u9700\u8981\u96c6\u6210\u7b2c\u4e09\u65b9\u7c7b\u5e93, \u8fd9\u4e2a\u65b0\u7279\u6027\u5e26\u6765\u4e86\u4fbf\u5229.\\n\\n## Data \u548c ARIA \u5c5e\u6027\\n\\n\u5c31\u50cf\u4e0a\u9762\u8bf4\u7684, React\u5141\u8bb8\u4f60\u81ea\u7531\u4f20\u9012\u4f7f\u7528 `data-` \u548c `aria-` \u5c5e\u6027:\\n```jsx\\n<div data-foo=\\"42\\" />\\n<button aria-label=\\"Close\\" onClick={onClose} />\\n```\\n\\n> \u539f\u6587\u7ffb\u8bd1\u81ea [DOM Attributes in React 16 - September 08, 2017 by Dan Abramov](https://reactjs.org/blog/2017/09/08/dom-attributes-in-react-16.html)"},{"id":"/2021/08/10/mozilla-firefox-devtool-zoom","metadata":{"permalink":"/blog/2021/08/10/mozilla-firefox-devtool-zoom","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-08-10-mozilla-firefox-devtool-zoom.md","source":"@site/src/blog/2021-08-10-mozilla-firefox-devtool-zoom.md","title":"\u4fee\u6539\u706b\u72d0\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u5b57\u4f53\u5927\u5c0f","description":"\u4fee\u6539\u706b\u72d0\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u5b57\u4f53\u5927\u5c0f","date":"2021-08-10T00:00:00.000Z","formattedDate":"August 10, 2021","tags":[{"label":"mozilla","permalink":"/blog/tags/mozilla"},{"label":"firefox","permalink":"/blog/tags/firefox"},{"label":"browser","permalink":"/blog/tags/browser"}],"readingTime":0.165,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u4fee\u6539\u706b\u72d0\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u5b57\u4f53\u5927\u5c0f","tags":["mozilla","firefox","browser"],"description":"\u4fee\u6539\u706b\u72d0\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u5b57\u4f53\u5927\u5c0f","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"DOM Attributes in React 16","permalink":"/blog/2021/10/06/dom-attributes-in-react-16"},"nextItem":{"title":"Event Emitters in TypeScript","permalink":"/blog/2021/07/04/event-emitters-typescript"}},"content":"[\u4fee\u6539\u706b\u72d0\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u5b57\u4f53\u5927\u5c0f](https://stackoverflow.com/questions/27273389/increase-code-font-size-in-firefox-developer-tool)\\n\\nMaybe an easier way will be to open `about:config` and set `devtools.toolbox.zoomValue` to bigger value."},{"id":"/2021/07/04/event-emitters-typescript","metadata":{"permalink":"/blog/2021/07/04/event-emitters-typescript","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-07-04-event-emitters-typescript.md","source":"@site/src/blog/2021-07-04-event-emitters-typescript.md","title":"Event Emitters in TypeScript","description":"Ref: Event Emitters in TypeScript","date":"2021-07-04T00:00:00.000Z","formattedDate":"July 4, 2021","tags":[{"label":"typescript","permalink":"/blog/tags/typescript"},{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":1.5,"hasTruncateMarker":true,"authors":[{"name":"rjzaworski.com","title":"rjzaworski.com","url":"https://rjzaworski.com/2019/10/event-emitters-in-typescript","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Event Emitters in TypeScript","author":"rjzaworski.com","author_title":"rjzaworski.com","author_url":"https://rjzaworski.com/2019/10/event-emitters-in-typescript","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["typescript","javascript"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4fee\u6539\u706b\u72d0\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u5b57\u4f53\u5927\u5c0f","permalink":"/blog/2021/08/10/mozilla-firefox-devtool-zoom"},"nextItem":{"title":"JavaScript\u521b\u5efa\u6307\u5b9a\u6570\u91cf\u7684\u91cd\u590d\u5143\u7d20","permalink":"/blog/2021/06/27/javascript-create-an-array-with-repeat-element"}},"content":"[Ref: Event Emitters in TypeScript](https://rjzaworski.com/2019/10/event-emitters-in-typescript#:~:text=A%20TypeScript%20event%20emitter%20interface%20TypeScript%20can%20help,but%20it%E2%80%99s%20easy%20enough%20to%20implement%20your%20own.)\\n\\n\u4eceUI\u4ea4\u4e92\u5230Node.js\u7684\u6838\u5fc3\u4e8b\u4ef6\u5faa\u73af, \u57fa\u4e8e\u4e8b\u4ef6\u5faa\u73af\u662fJavaScript\u5f00\u53d1\u7684\u4e00\u90e8\u5206. \\n\\n\x3c!--truncate--\x3e\\n\\nTypeScript\u53ef\u4ee5\u8ba9\u4e8b\u4ef6\u9a71\u52a8\u7684\u7a0b\u5e8f\u663e\u5f0f\u58f0\u660e\u4ec0\u4e48\u4e8b\u4ef6\u4f1a\u88ab\u89e6\u53d1\u3002\u6709\u5927\u91cf[TypeScript event handlers](https://rjzaworski.com/2018/10/typescript-event-handlers)\u793a\u4f8b\uff0c\u4e0d\u8fc7\u81ea\u5df1\u4e5f\u53ef\u4ee5\u5f88\u5bb9\u6613\u5b9e\u73b0\u4e00\u4e2a\u3002 \u5173\u952e\u70b9\u662f\u4f7f\u7528\u4e00\u4e2a\u5df2\u77e5\u7684\u4ec0\u4e48\u4e8b\u4ef6\u4f1a\u89e6\u53d1\u7684map\u4f5c\u4e3a**Emitter**\u3002\\n\\n\u901a\u5e38\u4e00\u4e2a event emitter \u7684TypeScript\u7c7b\u578b\u5b9a\u4e49\u770b\u8d77\u6765\u50cf\u8fd9\u6837:\\n\\n```typescript\\ntype EventMap = Record<string, any>;\\n\\ntype EventKey<T extends EventMap> = string & keyof T;\\ntype EventReceiver<T> = (params: T) => void;\\n\\ninterface Emitter<T extends EventMap> {\\n  on<K extends EventKey<T>>\\n    (eventName: K, fn: EventReceiver<T[K]>): void;\\n  off<K extends EventKey<T>>\\n    (eventName: K, fn: EventReceiver<T[K]>): void;\\n  emit<K extends EventKey<T>>\\n    (eventName: K, params: T[K]): void;\\n}\\n```\\n\\n\u63a5\u4e0b\u6765\u5199\u4e00\u4e2a\u5b9e\u73b0 **Emitter** \u7684\u5c0f\u4f8b\u5b50 **eventEmitter** :\\n\\n```typescript\\n// `listeners` are unbounded -- don\'t use this in practice!\\nfunction eventEmitter<T extends EventMap>(): Emitter<T> {\\n  const listeners: {\\n    [K in keyof EventMap]?: Array<(p: EventMap[K]) => void>;\\n  } = {};\\n\\n  return {\\n    on(key, fn) {\\n      listeners[key] = (listeners[key] || []).concat(fn);\\n    },\\n    off(key, fn) {\\n      listeners[key] = (listeners[key] || []).filter(f => f !== fn);\\n    },\\n    emit(key, data) {\\n      (listeners[key] || []).forEach(function(fn) {\\n        fn(data);\\n      });\\n    },\\n  };\\n}\\n```\\n\\n\u5f53\u6211\u4eec\u4f7f\u7528 **eventEmitter** \u4ea7\u751f\u4e00\u4e2a\u65b0\u7684 emitter \u65f6\uff0c \u6211\u4eec\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2aemitter\u5c06\u4f1a\u89e6\u53d1\u7684\u4e8b\u4ef6\u5217\u8868: \\n\\n```typescript\\nconst emitter = eventEmitter<{\\n  data: Buffer | string;\\n  end: undefined;\\n}>();\\n```"},{"id":"/2021/06/27/javascript-create-an-array-with-repeat-element","metadata":{"permalink":"/blog/2021/06/27/javascript-create-an-array-with-repeat-element","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-06-27-javascript-create-an-array-with-repeat-element.md","source":"@site/src/blog/2021-06-27-javascript-create-an-array-with-repeat-element.md","title":"JavaScript\u521b\u5efa\u6307\u5b9a\u6570\u91cf\u7684\u91cd\u590d\u5143\u7d20","description":"\u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u6307\u5b9a\u6570\u91cf\u7684\u91cd\u590d\u5143\u7d20 Create an array with same element repeated multiple times","date":"2021-06-27T00:00:00.000Z","formattedDate":"June 27, 2021","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"}],"readingTime":0.595,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"JavaScript\u521b\u5efa\u6307\u5b9a\u6570\u91cf\u7684\u91cd\u590d\u5143\u7d20","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["javascript"],"description":"\u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u6307\u5b9a\u6570\u91cf\u7684\u91cd\u590d\u5143\u7d20 Create an array with same element repeated multiple times","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Event Emitters in TypeScript","permalink":"/blog/2021/07/04/event-emitters-typescript"},"nextItem":{"title":"\u4f7f\u7528Docker\u8fd0\u884cApache Kafka","permalink":"/blog/2021/05/25/kafka-docker-setup"}},"content":"JavaScript\u4e2d\uff0c\u5982\u679c\u521b\u5efa\u91cd\u590d\u7684\u5143\u7d20, \u539f\u95ee\u9898: [https://stackoverflow.com/questions/12503146/create-an-array-with-same-element-repeated-multiple-times](https://stackoverflow.com/questions/12503146/create-an-array-with-same-element-repeated-multiple-times)\\n\\n\x3c!--truncate--\x3e\\n\\n\u4e0b\u9762\u7684\u573a\u666f\u662f\u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\uff0c\u6570\u7ec4\u91cc\u5305\u542b`5`\u4e2a\u91cd\u590d\u7684\u5143\u7d20`2`:\\n\\n## Array.from\\n\\n```js\\nArray.from({ length: 5 }).map(x => 2)\\nArray.from({ length: 5 }, i => 2) \\nArray.from({ length: 5 }, (e, i) => i)  // => 0, 1, 2, 3, 4\\n```\\n\\n## [fill](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/fill)\\n\\n```js\\nArray(5).fill(2)\\n```\\n\\n## Array.apply\\n\\n```js\\nArray.apply(null, Array(5)).map(() => 2)\\n```\\n\\n## Expand\\n\\n```js\\n[...Array(5)].map(() => 2)\\n```\\n\\n## join + split\\n\\n```js\\nArray(5).join(\\"2\\").split(\\"\\")\\n```\\n\\n## flat\\n\\n```js\\nArray(3).fill([\'a\',\'b\',\'c\']).flat()  // => Array(9) [ \\"a\\", \\"b\\", \\"c\\", \\"a\\", \\"b\\", \\"c\\", \\"a\\", \\"b\\", \\"c\\" ]\\n```"},{"id":"/2021/05/25/kafka-docker-setup","metadata":{"permalink":"/blog/2021/05/25/kafka-docker-setup","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-05-25-kafka-docker-setup.md","source":"@site/src/blog/2021-05-25-kafka-docker-setup.md","title":"\u4f7f\u7528Docker\u8fd0\u884cApache Kafka","description":"Ref Guide to Setting Up Apache Kafka Using Docker","date":"2021-05-25T00:00:00.000Z","formattedDate":"May 25, 2021","tags":[{"label":"kafka","permalink":"/blog/tags/kafka"},{"label":"docker","permalink":"/blog/tags/docker"}],"readingTime":2.765,"hasTruncateMarker":true,"authors":[{"name":"Baedldung","url":"https://www.baeldung.com/ops/kafka-docker-setup"}],"frontMatter":{"title":"\u4f7f\u7528Docker\u8fd0\u884cApache Kafka","author":"Baedldung","author_url":"https://www.baeldung.com/ops/kafka-docker-setup","tags":["kafka","docker"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"JavaScript\u521b\u5efa\u6307\u5b9a\u6570\u91cf\u7684\u91cd\u590d\u5143\u7d20","permalink":"/blog/2021/06/27/javascript-create-an-array-with-repeat-element"},"nextItem":{"title":"Bash\u5feb\u6377\u952e\u5217\u8868","permalink":"/blog/2021/05/18/bash-shortcuts"}},"content":"[Ref Guide to Setting Up Apache Kafka Using Docker](https://www.baeldung.com/ops/kafka-docker-setup)\\n\\n## \u524d\u8a00\\n\\n\u5728\u8f6f\u4ef6\u9886\u57df\uff0cDocker\u662f\u521b\u5efa\u3001\u6253\u5305\u3001\u90e8\u7f72\u5e94\u7528\u7684\u6700\u53d7\u6b22\u8fce\u7684\u5bb9\u5668\u5f15\u64ce\u4e4b\u4e00\u3002\u672c\u6559\u7a0b\u6211\u4eec\u4f1a\u5b66\u4e60\u5982\u4f55\u4f7f\u7528Docker\u8fd0\u884cKafka\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5355\u5b9e\u4f8b\u6a21\u5f0f\\n\\n\u5728\u672c\u5730\u5f00\u53d1\uff0c\u5355\u4e2aKafka broker\u66f4\u7b80\u5355\u65b9\u4fbf\u3002\\n\\n## *docker-compose.yml* \u914d\u7f6e \\n\\n\u4e3a\u4e86\u542f\u52a8\u4e00\u4e2akafka broker\uff0c\u9700\u8981\u5148\u542f\u52a8\u4e00\u4e2aZookeeper\u670d\u52a1\u3002 \u6211\u4eec\u5728*docker-compose.yml*\u6587\u4ef6\u4e2d\u914d\u7f6e\u8fd9\u4e2a\u4f9d\u8d56\uff0c \u8fd9\u6837\u4fdd\u8bc1\u5728\u542f\u52a8Kafka\u670d\u52a1\u4e4b\u524d\u786e\u4fddZookeeper\u670d\u52a1\u5df2\u7ecf\u542f\u52a8\u3002\\n\\n\u4e0b\u9762\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684*docker-compose.yml*\u6587\u4ef6\uff0c\u5305\u542b\u4e24\u4e2a\u670d\u52a1\uff0c\u547d\u540d\u4e3a *zookeeper* \u548c *kafka*\uff1a\\n\\n```yml title=\\"docker-compose.yml\\"\\nversion: \'2\'\\nservices:\\n  zookeeper:\\n    image: confluentinc/cp-zookeeper:latest\\n    environment:\\n      ZOOKEEPER_CLIENT_PORT: 2181\\n      ZOOKEEPER_TICK_TIME: 2000\\n    ports:\\n      - 22181:2181\\n  \\n  kafka:\\n    image: confluentinc/cp-kafka:latest\\n    depends_on:\\n      - zookeeper\\n    ports:\\n      - 29092:29092\\n    environment:\\n      KAFKA_BROKER_ID: 1\\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092\\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\\n```\\n\\n\u5728\u4e0a\u9762\u7684\u914d\u7f6e\u4e2d\uff0c\u5bf9\u4e8e\u540c\u5bb9\u5668\u7684*kafka*\u670d\u52a1\uff0czookeeper\u670d\u52a1\u66b4\u9732\u7684\u7684\u662f*2181*\u7aef\u53e3\u53f7\u3002\u800c\u5bf9\u4e8e\u8fd0\u884c\u5728\u4e3b\u673a\u4e0a\u7684\u5176\u4ed6\u5ba2\u6237\u7aef\uff0ckafka\u66b4\u9732\u7684\u662f*22181*\u7aef\u53e3\u53f7\u3002\\n\\n\u7c7b\u4f3c\u7684kafka\u901a\u8fc7\u7aef\u53e3\u53f7*29092*\u66b4\u9732\u7ed9\u4e3b\u673a\u5e94\u7528\uff0c\u4f46\u662f\u5728\u5bb9\u5668\u73af\u5883\u4e2d\u4f7f\u7528**KAFKA_ADVERTISED_LISTENERS**\u914d\u7f6e\u9879\u4f7f\u7528\u7684\u662f*9092*\u7aef\u53e3\u53f7\u3002\\n\\n### \u542f\u52a8Kafka\u670d\u52a1\\n\\n\u4e0b\u9762\u4f7f\u7528 *docker-compose* \u547d\u4ee4\u542f\u52a8kafka\u670d\u52a1:\\n```bash\\ndocker-compose up -d\\n```\\n\\n\u7136\u540e\u4f7f\u7528*nc*\u547d\u4ee4\u9a8c\u8bc1\u4e24\u4e2a\u670d\u52a1\u76d1\u542c\u4e86\u9884\u671f\u7684\u7aef\u53e3\u53f7:\\n```bash\\nnc -z localhost 22181\\nnc -z localhost 29092\\n```\\n\\n\u4e5f\u53ef\u4ee5\u901a\u8fc7\u67e5\u770bkafka\u542f\u52a8\u65e5\u5fd7\u67e5\u770b\u662f\u5426\u8fd0\u884c\u4e86:\\n```bash\\ndocker-compose logs kafka | grep -i started\\n```\\n\\n\u73b0\u5728kafka\u670d\u52a1\u5c31\u7eea\u53ef\u4ee5\u4f7f\u7528\u4e86\u3002\\n\\n### \u4f7f\u7528Kafka Tool\u8fde\u63a5Kafka\\n\\n\u53ef\u4ee5\u4f7f\u7528[Kafka Tool](https://kafkatool.com/download.html) GUI \u5ba2\u6237\u7aef\u5de5\u5177\u5efa\u7acb\u548cKafka\u670d\u52a1\u7684\u8fde\u63a5.\\n\\n## Kafka\u96c6\u7fa4\u8bbe\u7f6e\\n\\n\u4e0b\u9762\u901a\u8fc7\u6269\u5c55 *docker-compose.yml* \u6587\u4ef6\u521b\u5efa\u914d\u7f6e\u591a\u8282\u70b9Kafka\u96c6\u7fa4\u3002\\n\\n### *docker-compose.yml* \u914d\u7f6e\\n\\n\u4e0b\u9762\u914d\u7f6e\u591a\u4e2aZookeeper\u548cKafka\u670d\u52a1:\\n\\n```yml title=\\"docker-compose.yml\\"\\nversion: \'2\'\\nservices:\\n  zookeeper-1:\\n    image: confluentinc/cp-zookeeper:latest\\n    environment:\\n      ZOOKEEPER_CLIENT_PORT: 2181\\n      ZOOKEEPER_TICK_TIME: 2000\\n    ports:\\n      - 22181:2181\\n\\n  zookeeper-2:\\n    image: confluentinc/cp-zookeeper:latest\\n    environment:\\n      ZOOKEEPER_CLIENT_PORT: 2181\\n      ZOOKEEPER_TICK_TIME: 2000\\n    ports:\\n      - 32181:2181\\n  \\n  kafka-1:\\n    image: confluentinc/cp-kafka:latest\\n    depends_on:\\n      - zookeeper-1\\n      - zookeeper-2\\n\\n    ports:\\n      - 29092:29092\\n    environment:\\n      KAFKA_BROKER_ID: 1\\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper-1:2181,zookeeper-2:2181\\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka-1:9092,PLAINTEXT_HOST://localhost:29092\\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\\n  kafka-2:\\n    image: confluentinc/cp-kafka:latest\\n    depends_on:\\n      - zookeeper-1\\n      - zookeeper-2\\n    ports:\\n      - 39092:39092\\n    environment:\\n      KAFKA_BROKER_ID: 2\\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper-1:2181,zookeeper-2:2181\\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka-2:9092,PLAINTEXT_HOST://localhost:39092\\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\\n```\\n\\n\u670d\u52a1\u540d\u79f0\u548c *KAFKA_BROKER_ID* \u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002\u6bcf\u4e2a\u670d\u52a1\u5fc5\u987b\u66b4\u9732\u51fa\u4e00\u4e2a\u552f\u4e00\u7684\u7aef\u53e3\u53f7\u7ed9\u4e3b\u673a\u3002"},{"id":"/2021/05/18/bash-shortcuts","metadata":{"permalink":"/blog/2021/05/18/bash-shortcuts","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-05-18-bash-shortcuts.md","source":"@site/src/blog/2021-05-18-bash-shortcuts.md","title":"Bash\u5feb\u6377\u952e\u5217\u8868","description":"bash\u5feb\u6377\u952e\u5217\u8868","date":"2021-05-18T00:00:00.000Z","formattedDate":"May 18, 2021","tags":[{"label":"bash","permalink":"/blog/tags/bash"}],"readingTime":4.145,"hasTruncateMarker":true,"authors":[{"name":"tuxfight3r","url":"https://gist.github.com/tuxfight3r"}],"frontMatter":{"title":"Bash\u5feb\u6377\u952e\u5217\u8868","author":"tuxfight3r","author_url":"https://gist.github.com/tuxfight3r","tags":["bash"],"description":"bash\u5feb\u6377\u952e\u5217\u8868","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4f7f\u7528Docker\u8fd0\u884cApache Kafka","permalink":"/blog/2021/05/25/kafka-docker-setup"},"nextItem":{"title":"\u89e3\u51b3 macOS \u7cfb\u7edf xcrun error invalid active developer path \u5f02\u5e38","permalink":"/blog/2021/05/17/mac-xcrun-error"}},"content":"[Ref Bash Shortcuts](https://gist.github.com/tuxfight3r/60051ac67c5f0445efee)\\n\\n\x3c!--truncate--\x3e\\n\\nBash Shortcuts\\n==============\\n\\n![visual cheetsheet](https://raw.githubusercontent.com/fliptheweb/bash-shortcuts-cheat-sheet/master/moving_cli.png)\\n\\n## Moving\\n\\n| command  | description                    |\\n|----------|--------------------------------|\\n| ctrl + a | Goto BEGINNING of command line |\\n| ctrl + e | Goto END of command line       |\\n| ctrl + b | move back one character        |\\n| ctrl + f | move forward one character     |\\n| alt + f  | move cursor FORWARD one word   |\\n| alt + b  | move cursor BACK one word      |\\n| ctrl + xx | Toggle between the start of line and current cursor position |\\n| ctrl + ] + x\\t | Where x is any character, moves the cursor forward to the next occurance of x |\\n| alt + ctrl + ] + x  | Where x is any character, moves the cursor backwards to the previous occurance of x |\\n\\n## Edit / Other\\n\\n| command  | description                    |\\n|----------|--------------------------------|\\n| ctrl + d          | Delete the character under the cursor |\\n| ctrl + h          | Delete the previous character before cursor |\\n| ctrl + u          | Clear all / cut BEFORE cursor |\\n| ctrl + k          | Clear all / cut AFTER cursor |\\n| ctrl + w          | delete the word BEFORE the cursor |\\n| alt + d           | delete the word FROM the cursor |\\n| ctrl + y          | paste (if you used a previous command to delete) |\\n| ctrl + i          | command completion like Tab\\n| ctrl + l          | Clear the screen (same as clear command) |\\n| ctrl + c          | kill whatever is running |\\n| ctrl + d          | Exit shell (same as exit command when cursor line is empty) |\\n| ctrl + z          | Place current process in background |\\n| ctrl + _          | Undo |\\n| ctrl + x ctrl + u\\t| Undo the last changes. ctrl+ _ does the same |\\n| ctrl + t          | Swap the last two characters before the cursor |\\n| esc + t           | Swap last two words before the cursor |\\n| alt + t           | swap current word with previous |\\n| esc + .           | |\\n| esc + _           | |\\n| alt + [Backspace] | delete PREVIOUS word |\\n| alt + <           | Move to the first line in the history |\\n| alt + >           | Move to the end of the input history, i.e., the line currently being entered |\\n| alt + ?           | display the file/folder names in the current path as help |\\n| alt + *           | print all the file/folder names in the current path as parameter |\\n| alt + .           | print the LAST ARGUMENT (ie \\"vim file1.txt file2.txt\\" will yield \\"file2.txt\\") |\\n| alt + c           | capitalize the first character to end of word starting at cursor (whole word if cursor is at the beginning of word)|\\n| alt + u           | make uppercase from cursor to end of word |\\n| alt + l           | make lowercase from cursor to end of word |\\n| alt + n           | |\\n| alt + p           | Non-incremental reverse search of history. |\\n| alt + r           |Undo all changes to the line|\\n| alt + ctl + e     |Expand command line. |\\n| ~[TAB][TAB]       | List all users |\\n| $[TAB][TAB]       | List all system variables |\\n| @[TAB][TAB]       | List all entries in your /etc/hosts file |\\n| [TAB]             | Auto complete |\\n| cd -              | change to PREVIOUS working directory |\\n\\n## History\\n\\n| command  | description                    |\\n|----------|--------------------------------|\\n| ctrl + r          | Search backward starting at the current line and moving \'up\' through the history as necessary |\\n| crtl + s          | Search forward starting at the current line and moving \'down\' through the history as necessary |\\n| ctrl + p          | Fetch the previous command from the history list, moving back in the list (same as up arrow) |\\n| ctrl + n          | Fetch the next command from the history list, moving forward in the list (same as down arrow) |\\n| ctrl + o          | Execute the command found via Ctrl+r or Ctrl+s |\\n| ctrl + g          | Escape from history searching mode |\\n| !!                | Run PREVIOUS command (ie `sudo !!`) |\\n| !vi               | Run PREVIOUS command that BEGINS with vi |\\n| !vi:p             | Print previously run command that BEGINS with vi |\\n| !n\\t\\t            | Execute nth command in history |\\n| !$\\t\\t            | Last argument of last command |\\n| !^\\t\\t            | First argument of last command |\\n| ^abc^xyz\\t        | Replace first occurance of abc with xyz in last command and execute it |\\n\\n# Kill a job\\n\\nn = job number, to list jobs, run `jobs`\\n\\n```bash\\nkill %n\\n```\\n\\nExample:\\n\\n```bash\\nkill %1\\n```\\n\\n## References\\n\\n1. http://cnswww.cns.cwru.edu/php/chet/readline/readline.html\\n2. https://github.com/fliptheweb/bash-shortcuts-cheat-sheet/blob/master/README.md"},{"id":"/2021/05/17/mac-xcrun-error","metadata":{"permalink":"/blog/2021/05/17/mac-xcrun-error","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-05-17-mac-xcrun-error.md","source":"@site/src/blog/2021-05-17-mac-xcrun-error.md","title":"\u89e3\u51b3 macOS \u7cfb\u7edf xcrun error invalid active developer path \u5f02\u5e38","description":"ref How to fix Mac OS invalid active developer path, missing xcrun","date":"2021-05-17T00:00:00.000Z","formattedDate":"May 17, 2021","tags":[{"label":"mac","permalink":"/blog/tags/mac"}],"readingTime":0.445,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u89e3\u51b3 macOS \u7cfb\u7edf xcrun error invalid active developer path \u5f02\u5e38","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["mac"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Bash\u5feb\u6377\u952e\u5217\u8868","permalink":"/blog/2021/05/18/bash-shortcuts"},"nextItem":{"title":"Termux\u914d\u7f6e\u6e05\u534e\u5927\u5b66\u5f00\u6e90\u955c\u50cf","permalink":"/blog/2021/05/17/termux-mirror"}},"content":"[ref How to fix Mac OS: xcrun error: invalid active developer path, missing xcrun](https://www.bpetersen.dk/post/how-to-fix-mac-os-xcrun-error-invalid-active-developer-path-missing-xcrun)\\n\\n\x3c!--truncate--\x3e\\n\\n\u5347\u7ea7\u5b8cmac\u7cfb\u7edf\u4e4b\u540e\u8fd0\u884c zsh, python3, git \u7b49\u547d\u4ee4\u63d0\u793a\u4ee5\u4e0b\u9519\u8bef:\\n\\n```\\nxcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun\\n```\\n\\n\u89e3\u51b3\u529e\u6cd5\u662f\u6253\u5f00\u7ec8\u7aef\u6267\u884c: `xcode-select --install`, \u6216\u8005\u624b\u52a8\u5b89\u88c5 XCode.\\n\\n\u5982\u679c\u5df2\u7ecf\u5b89\u88c5\u4e86\u8fd8\u662f\u4e0d\u884c\uff0c\u6267\u884c `sudo xcode-select --reset` \u91cd\u7f6e\u4e00\u4e0b."},{"id":"/2021/05/17/termux-mirror","metadata":{"permalink":"/blog/2021/05/17/termux-mirror","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-05-17-termux-mirror.md","source":"@site/src/blog/2021-05-17-termux-mirror.md","title":"Termux\u914d\u7f6e\u6e05\u534e\u5927\u5b66\u5f00\u6e90\u955c\u50cf","description":"\u6765\u6e90 Termux \u955c\u50cf\u4f7f\u7528\u5e2e\u52a9","date":"2021-05-17T00:00:00.000Z","formattedDate":"May 17, 2021","tags":[{"label":"android","permalink":"/blog/tags/android"},{"label":"termux","permalink":"/blog/tags/termux"},{"label":"mirror","permalink":"/blog/tags/mirror"}],"readingTime":0.31,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Termux\u914d\u7f6e\u6e05\u534e\u5927\u5b66\u5f00\u6e90\u955c\u50cf","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["android","termux","mirror"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3 macOS \u7cfb\u7edf xcrun error invalid active developer path \u5f02\u5e38","permalink":"/blog/2021/05/17/mac-xcrun-error"},"nextItem":{"title":"\u4e00\u4e2aTypeScript\u7c7b\u578b\u590d\u7528\u7684\u5c0f\u6280\u5de7","permalink":"/blog/2021/05/09/typescript-type-reference"}},"content":"[\u6765\u6e90 Termux \u955c\u50cf\u4f7f\u7528\u5e2e\u52a9](https://mirrors.tuna.tsinghua.edu.cn/help/termux/)\\n\\n\x3c!--truncate--\x3e\\n\\n\u6253\u5f00 Termux , \u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4:\\n```bash\\ntermux-change-repo\\n```\\n\\n\u4f7f\u7528\u4e0a\u4e0b\u952e+\u7a7a\u683c\u9009\u4e2d\u4e09\u4e2a\u6e90\uff0c\u7136\u540e\u6309Tab\u952e\u5207\u6362\u5230 **OK**\uff0c\u5728\u7b2c\u4e8c\u5c4f\u9009\u4e2d\u6e05\u534e\u5927\u5b66\u7684\u955c\u50cf\u6e90\u5373\u53ef\u3002"},{"id":"/2021/05/09/typescript-type-reference","metadata":{"permalink":"/blog/2021/05/09/typescript-type-reference","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-05-09-typescript-type-reference.md","source":"@site/src/blog/2021-05-09-typescript-type-reference.md","title":"\u4e00\u4e2aTypeScript\u7c7b\u578b\u590d\u7528\u7684\u5c0f\u6280\u5de7","description":"\u5206\u4eab\u4e00\u4e2aTypeScript\u7c7b\u578b\u590d\u7528\u7684\u5c0f\u6280\u5de7:","date":"2021-05-09T00:00:00.000Z","formattedDate":"May 9, 2021","tags":[{"label":"typescript","permalink":"/blog/tags/typescript"}],"readingTime":0.595,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u4e00\u4e2aTypeScript\u7c7b\u578b\u590d\u7528\u7684\u5c0f\u6280\u5de7","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["typescript"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Termux\u914d\u7f6e\u6e05\u534e\u5927\u5b66\u5f00\u6e90\u955c\u50cf","permalink":"/blog/2021/05/17/termux-mirror"},"nextItem":{"title":"macOS \u5141\u8bb8\u6253\u5f00\u4efb\u4f55\u4f4d\u7f6e\u4e0b\u8f7d\u7684App","permalink":"/blog/2021/05/05/macos-allow-apps-from-anywhere"}},"content":"\u5206\u4eab\u4e00\u4e2aTypeScript\u7c7b\u578b\u590d\u7528\u7684\u5c0f\u6280\u5de7:\\n\\n\x3c!--truncate--\x3e\\n\\n\u4e3a\u4e86\u590d\u7528`Brand`\u7c7b\u578b, \u4e00\u822c\u90fd\u662f\u8fd9\u4e48\u5199, \u5355\u72ec\u5b9a\u4e49`Brand`\u7c7b\u578b:\\n\\n```javascript\\ntype Brand = {\\n    brandId: string, \\n    brandName: string \\n}\\ntype DealerLogItem = {\\n    city: { cityName: string, cityId: string },\\n    brand: Brand,\\n    dealers: Array<Dealer>\\n}\\n\\nconst map = new Map<string, Brand>();\\n```\\n\\n\u5176\u5b9e\u8fd8\u53ef\u4ee5\u8fd9\u4e48\u5199:\\n\\n```javascript\\ntype DealerLogItem = {\\n    city: { cityName: string, cityId: string },\\n    brand: { brandId: string, brandName: string },\\n    dealers: Array<Dealer>\\n}\\n\\nconst map = new Map<string, DealerLogItem[\\"brand\\"]>();\\n```\\n\\n\u8fd9\u6837 `DealerLogItem` \u4e0a\u7684\u5b57\u6bb5\u5b9a\u4e49\u5c31\u80fd\u590d\u7528\u4e86."},{"id":"/2021/05/05/macos-allow-apps-from-anywhere","metadata":{"permalink":"/blog/2021/05/05/macos-allow-apps-from-anywhere","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-05-05-macos-allow-apps-from-anywhere.md","source":"@site/src/blog/2021-05-05-macos-allow-apps-from-anywhere.md","title":"macOS \u5141\u8bb8\u6253\u5f00\u4efb\u4f55\u4f4d\u7f6e\u4e0b\u8f7d\u7684App","description":"macOS allow apps downloaded from anywhere","date":"2021-05-05T00:00:00.000Z","formattedDate":"May 5, 2021","tags":[{"label":"mac","permalink":"/blog/tags/mac"},{"label":"macOS","permalink":"/blog/tags/mac-os"}],"readingTime":0.75,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"macOS \u5141\u8bb8\u6253\u5f00\u4efb\u4f55\u4f4d\u7f6e\u4e0b\u8f7d\u7684App","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["mac","macOS"],"description":"macOS allow apps downloaded from anywhere","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4e00\u4e2aTypeScript\u7c7b\u578b\u590d\u7528\u7684\u5c0f\u6280\u5de7","permalink":"/blog/2021/05/09/typescript-type-reference"},"nextItem":{"title":"\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684Spring MVC\u5904\u7406\u7a0b\u5e8f\u62e6\u622a\u5668\u7ba1\u7406\u4f1a\u8bdd","permalink":"/blog/2021/05/05/spring-mvc-custom-handler-interceptor"}},"content":"[\u539f\u6587 - Want to allow apps downloaded from anywhere?](https://macpaw.com/how-to/allow-apps-anywhere)\\n\\n\x3c!--truncate--\x3e\\n\\n\u5728macOS Sierra\u4e4b\u524d\u7248\u672c, \u5982\u679c\u60f3\u5141\u8bb8\u6253\u5f00\u4efb\u4f55\u5730\u65b9\u4e0b\u8f7d\u7684\u6587\u4ef6\u6216\u8005App, \u53ea\u9700\u8981\u8fdb\u5165 **System Preferences(\u7cfb\u7edf\u8bbe\u7f6e) > Security & Privacy(\u5b89\u5168\u6027\u4e0e\u9690\u79c1) > General(\u901a\u7528)**, \u7136\u540e\u628a**Allow apps to be downloaded from(\u5141\u8bb8 Apple Watch \u89e3\u9501 App \u548c Mac)**\u914d\u7f6e\u9879\u8bbe\u7f6e\u6210**Anywhere(\u4efb\u4f55\u5730\u5740)**.\\n\\n\u4f46\u662f\u65b0\u7248\u7684macOS\u5df2\u7ecf\u6ca1\u6709\u8fd9\u4e2a\u9009\u9879\u4e86, \u9700\u8981\u624b\u52a8\u6253\u5f00\u7ec8\u7aef\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u5f00\u542f\u8fd9\u4e2a\u9009\u9879:\\n```bash\\nsudo spctl --master-disable\\n```\\n\u6267\u884c\u5b8c\u4e4b\u540e\u518d\u6b21\u8fdb\u5165\u4e0a\u8ff0\u7684\u8bbe\u7f6e\u5373\u53ef\u770b\u5230**Anywhere**\u9009\u9879."},{"id":"/2021/05/05/spring-mvc-custom-handler-interceptor","metadata":{"permalink":"/blog/2021/05/05/spring-mvc-custom-handler-interceptor","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-05-05-spring-mvc-custom-handler-interceptor.md","source":"@site/src/blog/2021-05-05-spring-mvc-custom-handler-interceptor.md","title":"\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684Spring MVC\u5904\u7406\u7a0b\u5e8f\u62e6\u622a\u5668\u7ba1\u7406\u4f1a\u8bdd","description":"\u539f\u6587 - Using a Custom Spring MVC\u2019s Handler Interceptor to Manage Sessions","date":"2021-05-05T00:00:00.000Z","formattedDate":"May 5, 2021","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"spring","permalink":"/blog/tags/spring"},{"label":"\u8f6c\u6458","permalink":"/blog/tags/\u8f6c\u6458"}],"readingTime":4.9,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684Spring MVC\u5904\u7406\u7a0b\u5e8f\u62e6\u622a\u5668\u7ba1\u7406\u4f1a\u8bdd","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["java","spring","\u8f6c\u6458"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"macOS \u5141\u8bb8\u6253\u5f00\u4efb\u4f55\u4f4d\u7f6e\u4e0b\u8f7d\u7684App","permalink":"/blog/2021/05/05/macos-allow-apps-from-anywhere"},"nextItem":{"title":"Spring MVC HandlerInterceptor \u7b80\u4ecb","permalink":"/blog/2021/05/05/spring-mvc-handlerinterceptor"}},"content":"[\u539f\u6587 - Using a Custom Spring MVC\u2019s Handler Interceptor to Manage Sessions](https://www.baeldung.com/spring-mvc-custom-handler-interceptor)\\n\\n## \u7b80\u4ecb\\n\\n\u672c\u6559\u7a0b\u4e13\u6ce8Spring MVC\u7684 *HandlerInterceptor*.\\n\\n\u6211\u4eec\u5c55\u793a\u4e00\u4e2a\u4f7f\u7528\u62e6\u622a\u5668\u7684\u9ad8\u7ea7\u793a\u4f8b - \u6a21\u62df\u4e00\u4e2a\u4f1a\u8bdd\u8d85\u65f6\u7684\u903b\u8f91, \u901a\u8fc7\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u6b21\u6570\u624b\u52a8\u8ddf\u8e2a\u4f1a\u8bdd.\\n\\n\u5982\u679c\u4f60\u60f3\u8d8a\u591a\u66f4\u591a\u5173\u4e8eSpring *HandlerInterceptor* \u7684\u57fa\u7840\u77e5\u8bc6[\u70b9\u51fb\u8fd9\u91cc](https://www.baeldung.com/spring-mvc-handlerinterceptor).\\n\\n\x3c!--truncate--\x3e\\n\\n## Maven\u4f9d\u8d56\\n\\n\u4f7f\u7528*Interceptors*\u9700\u8981\u5728\u4f60\u7684*pom.xml*\u6587\u4ef6\u4e2d\u7684*dependencies*\u914d\u7f6e\u8282\u6dfb\u52a0\u4ee5\u4e0b\u4f9d\u8d56:\\n\\n```xml title=\\"pom.xml\\"\\n<dependency>\\n    <groupId>org.springframework</groupId>\\n    <artifactId>spring-web</artifactId>\\n    <version>5.2.8.RELEASE</version>\\n</dependency>\\n```\\n\u6700\u65b0\u7248\u672c\u53ef\u4ee5\u5728[\u8fd9\u91cc\u67e5\u770b](https://search.maven.org/classic/#search%7Cga%7C1%7Ca%3A%22spring-web%22). \u8fd9\u4e2a\u4f9d\u8d56\u4ec5\u8986\u76d6\u4e86Spring Web, \u56e0\u6b64\u5bf9\u4e8e\u5b8c\u6574\u7684Web\u5e94\u7528, \u4e0d\u8981\u5fd8\u8bb0\u6dfb\u52a0 *spring-core* \u548c *spring-context* .\\n\\n## \u5b9e\u73b0\u81ea\u5b9a\u4e49\u7684\u4f1a\u8bdd\u8d85\u65f6\\n\\n\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc, \u6211\u4eec\u5c06\u4f1a\u8bbe\u7f6e\u4e00\u4e2a\u7528\u6237\u5728\u7cfb\u7edf\u4e2d\u6700\u5927\u7684\u4e0d\u6d3b\u8dc3(inactive)\u65f6\u957f. \u8d85\u8fc7\u8fd9\u4e2a\u65f6\u957f\u4e4b\u540e, \u7528\u6237\u5c06\u4f1a\u81ea\u52a8\u88ab\u9000\u51fa\u767b\u5f55.\\n\\n\u5f53\u7528\u6237\u4e0d\u518d\u662f\u6d3b\u8dc3\u72b6\u6001\u540e, \u9700\u8981\u786e\u4fdd\u4f1a\u8bdd\u662f\u65e0\u6548\u7684. \u6bd4\u5982\u6709\u4e2a\u7528\u6237\u5fd8\u8bb0\u9000\u51fa\u767b\u5f55\u4e86, \u4e0d\u6d3b\u8dc3\u5012\u8ba1\u65f6\u5c06\u4f1a\u963b\u6b62\u672a\u6388\u6743\u7528\u6237\u8bbf\u95ee\u8d26\u53f7\u4fe1\u606f. \u56e0\u6b64\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u4e0d\u6d3b\u8dc3\u65f6\u957f\u5e38\u91cf:\\n\\n```java\\nprivate static final long MAX_INACTIVE_SESSION_TIME = 5 * 10000;\\n```\\n\u4e3a\u4e86\u6d4b\u8bd5, \u6211\u4eec\u8bbe\u7f6e\u4e8650\u79d2(\u5355\u4f4d\u662f\u6beb\u79d2).\\n\\n\u73b0\u5728\u6211\u4eec\u9700\u8981\u5728\u6211\u4eec\u7684\u5e94\u7528\u91cc\u8ddf\u8e2a\u6bcf\u4e2a\u4f1a\u8bdd, \u56e0\u6b64\u6211\u4eec\u9700\u8981\u5305\u542b\u8fd9\u4e2aSpring\u63a5\u53e3:\\n```java\\n@Autowired\\nprivate HttpSession session;\\n```\\n\\n\u8ba9\u6211\u4eec\u5904\u7406 *preHandle()* \u65b9\u6cd5.\\n\\n## *preHandle()*\\n\\n\u5728\u8fd9\u4e2a\u65b9\u6cd5\u91cc\u6211\u4eec\u5305\u542b\u4ee5\u4e0b\u64cd\u4f5c:\\n\\n* \u8bbe\u7f6e\u8ba1\u65f6\u5668\u68c0\u67e5\u5904\u7406\u8bf7\u6c42\u65f6\u95f4\\n* \u68c0\u67e5\u7528\u6237\u662f\u5426\u767b\u5f55(\u4f7f\u7528[\u8fd9\u7bc7\u6587\u7ae0](https://www.baeldung.com/spring-model-parameters-with-handler-interceptor)\u63d0\u4f9b\u7684*UserInterceptor*\u65b9\u6cd5)\\n* \u5982\u679c\u7528\u6237\u7684\u4e0d\u6d3b\u8dc3\u7684\u4f1a\u8bdd\u65f6\u957f\u8d85\u8fc7\u6700\u5927\u503c, \u81ea\u52a8\u9000\u51fa\u767b\u5f55.\\n\\n\u8ba9\u6211\u4eec\u770b\u4e0b\u5b9e\u73b0:\\n```java\\n@Override\\npublic boolean preHandle(\\n  HttpServletRequest req, HttpServletResponse res, Object handler) throws Exception {\\n    log.info(\\"Pre handle method - check handling start time\\");\\n    long startTime = System.currentTimeMillis();\\n    request.setAttribute(\\"executionTime\\", startTime);\\n}\\n```\\n\\n\u5728\u4e0a\u9762\u8fd9\u4e2a\u4ee3\u7801\u7247\u6bb5\u91cc, \u6211\u4eec\u8bbe\u7f6e\u8bf7\u6c42\u6267\u884c\u7684 *startTime*. \u4ece\u8fd9\u65f6\u5f00\u59cb, \u6211\u4eec\u4f1a\u7edf\u8ba1\u6bcf\u4e2a\u8bf7\u6c42\u7ed3\u675f\u65f6\u7684\u8017\u65f6\u79d2\u6570. \u63a5\u4e0b\u6765\u6211\u4eec\u63d0\u4f9b\u4f1a\u8bdd\u65f6\u95f4\u7684\u903b\u8f91, \u4ec5\u5f53\u6709\u4eba\u767b\u5f55:\\n```java\\nif (UserInterceptor.isUserLogged()) {\\n    session = request.getSession();\\n    log.info(\\"Time since last request in this session: {} ms\\",\\n      System.currentTimeMillis() - request.getSession().getLastAccessedTime());\\n    if (System.currentTimeMillis() - session.getLastAccessedTime()\\n      > MAX_INACTIVE_SESSION_TIME) {\\n        log.warn(\\"Logging out, due to inactive session\\");\\n        SecurityContextHolder.clearContext();\\n        request.logout();\\n        response.sendRedirect(\\"/spring-rest-full/logout\\");\\n    }\\n}\\nreturn true;\\n```\\n\u9996\u5148\u6211\u4eec\u9700\u8981\u4ece\u83b7\u53d6\u8bf7\u6c42\u4f1a\u8bdd.\\n\\n\u63a5\u4e0b\u6765\u6211\u4eec\u6253\u5370\u4e86\u4e00\u4e9b\u63a7\u5236\u53f0\u65e5\u5fd7, \u5305\u62ec\u8c01\u767b\u5f55\u3001\u622a\u6b62\u7528\u6237\u5728\u5e94\u7528\u4e2d\u6700\u540e\u4e00\u6b21\u4efb\u610f\u64cd\u4f5c\u8fc7\u53bb\u4e86\u591a\u957f\u65f6\u95f4. \u6211\u4eec\u4f7f\u7528`session.getLastAccessedTime()`\u83b7\u53d6\u4fe1\u606f, \u51cf\u53bb\u5f53\u524d\u65f6\u95f4\u548c`MAX_INACTIVE_SESSION_TIME`\u6bd4\u8f83.\\n\\n\u5982\u679c\u8d85\u8fc7\u6211\u4eec\u5141\u8bb8\u7684\u65f6\u957f, \u6e05\u7a7a\u4e0a\u4e0b\u6587, \u9000\u51fa\u767b\u5f55, \u7136\u540e\u54cd\u5e94\u4e00\u4e2a\u8df3\u8f6c.\\n\\n\u4e3a\u4e86\u5b8c\u6210\u5904\u7406\u65f6\u957f\u793a\u4f8b, \u6211\u4eec\u8fd8\u9700\u8981\u5b9e\u73b0 *postHandle()* \u65b9\u6cd5.\\n\\n## postHandle()\\n\\n\u5b9e\u73b0\u8fd9\u4e2a\u65b9\u6cd5\u662f\u7528\u6765\u663e\u793a\u5f53\u524d\u8bf7\u6c42\u5904\u7406\u8017\u65f6\u4fe1\u606f. \u518d\u4e0a\u4e00\u4e2a\u4ee3\u7801\u7247\u6bb5\u4e2d\u6211\u4eec\u5728Spring\u6a21\u578b\u4e2d\u8bbe\u7f6e\u4e86*executionTime*, \u73b0\u5728\u662f\u65f6\u5019\u4f7f\u7528\u5b83\u4e86:\\n```java\\n@Override\\npublic void postHandle(\\n  HttpServletRequest request, \\n  HttpServletResponse response,\\n  Object handler, \\n  ModelAndView model) throws Exception {\\n    log.info(\\"Post handle method - check execution time of handling\\");\\n    long startTime = (Long) request.getAttribute(\\"executionTime\\");\\n    log.info(\\"Execution time for handling the request was: {} ms\\",\\n      System.currentTimeMillis() - startTime);\\n}\\n```\\n\\n## \u914d\u7f6e\u62e6\u622a\u5668\\n\\n\u6dfb\u52a0\u6211\u4eec\u65b0\u521b\u5efa\u7684\u62e6\u622a\u5668\u5230Spring\u914d\u7f6e\u4e2d, \u6211\u4eec\u9700\u8981\u91cd\u5199\u5b9e\u73b0\u4e86*WebMvcConfigurer*\u7684*WebConfig*\u7c7b\u4e2d\u7684*addInterceptors()*\u65b9\u6cd5.\\n\\n\\n## \u5b8c\u6574\u793a\u4f8b\\n\\n### \u5b9a\u4e49\u62e6\u622a\u7c7b\\n\\n```java\\nimport org.springframework.stereotype.Component;\\nimport org.springframework.web.servlet.HandlerInterceptor;\\nimport org.springframework.web.servlet.ModelAndView;\\n\\nimport javax.servlet.http.HttpServletRequest;\\nimport javax.servlet.http.HttpServletResponse;\\n\\n@Component\\npublic class SampleHandlerInterceptor implements HandlerInterceptor {\\n    @Override\\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\\n        // \u5728\u8c03\u7528\u5904\u7406\u7a0b\u5e8f\u65b9\u6cd5\u4e4b\u524d\u8c03\u7528\\n        return false;\\n    }\\n\\n    @Override\\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {\\n        // \u5728\u8c03\u7528\u5904\u7406\u7a0b\u5e8f\u65b9\u6cd5\u4e4b\u540e\u8c03\u7528\\n    }\\n\\n    @Override\\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\\n        // \u5728\u5904\u7406\u5b8c\u8bf7\u6c42\u540e\u8c03\u7528\\n    }\\n}\\n```\\n\\n### \u4f7f\u7528\\n\\n```java\\nimport org.springframework.beans.factory.annotation.Autowired;\\nimport org.springframework.stereotype.Component;\\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry;\\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\\n\\n@Component\\npublic class YourWebConfiguration implements WebMvcConfigurer {\\n    @Autowired\\n    SampleHandlerInterceptor interceptor;\\n\\n    @Override\\n    public void addInterceptors(InterceptorRegistry registry) {\\n        registry.addInterceptor(this.interceptor);\\n    }\\n}\\n```"},{"id":"/2021/05/05/spring-mvc-handlerinterceptor","metadata":{"permalink":"/blog/2021/05/05/spring-mvc-handlerinterceptor","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-05-05-spring-mvc-handlerinterceptor.md","source":"@site/src/blog/2021-05-05-spring-mvc-handlerinterceptor.md","title":"Spring MVC HandlerInterceptor \u7b80\u4ecb","description":"\u539f\u6587 - Introduction to Spring MVC HandlerInterceptor","date":"2021-05-05T00:00:00.000Z","formattedDate":"May 5, 2021","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"spring","permalink":"/blog/tags/spring"}],"readingTime":6.72,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Spring MVC HandlerInterceptor \u7b80\u4ecb","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["java","spring"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684Spring MVC\u5904\u7406\u7a0b\u5e8f\u62e6\u622a\u5668\u7ba1\u7406\u4f1a\u8bdd","permalink":"/blog/2021/05/05/spring-mvc-custom-handler-interceptor"},"nextItem":{"title":"Spring Boot \u4f7f\u7528 JSP","permalink":"/blog/2021/05/04/spring-boot-jsp"}},"content":"[\u539f\u6587 - Introduction to Spring MVC HandlerInterceptor](https://www.baeldung.com/spring-mvc-handlerinterceptor)\\n\\n## Spring MVC\u5904\u7406\u7a0b\u5e8f\\n\\n\u4e3a\u4e86\u7406\u89e3\u62e6\u622a\u5668, \u8ba9\u6211\u4eec\u56de\u5934\u770b\u4e00\u4e0b*HandlerMapping*. \u5b83\u628a\u4e00\u4e2a\u65b9\u6cd5\u6620\u5c04\u5230\u4e00\u4e2aURL\u4e0a, \u56e0\u6b64\u5f53\u4e00\u4e2a\u8bf7\u6c42\u8fdb\u6765\u65f6, *DispatcherServlet*\u80fd\u591f\u8c03\u7528\u5bf9\u7528\u7684\u65b9\u6cd5.\\n\\n\u4e8b\u5b9e\u4e0a, *DispatcherServlet*\u4f7f\u7528*HandlerAdapter*\u8c03\u7528\u65b9\u6cd5(Controller\u91cc\u5b9a\u4e49\u7684\u65b9\u6cd5).\\n\\n\x3c!--truncate--\x3e\\n\\n\u73b0\u5728\u6211\u4eec\u77e5\u9053\u4e86\u5168\u90e8\u4e0a\u4e0b\u6587 - \u62e6\u622a\u5668\u662f\u65f6\u5019\u5230\u6765\u4e86. \u6211\u4eec\u4f7f\u7528*HandlerInterceptor*\u5728HTTP\u8bf7\u6c42\u4e4b\u524d\u3001\u4e4b\u540e\u548c\u5b8c\u6210(\u5f53\u89c6\u56fe\u88ab\u6e32\u67d3)\u65f6\u5206\u522b\u6267\u884c\u4e00\u4e9b\u64cd\u4f5c.\\n\\n\u62e6\u622a\u5668\u4f7f\u7528\u4e86\u6a2a\u5207\u6982\u5ff5, \u907f\u514d\u4e86\u4e00\u4e9b\u91cd\u590d\u6027\u4ee3\u7801, \u6bd4\u5982\u65e5\u5fd7\u3001\u6539\u53d8Spring\u6a21\u578b\u7684\u4e00\u4e9b\u5168\u5c40\u53c2\u6570\u7b49.\\n\\n## Maven\u4f9d\u8d56\\n\\n\u4f7f\u7528\u62e6\u622a\u5668\u9700\u8981\u5929\u673a\u4ee5\u4e0b\u4f9d\u8d56:\\n```xml title=\\"pom.xml\\"\\n<dependency>\\n    <groupId>org.springframework</groupId>\\n    <artifactId>spring-web</artifactId>\\n    <version>5.2.8.RELEASE</version>\\n</dependency>\\n```\\n\u6700\u65b0\u7248\u672c[\u70b9\u6b64\u67e5\u770b](https://search.maven.org/classic/#search%7Cga%7C1%7Ca%3A%22spring-web%22).\\n\\n## Spring Handler Intercetpro\\n\\n\u62e6\u622a\u5668\u548cSpring\u6846\u67b6\u63d0\u4f9b\u7684*HandlerMapping*\u4e00\u6837, \u5fc5\u987b\u5b9e\u73b0*HandlerInterceptor*\u63a5\u53e3.\\n\\n\u8fd9\u4e2a\u63a5\u53e3\u5305\u542b\u4e09\u4e2a\u4e3b\u8981\u65b9\u6cd5:\\n* *preHanlde()* \u5728\u5904\u7406\u7a0b\u5e8f\u88ab\u8c03\u7528\u4e4b\u524d\u6267\u884c, \u6b64\u65f6\u89c6\u56fe\u8fd8\u672a\u751f\u6210\\n* *postHandle()* \u5728\u5904\u7406\u7a0b\u5e8f\u88ab\u8c03\u7528\u4e4b\u540e\u6267\u884c\\n* *afterCompletion()* \u5728\u8bf7\u6c42\u7ed3\u675f\u548c\u89c6\u56fe\u751f\u6210\u4e4b\u540e\u6267\u884c\\n\\n*HandlerInterceptor* \u548c *HandlerInterceptorAdapter* \u7684\u533a\u522b\u5728\u4e8e, \u7b2c\u4e00\u4e2a\u9700\u8981\u624b\u52a8\u91cd\u5199\u4e0a\u8ff0\u6240\u6709\u7684\u4e09\u4e2a\u65b9\u6cd5, \u800c\u7b2c\u4e8c\u4e2a\u53ea\u9700\u8981\u5b9e\u73b0\u9700\u8981\u7684\u65b9\u6cd5\u5c31\u884c.\\n\\n*preHandle()*\u7b80\u5355\u5b9e\u73b0:\\n```java\\n@Override\\npublic boolean preHandle(\\n  HttpServletRequest request,\\n  HttpServletResponse response, \\n  Object handler) throws Exception {\\n    // your code\\n    return true;\\n}\\n```\\n\u9700\u8981\u6ce8\u610f\u7684\u662f*preHandle*\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2aboolean\u503c, \u7528\u6765\u544a\u8bc9Spring\u8bf7\u6c42\u662f\u5426\u5e94\u8be5\u88ab\u540e\u7eed\u7ee7\u7eed\u5904\u7406.(*true*\u8868\u793a\u8bf7\u6c42\u7ee7\u7eed\u88ab\u5904\u7406, *false*\u8868\u793a\u7ec8\u6b62\u540e\u7eed\u5904\u7406.)\\n\\n*postHandle()*\u7b80\u5355\u5b9e\u73b0:\\n```java\\n@Override\\npublic void postHandle(\\n  HttpServletRequest request, \\n  HttpServletResponse response,\\n  Object handler, \\n  ModelAndView modelAndView) throws Exception {\\n    // your code\\n}\\n```\\n\u8fd9\u4e2a\u65b9\u6cd5\u5728 **HTTP\u8bf7\u6c42\u88ab*HandlerAdapter*\u5904\u7406\u5b8c\u6210\u4e14\u672a\u751f\u6210\u89c6\u56fe\u4e4b\u524d** \u8c03\u7528.\\n\\n\u5b83\u53ef\u4ee5\u88ab\u4ee5\u591a\u79cd\u573a\u666f\u4f7f\u7528, \u6bd4\u5982\u628a\u767b\u5f55\u7528\u7684\u5934\u50cf\u6dfb\u52a0\u5230model\u4e2d.\\n\\n\u5b9e\u73b0*HandlerInterceptor*\u9700\u8981\u91cd\u5199\u7684\u6700\u540e\u4e00\u4e2a\u65b9\u6cd5*afterCompletion()*:\\n```java\\n@Override\\npublic void afterCompletion(\\n  HttpServletRequest request, \\n  HttpServletResponse response,\\n  Object handler, Exception ex) {\\n    // your code\\n}\\n```\\n\u5f53\u89c6\u56fe\u88ab\u751f\u6210, \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u94a9\u5b50\u65b9\u6cd5\u505a\u4e00\u4e9b\u50cf\u6536\u96c6\u8bf7\u6c42\u989d\u5916\u8bca\u65ad\u6570\u636e\u7684\u4e8b\u60c5.\\n\\n\u6700\u540e\u9700\u8981\u8bb0\u4f4f\u7684\u662f*HandlerInterceptor*\u88ab\u6ce8\u518c\u6210*DefaultAnnotationHandlerMapping* bean. *DefaultAnnotationHandlerMapping* bean\u88ab\u7528\u6765\u8d1f\u8d23\u5728\u6240\u6709\u4f7f\u7528`@Controller`\u6ce8\u89e3\u7684\u7c7b\u4e0a\u5e94\u7528\u62e6\u622a\u5668. \u6b64\u5916, \u4f60\u53ef\u4ee5\u5728web\u5e94\u7528\u4e2d\u6307\u5b9a\u4efb\u610f\u6570\u91cf\u7684\u62e6\u622a\u5668.\\n\\n## \u81ea\u5b9a\u4e49\u65e5\u5fd7\u62e6\u622a\u5668\\n\\n\u9996\u5148\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u5b9e\u73b0`HandlerInterceptorAdapter`\u7684\u7c7b:\\n```java\\npublic class LoggerInterceptor extends HandlerInterceptorAdapter {\\n    ...\\n}\\n```\\n\\n\u5728\u62e6\u622a\u5668\u91cc\u5f00\u542f\u65e5\u5fd7:\\n```java\\nprivate static Logger log = LoggerFactory.getLogger(LoggerInterceptor.class);\\n```\\n\u63a5\u4e0b\u6765\u5173\u6ce8\u62e6\u622a\u5668\u7684\u5b9e\u73b0:\\n\\n### preHandle\u65b9\u6cd5\\n\\n\u8fd9\u4e2a\u65b9\u6cd5\u5728\u8bf7\u6c42\u88ab\u5904\u7406\u4e4b\u524d\u6267\u884c, \u5982\u679c\u8fd4\u56de*true*, Spring\u6846\u67b6\u4f1a\u628a\u8bf7\u6c42\u53d1\u9001\u5230\u4e0b\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\u65b9\u6cd5(\u6216\u8005\u4e0b\u4e00\u4e2a\u62e6\u622a\u5668). \u5982\u679c\u8fd4\u56de*false*, Spring\u5047\u8bbe\u8bf7\u6c42\u88ab\u5b8c\u6210\u5904\u7406, \u4e0d\u518d\u9700\u8981\u7ee7\u7eed\u5904\u7406.\\n\\n\u6211\u4eec\u4f7f\u7528\u8fd9\u4e2a\u94a9\u5b50(\u6307*preHandle()*)\u4f46\u56e0\u8bf7\u6c42\u53c2\u6570\u4fe1\u606f:\\n```java\\n@Override\\npublic boolean preHandle(\\n  HttpServletRequest request,\\n  HttpServletResponse response, \\n  Object handler) throws Exception {\\n    \\n    log.info(\\"[preHandle][\\" + request + \\"]\\" + \\"[\\" + request.getMethod()\\n      + \\"]\\" + request.getRequestURI() + getParameters(request));\\n    \\n    return true;\\n}\\n```\\n\\n\u5728\u4e0a\u9762\u8fd9\u4e2a\u674e\u81ea\u529b\u6211\u4eec\u628a\u5bc6\u7801\u6253\u5370\u51fa\u6765\u4e86\uff0c\u4e3a\u4e86\u53bb\u9664\u654f\u611f\u6570\u636e, \u4e0b\u9762\u662f*getParameters()*\u65b9\u6cd5\u7684\u5b9e\u73b0:\\n```java\\nprivate String getParameters(HttpServletRequest request) {\\n    StringBuffer posted = new StringBuffer();\\n    Enumeration<?> e = request.getParameterNames();\\n    if (e != null) {\\n        posted.append(\\"?\\");\\n    }\\n    while (e.hasMoreElements()) {\\n        if (posted.length() > 1) {\\n            posted.append(\\"&\\");\\n        }\\n        String curr = (String) e.nextElement();\\n        posted.append(curr + \\"=\\");\\n        if (curr.contains(\\"password\\") \\n          || curr.contains(\\"pass\\")\\n          || curr.contains(\\"pwd\\")) {\\n            posted.append(\\"*****\\");\\n        } else {\\n            posted.append(request.getParameter(curr));\\n        }\\n    }\\n    String ip = request.getHeader(\\"X-FORWARDED-FOR\\");\\n    String ipAddr = (ip == null) ? getRemoteAddr(request) : ip;\\n    if (ipAddr!=null && !ipAddr.equals(\\"\\")) {\\n        posted.append(\\"&_psip=\\" + ipAddr); \\n    }\\n    return posted.toString();\\n}\\n\\nprivate String getRemoteAddr(HttpServletRequest request) {\\n    String ipFromHeader = request.getHeader(\\"X-FORWARDED-FOR\\");\\n    if (ipFromHeader != null && ipFromHeader.length() > 0) {\\n        log.debug(\\"ip from proxy - X-FORWARDED-FOR : \\" + ipFromHeader);\\n        return ipFromHeader;\\n    }\\n    return request.getRemoteAddr();\\n}\\n```\\n\\n### postHandle\u65b9\u6cd5\\n\\n\u8fd9\u4e2a\u94a9\u5b50\u5728`HandlerAdapter`\u8c03\u7528\u4e86\u5904\u7406\u7a0b\u5e8f(\u6307URL\u5bf9\u5e94\u7684Controller\u91cc\u7684\u65b9\u6cd5), \u4f46\u662f*DispatcherServlet*\u5c1a\u672a\u6e32\u67d3\u89c6\u56fe\u7684\u65f6\u5019\u8c03\u7528.\\n\\n\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u7ed9`ModelAndView`\u6dfb\u52a0\u4e00\u4e9b\u989d\u5916\u5c5e\u6027, \u6216\u8005\u68c0\u67e5\u5904\u7406\u7a0b\u5e8f\u65b9\u6cd5\u5728\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u8017\u65f6. \\n\\n\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u91cc, \u6211\u4eec\u7b80\u5355\u6253\u5370\u4e00\u4e0b\u8bf7\u6c42:\\n```java\\n@Override\\npublic void postHandle(\\n  HttpServletRequest request, \\n  HttpServletResponse response,\\n  Object handler, \\n  ModelAndView modelAndView) throws Exception {\\n    \\n    log.info(\\"[postHandle][\\" + request + \\"]\\");\\n}\\n```\\n\\n### afterCoimpletion\u65b9\u6cd5\\n\\n\u5f53\u8bf7\u6c42\u5df2\u7ecf\u7ed3\u675f, \u800c\u4e14\u89c6\u56fe\u5df2\u7ecf\u6e32\u67d3, \u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u5230\u8bf7\u6c42\u548c\u54cd\u5e94\u6570\u636e, \u4ee5\u53ca\u5f02\u5e38\u4fe1\u606f(\u5982\u679c\u53d1\u751f\u4e86\u5f02\u5e38):\\n```java\\n@Override\\npublic void afterCompletion(\\n  HttpServletRequest request, HttpServletResponse response,Object handler, Exception ex) \\n  throws Exception {\\n    if (ex != null){\\n        ex.printStackTrace();\\n    }\\n    log.info(\\"[afterCompletion][\\" + request + \\"][exception: \\" + ex + \\"]\\");\\n}\\n```\\n\\n## \u914d\u7f6e\\n\\n\u4e3a\u4e86\u628a\u6211\u4eec\u65b0\u521b\u5efa\u7684\u62e6\u622a\u5668\u6dfb\u52a0\u5230Spring\u914d\u7f6e\u4e2d, \u6211\u4eec\u9700\u8981\u91cd\u5199\u5b9e\u73b0\u4e86*WebMvcConfigurer*\u7684*WebConfig*\u7c7b\u4e2d\u7684*addInterceptors()*\u65b9\u6cd5:\\n```java\\n@Override\\npublic void addInterceptors(InterceptorRegistry registry) {\\n    registry.addInterceptor(new LoggerInterceptor());\\n}\\n```\\n\u914d\u7f6e\u88ab\u6fc0\u6d3b\u4e4b\u540e, \u8fd9\u4e2a\u62e6\u622a\u5668\u5c06\u4f1a\u5904\u7406\u6240\u6709\u8bf7\u6c42.\\n\\n\u5982\u679c\u6709\u591a\u4e2aSpring\u62e6\u622a\u5668\u88ab\u914d\u7f6e, *preHandle* \u65b9\u6cd5\u5c06\u4f1a\u88ab\u6309\u7167\u914d\u7f6e\u7684\u987a\u5e8f\u6267\u884c, \u800c*postHandle*\u548c*afterCompletion*\u65b9\u6cd5\u5c06\u4f1a\u88ab\u6309\u7167\u76f8\u53cd\u7684\u987a\u5e8f\u6267\u884c.\\n\\n\u5982\u679c\u4f60\u4f7f\u7528Spring Boot\u4ee3\u66ff\u4e86 Spring, \u9700\u8981\u6ce8\u610f\u7684\u662f\u4e0d\u8981\u5fd8\u4e86\u5728\u914d\u7f6e\u7c7b\u4e0a\u4f7f\u7528 `@EnableWebMvc`, \u5426\u5219\u6211\u4eec\u4f1a\u5728\u542f\u52a8\u65f6\u4e22\u5931\u81ea\u52a8\u914d\u7f6e.\\n\\n:::warning\\n\u6ce8\u610f\u6700\u65b0\u7248\u5df2\u7ecf\u4e0d\u518d\u5efa\u8bae\u4f7f\u7528`HandlerInterceptorAdapter`\u4e86, \u800c\u662f\u5b9e\u73b0`org.springframework.web.servlet.HandlerInterceptor`.\\n\\n\u6700\u65b0\u7248\u4e5f\u4e0d\u518d\u5efa\u8bae\u76f4\u63a5\u7ee7\u627f`WebConfig`, \u800c\u662f\u5b9e\u73b0`org.springframework.web.servlet.config.annotation.WebMvcConfigurer`\\n:::"},{"id":"/2021/05/04/spring-boot-jsp","metadata":{"permalink":"/blog/2021/05/04/spring-boot-jsp","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-05-04-spring-boot-jsp.md","source":"@site/src/blog/2021-05-04-spring-boot-jsp.md","title":"Spring Boot \u4f7f\u7528 JSP","description":"Ref Spring Boot With JavaServer Pages (JSP)","date":"2021-05-04T00:00:00.000Z","formattedDate":"May 4, 2021","tags":[{"label":"spring","permalink":"/blog/tags/spring"},{"label":"spring boot","permalink":"/blog/tags/spring-boot"},{"label":"jsp","permalink":"/blog/tags/jsp"}],"readingTime":0.63,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Spring Boot \u4f7f\u7528 JSP","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["spring","spring boot","jsp"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Spring MVC HandlerInterceptor \u7b80\u4ecb","permalink":"/blog/2021/05/05/spring-mvc-handlerinterceptor"},"nextItem":{"title":"\u4f7f\u7528 Docusaurus \u7ed3\u5408 GitHub \u642d\u5efa\u4e2a\u4eba\u7ad9\u70b9","permalink":"/blog/2021/05/01/docusaurus-github-starter"}},"content":"Ref [Spring Boot With JavaServer Pages (JSP)](https://www.baeldung.com/spring-boot-jsp)\\n\\n\x3c!--truncate--\x3e\\n\\n\u4ee5\u4e0b\u4ee3\u7801\u662f\u5728 *start.spring.io* \u7ad9\u70b9\u751f\u6210\u7684Spring Boot Web\u9879\u76ee\u57fa\u7840\u4e0a\u6539\u9020\u7684.\\n\\n## \u6dfb\u52a0\u5f15\u7528\\n\\n```xml title=\\"pom.xml\\"\\n<dependency>\\n    <groupId>org.apache.tomcat.embed</groupId>\\n    <artifactId>tomcat-embed-jasper</artifactId>\\n    <version>9.0.44</version>\\n    <scope>provided</scope>\\n</dependency>\\n```\\n\\n## \u65b0\u589e\u63a7\u5236\u5668\\n\\n```java title=\\"src/main/java/com/alanwei/spb/demo/controllers/BasicController.java\\"\\npackage com.alanwei.spb.demo.controllers;\\n\\nimport org.springframework.stereotype.Controller;\\nimport org.springframework.web.bind.annotation.RequestMapping;\\n\\n@Controller\\npublic class BasicController {\\n    @RequestMapping(\\"/welcome-view\\")\\n    public String welcomeView() {\\n        return \\"welcome\\";\\n    }\\n}\\n```\\n\\n## \u65b0\u589eJSP\\n\\n```html title=\\"src/main/webapp/WEB-INF/jsp/welcome.jsp\\"\\n<html>\\n  <head>\\n    <title>Welcome</title>\\n  </head>\\n  <body>\\n    <p>Welcome! This is coming from a view - a JSP</p>\\n  </body>\\n</html>\\n```\\n\\n## \u66f4\u65b0\u914d\u7f6e\\n\\n```properties title=\\"src/main/application.properties\\"\\nspring.mvc.view.prefix: /WEB-INF/jsp/\\nspring.mvc.view.suffix: .jsp\\n```\\n\\n## \u8fd0\u884c\\n\\n\u6267\u884c\u4ee5\u4e0b\u811a\u672c\u67e5\u770b\u6548\u679c:\\n\\n```bash\\nmvn spring-boot:run\\n```"},{"id":"/2021/05/01/docusaurus-github-starter","metadata":{"permalink":"/blog/2021/05/01/docusaurus-github-starter","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-05-01-docusaurus-github-starter.md","source":"@site/src/blog/2021-05-01-docusaurus-github-starter.md","title":"\u4f7f\u7528 Docusaurus \u7ed3\u5408 GitHub \u642d\u5efa\u4e2a\u4eba\u7ad9\u70b9","description":"\u4f7f\u7528Docusaurus\u7ed3\u5408GitHub\u642d\u5efa\u4e2a\u4eba\u7ad9\u70b9","date":"2021-05-01T00:00:00.000Z","formattedDate":"May 1, 2021","tags":[{"label":"docusaurus","permalink":"/blog/tags/docusaurus"},{"label":"github","permalink":"/blog/tags/github"}],"readingTime":3.715,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u4f7f\u7528 Docusaurus \u7ed3\u5408 GitHub \u642d\u5efa\u4e2a\u4eba\u7ad9\u70b9","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["docusaurus","github"],"description":"\u4f7f\u7528Docusaurus\u7ed3\u5408GitHub\u642d\u5efa\u4e2a\u4eba\u7ad9\u70b9","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Spring Boot \u4f7f\u7528 JSP","permalink":"/blog/2021/05/04/spring-boot-jsp"},"nextItem":{"title":"VSC\u6307\u5b9a\u7c7b\u5e93\u6587\u4ef6\u589e\u5f3a\u667a\u80fd\u611f\u77e5","permalink":"/blog/2021/04/27/visual-studio-code-intelligence"}},"content":"import { GiteeImage } from \\"@site/src/components\\";\\n\\n\u4ecb\u7ecd\u4e00\u4e0b\u5982\u4f55\u4f7f\u7528GitHub\u4ee5\u53ca Docusaurus(\u4e0b\u9762\u7b80\u79f0Doc) \u514d\u8d39\u642d\u5efa\u4e00\u4e2a\u4e2a\u4eba\u535a\u5ba2\u7ad9\u70b9.\\n\\n\x3c!--truncate--\x3e\\n\\n[Doc](https://docusaurus.io/docs/installation) \u662f\u4e00\u4e2a\u652f\u6301\u5c06 Markdown \u6587\u4ef6\u751f\u6210\u9759\u6001\u7f51\u9875\u7684\u5de5\u5177(\u6700\u68d2\u7684\u662f\u652f\u6301[MDX](https://docusaurus.io/docs/markdown-features/react))\uff0c\u4e5f\u652f\u6301\u5c06 React \u7ec4\u4ef6\u751f\u6210\u9759\u6001\u7f51\u9875(\u7c7b\u4f3c\u4e8e\u670d\u52a1\u5668\u7aef\u6e32\u67d3)\u3002\u540c\u65f6\u6709\u826f\u597d\u7684SEO\u652f\u6301\u3002\\n\\n## \u521b\u5efa GitHub \u4ed3\u5e93\\n\\n\u9996\u5148\u9700\u8981\u521b\u5efa\u4e24\u4e2a [GitHub](https://github.com/) \u4ed3\u5e93:\\n\\n1. \u4e00\u4e2a\u7528\u4e8e\u5b58\u653e\u535a\u5ba2\u7684\u6e90\u7801(Markdown\u3001JSX\u7b49\u6587\u4ef6): [alan-wei/blog-sample](https://github.com/alan-wei/blog-sample)\uff0c\u4e0b\u9762\u7b80\u79f0 `blog-sample` \\n2. \u4e00\u4e2a\u5229\u7528 [GitHub Pages](https://pages.github.com/) \u642d\u5efaWeb\u7ad9\u70b9\u7684\u4ed3\u5e93: [alan-wei/alan-wei.github.io](https://github.com/alan-wei/alan-wei.github.io)\uff0c\u8fd9\u4e2a\u4ed3\u5e93\u540d\u5b57\u8981\u7528GitHub\u8d26\u53f7\u540d\u52a0\u4e0a`.github.io` \uff0c\u4e0b\u9762\u7b80\u79f0 `alan-wei.github.io`\\n\\n## Doc\u751f\u6210\u535a\u5ba2\u9879\u76ee\\n\\n\u9700\u8981\u5b89\u88c5 [Node.js](https://nodejs.org/)\uff0c\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4[\u751f\u6210\u535a\u5ba2\u9879\u76ee](https://docusaurus.io/docs/installation):\\n\\n```\\nnpx @docusaurus/init@latest init blog-sample classic\\n```\\n\\n\u7136\u540e\u5c06\u751f\u6210\u7684\u535a\u5ba2\u9879\u76ee`blog-sample`\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93.\\n\\n```bash\\ncd blog-sample\\ngit init \\ngit add .\\ngit commit -m \\"init project\\"\\ngit remote add origin https://github.com/alan-wei/blog-sample.git # \u8fd9\u91cc\u9700\u8981\u6539\u6210\u4f60\u7684\u4ed3\u5e93\u5730\u5740\\ngit push --set-upstream origin master # \u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\\n```\\n\\n## \u914d\u7f6e\u81ea\u52a8\u90e8\u7f72\\n\\n\u53ef\u4ee5\u501f\u52a9 GitHub Actions \u81ea\u52a8\u90e8\u7f72\u535a\u5ba2\u7ad9\u70b9\u3002\\n\\n### \u81ea\u52a8\u53d1\u5e03\u811a\u672c\\n\\n\u5728 `blog-sample` \u9879\u76ee\u521b\u5efa\u6587\u4ef6 `.github/workflows/publish-blog.yml` (\u6587\u4ef6\u540d\u53ef\u4ee5\u968f\u610f\u4fee\u6539):\\n\\n```yml title=\\".github/workflows/publish-blog.yml\\"\\nname: Publish Blog\\n\\non:\\n  push: \\n    tags:\\n      - v* # \u8fd9\u91cc\u8868\u793a\u53ea\u6709\u65b0\u589etag\u624d\u4f1a\u89e6\u53d1\u81ea\u52a8\u5316\u811a\u672c\u6267\u884c\\n\\njobs:\\n  gh-release:\\n    if: github.event_name != \'pull_request\'\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v1\\n      - uses: actions/setup-node@v1\\n        with:\\n          node-version: \'12.x\'\\n      - uses: webfactory/ssh-agent@v0.5.0\\n        with:\\n          ssh-private-key: ${{ secrets.GH_PAGES_DEPLOY }}\\n      - name: Release to GitHub Pages\\n        env:\\n          USE_SSH: true\\n          GIT_USER: git\\n          DEPLOYMENT_BRANCH: master\\n        run: |\\n          git config --global user.email \\"actions@github.com\\"\\n          git config --global user.name \\"gh-actions\\"\\n          if [ -e yarn.lock ]; then\\n          yarn install --frozen-lockfile\\n          elif [ -e package-lock.json ]; then\\n          npm ci\\n          else\\n          npm i\\n          fi\\n          npm run deploy\\n```\\n\\n\u63d0\u4ea4\u4ee3\u7801\u81f3\u8fdc\u7a0b\u4ed3\u5e93 `blog-sample`.\\n\\n### \u8bbe\u7f6e Secret\\n\\nStep 1. \u751f\u6210\u4e00\u5bf9SSH\u5bc6\u94a5: `ssh-keygen -f blog-ssh`\\n\\nStep 2. \u590d\u5236\u7b2c\u4e00\u6b65\u751f\u6210\u7684\u516c\u94a5\u6587\u4ef6`blog-ssh.pub`\u5185\u5bb9\uff0c\u8fdb\u5165\u4ed3\u5e93`alan-wei.github.io` \u7684 `Settings > Deploy keys > add deploy key` \u65b0\u589e\u4e00\u4e2a\u6761\u76ee\uff0c\u7c98\u8d34\u8fdb\u53bb\uff0c\u5e76\u52fe\u9009 `Allow write access`\\n<GiteeImage src=\\"files/docusaurus-github-starter/github-repo-blog-secret-key.png\\" />\\n\\nStep 3. \u590d\u5236\u7b2c\u4e00\u6b65\u7684\u79c1\u94a5\u6587\u4ef6`blog-ssh`\u5185\u5bb9\uff0c\u8fdb\u5165\u4ed3\u5e93`blog-sample`\u7684`Settings > Secrets > New repository secret`\uff0c\u65b0\u5efa\u7684Secret\u540d\u5b57\u8981\u548c\u4e0a\u9762\u63d0\u5230\u7684`publish-blog.yml`\u81ea\u52a8\u5316\u914d\u7f6e\u6587\u4ef6\u91cc\u7684\u4e00\u81f4\uff0c\u5373: `GH_PAGES_DEPLOY`\\n<GiteeImage src=\\"files/docusaurus-github-starter/github-repo-blog-secret-key.png\\" />\\n\\n### \u4fee\u6539 `docusaurus.config.js`\\n\\n```javascript title=\\"docusaurus.config.js\\"\\nmodule.exports = {\\n  url: \\"https://alan-wei.github.io/\\", // \u53ef\u9009\u914d\u7f6e\\n  /**\\n   * \u5fc5\u987b\u914d\u7f6e\uff0c\u662f\u4f60\u7684GitHub\u8d26\u53f7\uff0c\u6267\u884c npm run deploy \u65f6\u4f1a\u7528\u5230\\n   */ \\n  organizationName: \'alan-wei\',\\n  /**\\n   * \u5fc5\u987b\u914d\u7f6e\uff0c\u662f\u4f60\u7684\u535a\u5ba2\u90e8\u7f72\u5230\u7684\u90a3\u4e2a\u4ed3\u5e93\u5730\u5740\uff0c\u6267\u884c npm run deploy \u65f6\u4f1a\u7528\u5230\\n   */ \\n  projectName: \'alan-wei.github.io\', \\n}\\n```\\n\\n## \u63d0\u4ea4Tag\u81ea\u52a8\u90e8\u7f72\\n\\n\u56e0\u4e3a\u4e0a\u9762\u914d\u7f6e\u7684\u81ea\u52a8\u5316\u811a\u672c\u53ea\u6709\u65b0\u589etag\u65f6\u624d\u4f1a\u6267\u884c\u81ea\u52a8\u5316\u4f5c\u4e1a\uff0c\u4e0b\u9762\u63d0\u4ea4\u4e00\u4e2atag\uff0c\u800c\u4e14tag\u5fc5\u987b\u4ee5`v`\u5f00\u5934\uff0c\u5c31\u80fd\u5c31\u4f1a\u81ea\u52a8\u90e8\u7f72\u4e86\\n\\n```\\ngit tag -a v2021-05-01 -m \\"\u7b2c\u4e00\u6b21\u53d1\u5e03\\"\\ngit push --tags\\n```\\n\\n\u7136\u540e\u8bbf\u95ee `https://github.com/alan-wei/blog-sample/actions` \u67e5\u770b\u4f5c\u4e1a\u6267\u884c\u60c5\u51b5\u3002\\n\\n\u4f5c\u4e1a\u6267\u884c\u5b8c\u6210\u4e4b\u540e\u8bbf\u95ee [https://alan-wei.github.io/](https://alan-wei.github.io/) \u5373\u53ef\u67e5\u770b\u535a\u5ba2\u5185\u5bb9\u3002\\n\\nDoc\u76f8\u5173\u6587\u6863\u53ef\u4ee5\u53c2\u8003[\u5b98\u65b9\u6559\u7a0b](https://docusaurus.io/docs/creating-pages)\u3002"},{"id":"/2021/04/27/visual-studio-code-intelligence","metadata":{"permalink":"/blog/2021/04/27/visual-studio-code-intelligence","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-27-visual-studio-code-intelligence.md","source":"@site/src/blog/2021-04-27-visual-studio-code-intelligence.md","title":"VSC\u6307\u5b9a\u7c7b\u5e93\u6587\u4ef6\u589e\u5f3a\u667a\u80fd\u611f\u77e5","description":"\u6709\u7684\u65f6\u5019\u5199\u4e2ademo, \u76f4\u63a5\u9875\u9762\u5f15\u7528\u7684\u7c7b\u5e93, \u5bfc\u81f4\u6709\u4e9b\u667a\u80fd\u611f\u77e5\u7f3a\u5931, \u53ef\u4ee5\u5728JS\u7684\u5f00\u5934\u589e\u52a0\u4ee5\u4e0b\u4ee3\u7801\u589e\u52a0\u667a\u80fd\u611f\u77e5:","date":"2021-04-27T00:00:00.000Z","formattedDate":"April 27, 2021","tags":[{"label":"vsc","permalink":"/blog/tags/vsc"},{"label":"visual studio code","permalink":"/blog/tags/visual-studio-code"},{"label":"editor","permalink":"/blog/tags/editor"}],"readingTime":0.35,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"VSC\u6307\u5b9a\u7c7b\u5e93\u6587\u4ef6\u589e\u5f3a\u667a\u80fd\u611f\u77e5","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vsc","visual studio code","editor"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4f7f\u7528 Docusaurus \u7ed3\u5408 GitHub \u642d\u5efa\u4e2a\u4eba\u7ad9\u70b9","permalink":"/blog/2021/05/01/docusaurus-github-starter"},"nextItem":{"title":"Termux\u8fdc\u7a0b\u8bbf\u95ee","permalink":"/blog/2021/04/26/termux-remote-access"}},"content":"\u6709\u7684\u65f6\u5019\u5199\u4e2ademo, \u76f4\u63a5\u9875\u9762\u5f15\u7528\u7684\u7c7b\u5e93, \u5bfc\u81f4\u6709\u4e9b\u667a\u80fd\u611f\u77e5\u7f3a\u5931, \u53ef\u4ee5\u5728JS\u7684\u5f00\u5934\u589e\u52a0\u4ee5\u4e0b\u4ee3\u7801\u589e\u52a0\u667a\u80fd\u611f\u77e5:\\n\\n```javascript\\n/// <reference path=\\"../../scripts/vue/types/index.d.ts\\" />\\n\\n// \u63a5\u4e0b\u6765\u5728\u4f7f\u7528Vue\u76f8\u5173\u65b9\u6cd5\u5c31\u4f1a\u6709\u667a\u80fd\u611f\u77e5\u4e86.\\n```"},{"id":"/2021/04/26/termux-remote-access","metadata":{"permalink":"/blog/2021/04/26/termux-remote-access","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-26-termux-remote-access.md","source":"@site/src/blog/2021-04-26-termux-remote-access.md","title":"Termux\u8fdc\u7a0b\u8bbf\u95ee","description":"\u5728\u7535\u8111\u4e0a\u8fdc\u7a0b\u8bbf\u95eeTermux:","date":"2021-04-26T00:00:00.000Z","formattedDate":"April 26, 2021","tags":[{"label":"termux","permalink":"/blog/tags/termux"},{"label":"android","permalink":"/blog/tags/android"}],"readingTime":8.935,"hasTruncateMarker":true,"authors":[{"name":"Termux Wiki","title":"The Termux Wiki","url":"https://wiki.termux.com/wiki/Main_Page"}],"frontMatter":{"title":"Termux\u8fdc\u7a0b\u8bbf\u95ee","author":"Termux Wiki","author_title":"The Termux Wiki","author_url":"https://wiki.termux.com/wiki/Main_Page","tags":["termux","android"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"VSC\u6307\u5b9a\u7c7b\u5e93\u6587\u4ef6\u589e\u5f3a\u667a\u80fd\u611f\u77e5","permalink":"/blog/2021/04/27/visual-studio-code-intelligence"},"nextItem":{"title":"\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417","permalink":"/blog/2021/04/23/\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417"}},"content":"\u5728\u7535\u8111\u4e0a\u8fdc\u7a0b\u8bbf\u95eeTermux: \\n\\n\\n\x3c!--truncate--\x3e\\n\\n```bash\\n# \u4ee5\u4e0b\u811a\u672c\u5728 Termux \u7ec8\u7aef\u4e0a\u6267\u884c\\npkg install openssh # \u5b89\u88c5\u5305\\nssh-keygen # \u751f\u6210ssh\u7684key\\nsshd # \u542f\u52a8\u670d\u52a1\\npasswd # \u8bbe\u7f6e\u5f53\u524d\u8d26\u53f7\u5bc6\u7801\\n\\n# \u4ee5\u4e0b\u811a\u672c\u5728\u7535\u8111\u4e0a\u6267\u884c\\nssh -p 8022 user@termux_ip\\n```\\n\\nTermux is capable of accessing remote devices by using some common tools. It is also possible to turn a device running Termux into remote controlled server.\\n\\n## FTP\\n\\nWarning: plain FTP is deprecated and insecure anyway. Termux FTP server supports only anonymous login, there no any authentication and everyone on your network can access files on your device. Use SFTP (OpenSSH) instead!\\n\\nTermux FTP server is based on busybox and service is managed by [Termux-services]. If you decided to use FTP server, install these packages:\\n```bash\\npkg install busybox termux-services\\n```\\nAfter installation you need to restart session or source this file:\\n```\\nsource $PREFIX/etc/profile.d/start-services.sh\\n```\\nNow you ready to enable and start the FTP daemon service:\\n```\\nsv-enable ftpd\\nsv up ftpd\\n```\\nFTP server will run on port 8021 in read-only mode.\\n\\nIf you need to stop server, run `sv down ftpd`.\\n\\n## SSH\\n\\nSSH provides a secure way for accessing remote hosts and replaces tools such as telnet, rlogin, rsh, ftp. Termux provides SSH via two packages: dropbear and openssh. If you never used these tools before, it is recommended to install \'openssh\' as it is more common.\\n\\n### Using the SSH client\\n\\nYou can obtain an SSH client by installing either `openssh` or `dropbear`.\\n\\n#### Usage example\\n\\nTo login to a remote machine where the ssh daemon is running at the standard port (22):\\n```bash\\nssh user@hostname_or_ip\\n```\\n\\nSame as above, but if the ssh daemon running on different port, e.g. 8022:\\n\\n```bash\\nssh -p 8022 user@hostname_or_ip\\n```\\n\\nUsing public key authentication with ssh running on the standard port and a private key stored in the file `id_rsa`:\\n\\n```bash\\nssh -i id_rsa user@hostname_or_ip\\n```\\n\\nNote, that if `id_rsa` will be stored in `~/.ssh` directory, you can omit specifying it in the command. But if you have multiple keys, it is necessary to pick a specific key with `-i {path_to_privkey}`.\\n\\n#### SSH Agent\\n\\n**Important note**: this does not work for Dropbear.\\n\\n\\nIf you wish to use an SSH agent to avoid entering passwords, the Termux openssh package provides a wrapper script named `ssha` (note the `a` at the end) for ssh, which:\\n\\n* Starts the ssh agent if necessary (or connect to it if already running).\\n* Runs the `ssh-add` if necessary.\\n* Runs the `ssh` with the provided arguments.\\n\\nThis means that the agent will prompt for a key password at first run, but remember the authorization for subsequent runs.\\n\\n### Using the SSH server\\n\\n#### OpenSSH\\n\\nOpenSSH (also known as OpenBSD Secure Shell) is a suite of secure networking utilities based on the Secure Shell (SSH) protocol, which provides a secure channel over an unsecured network in a client\u2013server architecture.\\n\\nDefault SSH port in Termux is 8022.\\n\\n##### Starting and stopping OpenSSH server\\n\\nSince Termux does not use initialization system, services are started manually from command line.\\n\\n\\nTo start OpenSSH server, you need to execute this command:\\n```bash\\nsshd\\n```\\nIf you need to stop `sshd`, just kill it\'s process:\\n```bash\\npkill sshd\\n```\\n\\nSSH daemon does logging to Android system log, you can view it by running `logcat -s \'sshd:*\'`. You can do that either from Termux or ADB.\\n\\n##### Setting up password authentication \\n\\nPassword authentication is enabled by default. This will allow you to get started with it much easier. Before proceeding, make sure that you understand that password authentication is less secure than a pubkey-based one.\\n\\n\\n1. Ensure that everything is up to date and package `openssh` is installed:\\n```bash\\npkg upgrade\\npkg install openssh\\n```\\n2. Password authentication is enabled by default in configuration file. But you can still review it ($PREFIX/etc/ssh/sshd_config), it should be like this:\\n```\\nPrintMotd yes\\nPasswordAuthentication yes\\nSubsystem sftp /data/data/com.termux/files/usr/libexec/sftp-server\\n```\\n3. Set new password. Execute command passwd. While program allows minimal password length is 1 character, the recommended password length is more than 8-10 characters. Passwords are not printed to console.\\n```bash\\n$ passwd\\nNew password:\\nRetype new password:\\nNew password was successfully set.\\n```\\n\\n##### Setting up public key authentication\\n\\nPublic key authentication is the recommended way for logging in using SSH. To use this type of authentication, you need to have a public/private key pair. For successful login, the public key must exist in the authorized keys list on remote machine while private key should be kept safe on your local host.\\n\\n\\nIn the following example it will be assumed that you want to establish public key authentication between your PC (host) and your Android device running Termux (remote). It also will be assumed that you running Linux distribution on your PC.\\n\\n\\n1. If you do not have keys, you can generate them. In this example we will generate RSA key. On PC, execute this command:\\n```bash\\nssh-keygen -t rsa -b 2048 -f id_rsa\\n```\\nThe command shown above generates private RSA key with 2048 bit key length and saves it to file `id_rsa`. In the same directory you can find a file `id_rsa.pub` \u2013 it is a public key.\\n\\nImportant note: 2048 bit is the minimal key length that is considered safe. You can use higher values, but do not use higher than 4096 as remote server may not support big keys.\\n\\n\\n2. Copy key to the remote machine (Termux). Password authentication has to be enabled in order to install pubkey on remote machine. Now do:\\n```\\nssh-copy-id -p 8022 -i id_rsa IP_ADDRESS\\n```\\nDo not forget to replace `IP_ADDRESS` with the actual LAN IP address of your device. It can be determined by using command ifconfig.\\n\\nIf everything was okay, you will see a message like this one:\\n```\\nNumber of key(s) added: 1\\n\\nNow try logging into the machine, with:   \\"ssh -p \'8022\' \'192.168.1.4\'\\"\\nand check to make sure that only the key(s) you wanted were added.\\n```\\n\\n3. From this point password authentication can be disabled. Edit file $PREFIX/etc/ssh/sshd_config and replace line beginning with \\"PasswordAuthentication\\" by\\n```\\nPasswordAuthentication no\\n```\\nThen execute command pkill sshd; sshd in order to restart server with updated configuration file.\\n\\n#### Dropbear\\n\\nDropbear is a software package written by Matt Johnston that provides a Secure Shell-compatible server and client. It is designed as a replacement for standard OpenSSH for environments with low memory and processor resources, such as embedded systems.\\n\\n\\n**Important note**: Dropbear does not provide SFTP server.\\n\\n##### Starting and stopping Dropbear server\\n\\nSame as for OpenSSH, you will need to execute it\'s binary manually. Also, unlike OpenSSH, Dropbear does not use a configuration file but only command line arguments.\\n\\n\\nServer is running in background, both password and public key authentication available. To achieve this, just type in console:\\n\\n```\\ndropbear\\n```\\n\\nIf you need only public key authentication, do this instead:\\n```\\ndropbear -s\\n```\\n\\nAlso, server can be started in foreground. For this purpose use a parameter `-F`:\\n```\\ndropbear -F\\n```\\nServer started in foreground can be stopped by just Ctrl-C key combination. If it is in the background, then you can use a `pkill`:\\n```\\npkill dropbear\\n```\\n\\n##### Setting up password authentication\\n\\nSame as for OpenSSH, password authentication is enabled by default.\\n\\nEverything you have to do, is:\\n\\n\\n1. Make sure that everything is up to date and dropbear is installed:\\n```\\npkg upgrade\\npkg install dropbear\\n```\\n2. Set password by executing command passwd.\\n\\n3. Start dropbear server. You can execute either just dropbear to start it in background or dropbear -F to start it in the foreground.\\n\\n##### Setting up public key authentication\\n\\nSame as for OpenSSH, you can put your keys by using ssh-copy-id. But if you consider to setup a public key authentication from Termux to something else, it is worth to mention some important differences between OpenSSH and Dropbear.\\n\\n\\n1. Dropbear uses a different command for generating keys. Example of generating RSA key (2048 bit):\\n```\\ndropbearkey -t rsa -f id_rsa -s 2048\\n```\\n2. Public key should be obtained manually. To do this, you have to use \'dropbearkey\' again, but in different way:\\n```\\ndropbearkey -f id_rsa -y\\n```\\n3. Dropbear and OpenSSH uses a different key formats. To use a Dropbear\'s key in OpenSSH, you will have to convert it:\\n```\\ndropbearconvert dropbear openssh ./id_rsa ./id_rsa_openssh\\n```\\nThis procedure can be done vice versa to obtain a key in Dropbear\'s format:\\n```\\ndropbearconvert openssh dropbear ./id_rsa_openssh ./id_rsa_dropbear\\n```\\n\\n### Using the SFTP\\n\\nPackage OpenSSH provides a tool for accessing remote hosts over SFTP. This will allow you to work with files in same way as via FTP but with better security.\\n\\n\\nConnecting to Termux (sshd listening on port 8022):\\n```\\n$ sftp -P 8022 192.168.1.20\\n```\\nConnecting to somewhere else (sshd listening on standard port):\\n```\\n$ sftp sftp.example.com\\n```\\nHowever, to use command line SFTP client you should know some basic commands:\\n\\n* `cd PATH` - change current directory to `PATH`.\\n* `get REMOTE [LOCAL]` - download file `REMOTE` and rename it as `LOCAL` (optional).\\n* `mkdir PATH` - create directory `PATH`.\\n* `ls [PATH]` - list files in directory `PATH`. If no argument, files in current directory will be listed.\\n* `put LOCAL [REMOTE]` - Upload file `LOCAL` and rename it as `REMOTE` (optional).\\n* `rm FILE` - Delete file `FILE`.\\n\\nThis is not a complete list of SFTP commands. To view all available commands, consider to view man page (man sftp) or view short help in interactive SFTP session by issuing command `help`.\\n\\n## MOSH\\n\\nMosh is a remote terminal application that allows roaming, supports intermittent connectivity, and provides intelligent local echo and line editing of user keystrokes.\\n\\n### Usage example\\n\\nImportant note: Mosh should be installed on both client and server side.\\n\\n\\nConnecting to remote host (sshd listening on standard port):\\n```\\nmosh user@ssh.example.com\\n```\\nConnecting to Termux (sshd listening on port 8022):\\n```\\nmosh --ssh=\\"ssh -p 8022\\" 192.168.1.25\\n```\\n\\n## Rsync\\n\\nRsync is a tool for synchronizing files with remote hosts or local directories (or drives). For better experience of using rsync, make sure that package `openssh` (or `dropbear`) is installed.\\n\\n### Usage example\\n\\nSync your photos with PC:\\n```\\n$ rsync -av /sdcard/DCIM/ user@192.168.1.20:~/Pictures/Android/\\n```\\n\\nGet photos from remote Android device:\\n```\\n$ rsync -av -e \'ssh -p 8022\' 192.168.1.3:/sdcard/DCIM/ /sdcard/DCIM/\\n```\\nSync local directories (e.g. from external sdcard to Termux home):\\n```\\n$ rsync -av /storage/0123-4567/myfiles ~/files\\n```\\nYou may want to see man page (`man rsync`) to learn more about it\'s usage."},{"id":"/2021/04/23/\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417","metadata":{"permalink":"/blog/2021/04/23/\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-23-\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417.md","source":"@site/src/blog/2021-04-23-\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417.md","title":"\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417","description":"\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417\uff1f\u5982\u679c\u4e0d\u80fd\u7684\u8bdd\u53c8\u662f\u4e3a\u4ec0\u4e48\uff1f","date":"2021-04-23T00:00:00.000Z","formattedDate":"April 23, 2021","tags":[{"label":"\u6587\u7ae0","permalink":"/blog/tags/\u6587\u7ae0"},{"label":"\u8f6c\u6458","permalink":"/blog/tags/\u8f6c\u6458"}],"readingTime":6.62,"hasTruncateMarker":true,"authors":[{"name":"\u7ea2\u62a4","url":"https://www.zhihu.com/people/tian-yuan-nan-quan-51","imageURL":"https://pic2.zhimg.com/v2-4b485c0dc55616afcddd635f56e0b9aa_xll.jpg"}],"frontMatter":{"title":"\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417","author":"\u7ea2\u62a4","author_url":"https://www.zhihu.com/people/tian-yuan-nan-quan-51","author_image_url":"https://pic2.zhimg.com/v2-4b485c0dc55616afcddd635f56e0b9aa_xll.jpg","tags":["\u6587\u7ae0","\u8f6c\u6458"],"description":"\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417\uff1f\u5982\u679c\u4e0d\u80fd\u7684\u8bdd\u53c8\u662f\u4e3a\u4ec0\u4e48\uff1f","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Termux\u8fdc\u7a0b\u8bbf\u95ee","permalink":"/blog/2021/04/26/termux-remote-access"},"nextItem":{"title":"Nginx 301\u91cd\u5b9a\u5411\u57df\u540d","permalink":"/blog/2021/04/15/nginx-rewrite"}},"content":"import { NetworkCopyRight } from \\"@site/src/components\\";\\n\\n\u6211\u771f\u7684\u662f\u670d\u4f60\u4eec\u8fd9\u7fa4\u5d3d\u5b50\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u4e00\u4e2a\u4e2a\u7684\u90fd\u662f\u5951\u79d1\u592b\u8f6c\u4e16\u3001\u83ab\u6cca\u6851\u4e34\u51e1\u3001\u6b27\u4ea8\u5229\u8fd8\u9b42\uff0c\u8328\u5a01\u683c\u593a\u820d\u2026\u2026\\n\\n\u4f60\u4eec\u4e09\u5929\u6ca1\u6d17\u7684\u6cb9\u5934\u4e0a\u6563\u53d1\u7684\u662f\u838e\u58eb\u6bd4\u4e9a\u65f6\u4ee3\u9057\u7559\u7684\u601d\u60f3\u5723\u5149\uff0c\u4e00\u6708\u672a\u6362\u7684\u889c\u5b50\u91cc\u6c24\u6c32\u7740\u6587\u827a\u590d\u5174\u65f6\u671f\u7684\u84ec\u52c3\u84b8\u6c7d\uff0c\u9f99\u98de\u51e4\u821e\u7684\u72d7\u722c\u5b57\u4f53\u9971\u542b\u7740\u5343\u5e74\u4e2d\u534e\u7684\u4f1f\u5927\u4f20\u627f\u3002\\n\\n\u4f60\u4eec\u5c31\u662f\u9c81\u8fc5\u540e\u9662\u5b50\u91cc\u7684\u90a3\u4e24\u68f5\u6811\uff0c\u4e00\u68f5\u662f\u6734\u6811\uff0c\u53e6\u4e00\u68f5\u662f\u6751\u4e0a\u6625\u6811\uff0c\u4f60\u4eec\u7684\u6839\u7cfb\u7ef5\u5ef6\u4e0d\u7edd\uff0c\u4ece\u767d\u9e7f\u539f\u4e00\u76f4\u804a\u9a9a\u5230\u632a\u5a01\u7684\u68ee\u6797\uff0c\u963f\u6765\u530d\u5310\u5728\u4f60\u4eec\u811a\u4e0b\uff0c\u8d3e\u5e73\u51f9\u4ef0\u671b\u7740\u4f60\u4eec\u7684\u819d\u76d6\uff0c\u5218\u6148\u6b23\u7387\u9886\u7684\u6574\u4e2a\u4e09\u4f53\u8230\u961f\uff0c\u90fd\u88ab\u4f60\u4eec\u70ab\u5f69\u593a\u4e3d\u7684\u6587\u91c7\u6240\u6298\u670d\uff0c\u628a\u4f60\u4eec\u7684\u5927\u4f5c\u9876\u5728\u8111\u58f3\u4e0a\u4e00\u8def\u8dea\u7740\u722c\u56de\u53bb\u7684\u3002\\n\\n\u6211\u770b\u4f60\u4eec\u5c31\u5dee\u8111\u58f3\u4e0a\u5237\u4e0a\u51e0\u4e2a\u91d1\u5149\u95ea\u95ea\u7684\u70eb\u91d1\u5927\u5b57\u2014\u2014\u7237\u6000\u624d\u4e0d\u9047\uff01\\n\\n\u5c31\u4e00\u53e5\u8bdd\uff0c\u53ea\u8981\u4f60\u6587\u7b14\u597d\uff0c\u4e09\u89c2\u6b63\uff0c\u4e0d\u7ed9\u6cd5\u897f\u65af\u6d17\u5730\uff0c\u4e0d\u7ed9\u7f6a\u72af\u6321\u67aa\uff0c\u4e0d\u4e3a\u5c01\u5efa\u7cdf\u7c95\u62db\u9b42\uff0c\u4f60\u4eec\u7231\u5199\u4ec0\u4e48\u5199\u4ec0\u4e48\uff0c\u60f3\u5199\u4ec0\u4e48\u5199\u4ec0\u4e48\u2026\u2026\u8fd9\u4e9b\u90fd\u4e0d\u662f\u95ee\u9898\u3002\\n\\n\u4f60\u8981\u771f\u7684\u624d\u6bd4\u674e\u592a\u767d\uff0c\u6587\u76d6\u6258\u5c14\u65af\u6cf0\uff0c\u4f60\u7684\u8001\u5e08\u4e5f\u4e0d\u4f1a\u662f\u90a3\u5ac9\u8d24\u5992\u80fd\u7684\u5f20\u58eb\u8d35\uff0c\u4e0d\u4f1a\u9488\u5bf9\u4f60\u8fd9\u4e2a\u4eba\u6c11\u4ee3\u8868\u5927\u4f1a\u4e0a\u7684\u5e94\u68a6\u8d24\u81e3\u3002\\n\\n\u552f\u4e00\u7684\u95ee\u9898\u662f:\\n\\n\u9501\u4e86\u623f\u95e8\u4e22\u94a5\u5319\u2014\u2014\u60a8\u914d\u5417\uff1f\\n\\n\u6211\u5c31\u60f3\u77e5\u9053\uff0c\u60a8\u5341\u516b\u5e74\u7684\u4eba\u751f\u7a76\u7adf\u5ea6\u8fc7\u7684\u591a\u4e48\u7070\u6697\uff1f\u624d\u8ba9\u60a8\u7684\u8111\u5b50\u91cc\u5145\u6ee1\u4e86\u8fd9\u5b9b\u5982\u4e03\u6708\u5341\u4e94\u7ea2\u8863\u4e0a\u540a\u51a4\u6b7b\u9b3c\u822c\u7684\u6028\u6c14\uff0c\u975e\u8981\u5728\u4e00\u4e2a\u4eba\u751f\u6bd4\u91cd\u524d\u51e0\u540d\u7684\u8003\u8bd5\u91cc\u73a9\u4e00\u628a\u4e2a\u6027\uff0c\u8d4c\u4e00\u628a\u4eba\u751f\uff1f\u4f60\u662f\u662d\u548c\u65e5\u672c\u5728\u4e2d\u56fd\u7684\u9057\u5b64\u5417\uff1f\u52a8\u4e0d\u52a8\u5c31\u8981\u7687\u56fd\u5174\u5e9f\uff0c\u5728\u6b64\u4e00\u4e3e\uff1f\\n\\n\u533a\u533a\u516b\u767e\u5b57\u7684\u7bc7\u5e45\uff0c\u60a8\u662f\u6253\u7b97\u7528\u4ec0\u4e48\u6837\u7684\u65b9\u5f0f\u7ec4\u7ec7\u4e00\u4e2a\u83ab\u540d\u5176\u5999\u7684\u8d1f\u80fd\u91cf\u5ba3\u6cc4\uff1f\u558a\u9ea6\u5417\uff1f\u60ca\u96f7\uff0c\u8fd9\u901a\u5929\u5f7b\u5e95\u7d2b\u91d1\u9524\uff1f\\n\\n\u4f60\u5931\u8fc7\u4e1a\uff1f\u4e0b\u8fc7\u5c97\uff1f\u53bb\u8fc7\u5939\u8fb9\u6c9f\u519c\u573a\uff1f\\n\\n\u4f60\u625b\u8fc7\u67aa\uff1f\u6253\u8fc7\u4ed7\uff1f\u5bb6\u91cc\u4e0a\u4e86\u4e00\u70b7\u9999\uff1f\\n\\n\u4f60\u70bc\u8fc7\u94a2\uff1f\u4ea4\u8fc7\u7cae\uff1f\u5403\u8fc7\u7ea2\u85af\u62cc\u9ad8\u7cb1\uff1f\\n\\n\u4f60\u8d37\u8fc7\u6b3e\uff1f\u4e70\u8fc7\u623f\uff1f\u5973\u53cb\u8eab\u8fb9\u8eba\u8001\u738b\uff1f\\n\\n\u4f60\u6709\u4e2a\u5375\u5b50\u7684\u8d1f\u80fd\u91cf\uff1f\\n\\n\u6821\u82b1\u6ca1\u559d\u4f60\u62ff\u65e9\u9910\u94b1\u4e70\u7684\u5976\u8336\uff0c\u4f60\u5c31\u6291\u90c1\u4e86\uff1f\u738b\u8005\u8fde\u6389\u5341\u51e0\u4e2a\u6bb5\u4f4d\uff0c\u4f60\u5c31\u987f\u609f\u4e86\uff1f\u4f60\u54e5\u4eec\u653e\u5b66\u62c9\u7a00\u6ca1\u8ddf\u4f60\u4e00\u8d77\u8d70\uff0c\u4f60\u5c31\u89c9\u5f97\u88ab\u80cc\u53db\u4e86\uff1f\u4f60\u7239\u5988\u968f\u53e3\u53ee\u5631\u4f60\u4e00\u53e5\uff0c\u4f60\u5c31\u88ab\u5168\u4e16\u754c\u9488\u5bf9\u4e86\uff1f\\n\\n\u9192\u9192\u5427\uff0c\u4f60\u89c1\u8fc7\u4ec0\u4e48\u8d1f\u80fd\u91cf\uff1f\u5948\u4f55\u6865\u4e0a\u4f60\u4e0d\u559d\u6c64\u5b5f\u5a46\u8fd8\u5f97\u6389\u4e1a\u7ee9\u5462\uff0c\u6ee1\u6708\u65f6\u5019\u5634\u91cc\u5543\u5768\u5c4e\u4f60\u8fd8\u4e50\u7684\u50cf\u559d\u4e86\u5976\u4e00\u6837\u5462\uff0c\u7a7f\u7740\u4e2a\u5f00\u88c6\u88e4\u6ee1\u5e8a\u5c3f\u5c3f\u7684\u65f6\u5019\u4e5f\u6ca1\u89c1\u4f60\u5355\u624b\u6258\u816ecos\u4e2a\u6c89\u601d\u8005\u554a\uff1f\\n\\n\u9ad8\u8003\u4f5c\u6587\u7684\u96be\u5ea6\u4e00\u964d\u518d\u964d\uff0c\u4ece\u8bdd\u9898\u4f5c\u6587\u5230\u6750\u6599\u4f5c\u6587\u518d\u5230\u8fd1\u4e9b\u5e74\u5c31\u5dee\u7ed9\u4f60\u51fa\u4e2a\u5199\u4f5c\u653b\u7565\u7684\u4efb\u52a1\u9a71\u52a8\u578b\u4f5c\u6587\uff0c\u8003\u5bdf\u7684\u4e0d\u8fc7\u662f\u4f60\u597d\u597d\u8bf4\u8bdd\u7684\u672c\u4e8b\u3002\\n\\n\u53ef\u4f60\u5c31\u662f\u4e0d\u60f3\u597d\u597d\u8bf4\u8bdd\uff01\\n\\n\u56fd\u5bb6\u8d34\u7740\u94b1\u7ed9\u4f60\u4e5d\u5e74\u4e49\u52a1\u6559\u80b2\uff0c\u8865\u7740\u6b3e\u8fce\u63a5\u4f60\u53bb\u9ad8\u7b49\u5b66\u5e9c\uff0c\u5c31\u60f3\u5728\u4f5c\u6587\u91cc\u542c\u4f60\u5938\u4e24\u53e5\u600e\u4e48\u4e86\uff1f\u8fc7\u5206\u5417\uff1f\u8ba9\u4f60\u8d5e\u7f8e\u4e2a\u65e0\u79c1\u5949\u732e\u5938\u8000\u4e2a\u79d1\u6280\u53d1\u8fbe\u542c\u4e00\u53e5\u79ef\u6781\u5411\u4e0a\u8981\u4f60\u7684\u547d\u5417\uff1f\u4f60\u5c31\u975e\u7ed9\u4eba\u627e\u4e0d\u75db\u5feb\uff1f\u4f60\u5c31\u975e\u8981\u5927\u5e74\u4e09\u5341\u9001\u68fa\u6750\uff0c\u6ee1\u6708\u9152\u4e0a\u505a\u82b1\u5708\uff1f\\n\\n\u5e73\u5e38\u61d2\u5f97\u5199\u968f\u7b14\uff0c\u6a21\u8003\u5b57\u6570\u51d1\u4e0d\u591f\uff0c\u540d\u8457\u6ca1\u7ffb\u8fc7\u51e0\u672c\uff0c\u62ff\u8d77\u624b\u673a\u5c31\u5fd8\u4e86\u5a18\uff0c\u6382\u8d77\u7b14\u5c31\u77f3\u4e50\u5fd7\uff0c\u7ed3\u679c\u4e00\u5230\u8003\u573a\u4e0a\u4f60\u8bd7\u60c5\u753b\u610f\u5168\u90fd\u6765\u4e86\uff0c\u6068\u4e0d\u5f97\u6d0b\u6d0b\u6d12\u6d12\u75be\u4e66\u53bb\uff0c\u4e00\u6b65\u4e09\u53f9\u4e0d\u56de\u5934\uff1f\\n\\n\u4f60\u8981\u771f\u7684\u662f\u5fe7\u56fd\u5fe7\u6c11\uff0c\u6587\u91c7\u6590\u7136\uff0c\u5c31\u662f\u80fd\u5728\u516b\u767e\u5b57\u5de6\u53f3\u7684\u7bc7\u5e45\u91cc\u63a7\u8bc9\u51fa\u8fd9\u9ed1\u6697\u7684\u4e16\u754c\u3001\u4e0d\u516c\u7684\u73b0\u5b9e\uff0c\u8ba9\u4eba\u8bfb\u4e86\u60b2\u4ece\u5fc3\u8d77\u6f78\u7136\u6cea\u4e0b\uff0c\u8001\u5e08\u770b\u4e86\u9f50\u58f0\u559d\u5f69\u62cd\u6848\u53eb\u7edd\uff0c\u6574\u4e2a\u6587\u5b66\u754c\u4e3a\u4e4b\u9707\u52a8\u2026\u2026\u90a3\u4f60\u5c31\u4e0d\u4f1a\u518d\u4e4e\u5206\u6570\u4e86\uff0c\u4f60\u90fd\u582a\u7834\u7ea2\u5c18\u4e16\u4fd7\uff0c\u6d1e\u6089\u4eba\u5fc3\u5b87\u5b99\u4e86\uff0c\u8fd8\u7ea0\u7ed3\u8001\u5e08\u7ed9\u4e0d\u7ed9\u4f60\u5206\u5e72\u561b\uff1f\u4fd7\u6c14\uff01\u4f60\u8ffd\u6c42\u7684\u5e94\u8be5\u662f\\"\u4ed6\u5e74\u6211\u82e5\u4e3a\u9752\u5e1d\uff0c\u62a5\u4e0e\u6843\u82b1\u4e00\u5904\u5f00\\"\u7684\u8c6a\u8fc8\u6216\u8005\\"\u6b8b\u8eaf\u5f92\u7559\u7ea2\u5c18\u91cc\uff0c\u6b64\u8eab\u4e0d\u5728\u4e94\u884c\u4e2d\\"\u7684\u6d12\u8131\uff0c\u4e0d\u662f\u5417\uff1f\\n\\n\u4f60\u770b\u6211\u8fd9\u7bc7\u8d1f\u80fd\u91cf\u4f5c\u6587\u5c31\u5f88\u5931\u8d25\uff01\u5b57\u6570\u8d85\u4e86\u4e00\u534a\u591a\uff01\u53cb\u60c5\u7ed9\u4e2a20\u5206\u5427\u3002\\n\\n\u6838\u5fc3\u89c2\u70b9\u5c31\u4e00\u53e5\uff0c\u4f60\u771f\u8981\u6709\u628a\u725b\u7caa\u5199\u6210\u9c9c\u82b1\u8fd8\u8ba9\u4eba\u5fcd\u4e0d\u4f4f\u7ed9\u4f60\u6d47\u6c34\u7684\u672c\u4e8b\uff0c\u4f60\u5199\u4ec0\u4e48\u90fd\u6ca1\u95ee\u9898\uff01\u53ef\u4f60\u8981\u662f\u6545\u610f\u523b\u5947\uff0c\u597d\u9ad8\u9a9b\u8fdc\uff0c\u8fde\u666e\u901a\u7684\u6750\u6599\u7cbe\u795e\u90fd\u9886\u4f1a\u4e0d\u4e86\uff0c\u8001\u8001\u5b9e\u5b9e\u8bae\u8bba\u6587\u5f18\u626c\u6b63\u80fd\u91cf\uff0c\u96be\u5ea6\u4f4e\uff0c\u5206\u6570\u9ad8\u3002\\n\\n\u4f60\u60f3\u62a8\u51fb\u73b0\u5b9e\u8bbd\u523a\u4eba\u6027\uff1f\u7b49\u4f60\u5317\u5927\u6bd5\u4e1a\u4e86\uff0c\u6709\u7684\u662f\u673a\u4f1a\uff0c\u4e0d\u7136\u53ea\u80fd\u8ddf\u6211\u4e00\u6837\uff0c\u5728\u8fd9\u7f51\u7edc\u5e73\u53f0\u4e0a\u5ba3\u6cc4\u8d1f\u80fd\u91cf\uff0c\u773c\u775b\u5df4\u5df4\u7684\u76ef\u7740\u6bcf\u4e00\u4e2a\u6ca1\u70b9\u8d5e\u7684\uff0c\u4eff\u4f5b\u4e03\u6708\u5341\u4e94\u7a7f\u7ea2\u8863\u4e0a\u540a\u7684\u51a4\u6b7b\u9b3c\u4f3c\u7684\u3002\\n\\n<NetworkCopyRight author=\\"\u7ea2\u62a4\\" link=\\"https://www.zhihu.com/question/272068457/answer/1302565494\\" />"},{"id":"/2021/04/15/nginx-rewrite","metadata":{"permalink":"/blog/2021/04/15/nginx-rewrite","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-15-nginx-rewrite.md","source":"@site/src/blog/2021-04-15-nginx-rewrite.md","title":"Nginx 301\u91cd\u5b9a\u5411\u57df\u540d","description":"\u8bbe\u7f6eNginx 301\u91cd\u5b9a\u5411\u8df3\u8f6c","date":"2021-04-15T00:00:00.000Z","formattedDate":"April 15, 2021","tags":[{"label":"nginx","permalink":"/blog/tags/nginx"},{"label":"301","permalink":"/blog/tags/301"},{"label":"rewrite","permalink":"/blog/tags/rewrite"}],"readingTime":1.005,"hasTruncateMarker":true,"authors":[{"name":"\u90ed\u632f\u658c","url":"https://www.cnblogs.com/benio/archive/2010/08/16/1800584.html"}],"frontMatter":{"title":"Nginx 301\u91cd\u5b9a\u5411\u57df\u540d","author":"\u90ed\u632f\u658c","author_url":"https://www.cnblogs.com/benio/archive/2010/08/16/1800584.html","tags":["nginx","301","rewrite"],"description":"\u8bbe\u7f6eNginx 301\u91cd\u5b9a\u5411\u8df3\u8f6c","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417","permalink":"/blog/2021/04/23/\u8bed\u6587\u8003\u8bd5\u53ef\u4ee5\u5199\u8d1f\u80fd\u91cf\u4f5c\u6587\u5417"},"nextItem":{"title":"CentOS\u5b89\u88c5Nginx","permalink":"/blog/2021/04/11/centos-install-nginx"}},"content":"[\u539f\u6587 - Nginx 301\u91cd\u5b9a\u5411\u57df\u540d](https://www.cnblogs.com/benio/archive/2010/08/16/1800584.html)\\n\\n\u4e0b\u8ff0\u914d\u7f6e\u4f1a\u628a`jefflei.com`\u57df\u540d\u7684\u8bf7\u6c42\u8fd4\u56de301\u8df3\u8f6c\u5230`http://www.jefflei.com/`\\n\\n\x3c!--truncate--\x3e\\n\\n\\n\u8fdb\u884c\u4e86301\u91cd\u5b9a\u5411\uff0c\u628a`www .jefflei.com`\u548c`jefflei.com`\u5408\u5e76\uff0c\u5e76\u628a\u4e4b\u524d\u7684\u57df\u540d\u4e5f\u4e00\u5e76\u5408\u5e76. \u6709\u4e24\u79cd\u5b9e\u73b0\u65b9\u6cd5,\u7b2c\u4e00\u79cd\u65b9\u6cd5\u662f\u5224\u65adnginx\u6838\u5fc3\u53d8\u91cf`host`(\u8001\u7248\u672c\u662f`http_host`)\uff1a\\n\\n```conf\\nserver {\\n    server_name www.jefflei.com jefflei.com;\\n    if ($host != \'www.jefflei.com\' ) {\\n        rewrite ^/(.*)$ http://www.jefflei.com/$1 permanent;\\n    }\\n}\\n```\\n\\n\u7b2c\u4e8c\u79cd\u65b9\u6cd5\uff1a\\n\\n```conf\\nserver {\\n    server_name jefflei.com;\\n    rewrite ^/(.*) http://www.jefflei.com/$1 permanent;\\n}\\n```\\n\\n\u6d4b\u8bd5\u4e86\u7b2c\u4e00\u79cd\u65b9\u6cd5ok\uff0c\u8fd9\u4e24\u79cd\u65b9\u6cd5\u4e2d\uff0c permanent\u662f\u5173\u952e\uff0c\u8be6\u7ec6\u8bf4\u660e\u89c1nginx\u91cd\u5b9a\u5411\u89c4\u5219\u8bf4\u660e\u3002\\n\\n* `last` \u2013 \u57fa\u672c\u4e0a\u90fd\u7528\u8fd9\u4e2aFlag\u3002\\n* `break` \u2013 \u4e2d\u6b62Rewirte\uff0c\u4e0d\u5728\u7ee7\u7eed\u5339\u914d\\n* `redirect` \u2013 \u8fd4\u56de\u4e34\u65f6\u91cd\u5b9a\u5411\u7684HTTP\u72b6\u6001302\\n* `permanent` \u2013 \u8fd4\u56de\u6c38\u4e45\u91cd\u5b9a\u5411\u7684HTTP\u72b6\u6001301"},{"id":"/2021/04/11/centos-install-nginx","metadata":{"permalink":"/blog/2021/04/11/centos-install-nginx","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-centos-install-nginx.md","source":"@site/src/blog/2021-04-11-centos-install-nginx.md","title":"CentOS\u5b89\u88c5Nginx","description":"CentOS\u5b89\u88c5Nginx","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"centos","permalink":"/blog/tags/centos"},{"label":"linux","permalink":"/blog/tags/linux"},{"label":"nginx","permalink":"/blog/tags/nginx"}],"readingTime":0.43,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"CentOS\u5b89\u88c5Nginx","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["centos","linux","nginx"],"description":"CentOS\u5b89\u88c5Nginx","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Nginx 301\u91cd\u5b9a\u5411\u57df\u540d","permalink":"/blog/2021/04/15/nginx-rewrite"},"nextItem":{"title":"\u521b\u5efaWindows\u670d\u52a1","permalink":"/blog/2021/04/11/create-windows-service"}},"content":"\u4ee5\u4e0b\u662f\u5b89\u88c5\u811a\u672c: \\n\\n\x3c!--truncate--\x3e\\n\\n```bash\\n# install dependency\\nyum install -y gcc  # GNU compiler\\nyum install -y pcre pcre-devel  # PCRE(Perl Compatible Regular Expression)\\n# ubuntu system\\n# apt-get install libpcre3 libpcre3-dev \\nyum install -y zlib zlib-devel  # gzip compression library\\n#ubuntu system\\n# apt-get install zliblg zliblg-dev\\nyum install -y openssl openssl-devel\\n\\n# download nginx \\ncd ~/downloads\\nwget https://launchpad.net/nginx/0.7/0.7.66/+download/nginx-0.7.66.tar.gz\\ntar xzvf nginx-0.7.66.tar.gz\\ncd nginx-0.7.66 # change extracted directory \\n\\n# compile\\n./configure --prefix=/usr/local/nginx-0.7.66 --with-cc-opt=-Wno-error\\nmake\\nmake install \\ncd /usr/local/nginx-0.7.66/sbin\\n./nginx\\n```"},{"id":"/2021/04/11/create-windows-service","metadata":{"permalink":"/blog/2021/04/11/create-windows-service","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-create-windows-service.md","source":"@site/src/blog/2021-04-11-create-windows-service.md","title":"\u521b\u5efaWindows\u670d\u52a1","description":"\u521b\u5efaWindows\u670d\u52a1","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"windows","permalink":"/blog/tags/windows"},{"label":"serivce","permalink":"/blog/tags/serivce"}],"readingTime":1.295,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u521b\u5efaWindows\u670d\u52a1","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["windows","serivce"],"description":"\u521b\u5efaWindows\u670d\u52a1","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"CentOS\u5b89\u88c5Nginx","permalink":"/blog/2021/04/11/centos-install-nginx"},"nextItem":{"title":"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26","permalink":"/blog/2021/04/11/customize-bash-prompt"}},"content":"import { ResourceLink } from \\"@site/src/components\\";\\n\\n> \u53c2\u8003 [Create your own user-defined services Windows NT/2000/XP/2003](http://www.tacktech.com/display.cfm?ttid=197), \u548c [Run a Windows Application as a Service with srvany](https://www.iceflatline.com/2015/12/run-a-windows-application-as-a-service-with-srvany/)\\n\\n\x3c!--truncate--\x3e\\n\\n## \u4e0b\u8f7d\u5de5\u5177\\n\\n[srvany.zip](http://www.tacktech.com/display.cfm?ttid=197), \u6216\u8005\u4ece<ResourceLink href=\\"files/create-windows-service/srvany.zip\\">\u672c\u4ed3\u5e93\u4e0b\u8f7d</ResourceLink>\\n\\n## \u521b\u5efa\u670d\u52a1\\n\\n\u4f7f\u7528\u7ba1\u7406\u5458\u6743\u9650\u6253\u5f00\u63a7\u5236\u53f0, \u5047\u8bbe\u670d\u52a1\u540d\u79f0\u4e3a `frpc`: \\n\\n```dos\\nc:\\\\srvany\\\\instsrv.exe \\"frpc\\" c:\\\\srvany\\\\srvany.exe\\n```\\n\\n`instsrv.exe` \u548c `srvany.exe` \u4e00\u5b9a\u8981\u7528\u7edd\u5bf9\u8def\u5f84, \u4e5f\u5c31\u662f `c:\\\\srvany\\\\instsrv.exe`, \u4e0d\u80fd\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84(\u6bd4\u5982`.\\\\instsrv.exe`\u662f\u4e0d\u884c\u7684).\\n\\n## \u66f4\u6539\u6ce8\u518c\u8868\\n\\n\u6253\u5f00\u6ce8\u518c\u8868, \u5b9a\u4f4d\u5230 `HKEY_LOCAL_MACHINE\\\\SYSTEM\\\\CurrentControlSet\\\\services\\\\frpc`, \u7136\u540e\u65b0\u5efa\u4e00\u4e2a\u540d\u4e3a `Parameters` \u7684 Key( _Edit > New > Key_), \u7136\u540e\u53f3\u51fb\u8fd9\u4e2aKey, \u65b0\u5efa\u4e00\u4e2a\u540d\u4e3a`Application`\u7684 __String Value__, \u53cc\u51fb\u8fd9\u4e2aKey, \u503c\u8f93\u5165\u8981\u6267\u884c\u7684\u7a0b\u5e8f(\u6bd4\u5982: `\\"C:\\\\frp_0.29.1_windows_amd64\\\\frpc.exe\\" -c \\"C:\\\\frp_0.29.1_windows_amd64\\\\frpc.ini\\"`)\\n\\n## \u542f\u52a8\\n\\n```batch\\nsc start \\"frpc\\" REM \u542f\u52a8\u670d\u52a1\\nsc delete \\"frcp\\" REM \u5220\u9664\u670d\u52a1\\n```\\n\\n## \u8bbe\u7f6eWindows\u542f\u52a8\u81ea\u52a8\u767b\u9646:\\n\\n\u8fd0\u884c\u8f93\u5165 `Control Userpasswords2`, \u5728\u6253\u5f00\u7684\u7a97\u53e3\u91cc\u9009\u4e2d\u8981\u81ea\u52a8\u767b\u9646\u7684\u8d26\u53f7, \u53d6\u6d88\u52fe\u9009\u7528\u6237\u767b\u9646\u5fc5\u987b\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\u4f7f\u7528\u7535\u8111, \u7136\u540e\u70b9\u51fb\u4fdd\u5b58\u8f93\u5165\u8d26\u53f7\u7684\u5bc6\u7801\u5373\u53ef."},{"id":"/2021/04/11/customize-bash-prompt","metadata":{"permalink":"/blog/2021/04/11/customize-bash-prompt","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-customize-bash-prompt.md","source":"@site/src/blog/2021-04-11-customize-bash-prompt.md","title":"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26","description":"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"bash","permalink":"/blog/tags/bash"}],"readingTime":4.1,"hasTruncateMarker":true,"authors":[{"name":"\u7f51\u7edc","url":"https://www.cyberciti.biz/tips/howto-linux-unix-bash-shell-setup-prompt.html"}],"frontMatter":{"title":"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26","author":"\u7f51\u7edc","author_url":"https://www.cyberciti.biz/tips/howto-linux-unix-bash-shell-setup-prompt.html","tags":["linux","bash"],"description":"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u521b\u5efaWindows\u670d\u52a1","permalink":"/blog/2021/04/11/create-windows-service"},"nextItem":{"title":"\u4f7f\u7528 Docker \u90e8\u7f72 Sentry","permalink":"/blog/2021/04/11/docker-sentry-deploy"}},"content":"Prompt is control via a special shell variable. You need to set `PS1`, `PS2`, `PS3` and `PS4` variable. If set, the value is executed as a command prior to issuing each primary prompt.\\n\\n\x3c!--truncate--\x3e\\n\\n* `PS1` \u2013 The value of this parameter is expanded (see PROMPTING below) and used as the primary prompt string. The default value is \\\\s-\\\\v\\\\$ .\\n* `PS2` \u2013 The value of this parameter is expanded as with PS1 and used as the secondary prompt string. The default is >\\n* `PS3` \u2013 The value of this parameter is used as the prompt for the select command\\n* `PS4` \u2013 The value of this parameter is expanded as with PS1 and the value is printed before each command bash displays during an execution trace. The first character of PS4 is replicated multiple times, as necessary, to indicate multiple levels of indirection. The default is `+`\\n\\n\\n## How do I display current bash shell prompt setting?\\n\\nSimply use the echo command, enter:\\n\\n```bash\\n$ echo $PS1\\n```\\n\\nSample output:\\n\\n```\\n[\\\\u@\\\\h \\\\W]\\\\$\\n```\\n\\n### How do I modify or change the prompt?\\n\\nModifying the prompt is easy task. Just assign a new value to PS1 and hit enter key:\\n```bash\\nPS1=\\"touch me : \\"\\n```\\n\\nSample outputs:\\n\\n```\\ntouch me : \\n```\\n\\nSo when executing interactively, bash displays the primary prompt `PS1` when it is ready to read a command, and the secondary prompt `PS2` when it needs more input to complete a command. Bash allows these prompt strings to be customized by inserting a number of backslash-escaped special characters that are decoded as follows:\\n\\n* `\\\\a` : an ASCII bell character (07)\\n* `\\\\d` : the date in \u201cWeekday Month Date\u201d format (e.g., \u201cTue May 26\u201d)\\n* `\\\\D{format}` : the format is passed to strftime(3) and the result is inserted into the prompt string; an empty format results in a locale-specific time representation. The braces are required\\n* `\\\\e` : an ASCII escape character (033)\\n* `\\\\h` : the hostname up to the first \u2018.\u2019\\n* `\\\\H` : the hostname\\n* `\\\\j` : the number of jobs currently managed by the shell\\n* `\\\\l` : the basename of the shell\xe2\u20ac\u2122s terminal device name\\n* `\\\\n` : newline\\n* `\\\\r` : carriage return\\n* `\\\\s` : the name of the shell, the basename of $0 (the portion following the final slash)\\n* `\\\\t` : the current time in 24-hour HH:MM:SS format\\n* `\\\\T` : the current time in 12-hour HH:MM:SS format\\n* `\\\\@` : the current time in 12-hour am/pm format\\n* `\\\\A` : the current time in 24-hour HH:MM format\\n* `\\\\u` : the username of the current user\\n* `\\\\v` : the version of bash (e.g., 2.00)\\n* `\\\\V` : the release of bash, version + patch level (e.g., 2.00.0)\\n* `\\\\w` : the current working directory, with $HOME abbreviated with a tilde\\n* `\\\\W` : the basename of the current working directory, with $HOME abbreviated with a tilde\\n* `\\\\!` : the history number of this command\\n* `\\\\#` : the command number of this command\\n* `\\\\$` : if the effective UID is 0, a #, otherwise a $\\n* `\\\\nnn` : the character corresponding to the octal number nnn\\n* `\\\\\\\\` : a backslash\\n* `\\\\[` : begin a sequence of non-printing characters, which could be used to embed a terminal control sequence into the prompt\\n* `\\\\]` : end a sequence of non-printing characters\\n\\nExamples\\n\\nLet us try to set the prompt so that it can display today\u2019s date and hostname:\\n```bash\\nPS1=\\"\\\\d \\\\h $ \\"\\n```\\n\\nSample output:\\n```\\nSat Jun 02 server $ \\n```\\nNow setup prompt to display date/time, hostname and the current working directory:\\n```bash\\nPS1=\\"[\\\\d \\\\t \\\\u@\\\\h:\\\\w ] $ \\"\\n```\\n\\nSample utputs:\\n```\\n[Sat Jun 02 14:24:12 vivek@server:~ ] $\\n```\\n\\n## How do I add colors to my prompt?\\n\\nYou can change the [color of your shell prompt](https://www.cyberciti.biz/faq/bash-shell-change-the-color-of-my-shell-prompt-under-linux-or-unix/) to impress your friend or to make your own life quite easy while working at command prompt.\\n\\n## Putting it all together\\n\\nLet us say when you login as root/superuser, you want to get visual confirmation using red color prompt. To distinguish between superuser and normal user you use last character in the prompt, if it changes from $ to #, you have superuser privileges. So let us set your prompt color to RED when you login as root, otherwise display normal prompt.\\n\\nOpen `/etc/bashrc` (Redhat and friends) `/` or `/etc/bash.bashrc` (Debian/Ubuntu) or `/etc/bash.bashrc.local` (Suse and others) file and append following code:\\n```bash\\nvi /etc/bashrc\\n```\\n\\nAppend the code as follows\\n\\n```bash\\n# If id command returns zero, you got root access.\\nif [ $(id -u) -eq 0 ];\\nthen # you are root, set red colour prompt\\n  PS1=\\"\\\\\\\\[$(tput setaf 1)\\\\\\\\]\\\\\\\\u@\\\\\\\\h:\\\\\\\\w #\\\\\\\\[$(tput sgr0)\\\\\\\\]\\"\\nelse # normal\\n  PS1=\\"[\\\\\\\\u@\\\\\\\\h:\\\\\\\\w] $\\"\\nfi\\n```\\n\\nClose and save the file.\\n\\n\\n> [\u539f\u6587 - How To Customize Bash Prompt In Linux](https://www.cyberciti.biz/tips/howto-linux-unix-bash-shell-setup-prompt.html)"},{"id":"/2021/04/11/docker-sentry-deploy","metadata":{"permalink":"/blog/2021/04/11/docker-sentry-deploy","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-docker-sentry-deploy.md","source":"@site/src/blog/2021-04-11-docker-sentry-deploy.md","title":"\u4f7f\u7528 Docker \u90e8\u7f72 Sentry","description":"\u4f7f\u7528 Docker \u90e8\u7f72 Sentry","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"sentry","permalink":"/blog/tags/sentry"}],"readingTime":0.675,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u4f7f\u7528 Docker \u90e8\u7f72 Sentry","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["docker","sentry"],"description":"\u4f7f\u7528 Docker \u90e8\u7f72 Sentry","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26","permalink":"/blog/2021/04/11/customize-bash-prompt"},"nextItem":{"title":"How to Setup Reverse Proxy on IIS with URL-Rewrite","permalink":"/blog/2021/04/11/iis-reverse-proxy-url-rewrite"}},"content":"\u53c2\u8003 [Sentry Doc](https://github.com/docker-library/docs/tree/master/sentry).\\n\\n\x3c!--truncate--\x3e\\n\\n## \u521d\u59cb\u5316\u5e76\u8bbe\u7f6e\u8d26\u53f7\u5bc6\u7801\\n\\n```bash\\ndocker run -d --name sentry-redis redis\\ndocker run -d --name sentry-postgres -e POSTGRES_PASSWORD=secret -e POSTGRES_USER=sentry postgres\\n# \u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u83b7\u53d6key\\n# docker run --rm sentry config generate-secret-key\\ndocker run -it --rm -e SENTRY_SECRET_KEY=\'mg_wqo&ziiaou_8#-=_3_d(8!y5o=8=_-d78qqytuie)xfkns5\' --link sentry-postgres:postgres --link sentry-redis:redis sentry upgrade\\n```\\n\\n## \u542f\u52a8\\n```bash\\n# \u4e5f\u53ef\u4ee5\u4f7f\u7528 -P \u968f\u673a\u5206\u914d\u7aef\u53e3\u53f7\\ndocker run -d --name my-sentry -e SENTRY_SECRET_KEY=\'mg_wqo&ziiaou_8#-=_3_d(8!y5o=8=_-d78qqytuie)xfkns5\' --link sentry-redis:redis --link sentry-postgres:postgres -p 8080:9000 sentry\\ndocker run -d --name sentry-cron -e SENTRY_SECRET_KEY=\'mg_wqo&ziiaou_8#-=_3_d(8!y5o=8=_-d78qqytuie)xfkns5\' --link sentry-postgres:postgres --link sentry-redis:redis sentry run cron\\ndocker run -d --name sentry-worker-1 -e SENTRY_SECRET_KEY=\'mg_wqo&ziiaou_8#-=_3_d(8!y5o=8=_-d78qqytuie)xfkns5\' --link sentry-postgres:postgres --link sentry-redis:redis sentry run worker\\n\\n```\\n\\n\u73b0\u5728\u5c31\u53ef\u4ee5\u8bbf\u95ee `http://localhost:8080` \u4e86."},{"id":"/2021/04/11/iis-reverse-proxy-url-rewrite","metadata":{"permalink":"/blog/2021/04/11/iis-reverse-proxy-url-rewrite","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-iis-reverse-proxy-url-rewrite.md","source":"@site/src/blog/2021-04-11-iis-reverse-proxy-url-rewrite.md","title":"How to Setup Reverse Proxy on IIS with URL-Rewrite","description":"\u4f7f\u7528IIS\u7684URL Rewrite\u8bbe\u7f6e\u53cd\u5411\u4ee3\u7406","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"iis","permalink":"/blog/tags/iis"},{"label":"reverse proxy","permalink":"/blog/tags/reverse-proxy"},{"label":"url rewrite","permalink":"/blog/tags/url-rewrite"}],"readingTime":2.08,"hasTruncateMarker":true,"authors":[{"name":"\u8f6c\u6458","url":"https://tecadmin.net/set-up-reverse-proxy-using-iis/"}],"frontMatter":{"title":"How to Setup Reverse Proxy on IIS with URL-Rewrite","author":"\u8f6c\u6458","author_url":"https://tecadmin.net/set-up-reverse-proxy-using-iis/","tags":["iis","reverse proxy","url rewrite"],"description":"\u4f7f\u7528IIS\u7684URL Rewrite\u8bbe\u7f6e\u53cd\u5411\u4ee3\u7406","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4f7f\u7528 Docker \u90e8\u7f72 Sentry","permalink":"/blog/2021/04/11/docker-sentry-deploy"},"nextItem":{"title":"\u914d\u7f6eIIS\u53cd\u5411\u4ee3\u7406\u6559\u7a0b","permalink":"/blog/2021/04/11/iis-reverse-proxy"}},"content":"import { ResourceLink, GiteeImage } from \\"@site/src/components\\";\\n\\nMost of the system administrator is aware of the reverse proxy. It is a type of proxy server which fetches the resources from one or more computers on clients requests and send back to the client. In simple terms, it works as an intermediate server, which listens to clients query. Then requests to server bases of clients query and returns results to client sent by the server. This tutorial will help you to setup reverse proxy using IIS with URL rewrite and application request routing extension.\\n\\n\x3c!--truncate--\x3e\\n\\nWe can configure reverse proxy in IIS using URL Rewrite module. This is similar to the mod_rewrite module in Apache. Before starting work make sure you have installed and enabled URL Rewrite module in IIS server.\\n\\n## What is URL Rewrite Module?\\n\\nURL Rewrite Module is officially provided by IIS development tool to extend the functionality of IIS web server. It provides additional functionality to rewrite application URL. This helps to make clean and SEO friendly URLs.\\n\\nYou can visit below URL and download and install URL rewrite IIS extension:\\n\\n<ResourceLink href=\\"files/iis-reverse-proxy/IIS_ARR_requestRouter_amd64.msi\\"> http://www.iis.net/downloads/microsoft/url-rewrite </ResourceLink>\\n\\nYou also need Application Request Routing extension to install on your system. Visit the following URL to download the extension and install on your system.\\n\\n<ResourceLink href=\\"files/iis-reverse-proxy/IIS_URL_Rewriter_rewrite_amd64_en-US.msi\\"> https://www.iis.net/downloads/microsoft/application-request-routing </ResourceLink>\\n\\n\\nFor more details, visit our other article here.\\n\\n## Set Up Reverse Proxy Using IIS\\n\\nLet\u2019s start with the configuration of the reverse proxy. For this tutorial, I have created a dummy web application running on port 3000 using node.js. You can see the below screenshot of the web application.\\n\\n<GiteeImage src=\\"files/iis-reverse-proxy/site-access-without-proxy.png\\" />\\n\\nNow, open the IIS by typing \u201cinetmgr\u201d in run window. Select your website under sites in left side section. Now select \u201cURL Rewrite\u201d option.\\n\\n<GiteeImage src=\\"files/iis-reverse-proxy/iis-url-rewrite.png\\" />\\n\\nNow click on \u201cAdd Rule(s)\u2026\u201d in actions section on the right side. See below screenshot for this link.\\n\\n<GiteeImage src=\\"files/iis-reverse-proxy/add-rule-iis-rewrite.png\\" />\\n\\nNow select Reverse Proxy under inbound and outbound section.\\n\\n<GiteeImage src=\\"files/iis-reverse-proxy/select-reverse-proxy.png\\" />\\n\\nThe above option will open a window, Add the server name or IP address with port under inbound rules input box. This is the URL from where reverse proxy will server data on clients request.\\n\\n<GiteeImage src=\\"files/iis-reverse-proxy/backend-server-url.png\\" />\\n\\nAt this point, the reverse proxy setup has been done. Now access web site configured with IIS. You will see the backend application is accessible here. This is the reverse proxy in working.\\n\\n<GiteeImage src=\\"files/iis-reverse-proxy/site-access-with-proxy.png\\" />\\n\\nThis is the reverse proxy in working.\\n\\n> [\u539f\u6587](https://tecadmin.net/set-up-reverse-proxy-using-iis/)"},{"id":"/2021/04/11/iis-reverse-proxy","metadata":{"permalink":"/blog/2021/04/11/iis-reverse-proxy","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-iis-reverse-proxy.md","source":"@site/src/blog/2021-04-11-iis-reverse-proxy.md","title":"\u914d\u7f6eIIS\u53cd\u5411\u4ee3\u7406\u6559\u7a0b","description":"IIS\u914d\u7f6e\u53cd\u5411\u4ee3\u7406","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"iis","permalink":"/blog/tags/iis"},{"label":"reverse proxy","permalink":"/blog/tags/reverse-proxy"}],"readingTime":0.805,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u914d\u7f6eIIS\u53cd\u5411\u4ee3\u7406\u6559\u7a0b","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["iis","reverse proxy"],"description":"IIS\u914d\u7f6e\u53cd\u5411\u4ee3\u7406","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"How to Setup Reverse Proxy on IIS with URL-Rewrite","permalink":"/blog/2021/04/11/iis-reverse-proxy-url-rewrite"},"nextItem":{"title":"\u67e5\u770b\u5f53\u524d\u673a\u5668\u7684\u6240\u6709SSH\u8fde\u63a5","permalink":"/blog/2021/04/11/linux-show-ssh-connection"}},"content":"import { GiteeImage, ResourceLink } from \\"@site/src/components\\";\\n\\n\u5047\u8bbe\u5c06\u57df\u540d`www.helloworld.com`\u4ee3\u7406\u5230\u672c\u5730\u7684`8080`\u7aef\u53e3\\n\\n\x3c!--truncate--\x3e\\n\\n## \u51c6\u5907\u5de5\u4f5c\\n\\n* \u5b89\u88c5IIS\\n* \u5b89\u88c5 <ResourceLink href=\\"files/iis-reverse-proxy/IIS_ARR_requestRouter_amd64.msi\\">www.iis.net/downloads/microsoft/url-rewrite</ResourceLink>\\n* \u5b89\u88c5 <ResourceLink href=\\"files/iis-reverse-proxy/IIS_URL_Rewriter_rewrite_amd64_en-US.msi\\">www.iis.net/downloads/microsoft/application-request-routing</ResourceLink>\\n* \u5728 `C:\\\\Windows\\\\System32\\\\drivers\\\\etc\\\\hosts` \u6587\u4ef6\u589e\u52a0\u57df\u540d\u89e3\u6790 `127.0.0.1 www.helloworld.com`\\n\\n## \u8bbe\u7f6e\\n\\n\u8bbe\u7f6e\u524d: \\n<GiteeImage src=\\"files/iis-reverse-proxy/IIS-Proxy-Tutorial-0.png\\" />\\n\\n\\n\u5f00\u542fARR\u4ee3\u7406:\\n\\n<GiteeImage src=\\"files/iis-reverse-proxy/IIS-Proxy-Tutorial-1.png\\" />\\n<GiteeImage src=\\"files/iis-reverse-proxy/IIS-Proxy-Tutorial-2.png\\" />\\n<GiteeImage src=\\"files/iis-reverse-proxy/IIS-Proxy-Tutorial-3.png\\" />\\n\\n\u65b0\u5efa\u4e00\u4e2a\u7ad9\u70b9`helloworld`(\u7ad9\u70b9\u540d\u79f0\u968f\u610f), \u5e76\u7ed1\u5b9a\u57df\u540d`www.helloworld.com`:\\n<GiteeImage src=\\"files/iis-reverse-proxy/IIS-Proxy-Tutorial-4.png\\" />\\n\\n\u914d\u7f6e`helloworld`\u7ad9\u70b9\u7684URL Rewrite:\\n<GiteeImage src=\\"files/iis-reverse-proxy/IIS-Proxy-Tutorial-5.png\\" />\\n<GiteeImage src=\\"files/iis-reverse-proxy/IIS-Proxy-Tutorial-6.png\\" />\\n<GiteeImage src=\\"files/iis-reverse-proxy/IIS-Proxy-Tutorial-7.png\\" />\\n<GiteeImage src=\\"files/iis-reverse-proxy/IIS-Proxy-Tutorial-8.png\\" />\\n\\n\u914d\u7f6e\u5b8c\u6210\u4e4b\u540e\u8bbf\u95ee `www.helloworld.com` \u5b9e\u9645\u4e0a\u8bbf\u95ee\u7684\u662fIIS\u7684\u7ad9\u70b9`helloworld`, \u7136\u540eIIS\u4f1a\u5c06\u8bf7\u6c42\u8def\u7531\u5230`127.0.0.1:8080`, \u770b\u5230\u7684\u6548\u679c\u5982\u4e0b: \\n\\n<GiteeImage src=\\"files/iis-reverse-proxy/IIS-Proxy-Tutorial-9.png\\" />"},{"id":"/2021/04/11/linux-show-ssh-connection","metadata":{"permalink":"/blog/2021/04/11/linux-show-ssh-connection","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-linux-show-ssh-connection.md","source":"@site/src/blog/2021-04-11-linux-show-ssh-connection.md","title":"\u67e5\u770b\u5f53\u524d\u673a\u5668\u7684\u6240\u6709SSH\u8fde\u63a5","description":"\u67e5\u770b\u5f53\u524d\u673a\u5668\u7684\u6240\u6709SSH\u8fde\u63a5","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ssh","permalink":"/blog/tags/ssh"}],"readingTime":4.455,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u67e5\u770b\u5f53\u524d\u673a\u5668\u7684\u6240\u6709SSH\u8fde\u63a5","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["linux","ssh"],"description":"\u67e5\u770b\u5f53\u524d\u673a\u5668\u7684\u6240\u6709SSH\u8fde\u63a5","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u914d\u7f6eIIS\u53cd\u5411\u4ee3\u7406\u6559\u7a0b","permalink":"/blog/2021/04/11/iis-reverse-proxy"},"nextItem":{"title":"\u4f7f\u7528 Node.js \u6267\u884c\u547d\u4ee4\u884c\u7a0b\u5e8f","permalink":"/blog/2021/04/11/node-exec-bash-cmd"}},"content":"[\u539f\u6587 - 6 commands to check and list active SSH connections in Linux](https://www.golinuxcloud.com/list-check-active-ssh-connections-linux/)\\n\\n\x3c!--truncate--\x3e\\n\\n## Using `ss` command\\n\\n`ss` is used to dump socket statistics. It allows showing information similar to netstat. It can display more TCP and state information than other tools. We will use grep function to only get the list of active SSH sessions on our local host\\n\\n```tty\\n[root@node3 ~]# ss | grep -i ssh\\ntcp    ESTAB      0      0      10.0.2.32:ssh                  10.0.2.31:37802\\ntcp    ESTAB      0      64     10.0.2.32:ssh                  10.0.2.2:49966\\ntcp    ESTAB      0      0      10.0.2.32:ssh                  10.0.2.30:56088\\n```\\n\\nFrom the above example we know that there are three hosts which are currently connected to our node3. We have active SSH connections from _10.0.2.31_, _10.0.2.30_ and _10.0.2.2_\\n\\n\\n## Using `last` command\\n\\n`last` searches back through the file `/var/log/wtmp` (or the file designated by the `-f` flag) and displays a list of all users logged in (and out) since that file was created. Names of users and tty\u2019s can be given, in which case last will show only those entries matching the arguments.\\n\\nUsing this command you can also get the information about the user using which the SSH connection was created between server and client. So below we know the connection from 10.0.2.31 is done using `deepak` user, while for other two hosts, `root` user was used for connecting to node3.\\n\\n```tty\\n[root@node3 ~]# last -a | grep -i still\\ndeepak   pts/1        Fri May 31 16:58   still logged in    10.0.2.31\\nroot     pts/2        Fri May 31 16:50   still logged in    10.0.2.30\\nroot     pts/0        Fri May 31 09:17   still logged in    10.0.2.2\\n```\\n\\nHere I am grepping for a string \u201cstill\u201d to get all the patterns with \u201cstill logged in\u201c. So now we know we have three active SSH connections from _10.0.2.31_, _10.0.2.30_ and _10.0.2.2_\\n\\n \\n\\n## Using `who` command\\n\\nwho is used to show who is logged on on your Linux host. This tool can also give this information\\n\\n```tty \\n[root@node3 ~]# who\\nroot     pts/0        2019-05-31 09:17 (10.0.2.2)\\nroot     pts/1        2019-05-31 16:47 (10.0.2.31)\\nroot     pts/2        2019-05-31 16:50 (10.0.2.30)\\n```\\n\\nUsing this command we also get similar information as from last command. Now you get the user details used for connecting to node3 from source host, also we have terminal information on which the session is still active.\\n\\nWe generally hear terminal as tty but here we see terminal is referenced as pts, but now:\\nWhat is the difference between tty and pts?\\nHow to disable or enable individual tty terminal console in Linux?\\n\\n## Using `w` command\\n\\n`w` displays information about the users currently on the machine, and their processes. This gives more information than who and last command and also serves our purpose to get the list of active SSH connections. Additionally it also gives us the information of the running process on those sessions.\\n\\nUsing `w` command you will also get the idle time details, i.e. for how long the session is idle. If the SSH session is idle for long period then it is a security breach and it is recommended that such idle SSH session must be killed, you can configure your Linux host to automatically kill such idle SSH session.\\n\\n```tty\\n[root@node3 ~]# w\\n 17:01:41 up  7:44,  3 users,  load average: 0.00, 0.01, 0.05\\nUSER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT\\nroot     pts/0    10.0.2.2         09:17    9:41   0.31s  0.00s less -s\\ndeepak   pts/1    10.0.2.31        16:58    3:06   0.03s  0.03s -bash\\nroot     pts/2    10.0.2.30        16:50    5.00s  0.07s  0.02s w\\n``` \\n\\n## Using `netstat` command\\n\\nSimilar to ss we have netstat command to show active ssh sessions. Actually we can also say that ss is the new version of netstat. Here we can see all the ESTABLISHED SSH sessions from remote hosts to our localhost node3. it is also possible that one or some of these active ssh connections are in hung state so you can configure your host to automatically disconnect or kill these hung or unresponsive ssh sessions in Linux.\\n\\n```tty\\n[root@node3 ~]# netstat -tnpa | grep \'ESTABLISHED.*sshd\'\\ntcp        0      0 10.0.2.32:22            10.0.2.31:37806         ESTABLISHED 10295/sshd: deepak\\ntcp        0      0 10.0.2.32:22            10.0.2.2:49966          ESTABLISHED 4329/sshd: root@pts\\ntcp        0      0 10.0.2.32:22            10.0.2.30:56088         ESTABLISHED 10125/sshd: root@pt\\n```\\n\\nALSO READ:\\n\\n[How to disconnect idle ssh session or keep idle ssh session active in Linux](https://www.golinuxcloud.com/disconnect-idle-ssh-session-tcpkeepaliv-linux/)\\n \\n\\n## Using `ps` command\\n\\nNow to show active ssh sessions, ps command may not give you accurate results like other commands we discussed in this article but it can give you some more additional information i.e. PID of the SSHD process which are currently active and connected.\\n\\n```tty\\n> ps auxwww | grep sshd: | grep -v grep\\nroot      4329  0.0  0.1 154648  5512 ?        Ss   09:17   0:00 sshd: root@pts/0\\nroot     10125  0.0  0.1 154648  5532 ?        Ss   16:50   0:00 sshd: root@pts/2\\nroot     10295  0.0  0.1 154648  5480 ?        Ss   16:58   0:00 sshd: deepak [priv]\\ndeepak   10301  0.0  0.0 156732  2964 ?        S    16:58   0:00 sshd: deepak@pts/1\\n```\\n\\n## Check ssh connection history\\nTo get the ssh connection history you can always check your SSHD logs for more information on connected or disconnected SSH session. Now the sshd log file may vary from distribution to distribution. On my RHEL 7.4 my sshd logs are stored inside `/var/log/sshd`\\n\\nLastly I hope the steps from the article to check active SSH connections and ssh connection history in Linux was helpful. So, let me know your suggestions and feedback using the comment section."},{"id":"/2021/04/11/node-exec-bash-cmd","metadata":{"permalink":"/blog/2021/04/11/node-exec-bash-cmd","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-node-exec-bash-cmd.md","source":"@site/src/blog/2021-04-11-node-exec-bash-cmd.md","title":"\u4f7f\u7528 Node.js \u6267\u884c\u547d\u4ee4\u884c\u7a0b\u5e8f","description":"\u4f7f\u7528 Node.js \u6267\u884c\u547d\u4ee4\u884c\u7a0b\u5e8f","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"node.js","permalink":"/blog/tags/node-js"}],"readingTime":2.62,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u4f7f\u7528 Node.js \u6267\u884c\u547d\u4ee4\u884c\u7a0b\u5e8f","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["node.js"],"description":"\u4f7f\u7528 Node.js \u6267\u884c\u547d\u4ee4\u884c\u7a0b\u5e8f","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u67e5\u770b\u5f53\u524d\u673a\u5668\u7684\u6240\u6709SSH\u8fde\u63a5","permalink":"/blog/2021/04/11/linux-show-ssh-connection"},"nextItem":{"title":"Spring Boot Maven \u63d2\u4ef6\u4f7f\u7528","permalink":"/blog/2021/04/11/spring-boot-maven-plugin"}},"content":"[\u539f\u6587 - Execute a command line binary with Node.js](https://stackoverflow.com/questions/20643470/execute-a-command-line-binary-with-node-js)\\n\\nFor even newer version of Node.js (v8.1.4), the events and calls are similar or identical to older versions, but it\'s encouraged to use the standard newer language features. Examples:\\n\\n\x3c!--truncate--\x3e\\n\\nFor buffered, non-stream formatted output (you get it all at once), use `child_process.exec`:\\n\\n```javascript\\nconst { exec } = require(\'child_process\');\\nexec(\'cat *.js bad_file | wc -l\', (err, stdout, stderr) => {\\n  if (err) {\\n    // node couldn\'t execute the command\\n    return;\\n  }\\n\\n  // the *entire* stdout and stderr (buffered)\\n  console.log(`stdout: ${stdout}`);\\n  console.log(`stderr: ${stderr}`);\\n});\\n```\\n\\nYou can also use it with Promises:\\n\\n```javascript\\nconst util = require(\'util\');\\nconst exec = util.promisify(require(\'child_process\').exec);\\n\\nasync function ls() {\\n  const { stdout, stderr } = await exec(\'ls\');\\n  console.log(\'stdout:\', stdout);\\n  console.log(\'stderr:\', stderr);\\n}\\nls();\\n```\\n\\nIf you wish to receive the data gradually in chunks (output as a stream), use child_process.spawn:\\n\\n```js\\nconst { spawn } = require(\'child_process\');\\nconst child = spawn(\'ls\', [\'-lh\', \'/usr\']);\\n\\n// use child.stdout.setEncoding(\'utf8\'); if you want text chunks\\nchild.stdout.on(\'data\', (chunk) => {\\n  // data from standard output is here as buffers\\n});\\n\\n// since these are streams, you can pipe them elsewhere\\nchild.stderr.pipe(dest);\\n\\nchild.on(\'close\', (code) => {\\n  console.log(`child process exited with code ${code}`);\\n});\\n```\\n\\nBoth of these functions have a synchronous counterpart. An example for `child_process.execSync`:\\n\\n```js\\nconst { execSync } = require(\'child_process\');\\n// stderr is sent to stderr of parent process\\n// you can set options.stdio if you want it to go elsewhere\\nlet stdout = execSync(\'ls\');\\n```\\n\\nAs well as `child_process.spawnSync`:\\n\\n```js\\nconst { spawnSync} = require(\'child_process\');\\nconst child = spawnSync(\'ls\', [\'-lh\', \'/usr\']);\\n\\nconsole.log(\'error\', child.error);\\nconsole.log(\'stdout \', child.stdout);\\nconsole.log(\'stderr \', child.stderr);\\n```\\n\\nNote: The following code is still functional, but is primarily targeted at users of ES5 and before.\\n\\nThe module for spawning child processes with Node.js is well documented in the documentation (v5.0.0). To execute a command and fetch its complete output as a buffer, use child_process.exec:\\n\\n```js\\nvar exec = require(\'child_process\').exec;\\nvar cmd = \'prince -v builds/pdf/book.html -o builds/pdf/book.pdf\';\\n\\nexec(cmd, function(error, stdout, stderr) {\\n  // command output is in stdout\\n});\\nIf you need to use handle process I/O with streams, such as when you are expecting large amounts of output, use child_process.spawn:\\n\\nvar spawn = require(\'child_process\').spawn;\\nvar child = spawn(\'prince\', [\\n  \'-v\', \'builds/pdf/book.html\',\\n  \'-o\', \'builds/pdf/book.pdf\'\\n]);\\n\\nchild.stdout.on(\'data\', function(chunk) {\\n  // output will be here in chunks\\n});\\n\\n// or if you want to send output elsewhere\\nchild.stdout.pipe(dest);\\n```\\n\\nIf you are executing a file rather than a command, you might want to use `child_process.execFile`, which parameters which are almost identical to spawn, but has a fourth callback parameter like exec for retrieving output buffers. That might look a bit like this:\\n\\n```js\\nvar execFile = require(\'child_process\').execFile;\\nexecFile(file, args, options, function(error, stdout, stderr) {\\n  // command output is in stdout\\n});\\n```\\n\\nAs of v0.11.12, Node now supports synchronous spawn and exec. All of the methods described above are asynchronous, and have a synchronous counterpart. Documentation for them can be found here. While they are useful for scripting, do note that unlike the methods used to spawn child processes asynchronously, the synchronous methods do not return an instance of ChildProcess."},{"id":"/2021/04/11/spring-boot-maven-plugin","metadata":{"permalink":"/blog/2021/04/11/spring-boot-maven-plugin","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-spring-boot-maven-plugin.md","source":"@site/src/blog/2021-04-11-spring-boot-maven-plugin.md","title":"Spring Boot Maven \u63d2\u4ef6\u4f7f\u7528","description":"Spring Boot Maven \u63d2\u4ef6\u4f7f\u7528","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"maven","permalink":"/blog/tags/maven"},{"label":"spring","permalink":"/blog/tags/spring"},{"label":"spring boot","permalink":"/blog/tags/spring-boot"},{"label":"maven plugin","permalink":"/blog/tags/maven-plugin"}],"readingTime":2.485,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Spring Boot Maven \u63d2\u4ef6\u4f7f\u7528","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["maven","spring","spring boot","maven plugin"],"description":"Spring Boot Maven \u63d2\u4ef6\u4f7f\u7528","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4f7f\u7528 Node.js \u6267\u884c\u547d\u4ee4\u884c\u7a0b\u5e8f","permalink":"/blog/2021/04/11/node-exec-bash-cmd"},"nextItem":{"title":"Windows \u4e0a\u7684TCP\u4ee3\u7406\u8bbe\u7f6e","permalink":"/blog/2021/04/11/tcp-proxy-in-windows"}},"content":"[Spring Boot Maven \u63d2\u4ef6](https://docs.spring.io/spring-boot/docs/2.2.0.BUILD-SNAPSHOT/maven-plugin/usage.html)\u63d0\u4f9b\u4e86 Maven \u5bf9 Spring Boot \u7684\u652f\u6301, \u8ba9\u4f60\u80fd\u6253\u5305\u6210jar\u6216\u8005war\u5305\uff0c\u4ee5\u53ca\u539f\u5730\u8fd0\u884c\u5e94\u7528\u3002\u4f7f\u7528\u8be5\u63d2\u4ef6\u9700\u8981Maven\u7248\u672c\u5927\u4e8e\u7b49\u4e8e3.2\u3002\\n\\n\\n\x3c!--truncate--\x3e\\n\\n## pom.xml\u6587\u4ef6\u6dfb\u52a0\u63d2\u4ef6\\n\\n```xml title=\\"pom.xml\\"\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n    xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\">\\n    <modelVersion>4.0.0</modelVersion>\\n    \x3c!-- ... --\x3e\\n    <build>\\n        <plugins>\\n            <plugin>\\n                <groupId>org.springframework.boot</groupId>\\n                <artifactId>spring-boot-maven-plugin</artifactId>\\n                <version>2.2.0.BUILD-SNAPSHOT</version>\\n                <executions>\\n                    <execution>\\n                        <goals>\\n                            <goal>repackage</goal>\\n                        </goals>\\n                    </execution>\\n                </executions>\\n            </plugin>\\n        </plugins>\\n    </build>\\n</project>\\n```\\n\\n\u4f7f\u7528 [Spring Initializer](https://start.spring.io/) \u521b\u5efa\u7684\u5e94\u7528\u9ed8\u8ba4\u6dfb\u52a0\u5230\u4e86spring boot\u9879\u76ee\u3002\\n\\n\u6dfb\u52a0\u63d2\u4ef6\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u751f\u6210`jar`\u5305:\\n```bash\\nmvn package\\nls target/*.jar # \u751f\u6210\u540e\u7684jar\u5305\u4f4d\u4e8e\u9879\u76ee\u7684target\u76ee\u5f55\\n```\\n\\n\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9aMaven goal `repackage` \u6765\u751f\u6210`jar`\u5305:\\n```bash\\nmvn package spring-boot:repackage\\nls target/*.jar # \u751f\u6210\u540e\u7684jar\u5305\u4f4d\u4e8e\u9879\u76ee\u7684target\u76ee\u5f55\\n```\\n\\n## \u6253\u5305\u53ef\u6267\u884c\u7684Jar\u6216War\u6587\u4ef6\\n\\n\u4e00\u65e6 `spring-boot-maven-plugin` \u88ab\u6dfb\u52a0\u5230 `pom.xml`\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528goal `spring-boot:repackage` \u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002\u53ef\u4ee5\u901a\u8fc7`pom.xml`\u6587\u4ef6\u7684`packaging`\u914d\u7f6e\u8282\u544a\u8bc9\u63d2\u4ef6\u751f\u6210\u7684\u662f`jar`\u5305\u8fd8\u662f`war`\u5305.\\n\\n### \u751f\u6210\u540e\u7684jar\u5305\\n\\n```xml title=\\"pom.xml\\"\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n    xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\">\\n    \x3c!-- ... --\x3e\\n    <packaging>jar</packaging>\\n    \x3c!-- ... --\x3e\\n</project>\\n```\\n\\n### \u751f\u6210war\u5305\\n\\n\u751f\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u548c\u90e8\u7f72\u7684war\u4e0d\u5230\u5916\u90e8\u5bb9\u5668(\u610f\u601dwar\u5305\u9700\u8981\u90e8\u7f72\u5728tomcat\u8fd9\u79cd\u5bb9\u5668\u4e0b)\uff0c\u9700\u8981\u628a\u5185\u5d4c\u7684\u5bb9\u5668\u4f9d\u8d56\u7684scope\u6539\u6210 *provided*\uff1a\\n\\n```xml title=\\"pom.xml\\"\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n    xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\">\\n    \x3c!-- ... --\x3e\\n    <packaging>war</packaging>\\n    \x3c!-- ... --\x3e\\n    <dependencies>\\n        <dependency>\\n            <groupId>org.springframework.boot</groupId>\\n            <artifactId>spring-boot-starter-web</artifactId>\\n        </dependency>\\n        <dependency>\\n            <groupId>org.springframework.boot</groupId>\\n            <artifactId>spring-boot-starter-tomcat</artifactId>\\n            <scope>provided</scope> \x3c!-- \u6539\u6210provided\u4e4b\u540e\uff0ctomcat \u5c31\u4e0d\u4f1a\u6253\u5305\u8fdbwar\u6587\u4ef6  --\x3e\\n        </dependency>\\n        \x3c!-- ... --\x3e\\n    </dependencies>\\n</project>\\n```\\n\\n\u66f4\u591awar\u6587\u4ef6\u90e8\u7f72\u53c2\u8003[Spring Boot 2 Deploy WAR file to External Tomcat](http://www.javaguides.net/2018/09/spring-boot-deploy-war-file-to-external-tomcat.html)\\n\\n## Spring Boot Maven\u63d2\u4ef6\u66f4\u591a\u4fe1\u606f\\n\\n### Maven gobals \u6982\u89c8\\n\\nSpring boot \u63d2\u4ef6\u63d0\u4f9b\u4e86\u4ee5\u4e0bgoal:\\n\\n* **spring-boot:run** \u8fd0\u884cSpring boot\u5e94\u7528\\n* **spring-boot:repackage** \u628a\u5e94\u7528\u6253\u5305\u6210\u53ef\u6267\u884c\u7684 jar/war \u6587\u4ef6\\n* **spring-boot:start** \u548c **spring-boot:stop** \u7ba1\u7406Spring boot\u5e94\u7528\u751f\u547d\u5468\u671f (\u6bd4\u5982 \u96c6\u6210\u6d4b\u8bd5).\\n* **spring-boot:build-info** \u751f\u6210\u53ef\u88abActuator\u4f7f\u7528\u7684\u6784\u5efa\u4fe1\u606f\\n\\n### \u4f7f\u7528\\n\\n\u6bd4\u5982 `mvn spring-boot:run` \u8fd0\u884cSpring Boot\u5e94\u7528\u3002\\n\\n\u66f4\u591a\u4fe1\u606f\u53c2\u8003[https://docs.spring.io/spring-boot/docs/current/maven-plugin/usage.html](https://docs.spring.io/spring-boot/docs/current/maven-plugin/usage.html)\\n\\n[\u539f\u6587 - Use of Spring Boot Maven Plugin with Example](https://www.javaguides.net/2019/02/use-of-spring-boot-maven-plugin-with.html)"},{"id":"/2021/04/11/tcp-proxy-in-windows","metadata":{"permalink":"/blog/2021/04/11/tcp-proxy-in-windows","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-tcp-proxy-in-windows.md","source":"@site/src/blog/2021-04-11-tcp-proxy-in-windows.md","title":"Windows \u4e0a\u7684TCP\u4ee3\u7406\u8bbe\u7f6e","description":"\u76ee\u524d\u6211\u4eec\u51fa\u73b0\u4e00\u4e2a\u9700\u6c42\u662f\u5c06\u5916\u7f51\u6765\u7684TCP\u8bf7\u6c42\u4ee3\u7406\u5230\u5185\u7f51\u7684\u67d0\u4e2a\u670d\u52a1\u5668\u4e0a, \u6bd4\u5982\u6211\u4eec\u7684 Windows \u4e0a\u9700\u8981\u90e8\u7f72\u4e00\u4e2a RabbitMQ \u63a8\u9001\u670d\u52a1, \u4f46\u56e0\u4e3a\u67d0\u4e9b\u539f\u56e0\u6211\u4eec\u65e0\u6cd5\u4f7f\u7528 Windows \u7248\u672c\u7684 RabbitMQ, \u60f3\u5c06 RabbitMQ \u90e8\u7f72\u5728Linux\u670d\u52a1\u5668\u4e0a, \u786e\u5b9e\u6709\u5f88\u591a\u5176\u4ed6\u65b9\u5f0f\u6765\u6ee1\u8db3\u8fd9\u4e2a\u9700\u6c42, \u6bd4\u5982\u518d\u52a0\u4e00\u4e2a\u670d\u52a1\u5668, \u7136\u540e\u5206\u914d\u4e00\u4e2a\u516c\u7f51IP, \u6700\u540e\u6211\u4eec\u9009\u62e9\u5728 Windows \u670d\u52a1\u5668\u4e0a\u5b89\u88c5 VMware \u7136\u540e\u865a\u62df\u4e00\u4e2aUbuntu\u7cfb\u7edf. \u73b0\u5728\u9700\u8981\u5c06\u5916\u7f51\u7684 RabbitMQ \u8bf7\u6c42\u6620\u5c04\u5230 Ubuntu \u4e0a, \u5927\u6982\u8bf7\u6c42\u9014\u5f84\u5982\u4e0b:","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"windows","permalink":"/blog/tags/windows"},{"label":"tcp","permalink":"/blog/tags/tcp"},{"label":"powershell","permalink":"/blog/tags/powershell"}],"readingTime":3.355,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Windows \u4e0a\u7684TCP\u4ee3\u7406\u8bbe\u7f6e","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["windows","tcp","powershell"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Spring Boot Maven \u63d2\u4ef6\u4f7f\u7528","permalink":"/blog/2021/04/11/spring-boot-maven-plugin"},"nextItem":{"title":"Ubuntu \u7cfb\u7edf\u5b89\u88c5\u6839\u8bc1\u4e66","permalink":"/blog/2021/04/11/ubuntu-install-root-ca-certificate"}},"content":"\u76ee\u524d\u6211\u4eec\u51fa\u73b0\u4e00\u4e2a\u9700\u6c42\u662f\u5c06\u5916\u7f51\u6765\u7684TCP\u8bf7\u6c42\u4ee3\u7406\u5230\u5185\u7f51\u7684\u67d0\u4e2a\u670d\u52a1\u5668\u4e0a, \u6bd4\u5982\u6211\u4eec\u7684 Windows \u4e0a\u9700\u8981\u90e8\u7f72\u4e00\u4e2a RabbitMQ \u63a8\u9001\u670d\u52a1, \u4f46\u56e0\u4e3a\u67d0\u4e9b\u539f\u56e0\u6211\u4eec\u65e0\u6cd5\u4f7f\u7528 Windows \u7248\u672c\u7684 RabbitMQ, \u60f3\u5c06 RabbitMQ \u90e8\u7f72\u5728Linux\u670d\u52a1\u5668\u4e0a, \u786e\u5b9e\u6709\u5f88\u591a\u5176\u4ed6\u65b9\u5f0f\u6765\u6ee1\u8db3\u8fd9\u4e2a\u9700\u6c42, \u6bd4\u5982\u518d\u52a0\u4e00\u4e2a\u670d\u52a1\u5668, \u7136\u540e\u5206\u914d\u4e00\u4e2a\u516c\u7f51IP, \u6700\u540e\u6211\u4eec\u9009\u62e9\u5728 Windows \u670d\u52a1\u5668\u4e0a\u5b89\u88c5 VMware \u7136\u540e\u865a\u62df\u4e00\u4e2aUbuntu\u7cfb\u7edf. \u73b0\u5728\u9700\u8981\u5c06\u5916\u7f51\u7684 RabbitMQ \u8bf7\u6c42\u6620\u5c04\u5230 Ubuntu \u4e0a, \u5927\u6982\u8bf7\u6c42\u9014\u5f84\u5982\u4e0b:\\n\\n\x3c!--truncate--\x3e\\n\\nClient(120.80.123.226) -> Windows(Public IP: 204.79.197.200, VMWare NAT IP: 192.168.60.1) -> Ubuntu(VMware NAT IP: 192.168.60.128)\\n\\n(RabbitMQ\u9ed8\u8ba4\u4f7f\u7528\u7684\u7aef\u53e3\u53f7\u662f5672)\\n\\n\u73b0\u5728\u5f53 Client \u8bf7\u6c42 204.79.197.200:5672 \u8ba2\u9605\u6d88\u606f\u65f6, Windows \u670d\u52a1\u5668\u9700\u8981\u5c06 120.80.123.226:xxxxx \u8bf7\u6c42\u6620\u5c04\u5230 Ubuntu \u7684 192.168.60.128:5672 \u4e0a, \u5bf9\u4e8e\u8fd9\u4e2a\u9700\u6c42\u53ef\u4ee5\u4f7f\u7528 powershell \u7684 `netsh interface portproxy` \u547d\u4ee4\u6765\u5b8c\u6210 TCP Proxy.\\n\\n[\u53ea\u9700\u8bbe\u7f6e\u5982\u4e0b](http://serverfault.com/questions/17990/easy-tcp-proxy-on-windows) :\\n\\n```powershell\\nnetsh interface portproxy add v4tov4 listenport=5672 listenaddress=201.79.167.200 connectaddress=192.168.60.128 connectport=5672 protocol=tcp\\n```\\n\\n\u5177\u4f53\u53c2\u6570\u53c2\u89c1[MSDN](https://technet.microsoft.com/en-us/library/cc776297(v=ws.10).aspx), \u5927\u610f\u662f\u76d1\u542c\u5bf9\u4e8e tcp://204.79.197.200:5672 \u7684TCP\u8bf7\u6c42, \u7136\u540e\u4ee3\u7406\u5230 tcp://192.168.60.128:5672 \u4e0a.\\nRabbitMQ\u8fd8\u7528\u5230\u4e86\u5176\u4ed6\u7aef\u53e3\u53f7, \u9700\u8981\u4f9d\u6b21\u6dfb\u52a0.\\n\\n\u6211\u7b2c\u4e00\u6b21\u5728\u6d4b\u8bd5\u670d\u52a1\u5668\u4e0a\u6d4b\u8bd5\u901a\u8fc7\u4e86, \u540e\u6765\u90e8\u7f72\u5230\u6b63\u5f0f\u73af\u5883\u600e\u4e48\u6d4b\u8bd5\u90fd\u4e0d\u901a\u8fc7. \u5468\u4e94\u6298\u817e\u4e86\u4e00\u5929, \u628a\u8d5b\u95e8\u94c1\u514b\u90fd\u5378\u8f7d\u4e86, \u7a81\u7136\u5468\u4e00\u4e0a\u73ed\u660e\u767d\u4e86.\\n\\n\u6d4b\u8bd5\u670d\u52a1\u5668\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u670d\u52a1\u5668, \u53ea\u7ed1\u5b9a\u4e86\u4e00\u4e2a\u516c\u7f51IP\u5730\u5740, \u6ca1\u6709\u5c40\u57df\u7f51IP\u5730\u5740, \u6240\u4ee5\u4e0a\u8ff0\u8bbe\u7f6e\u662f\u751f\u6548\u7684. \u800c\u6b63\u5f0f\u670d\u52a1\u5668\u88ab\u90e8\u7f72\u5728\u4e00\u4e2a\u5c40\u57df\u7f51\u4e2d\u4e86, \u4e0d\u4ec5\u914d\u7f6e\u4e86\u516c\u7f51IP\u8fd8\u6709\u4e00\u4e2a\u5c40\u57df\u7f51IP(\u5047\u8bbeIP\u662f192.168.1.50, \u7f51\u5173\u65f6192.168.1.1), \u8fd9\u5c31\u5bfc\u81f4\u4e0a\u8ff0\u7684\u914d\u7f6e\u65e0\u6cd5\u751f\u6548, \u56e0\u4e3a192.168.1.50\u90a3\u53f0Windows\u670d\u52a1\u5668\u538b\u6839\u5c31\u76d1\u542c\u4e0d\u5230\u516c\u7f51IP(204...), \u6b63\u5f0f\u73af\u5883\u7684TCP\u8bf7\u6c42\u5927\u6982\u5982\u4e0b:\\n\\nClient(120.80.123.226) -> Gateway(Public IP: 204.79.179.200, Private IP: 192.168.1.1) -> Windows(Public IP: 204.79.197.200, Private IP: 192.168.1.50, VMWare NAT IP: 192.168.60.1) -> Ubuntu(VMware NAT IP: 192.168.60.128)\\n\\n\u867d\u7136\u5f53\u65f6\u6b63\u5f0f\u670d\u52a1\u5668\u7684Gateway\u5c06 204.79.179.200 \u7684\u8bf7\u6c42\u90fd\u4f20\u9012\u7ed9\u4e86 192.168.1.50, \u53ef\u662f 192.168.1.50 \u63a5\u6536\u5230\u6570\u636e\u5305\u4e0a\u7684\u8bf7\u6c42IP\u5730\u5740\u662f 192.168.1.1 , \u5e76\u4e0d\u662f 204.79.179.200, \u6240\u4ee5\u6b63\u5f0f\u7684Windows\u670d\u52a1\u5668\u9700\u8981\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u6765\u8bbe\u7f6e:\\n\\n```powershell\\nnetsh interface portproxy add v4tov4 listenport=5672 listenaddress=192.168.1.50 connectaddress=192.168.60.128 connectport=5672 protocol=tcp\\n```\\n\\n\u8fd9\u662f\u6211\u4eec\u5f53\u65f6\u7684\u6b63\u5f0f\u73af\u5883\u7684\u7f51\u7edc\u8bbe\u7f6e\u60c5\u51b5. \u4f60\u9700\u8981\u641e\u6e05\u695a\u670d\u52a1\u5668\u7684\u7f51\u7edc\u4f4d\u7f6e\u548c\u60c5\u51b5, \u7136\u540e\u624d\u80fd\u8bbe\u7f6e\u6b63\u786e\u7684 listenaddress(TCP\u8bf7\u6c42\u7684IP\u5730\u5740) \u548c listenport(TCP\u8bf7\u6c42\u7684\u7aef\u53e3\u53f7).\\n\\n\u53e6\u5916 `netsh interface protproxy` \u76ee\u524d\u53ea\u652f\u6301tcp\u534f\u8bae, \u6240\u4ee5`protocol=tcp`\u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u7701\u7565."},{"id":"/2021/04/11/ubuntu-install-root-ca-certificate","metadata":{"permalink":"/blog/2021/04/11/ubuntu-install-root-ca-certificate","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-ubuntu-install-root-ca-certificate.md","source":"@site/src/blog/2021-04-11-ubuntu-install-root-ca-certificate.md","title":"Ubuntu \u7cfb\u7edf\u5b89\u88c5\u6839\u8bc1\u4e66","description":"Ubuntu \u7cfb\u7edf\u5b89\u88c5\u6839\u8bc1\u4e66","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ubuntu","permalink":"/blog/tags/ubuntu"}],"readingTime":1.625,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Ubuntu \u7cfb\u7edf\u5b89\u88c5\u6839\u8bc1\u4e66","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["linux","ubuntu"],"description":"Ubuntu \u7cfb\u7edf\u5b89\u88c5\u6839\u8bc1\u4e66","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Windows \u4e0a\u7684TCP\u4ee3\u7406\u8bbe\u7f6e","permalink":"/blog/2021/04/11/tcp-proxy-in-windows"},"nextItem":{"title":"\u6211\u7684Ubuntu\u65b0\u7cfb\u7edf\u5b89\u88c5\u811a\u672c","permalink":"/blog/2021/04/11/ubuntu-starter-scripts"}},"content":"\u539f\u6587\u6765\u81ea: [How To Add DPI-SSL CA Certificate On Ubuntu OS?](https://www.sonicwall.com/support/knowledge-base/how-to-add-dpi-ssl-ca-certificate-on-ubuntu-os/171225202320465/)\\n\\n\x3c!--truncate--\x3e\\n\\n1. \u4e0b\u8f7d\u8bc1\u4e66\u5230\u672c\u5730, \u5982\u679c\u8bc1\u4e66\u662f `.cer` \u683c\u5f0f, \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8f6c\u6210 `.crt` \u683c\u5f0f: \\n\\n```bash\\n$ openssl x509 \u2013inform DER -in rootCA.cer \u2013out rootCA.crt\\n```\\n\\n2. \u5728\u76ee\u5f55`/usr/share/ca-certificates`\u4e0b\u521b\u5efa\u4efb\u610f\u540d\u79f0\u5b50\u76ee\u5f55(\u6bd4\u5982\u8fd9\u91cc\u4f7f\u7528`extra`):\\n\\n```bash\\n$ mkdir /usr/share/ca-certificates/extra\\n```\\n\\n3. \u62f7\u8d1d\u6587\u4ef6\u5230 `/usr/share/ca-certificates/extra` \u548c `/usr/share/ca-certificate/mozilla`\\n4. \u4f7f\u7528\u547d\u4ee4`dpkg-reconfigure ca-certificates`, \u91cd\u65b0\u914d\u7f6e\u8bc1\u4e66:\\n    * \u9009\u62e9 `Yes`\\n    * \u6309\u7a7a\u683c\u9009\u4e2d\u521a\u624d\u65b0\u589e\u7684\u8bc1\u4e66: `extra/rootCA.crt` \u548c `mozilla/rootCA.crt`\\n    * \u6309 _Tab_ \u5207\u5230 `Ok`\u5e76\u786e\u8ba4\\n5. \u6267\u884c\u547d\u4ee4 `update-ca-certificates` \u66f4\u65b0CA\u8bc1\u4e66\\n6. \u68c0\u67e5\u6587\u4ef6 `/etc/ca-certificates.conf`, \u786e\u4fdd\u521a\u624d\u65b0\u589e\u7684\u4e24\u6761\u8bb0\u5f55\u524d\u6ca1\u6709`!`\u7b26\u53f7\\n7. Firefox / Chrome \u5728Ubuntu\u7cfb\u7edf\u4e0a\u6709\u81ea\u5df1\u7684\u8bc1\u4e66\u6570\u636e\u5e93, \u9700\u8981\u624b\u52a8\u66f4\u65b0\u4e24\u4e2a\u6d4f\u89c8\u5668\u91cc\u7684\u8bc1\u4e66\\n  1. \u6253\u5f00Chrome\u6d4f\u89c8\u5668, \u8bbf\u95ee `chrome://settings/certificates`, \u5207\u6362\u5230 `Authorities`, \u7136\u540e\u9009\u62e9 **Import** \u5bfc\u5165 `rootCA.crt` \u6587\u4ef6, \u91cd\u542f\u6d4f\u89c8\u5668\u5373\u53ef\\n  1. \u6253\u5f00Firefox\u6d4f\u89c8\u5668, \u641c\u7d22 `Certificate`, \u70b9\u51fb **View Certificate**, \u5207\u6362\u5230 `Authorities`, \u70b9\u51fb **Import**\\n\\n\\n\u6216\u8005\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u66f4\u65b0Chrome\u8bc1\u4e66\u6570\u636e\u5e93:\\n\\n```bash\\ncertutil \u2013d sql:$HOME/.pki/nssdb \u2013A \u2013t \\"C,,\\" \u2013n \\"Description Name\\" -i /usr/share/ca-certificates/extra/rootCA.crt\\n```\\n\\n\u9a8c\u8bc1\u8bc1\u4e66\u88ab\u6dfb\u52a0\u5230Chrome\u8bc1\u4e66\u6570\u636e\u5e93:\\n\\n```bash\\n$ certutil -L -d sql:${HOME}/.pki/nssdb\\n```\\n\\n\u7136\u540e\u91cd\u542fChrome\u6d4f\u89c8\u5668, \u8bbf\u95ee `chrome://settings/certificates` , \u5207\u6362\u5230 `Authorities` Tab\u5373\u53ef\u770b\u5230\u65b0\u589e\u7684\u8bc1\u4e66."},{"id":"/2021/04/11/ubuntu-starter-scripts","metadata":{"permalink":"/blog/2021/04/11/ubuntu-starter-scripts","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-ubuntu-starter-scripts.md","source":"@site/src/blog/2021-04-11-ubuntu-starter-scripts.md","title":"\u6211\u7684Ubuntu\u65b0\u7cfb\u7edf\u5b89\u88c5\u811a\u672c","description":"\u6bcf\u6b21\u5b89\u88c5Ubuntu\u7cfb\u7edf\u90fd\u8981\u505a\u4e00\u4e9b\u521d\u59cb\u5316\u5de5\u4f5c(\u6bd4\u5982\u5b89\u88c5\u4e00\u4e9b\u5de5\u5177\u8f6f\u4ef6), \u73b0\u5c06\u6211\u7684\u8bb0\u5f55\u5982\u4e0b, \u65b9\u4fbf\u4e0b\u6b21\u4f7f\u7528:","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"ubuntu","permalink":"/blog/tags/ubuntu"}],"readingTime":2.125,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u6211\u7684Ubuntu\u65b0\u7cfb\u7edf\u5b89\u88c5\u811a\u672c","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["ubuntu"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Ubuntu \u7cfb\u7edf\u5b89\u88c5\u6839\u8bc1\u4e66","permalink":"/blog/2021/04/11/ubuntu-install-root-ca-certificate"},"nextItem":{"title":"\u4e3a\u4ec0\u4e48 Math.Round(2.5) \u8fd4\u56de 2","permalink":"/blog/2021/04/11/why-math-round-return-2-instead-3"}},"content":"\u6bcf\u6b21\u5b89\u88c5Ubuntu\u7cfb\u7edf\u90fd\u8981\u505a\u4e00\u4e9b\u521d\u59cb\u5316\u5de5\u4f5c(\u6bd4\u5982\u5b89\u88c5\u4e00\u4e9b\u5de5\u5177\u8f6f\u4ef6), \u73b0\u5c06\u6211\u7684\u8bb0\u5f55\u5982\u4e0b, \u65b9\u4fbf\u4e0b\u6b21\u4f7f\u7528:\\n\\n\x3c!--truncate--\x3e\\n\\n```bash\\napt update \\napt install git -y\\n# cd /etc/apt\\n# git init\\n# chown -R alan .git/\\n\\napt-get install build-essential -y # dev tools\\napt install gcc -y\\napt install net-tools -y # ifconfig \u5de5\u5177\\napt install flameshot -y # \u622a\u56fe\u5de5\u5177\\napt install vim -y \\napt install wget -y\\napt install ffmpeg -y # \u89c6\u9891\u5904\u7406\u7c7b\u5e93\\napt-get install scrot -y # \u547d\u4ee4\u884c\u622a\u56fe\u5de5\u5177\\napt-get install simplescreenrecorder -y # \u5f55\u5c4f\u5de5\u5177\\napt install network-manager-l2tp-gnome -y # VPN\u5de5\u5177\\napt-get install vlc -y # \u5a92\u4f53\u64ad\u653e\u5de5\u5177\\n\\n# config git\\ngit config --global core.editor \\"vim\\"\\ngit config --global credential.helper \\"cache --timeout 360000\\"\\n\\n# install remmina\\napt-add-repository ppa:remmina-ppa-team/remmina-next\\napt update\\napt install remmina remmina-plugin-rdp remmina-plugin-secret remmina-plugin-spice\\nkillall remmina\\n\\n# install official docker\\napt-get update\\napt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common -y\\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add - \\nadd-apt-repository \\"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\\"\\napt-get update\\napt-get install docker-ce docker-ce-cli containerd.io -y\\ndocker --version\\n\\n# install docker by aliyun mirror\\napt-get update\\napt-get -y install apt-transport-https ca-certificates curl software-properties-common\\n# step 2: \u5b89\u88c5GPG\u8bc1\u4e66\\ncurl -fsSL https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo apt-key add -\\n# Step 3: \u5199\u5165\u8f6f\u4ef6\u6e90\u4fe1\u606f\\nadd-apt-repository \\"deb [arch=amd64] https://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable\\"\\n# Step 4: \u66f4\u65b0\u5e76\u5b89\u88c5Docker-CE\\napt-get -y update\\napt-get -y install docker-ce\\n\\n# \u5b89\u88c5 Chrome/Chromium\\nsnap install chromium\\nwget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb && dpkg -i ./google-chrome-stable_current_amd64.deb\\n\\n# \u5f00\u542f SSH \\napt install openssh-server -y\\nsystemctl start ssh\\nufw allow ssh\\n\\n# \u5b89\u88c5 VPNC\\napt install vpnc network-manager-vpnc-gnome\\n```\\n\\n## Dock \u56fe\u6807\u5c45\u4e2d\\n\\n\u539f\u6587 [How to customize dock panel on Ubuntu 20.04 Focal Fossa Linux](https://linuxconfig.org/how-to-customize-dock-panel-on-ubuntu-20-04-focal-fossa-linux)\\n\\n```bash\\nsudo apt install dconf-editor -y\\n```\\n\\n\u6253\u5f00 **dconf-Editor**, \u5b9a\u4f4d\u5230 `org > gnome > shell > extensions > dash-to-dock`, \u4fee\u6539\u4ee5\u4e0b\u914d\u7f6e:\\n\\n[04](https://linuxconfig.org/wp-content/uploads/2020/03/04-how-to-customize-dock-panel-on-Ubuntu-2004-Focal-Fossa-Linux.png)\\n\\n\u6216\u8005\u4f7f\u7528\u547d\u4ee4\u884c\u4fee\u6539\u914d\u7f6e:\\n\\n```bash\\ngsettings set org.gnome.shell.extensions.dash-to-dock extend-height false # \u6211\u5728 Ubuntu 20.04 \u4e0a\u6d4b\u8bd5, \u53ea\u4fee\u6539\u8fd9\u4e00\u4e2a\u914d\u7f6e\u5373\u53ef, \u8fd9\u4e2a\u503c\u9ed8\u8ba4\u662f true\\ngsettings set org.gnome.shell.extensions.dash-to-dock dock-position BOTTOM\\ngsettings set org.gnome.shell.extensions.dash-to-dock transparency-mode FIXED\\ngsettings set org.gnome.shell.extensions.dash-to-dock dash-max-icon-size 64\\ngsettings set org.gnome.shell.extensions.dash-to-dock unity-backlit-items true\\n```"},{"id":"/2021/04/11/why-math-round-return-2-instead-3","metadata":{"permalink":"/blog/2021/04/11/why-math-round-return-2-instead-3","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-why-math-round-return-2-instead-3.md","source":"@site/src/blog/2021-04-11-why-math-round-return-2-instead-3.md","title":"\u4e3a\u4ec0\u4e48 Math.Round(2.5) \u8fd4\u56de 2","description":"\u4e3a\u4ec0\u4e48 Math.Round(2.5) \u8fd4\u56de 2","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"csharp","permalink":"/blog/tags/csharp"},{"label":"c#","permalink":"/blog/tags/c"}],"readingTime":0.2,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u4e3a\u4ec0\u4e48 Math.Round(2.5) \u8fd4\u56de 2","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["csharp","c#"],"description":"\u4e3a\u4ec0\u4e48 Math.Round(2.5) \u8fd4\u56de 2","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u6211\u7684Ubuntu\u65b0\u7cfb\u7edf\u5b89\u88c5\u811a\u672c","permalink":"/blog/2021/04/11/ubuntu-starter-scripts"},"nextItem":{"title":"\u5236\u4f5cWindows\u542f\u52a8\u76d8","permalink":"/blog/2021/04/11/windows-bootable-device"}},"content":"[\u539f\u6587 - Why does Math.Round(2.5) return 2 instead of 3?](https://stackoverflow.com/questions/977796/why-does-math-round2-5-return-2-instead-of-3)\\n\\n\x3c!--truncate--\x3e\\n\\n```csharp\\ndouble dbl1 = Math.Round(1.5); // dbl1 == 2\\ndouble dbl2 = Math.Round(2.5); // dbl2 == 2\\ndouble dbl3 = Math.Round(2.5, 0, MidpointRounding.AwayFromZero); // dbl3 == 3\\n```"},{"id":"/2021/04/11/windows-bootable-device","metadata":{"permalink":"/blog/2021/04/11/windows-bootable-device","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-11-windows-bootable-device.md","source":"@site/src/blog/2021-04-11-windows-bootable-device.md","title":"\u5236\u4f5cWindows\u542f\u52a8\u76d8","description":"\u5236\u4f5cWindows\u542f\u52a8\u76d8, \u6765\u6e90Dell","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"windows","permalink":"/blog/tags/windows"}],"readingTime":1.165,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u5236\u4f5cWindows\u542f\u52a8\u76d8","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["windows"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4e3a\u4ec0\u4e48 Math.Round(2.5) \u8fd4\u56de 2","permalink":"/blog/2021/04/11/why-math-round-return-2-instead-3"},"nextItem":{"title":"Node.js require \u7f13\u5b58","permalink":"/blog/2021/04/10/node-require-cache"}},"content":"\u5236\u4f5cWindows\u542f\u52a8\u76d8, \u6765\u6e90[Dell](http://zh.community.dell.com/techcenter/b/weblog/archive/2011/09/05/usb-key-windows-7-installation)\\n\\n\x3c!--truncate--\x3e\\n\\n\u4f7f\u7528\u7ba1\u7406\u5458\u6743\u9650\u6253\u5f00DOS\u7a97\u53e3, \u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4: \\n\\n```bat\\nC:\\\\>diskpart\\n\\nDISKPART> list disk\\n\\nREM \u5982\u679c\u4f60\u7684\u673a\u5668\u53ea\u6709\u4e00\u5757\u786c\u76d8, \u90a3\u4e48U\u76d8\u5e94\u8be5\u663e\u793a\u4e3aDisk 1\\nREM \u9009\u62e9U\u76d8\u4e3a\u5f53\u524d\u78c1\u76d8, \u8bf7\u786e\u5b9a\u4e00\u5b9a\u8981\u9009\u5bf9U\u76d8\u6240\u5bf9\u5e94\u7684\u78c1\u76d8\u7f16\u53f7. \u5982\u679c\u9009\u9519\u4e86\u78c1\u76d8\u6765\u6e05\u9664, \u4e0b\u9762\u7684\u547d\u4ee4\u53ef\u662fHOLD\u4e0d\u4f4f\u7684\u54e6.\\nDISKPART> select disk 1\\n\\nREM \u6e05\u7a7a\u78c1\u76d8\\nDISKPART> clean\\n\\nREM \u521b\u5efa\u4e3b\u5206\u533a\\nDISKPART> create partition primary\\n\\nREM \u9009\u62e9\u5206\u533a\\nDISKPART> select partition 1\\n\\nREM \u6fc0\u6d3b\u5206\u533a(\u4e00\u5b9a\u8981\u505a, \u4e0d\u7136\u4e0d\u80fd\u542f\u52a8)\\nDISKPART> active\\n\\nREM \u5feb\u901f\u683c\u5f0f\u5316\u4e3aNTFS\u6587\u4ef6\u7cfb\u7edf, \u5f53\u7136\u9009\u62e9\u6210FAT32\u4e5f\u662f\u53ef\u4ee5\u7684.\\nDISKPART> format fs=ntfs quick\\n\\nREM \u6307\u5b9a\u5377,\uff0c\u8fd9\u4e2a\u547d\u4ee4\u662f\u53ef\u9009\u7684.\uff3b\uff3d\u91cc\u9762\u5305\u542b\u76d8\u7b26\uff0c\u4e0d\u80fd\u4e0e\u73b0\u5b58\u76d8\u7b26\u91cd\u590d\uff0c\u4e5f\u53ef\u4e0d\u52a0\u53c2\u6570\u4f7f\u7528\u9ed8\u8ba4\u3002\\nDISKPART> assign letter=[ ]\\n\\nREM \u9000\u51faDiskpart\u547d\u4ee4\u6a21\u5f0f\u3002\\nDISKPART> exit\\n```"},{"id":"/2021/04/10/node-require-cache","metadata":{"permalink":"/blog/2021/04/10/node-require-cache","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-10-node-require-cache.md","source":"@site/src/blog/2021-04-10-node-require-cache.md","title":"Node.js require \u7f13\u5b58","description":"\u5728Node\u73af\u5883, \u4f7f\u7528require\u591a\u6b21\u52a0\u8f7d\u6a21\u5757\u65f6, \u8fd4\u56de\u7684\u90fd\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61, \u901a\u8fc7require.cache\u53ef\u4ee5\u8fed\u4ee3\u67e5\u770b\u6240\u6709require\u7f13\u5b58\u7684\u5bf9\u8c61.","date":"2021-04-10T00:00:00.000Z","formattedDate":"April 10, 2021","tags":[{"label":"node.js","permalink":"/blog/tags/node-js"}],"readingTime":0.885,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Node.js require \u7f13\u5b58","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["node.js"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5236\u4f5cWindows\u542f\u52a8\u76d8","permalink":"/blog/2021/04/11/windows-bootable-device"},"nextItem":{"title":"ASP.Net \u5e94\u7528\u914d\u7f6eHTTP\u4ee3\u7406","permalink":"/blog/2021/04/03/asp.net-proxy-configuration"}},"content":"\u5728Node\u73af\u5883, \u4f7f\u7528`require`\u591a\u6b21\u52a0\u8f7d\u6a21\u5757\u65f6, \u8fd4\u56de\u7684\u90fd\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61, \u901a\u8fc7`require.cache`\u53ef\u4ee5\u8fed\u4ee3\u67e5\u770b\u6240\u6709require\u7f13\u5b58\u7684\u5bf9\u8c61.\\n\\n\x3c!--truncate--\x3e\\n\\n\u5f53\u4f60`require(\\"module.js\\")`\u4e4b\u540e, \u5373\u4fbf`module.js`\u6587\u4ef6\u53d1\u751f\u4e86\u53d8\u5316, \u518d\u6b21\u6267\u884c`require(\\"module.js\\")`\u4f9d\u7136\u8fd4\u56de\u7b2c\u4e00\u6b21`require`\u65f6\u7684\u5bf9\u8c61, \u5982\u679c\u60f3\u8981\u6bcf\u6b21`require`\u90fd\u662f`module.js`\u6700\u65b0\u7684\u5bf9\u8c61, \u53ef\u4ee5\u628a\u4ece`require.cache`\u4e2d\u628a`module.js`\u5f15\u7528\u5220\u9664\u6389, \u9700\u8981\u6ce8\u610f\u7684\u662f `require.cache` \u5bf9\u8c61\u662f\u4e2a\u7c7b\u4f3cmap\u7684\u5bf9\u8c61, key\u662f`module.js`\u5bf9\u4e8e\u7684\u7edd\u5bf9\u8def\u5f84:\\n\\n```javascript\\nconst path = require(\\"path\\");\\n \\nfunction requireAgain(absolutePath: string) {\\n  if (typeof absolutePath !== \\"string\\") {\\n    return null;\\n  }\\n\\n  delete require.cache[absolutePath]\\n\\n  return require(absolutePath);\\n}\\n\\nrequireAgain(path.resolve(\\"module.js\\")); // \u6ce8\u610f\u8fd9\u91cc\u8981\u4f7f\u7528 path.resolve \u62ff\u5230 module.js \u7684\u7edd\u5bf9\u8def\u5f84\\n```\\n\\n> \u76f8\u5173\u4ecb\u7ecd [Clearing require cache](https://stackoverflow.com/questions/23685930/clearing-require-cache)"},{"id":"/2021/04/03/asp.net-proxy-configuration","metadata":{"permalink":"/blog/2021/04/03/asp.net-proxy-configuration","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-03-asp.net-proxy-configuration.md","source":"@site/src/blog/2021-04-03-asp.net-proxy-configuration.md","title":"ASP.Net \u5e94\u7528\u914d\u7f6eHTTP\u4ee3\u7406","description":".Net Framework ASP.Net \u5e94\u7528\u914d\u7f6eHTTP\u4ee3\u7406 proxy configuration","date":"2021-04-03T00:00:00.000Z","formattedDate":"April 3, 2021","tags":[{"label":"asp.net","permalink":"/blog/tags/asp-net"},{"label":"web.config","permalink":"/blog/tags/web-config"},{"label":"proxy","permalink":"/blog/tags/proxy"},{"label":".net framework","permalink":"/blog/tags/net-framework"}],"readingTime":0.545,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"ASP.Net \u5e94\u7528\u914d\u7f6eHTTP\u4ee3\u7406","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["asp.net","web.config","proxy",".net framework"],"description":".Net Framework ASP.Net \u5e94\u7528\u914d\u7f6eHTTP\u4ee3\u7406 proxy configuration","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Node.js require \u7f13\u5b58","permalink":"/blog/2021/04/10/node-require-cache"},"nextItem":{"title":"\u5982\u4f55\u4f7f\u7528\u547d\u4ee4\u884c\u521b\u5efa\u5e26\u6709\u591a\u4e2a\u5b50\u6a21\u5757\u7684Maven\u9879\u76ee","permalink":"/blog/2021/04/03/how-to-create-maven-multi-module-project"}},"content":"\u5728 `web.config` \u6587\u4ef6\u65b0\u589e\u4ee5\u4e0b\u914d\u7f6e, \u5373\u53ef\u8bbe\u7f6e\u4ee3\u7406(\u5047\u8bbe\u4ee3\u7406\u670d\u52a1\u5730\u5740\u4e3a `http://localhost:3210`):\\n\\n\x3c!--truncate--\x3e\\n\\n```xml\\n<system.net>  \\n    <defaultProxy>  \\n        <proxy  proxyaddress=\\"http://localhost:3210\\"  \\n                bypassonlocal=\\"True\\"  \\n        />  \\n        <bypasslist>  \\n            <add address=\\"[a-z]+\\\\.blueyonderairlines\\\\.com$\\" />  \\n        </bypasslist>  \\n    </defaultProxy>  \\n</system.net>\\n```\\n\\n\u914d\u7f6e\u8282:\\n\\n* `proxyaddress` \u4ee3\u7406\u670d\u52a1\u5730\u5740\\n* `bypassonlocal` \u7528\u4e8e\u914d\u7f6e\u672c\u5730\u5730\u5740\u8bf7\u6c42\u662f\u5426\u88ab\u4ee3\u7406\u670d\u52a1\u5ffd\u7565, `True` \u8868\u793a\u672c\u5730\u5730\u5740\u7684\u8bf7\u6c42\u4e0d\u8d70\u4ee3\u7406\u670d\u52a1\\n* `bypasslist` \u5ffd\u7565\u7684\u5730\u5740\u5217\u8868, \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u63cf\u8ff0\\n\\n> [\u5f15\u7528 Proxy Configuration](https://docs.microsoft.com/en-us/dotnet/framework/network-programming/proxy-configuration)"},{"id":"/2021/04/03/how-to-create-maven-multi-module-project","metadata":{"permalink":"/blog/2021/04/03/how-to-create-maven-multi-module-project","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-03-how-to-create-maven-multi-module-project.md","source":"@site/src/blog/2021-04-03-how-to-create-maven-multi-module-project.md","title":"\u5982\u4f55\u4f7f\u7528\u547d\u4ee4\u884c\u521b\u5efa\u5e26\u6709\u591a\u4e2a\u5b50\u6a21\u5757\u7684Maven\u9879\u76ee","description":"In this guide, we learn how to create Maven Multi-Module using Command Line with very easy steps. A multi-module project is defined by a parent POM referencing one or more sub-modules. In this example, we will create a blogger web application with different modules. Let\'s create a blogger as parent project and it\'s 3 sub-modules are blogger-core, blogger-common, blogger-web.","date":"2021-04-03T00:00:00.000Z","formattedDate":"April 3, 2021","tags":[{"label":"maven","permalink":"/blog/tags/maven"}],"readingTime":4.165,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u5982\u4f55\u4f7f\u7528\u547d\u4ee4\u884c\u521b\u5efa\u5e26\u6709\u591a\u4e2a\u5b50\u6a21\u5757\u7684Maven\u9879\u76ee","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["maven"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"ASP.Net \u5e94\u7528\u914d\u7f6eHTTP\u4ee3\u7406","permalink":"/blog/2021/04/03/asp.net-proxy-configuration"},"nextItem":{"title":"\u89e3\u51b3 Windows \u73af\u5883\u4e2d git log \u547d\u4ee4\u4e2d\u6587\u7f16\u7801\u95ee\u9898","permalink":"/blog/2021/04/03/powershell-git-chinese-encode"}},"content":"In this guide, we learn how to create Maven Multi-Module using Command Line with very easy steps. A multi-module project is defined by a parent POM referencing one or more sub-modules. In this example, we will create a blogger web application with different modules. Let\'s create a blogger as parent project and it\'s 3 sub-modules are blogger-core, blogger-common, blogger-web.\\n\\nReal-world examples of maven multi-module projects are:\\n\\n\x3c!--truncate--\x3e\\n\\n1. https://github.com/RameshMF/junit-developer-guide\\n2. https://github.com/spring-projects/spring-framework\\n3. https://github.com/apache/maven\\n4. https://github.com/jersey/jersey\\n\\n\\n## Create a Maven Multi Module using Command Line\\n\\nBelow are the steps to create parent and sub-modules projects.\\n\\n### Step 1: Create Parent project - blogger\\n\\nTo create the Parent project:\\n\\nmvn archetype:generate -DgroupId=com.companyname.blogger -DartifactId=blogger\\nNote that whole command should be a single line. After build success, we will see below output in the command line console.\\n\\n```log\\n[INFO] Parameter: package, Value: com.companyname.blogger\\n[INFO] Parameter: groupId, Value: com.companyname.blogger\\n[INFO] Parameter: artifactId, Value: blogger\\n[INFO] Parameter: packageName, Value: com.companyname.blogger\\n[INFO] Parameter: version, Value: 1.0-SNAPSHOT\\n[INFO] project created from Old (1.x) Archetype in dir: C:\\\\Ramesh_Study\\\\maven\\\\guides\\\\blogger\\n[INFO] ------------------------------------------------------------------------\\n[INFO] BUILD SUCCESS\\n[INFO] ------------------------------------------------------------------------\\n[INFO] Total time: 01:09 min\\n[INFO] Finished at: 2018-06-20T13:40:40+05:30\\n[INFO] ------------------------------------------------------------------------\\n```\\n\\n### Step 2: Update pom.xml to Declare It as Parent Project\\n\\nOpen pom.xml of above-created parent-project and change the packaging to pom.\\n\\n```xml\\n<packaging>pom</packaging>\\n```\\nThe complete *pom.xml*\\n\\n```xml\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n  xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\">\\n  <modelVersion>4.0.0</modelVersion>\\n\\n  <groupId>com.companyname.blogger</groupId>\\n  <artifactId>blogger</artifactId>\\n  <version>1.0-SNAPSHOT</version>\\n  <packaging>pom</packaging>\\n\\n  <name>blogger</name>\\n  <url>http://maven.apache.org</url>\\n\\n  <properties>\\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\\n  </properties>\\n\\n  <dependencies>\\n    <dependency>\\n      <groupId>junit</groupId>\\n      <artifactId>junit</artifactId>\\n      <version>3.8.1</version>\\n      <scope>test</scope>\\n    </dependency>\\n  </dependencies>\\n</project>\\n```\\n\\nIf you don\'t change this pom.xml then you will get below build fail error:\\n\\n```log\\n[INFO] Parameter: groupId, Value: com.companyname.blogger\\n[INFO] Parameter: artifactId, Value: blogger-core\\n[INFO] Parameter: version, Value: 1.0-SNAPSHOT\\n[INFO] Parameter: package, Value: com.companyname.blogger\\n[INFO] Parameter: packageInPathFormat, Value: com/companyname/blogger\\n[INFO] Parameter: version, Value: 1.0-SNAPSHOT\\n[INFO] Parameter: package, Value: com.companyname.blogger\\n[INFO] Parameter: groupId, Value: com.companyname.blogger\\n[INFO] Parameter: artifactId, Value: blogger-core\\n[INFO] ------------------------------------------------------------------------\\n[INFO] BUILD FAILURE\\n[INFO] ------------------------------------------------------------------------\\n[INFO] Total time: 01:49 min\\n[INFO] Finished at: 2018-06-20T13:49:18+05:30\\n[INFO] ------------------------------------------------------------------------\\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-archetype-plugin:3.0.1:generate (default-cli) validPackaging: **Unable to add module to the current project as it is not of packaging type \'pom\'** -> [Help 1]\\n```\\n\\n### Step 3: Create Sub-modules\\n\\nChange directory via below command\\n\\n```bash\\ncd blogger\\n```\\n\\nLet\'s create sub-modules in blogger parent project.\\n\\nCreate blogger-core module.\\n\\n```bash\\nmvn archetype:generate -DgroupId=com.companyname.blogger  -DartifactId=blogger-core\\n```\\n\\nCreate blogger-common module\\n\\n```bash\\nmvn archetype:generate -DgroupId=com.companyname.blogger  -DartifactId=blogger-common\\n```\\n\\nCreate blogger-web module and it is web application packaged with war file. The archetype for maven web application is `-DarchetypeArtifactId=maven-archetype-webapp`\\n\\n```bash\\nmvn archetype:generate -DgroupId=com.companyname.blogger  -DartifactId=blogger-web -DarchetypeArtifactId=maven-archetype-webapp\\n```\\n\\nNow if you open the blogger parent project *pom.xml*, you will find all three modules being added in there.\\n\\n```xml\\n <modules>\\n    <module>blogger-core</module>\\n    <module>blogger-common</module>\\n    <module>blogger-web</module>\\n  </modules>\\n```\\n\\nAlso, in each sub-module\u2019s *pom.xml*, a parent section being added.\\n\\n```xml\\n <parent>\\n    <artifactId>blogger</artifactId>\\n    <groupId>com.companyname.blogger</groupId>\\n    <version>1.0-SNAPSHOT</version>\\n  </parent>\\n```\\n\\n### Step 4: Update Sub-Modules pom.xml to Produce Appropriate Output\\n\\nblogger-core module is package with jar\\n\\n```xml\\n<packaging>jar</packaging>\\n```\\n\\nblogger-common module is a package with a jar.\\n\\n```xml\\n<packaging>jar</packaging>\\n```\\n\\nblogger-web module is already packaging with war.\\n\\n```xml\\n<packaging>war</packaging>\\n```\\n\\nLet\'s updated pom.xml files for all the parent and sub-modules.\\n\\nblogger parent project *pom.xml*:\\n\\n```xml\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\">\\n  <modelVersion>4.0.0</modelVersion>\\n\\n  <groupId>com.companyname.blogger</groupId>\\n  <artifactId>blogger</artifactId>\\n  <version>1.0-SNAPSHOT</version>\\n  <packaging>pom</packaging>\\n\\n  <name>blogger</name>\\n  <url>http://maven.apache.org</url>\\n\\n  <properties>\\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\\n  </properties>\\n\\n  <dependencies>\\n    <dependency>\\n      <groupId>junit</groupId>\\n      <artifactId>junit</artifactId>\\n      <version>3.8.1</version>\\n      <scope>test</scope>\\n    </dependency>\\n  </dependencies>\\n  <modules>\\n    <module>blogger-common</module>\\n    <module>blogger-web</module>\\n    <module>blogger-core</module>\\n  </modules>\\n</project>\\n```\\n\\nblogger-core sub-module *pom.xml*:\\n\\n```xml\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\">\\n  <modelVersion>4.0.0</modelVersion>\\n  <parent>\\n    <artifactId>blogger</artifactId>\\n    <groupId>com.companyname.blogger</groupId>\\n    <version>1.0-SNAPSHOT</version>\\n  </parent>\\n\\n  <groupId>com.companyname.blogger</groupId>\\n  <artifactId>blogger-core</artifactId>\\n  <version>1.0-SNAPSHOT</version>\\n  <packaging>jar</packaging>\\n  <name>blogger-core</name>\\n  \x3c!-- FIXME change it to the project\'s website --\x3e\\n  <url>http://www.example.com</url>\\n\\n  <properties>\\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\\n    <maven.compiler.source>1.7</maven.compiler.source>\\n    <maven.compiler.target>1.7</maven.compiler.target>\\n  </properties>\\n\\n  <dependencies>\\n    <dependency>\\n      <groupId>junit</groupId>\\n      <artifactId>junit</artifactId>\\n      <version>4.11</version>\\n      <scope>test</scope>\\n    </dependency>\\n  </dependencies>\\n</project>\\n```\\n\\nblogger-common sub-module *pom.xml*:\\n\\n```xml\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\">\\n  <modelVersion>4.0.0</modelVersion>\\n  <parent>\\n    <artifactId>blogger</artifactId>\\n    <groupId>com.companyname.blogger</groupId>\\n    <version>1.0-SNAPSHOT</version>\\n  </parent>\\n\\n  <groupId>com.companyname.blogger</groupId>\\n  <artifactId>blogger-common</artifactId>\\n  <version>1.0-SNAPSHOT</version>\\n  <packaging>jar</packaging>\\n  <name>blogger-common</name>\\n  \x3c!-- FIXME change it to the project\'s website --\x3e\\n  <url>http://www.example.com</url>\\n\\n  <properties>\\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\\n    <maven.compiler.source>1.7</maven.compiler.source>\\n    <maven.compiler.target>1.7</maven.compiler.target>\\n  </properties>\\n\\n  <dependencies>\\n    <dependency>\\n      <groupId>junit</groupId>\\n      <artifactId>junit</artifactId>\\n      <version>4.11</version>\\n      <scope>test</scope>\\n    </dependency>\\n  </dependencies>\\n</project>\\n```\\n\\nblogger-web sub-module *pom.xml*:\\n```xml\\n<?xml version=\\"1.0\\"?>\\n<project xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\" xmlns=\\"http://maven.apache.org/POM/4.0.0\\"\\n    xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\">\\n  <modelVersion>4.0.0</modelVersion>\\n  <parent>\\n    <groupId>com.companyname.blogger</groupId>\\n    <artifactId>blogger</artifactId>\\n    <version>1.0-SNAPSHOT</version>\\n  </parent>\\n  <groupId>com.companyname.blogger</groupId>\\n  <artifactId>blogger-web</artifactId>\\n  <version>1.0-SNAPSHOT</version>\\n  <packaging>war</packaging>\\n  <name>blogger-web Maven Webapp</name>\\n  <url>http://maven.apache.org</url>\\n  <dependencies>\\n    <dependency>\\n      <groupId>junit</groupId>\\n      <artifactId>junit</artifactId>\\n      <version>3.8.1</version>\\n      <scope>test</scope>\\n    </dependency>\\n  </dependencies>\\n  <build>\\n    <finalName>blogger-web</finalName>\\n  </build>\\n</project>\\n```\\n\\n## 2. Build Multi-Module\\n\\nTo test all the multi-module project setup is correct then run below maven common on blogger parent project:\\n\\n```log\\nmvn clean install\\nThe output of above command\\n\\n[INFO] Reactor Summary:\\n[INFO]\\n[INFO] blogger 1.0-SNAPSHOT ............................... SUCCESS [  0.746 s]\\n[INFO] blogger-common ..................................... SUCCESS [  5.727 s]\\n[INFO] blogger-core ....................................... SUCCESS [  1.775 s]\\n[INFO] blogger-web Maven Webapp 1.0-SNAPSHOT .............. SUCCESS [  0.809 s]\\n[INFO] ------------------------------------------------------------------------\\n[INFO] BUILD SUCCESS\\n[INFO] ------------------------------------------------------------------------\\n[INFO] Total time: 9.289 s\\n[INFO] Finished at: 2018-06-20T14:20:05+05:30\\n[INFO] ------------------------------------------------------------------------\\n```\\n\\nThat\'s it. Now can import this project into Eclipse IDE. In Eclipse , File -> Import -> Maven -> Existing Maven projects\\n\\n## 3. Conclusion\\n\\nIn this guide, we have learned how to create maven Multi-Module using Command Line by taking the bloggerproject as an example.\\n\\nThe source code of this multi-module project is available on GitHub.\\n\\nRead my favorite Maven Developers Guide.\\n\\n\\n> [\u5f15\u7528](https://www.javaguides.net/2018/06/how-to-create-maven-multi-module-using-command-line.html)"},{"id":"/2021/04/03/powershell-git-chinese-encode","metadata":{"permalink":"/blog/2021/04/03/powershell-git-chinese-encode","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-03-powershell-git-chinese-encode.md","source":"@site/src/blog/2021-04-03-powershell-git-chinese-encode.md","title":"\u89e3\u51b3 Windows \u73af\u5883\u4e2d git log \u547d\u4ee4\u4e2d\u6587\u7f16\u7801\u95ee\u9898","description":"\u89e3\u51b3 Windows 10 \u7cfb\u7edf\u4e2d Powershell \u7ec8\u7aefgit log\u547d\u4ee4\u8f93\u51fa\u4e2d\u6587\u7f16\u7801\u95ee\u9898","date":"2021-04-03T00:00:00.000Z","formattedDate":"April 3, 2021","tags":[{"label":"git","permalink":"/blog/tags/git"},{"label":"powershell","permalink":"/blog/tags/powershell"},{"label":"windows","permalink":"/blog/tags/windows"}],"readingTime":0.635,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u89e3\u51b3 Windows \u73af\u5883\u4e2d git log \u547d\u4ee4\u4e2d\u6587\u7f16\u7801\u95ee\u9898","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["git","powershell","windows"],"description":"\u89e3\u51b3 Windows 10 \u7cfb\u7edf\u4e2d Powershell \u7ec8\u7aefgit log\u547d\u4ee4\u8f93\u51fa\u4e2d\u6587\u7f16\u7801\u95ee\u9898","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5982\u4f55\u4f7f\u7528\u547d\u4ee4\u884c\u521b\u5efa\u5e26\u6709\u591a\u4e2a\u5b50\u6a21\u5757\u7684Maven\u9879\u76ee","permalink":"/blog/2021/04/03/how-to-create-maven-multi-module-project"},"nextItem":{"title":"\u6dfb\u52a0Windows\u5f00\u542f\u542f\u52a8\u7a0b\u5e8f","permalink":"/blog/2021/04/03/windows-add-programs-to-startup-folder"}},"content":"\u5728Windows\u7cfb\u7edf\u4e2d\u4f7f\u7528git\u547d\u4ee4\uff0c\u5982\u679c\u60f3\u6b63\u786e\u663e\u793aUTF-8\u5b57\u7b26\uff0c\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf:\\n\\n```bash title=\\"DOS/cmd\\"\\nset LC_ALL=C.UTF-8\\n```\\n\\n```powershell title=\\"PowerShell\\"\\n$env:LC_ALL=\'C.UTF-8\'\\n```\\n\\n\x3c!--truncate--\x3e\\n\\n\u4e0a\u8ff0\u53ea\u5bf9\u5f53\u524d\u4f1a\u8bdd\u6709\u6548\uff0c\u5982\u679c\u60f3\u8981\u6c38\u8fdc\u751f\u6548\uff0c\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u64cd\u4f5c:\\n\\n1. \u8bbe\u7f6e\u7cfb\u7edf\u7ea7\u522b\u73af\u5883\u53d8\u91cf\uff0c\u53d8\u91cf\u540d\u4e3a`LC_ALL`, \u53d8\u91cf\u503c\u4e3a`C.UTF-8`.\\n2. \u6216\u8005\u5728`$Profile`\u6587\u4ef6(PowerShell\u7684\u521d\u59cb\u5316\u6587\u4ef6)\u4e2d\u6dfb\u52a0\u4e00\u884c\u4ee3\u7801`$env:LC_ALL=\'C.UTF-8\'`\\n\\n> [\u5f15\u7528 git log output encoding issues on Windows 10 command prompt](https://stackoverflow.com/questions/41139067/git-log-output-encoding-issues-on-windows-10-command-prompt/41441828#41441828)"},{"id":"/2021/04/03/windows-add-programs-to-startup-folder","metadata":{"permalink":"/blog/2021/04/03/windows-add-programs-to-startup-folder","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-03-windows-add-programs-to-startup-folder.md","source":"@site/src/blog/2021-04-03-windows-add-programs-to-startup-folder.md","title":"\u6dfb\u52a0Windows\u5f00\u542f\u542f\u52a8\u7a0b\u5e8f","description":"\u8bbe\u7f6eWindows\u5f00\u673a\u542f\u52a8\u7a0b\u5e8f","date":"2021-04-03T00:00:00.000Z","formattedDate":"April 3, 2021","tags":[{"label":"windows","permalink":"/blog/tags/windows"}],"readingTime":1.27,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u6dfb\u52a0Windows\u5f00\u542f\u542f\u52a8\u7a0b\u5e8f","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["windows"],"description":"\u8bbe\u7f6eWindows\u5f00\u673a\u542f\u52a8\u7a0b\u5e8f","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3 Windows \u73af\u5883\u4e2d git log \u547d\u4ee4\u4e2d\u6587\u7f16\u7801\u95ee\u9898","permalink":"/blog/2021/04/03/powershell-git-chinese-encode"},"nextItem":{"title":"Docker\u65f6\u533a\u8bbe\u7f6e","permalink":"/blog/2021/04/02/docker-timezone"}},"content":"\u4eceWindows 95\u5f00\u59cb, \u53ea\u9700\u8981\u5c06\u7a0b\u5e8f\u7684\u5feb\u6377\u65b9\u5f0f\u62d6\u5230Windows\u7684\u201c\u542f\u52a8\u201d\u6587\u4ef6\u5939\u5373\u53ef\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u4f7f\u7528\u8fd0\u884c\u6253\u5f00\u542f\u52a8\u76ee\u5f55\\n\\n\u4f7f\u7528\u5feb\u6377\u952e `Win + R` \u6216\u8005\u5f00\u59cb\u83dc\u5355\u641c\u7d22 `\u8fd0\u884c`, \u7136\u540e\u8f93\u5165 `shell:startup` \u5373\u53ef\u6253\u5f00\u542f\u52a8\u76ee\u5f55, \u7136\u540e\u5c06\u8981\u5f00\u673a\u542f\u52a8\u7684\u7a0b\u5e8f\u6216\u8005\u7a0b\u5e8f\u7684\u5feb\u6377\u65b9\u5f0f\u653e\u5230\u8be5\u76ee\u5f55\u5373\u53ef.\\n\\n## \u6253\u5f00\u5f53\u524d\u8d26\u53f7\u7684\u542f\u52a8\u76ee\u5f55\\n\\n\u6309\u4e0bWindows\u5f00\u59cb\u952e\uff0c\u627e\u5230 **\u542f\u52a8/Startup** \u76ee\u5f55\uff0c\u7136\u540e\u53f3\u51fb\u9009\u62e9 **\u6253\u5f00/Opne** \u5373\u53ef\u6253\u5f00\u542f\u52a8\u76ee\u5f55\uff0c\u7136\u540e\u628a\u4f60\u7684\u7a0b\u5e8f\u7684\u5feb\u6377\u65b9\u5f0f\u52a0\u8fdb\u53bb\u5373\u53ef\u3002\\n\\n\u76ee\u5f55\u4e00\u822c\u4f4d\u4e8e: `C:\\\\Users\\\\<username>\\\\AppData\\\\Roaming\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\Startup`, \u9700\u8981\u5c06`<username>`\u66ff\u6362\u6210\u5f53\u524d\u8d26\u53f7\u7684\u7528\u6237\u540d\u3002\\n\\n## \u6253\u5f00\u7cfb\u7edf(\u6240\u6709\u7528\u6237)\u7684\u542f\u52a8\u76ee\u5f55\\n\\n\u8fd8\u662f\u4e0a\u8ff0\u64cd\u4f5c\uff0c\u53ea\u4e0d\u8fc7\u53f3\u51fb **\u542f\u52a8/Startup** \u76ee\u5f55\u7684\u65f6\u5019\u8981\u540c\u65f6\u6309\u4f4f `Shift` \u6309\u952e\uff0c\u7136\u540e\u9009\u62e9 **\u6253\u5f00\u6240\u6709\u7528\u6237/Open all users**\u3002\\n\\n\u76ee\u5f55\u4e00\u822c\u4f4d\u4e8e `C:\\\\Program Data\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\Startup`\\n\\n> [\u5f15\u7528 Easily Add Programs to Windows 7 Startup Folders](https://helpdeskgeek.com/windows-7/add-programs-to-windows-7-startup-folder/)"},{"id":"/2021/04/02/docker-timezone","metadata":{"permalink":"/blog/2021/04/02/docker-timezone","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-04-02-docker-timezone.md","source":"@site/src/blog/2021-04-02-docker-timezone.md","title":"Docker\u65f6\u533a\u8bbe\u7f6e","description":"\u8bbe\u7f6e\u5e38\u7528Docker\u955c\u50cf\u7684\u5bb9\u5668\u65f6\u533a","date":"2021-04-02T00:00:00.000Z","formattedDate":"April 2, 2021","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"timezone","permalink":"/blog/tags/timezone"}],"readingTime":1.25,"hasTruncateMarker":true,"authors":[{"name":"\u4e0d\u624d\u8001\u9ec4","title":"\u804a\u804a\u81ea\u5df1\u4ec5\u6709\u7684\u4e00\u70b9\u70b9\u76ae\u6bdb","url":"https://mp.weixin.qq.com/s/uO0nqNnWMqeQU8EyQYhllQ","imageURL":"https://wx.qlogo.cn/mmhead/Q3auHgzwzM6WLAgHjMMp4a0MQq4icawPiatftePLlibsfHLdad0eauNIA/0"}],"frontMatter":{"title":"Docker\u65f6\u533a\u8bbe\u7f6e","author":"\u4e0d\u624d\u8001\u9ec4","author_title":"\u804a\u804a\u81ea\u5df1\u4ec5\u6709\u7684\u4e00\u70b9\u70b9\u76ae\u6bdb","author_url":"https://mp.weixin.qq.com/s/uO0nqNnWMqeQU8EyQYhllQ","author_image_url":"https://wx.qlogo.cn/mmhead/Q3auHgzwzM6WLAgHjMMp4a0MQq4icawPiatftePLlibsfHLdad0eauNIA/0","tags":["docker","timezone"],"description":"\u8bbe\u7f6e\u5e38\u7528Docker\u955c\u50cf\u7684\u5bb9\u5668\u65f6\u533a","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u6dfb\u52a0Windows\u5f00\u542f\u542f\u52a8\u7a0b\u5e8f","permalink":"/blog/2021/04/03/windows-add-programs-to-startup-folder"},"nextItem":{"title":"\u89e3\u51b3 NPM \u5b89\u88c5\u5e94\u7528\u51fa\u73b0 ERESOLVE \u9519\u8bef","permalink":"/blog/2021/03/30/npm-install-eresulve-error"}},"content":"\u4e0b\u9762\u4ecb\u7ecd\u51e0\u4e2a\u5e38\u7528\u57fa\u7840\u955c\u50cf(Alpine\uff0cUbuntu\uff0cDebian \u548c CentOS)\u5982\u4f55\u8bbe\u7f6e\u65f6\u533a\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## CentOS, Deian\\n\\nCentOS \u548c Deian \u5185\u7f6e\u4e86\u65f6\u533a\u6570\u636e\u5e93 tzdata (\u65f6\u533a\u6570\u636e\u4f4d\u4e8e `/usr/share/timezone`)\uff0c\u652f\u6301\u76f4\u63a5\u901a\u8fc7\u73af\u5883\u53d8\u91cf(`-e TZ=Asia/Shanghai`)\u8bbe\u7f6e\u5bb9\u5668\u65f6\u533a:\\n\\n```bash\\ndocker run -e TZ=Asia/Shanghai --rm -it centos:8 date\\ndocker run -e TZ=Asia/Shanghai --rm -it debian:9.13 date\\n```\\n\\n\u6216\u8005\u901a\u8fc7`Dockerfile`\u81ea\u5b9a\u73af\u5883\u53d8\u91cf:\\n\\n```dockerfile title=\\"Dockerfile\\"\\nFROM debian:9.13\\n\\nENV TZ=Asia/Shanghai\\n\\n# \u5176\u4ed6\u6307\u4ee4...\\n```\\n\\n## Alpine, Ubuntu\\n\\nalpine \u548c Ubuntu \u9700\u8981\u5b89\u88c5\u65f6\u533a\u6570\u636e\u4e4b\u540e\u6307\u5b9a\u65f6\u533a, \u4ee5\u4e0b\u4ee5 [alpine \u4e3a\u4f8b\u4ecb\u7ecd](https://wiki.alpinelinux.org/wiki/Setting_the_timezone):\\n\\n\u5199\u4e00\u4e2a Dockerfile:\\n\\n```dockerfile title=\\"Dockerfile.alpine\\"\\nFROM alpine:3.13\\n\\n# \u6dfb\u52a0\u963f\u91cc\u4e91\u955c\u50cf, \u52a0\u5feb\u5305\u5b89\u88c5\u901f\u5ea6\\nRUN sed -i \'s/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g\' /etc/apk/repositories\\n# \u5f00\u59cb\u5b89\u88c5\u65f6\u533a\u6570\u636e\\nRUN apk add tzdata\\n```\\n\\n\u7136\u540e\u5f00\u59cb\u6784\u5efa: `docker build -t alpine:3.13-tz -f Dockerfile.alpine .`\\n\\n\u73b0\u5728\u5c31\u53ef\u4ee5\u4f7f\u7528\u521a\u624d\u6784\u5efa\u7684\u955c\u50cf`alpine:3.13-tz`, \u6307\u5b9a\u5bb9\u5668\u65f6\u533a\u4e86:\\n\\n```bash\\ndocker run -e TZ=Asia/Shanghai --rm -it alpine:3.13-tz date # \u8f93\u51fa\u5bb9\u5668\u65f6\u95f4\\ndocker run -e TZ=Asia/Shanghai --rm -it alpine:3.13-tz ls /usr/share/zoneinfo # \u8f93\u51fa\u65f6\u533a\u4fe1\u606f\\n```\\n\\n> [\u5f15\u7528 \u804a\u4e00\u804aDocker\u4e0e\u65f6\u533a](https://mp.weixin.qq.com/s/uO0nqNnWMqeQU8EyQYhllQ)"},{"id":"/2021/03/30/npm-install-eresulve-error","metadata":{"permalink":"/blog/2021/03/30/npm-install-eresulve-error","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-30-npm-install-eresulve-error.md","source":"@site/src/blog/2021-03-30-npm-install-eresulve-error.md","title":"\u89e3\u51b3 NPM \u5b89\u88c5\u5e94\u7528\u51fa\u73b0 ERESOLVE \u9519\u8bef","description":"npm install ERESOLVE issues error npm \u5b89\u88c5\u62a5\u9519","date":"2021-03-30T00:00:00.000Z","formattedDate":"March 30, 2021","tags":[{"label":"npm","permalink":"/blog/tags/npm"},{"label":"node.js","permalink":"/blog/tags/node-js"}],"readingTime":1.3,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u89e3\u51b3 NPM \u5b89\u88c5\u5e94\u7528\u51fa\u73b0 ERESOLVE \u9519\u8bef","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["npm","node.js"],"description":"npm install ERESOLVE issues error npm \u5b89\u88c5\u62a5\u9519","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Docker\u65f6\u533a\u8bbe\u7f6e","permalink":"/blog/2021/04/02/docker-timezone"},"nextItem":{"title":"Git Tags \u4f7f\u7528\u7b80\u4ecb","permalink":"/blog/2021/03/28/git-tags"}},"content":"\u4eca\u5929\u5728\u9879\u76ee\u91cc\u6267\u884c `npm i` \u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef:\\n\\n\x3c!--truncate--\x3e\\n\\n```\\nnpm ERR! code ERESOLVE\\nnpm ERR! ERESOLVE unable to resolve dependency tree\\nnpm ERR! \\nnpm ERR! While resolving: project-name@0.0.1\\nnpm ERR! Found: typescript@3.6.3\\nnpm ERR! node_modules/typescript\\nnpm ERR!   dev typescript@\\"3.6.3\\" from the root project\\nnpm ERR! \\nnpm ERR! Could not resolve dependency:\\nnpm ERR! peer typescript@\\"^3.6.4\\" from @nestjs/cli@6.12.9\\nnpm ERR! node_modules/@nestjs/cli\\nnpm ERR!   dev @nestjs/cli@\\"6.12.9\\" from the root project\\nnpm ERR! \\nnpm ERR! Fix the upstream dependency conflict, or retry\\nnpm ERR! this command with --force, or --legacy-peer-deps\\nnpm ERR! to accept an incorrect (and potentially broken) dependency resolution.\\nnpm ERR! \\nnpm ERR! See /root/.npm/eresolve-report.txt for a full report.\\n\\nnpm ERR! A complete log of this run can be found in:\\nnpm ERR!     /root/.npm/_logs/2021-03-30T14_18_07_395Z-debug.log\\n```\\n\\n\u7f51\u4e0a\u641c\u4e86\u4e00\u4e0b\uff0c\u662f\u56e0\u4e3aNPM\u4ece\u7248\u672c7\u5f00\u59cb\u5728\u67d0\u4e9b\u65b9\u9762\u6bd4\u4e4b\u524d\u7248\u672c\u66f4\u52a0\u4e25\u683c\uff0c\u6539\u6210 `npm i --legacy-peer-deps` \u540e\u89e3\u51b3\u3002\\n\\n\u4ee5\u4e0b\u662f[\u539f\u6587](https://stackoverflow.com/questions/65567953/npm-i-resulting-in-many-eresolve-issues): \\n\\n\\n`ERESOLVE` issues with `npm@7` are common because npm 7.x is more strict about certain things than npm 6.x. Often, the easiest resolution is to pass the `--legacy-peer-deps` flag to npm (e.g., `npm i --legacy-peer-deps`) or else use `npm@6`.\\n\\nIf that doesn\'t work immediately, perhaps try removing `node_modules` and `package-lock.json` first. They will be recreated.\\n\\n:::note Tip\\nYou don\'t need to uninstall `npm@7` to use `npm@6`. Use npx to specify the version of npm instead. For example: `npx -p npm@6 npm i --legacy-peer-deps`.\\n:::"},{"id":"/2021/03/28/git-tags","metadata":{"permalink":"/blog/2021/03/28/git-tags","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-28-git-tags.md","source":"@site/src/blog/2021-03-28-git-tags.md","title":"Git Tags \u4f7f\u7528\u7b80\u4ecb","description":"Git Tags \u5e38\u7528\u547d\u4ee4\u7b80\u4ecb","date":"2021-03-28T00:00:00.000Z","formattedDate":"March 28, 2021","tags":[{"label":"git","permalink":"/blog/tags/git"},{"label":"git tags","permalink":"/blog/tags/git-tags"},{"label":"git tag","permalink":"/blog/tags/git-tag"}],"readingTime":2.235,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Git Tags \u4f7f\u7528\u7b80\u4ecb","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["git","git tags","git tag"],"description":"Git Tags \u5e38\u7528\u547d\u4ee4\u7b80\u4ecb","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3 NPM \u5b89\u88c5\u5e94\u7528\u51fa\u73b0 ERESOLVE \u9519\u8bef","permalink":"/blog/2021/03/30/npm-install-eresulve-error"},"nextItem":{"title":"Docker\u914d\u7f6e\u955c\u50cf\u52a0\u901f","permalink":"/blog/2021/03/26/docker-config-mirror"}},"content":"## \u6dfb\u52a0 tag\\n\\n```bash\\ngit tag your_tag_name\\ngit tag -a your_tag_name -m \\"tag describe\\"\\n```\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5217\u51fa\u6240\u6709 tag\\n\\n```bash\\ngit tag\\ngit describe --tags\\n```\\n\\n## \u5220\u9664\u672c\u5730 tag\\n\\n```bash\\ngit tag --delete your_tag_name\\n```\\n\\n## \u5220\u9664\u8fdc\u7a0b tag\\n\\n\u4f60\u53ef\u4ee5\u5411\u8fdc\u7a0b\u4ed3\u5e93\u63a8\u9001\u4e00\u4e2a\u7a7a\u5f15\u7528\u7684\u540c\u540dtag:\\n\\n```bash\\ngit push origin :your_tag_name\\n```\\n\\n\u6216\u8005\u66f4\u5177\u4f53\u4e00\u70b9\u7684\u65b9\u5f0f, \u662f\u4f7f\u7528`--delete`\u9009\u9879(\u5982\u679c\u4f60\u4f7f\u7528\u7684git\u7248\u672c\u4f4e\u4e8e1.8.0\u4f7f\u7528`-d`\u4ee3\u66ff):\\n\\n```bash\\ngit push --delete origin your_tag_name\\n```\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f, Git\u6709\u6807\u7b7e(tag)\u547d\u540d\u7a7a\u95f4\u548c\u5206\u652f(branch)\u547d\u540d\u7a7a\u95f4\uff0c\u6240\u4ee5\u4f60\u53ef\u80fd\u5b58\u5728\u6807\u7b7e\u540d\u548c\u5206\u652f\u540d\u540c\u540d\u7684\u60c5\u51b5\uff0c\u5982\u679c\u4f60\u60f3\u660e\u786e\u5220\u9664\u7684\u662f\u6307\u5b9a\u540d\u79f0\u7684\u6807\u7b7e\uff0c\u800c\u4e0d\u60f3\u8bef\u5220\u5206\u652f\u7684\u8bdd\uff0c\u53ef\u4ee5\u5728\u6267\u884c\u6807\u7b7e\u5220\u9664\u65f6\u6307\u5b9a\u5b8c\u5168\u9650\u5b9a\u7684ref:\\n\\n```bash\\ngit push origin :refs/tags/your_tag_name\\n```\\n\\n:::note\\n\u5f53\u4f60\u63a8\u9001\u4e00\u4e2a\u5206\u652f(branch)\u3001\u6807\u7b7e(tag)\u3001\u6216\u8005\u5176\u4ed6ref\u5230\u8fdc\u7a0b\u4ed3\u5e93\u65f6\uff0c\u90fd\u6d89\u53ca\u5230\u9700\u8981\u6307\u5b9a\\"\u54ea\u4e2a\u4ed3\u5e93(repo)\uff0c\u6e90\u662f\u4ec0\u4e48(source)\uff0c\u63a8\u9001\u5230\u54ea\u513f(destination)\\"\\n\\n```bash\\ngit push remote-repo source-ref:destination-ref\\n```\\n\\n\u4e00\u4e2a\u771f\u5b9e\u73af\u5883\u7684\u4f8b\u5b50\u662f\u63a8\u9001\u4f60\u672c\u5730\u7684master\u5206\u652f\u5230\u8fdc\u7a0b\u7684master\u5206\u652f:\\n\\n```bash\\ngit push origin refs/heads/master:refs/heads/maser\\n```\\n\\n\u56e0\u4e3a\u6709\u9ed8\u8ba4\u8def\u5f84\uff0c\u6240\u4ee5\u4e0a\u9762\u7684\u53ef\u4ee5\u7b80\u5199\u6210:\\n\\n```bash\\ngit push origin master:master\\n```\\n\\n\u6807\u7b7e(tags)\u7684\u5de5\u4f5c\u65b9\u5f0f\u662f\u4e00\u6837\u7684:\\n\\n```bash\\ngit push origin refs/tags/release-1.0:refs/tags/release-1.0\\n```\\n\\n\u53ef\u4ee5\u7b80\u5199\u6210:\\n\\n```bash\\ngit push origin release-1.0:release-1.0\\n```\\n\\n\u4e0a\u9762\u5220\u9664\u6807\u7b7e\u7684\u547d\u4ee4(`git push origin :your_tag_name`)\u7701\u7565\u4e86\u6e90\u5f15\u7528(source ref)\uff0c\u76f8\u5f53\u4e8e\u63a8\u9001\u4e00\u4e2a\u7a7a(nothing)\u5230\u76ee\u7684\u5730(destination), \u4e5f\u5c31\u76f8\u5f53\u4e8e\u5728\u8fdc\u7a0b\u4ed3\u5e93\u5220\u9664\u4e86\u6807\u7b7e\u7684ref\u3002\\n\\n:::\\n\\n:::info\\n\u53c2\u8003[How to delete a remote tag?](https://stackoverflow.com/questions/5480258/how-to-delete-a-remote-tag#:~:text=%20If%20you%20use%20SourceTree%20-%20a%20great,window%2C%20select%20%22Remove%20Tag%20From%20Remotes%22%20More%20)\\n:::\\n\\n## \u5207\u6362\u6807\u7b7e\\n\\n```bash\\ngit checkout tags/<tag_name> -b <branch_name>\\n```\\n\\n## \u83b7\u53d6\u6240\u6709\u6807\u7b7e\\n\\n```bash\\ngit fetch --all --tags --prune\\n```\\n\\n## \u63a8\u9001\u6807\u7b7e\u5230\u8fdc\u7a0b\u4ed3\u5e93\\n\\n```bash\\ngit push --tags\\n```"},{"id":"/2021/03/26/docker-config-mirror","metadata":{"permalink":"/blog/2021/03/26/docker-config-mirror","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-26-docker-config-mirror.md","source":"@site/src/blog/2021-03-26-docker-config-mirror.md","title":"Docker\u914d\u7f6e\u955c\u50cf\u52a0\u901f","description":"\u4fee\u6539Docker\u6587\u4ef6, \u914d\u7f6e\u955c\u50cf\u52a0\u901f","date":"2021-03-26T00:00:00.000Z","formattedDate":"March 26, 2021","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"mirror","permalink":"/blog/tags/mirror"}],"readingTime":0.45,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Docker\u914d\u7f6e\u955c\u50cf\u52a0\u901f","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["docker","mirror"],"description":"\u4fee\u6539Docker\u6587\u4ef6, \u914d\u7f6e\u955c\u50cf\u52a0\u901f","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Git Tags \u4f7f\u7528\u7b80\u4ecb","permalink":"/blog/2021/03/28/git-tags"},"nextItem":{"title":"\u56fd\u5185\u5f00\u6e90\u955c\u50cf\u7ad9\u70b9","permalink":"/blog/2021/03/26/open-mirrors"}},"content":"\u901a\u8fc7\u4fee\u6539Docker\u7684`/etc/docker/daemon.json`\u914d\u7f6e\u6587\u4ef6\u91cc\u7684 `registry-mirros` \u914d\u7f6e\u8282\uff0c\u53ef\u662f\u8bbe\u7f6eDocker\u7684\u955c\u50cf\u670d\u52a1: \\n\\n\x3c!--truncate--\x3e\\n\\n```json title=\\"/etc/docker/daemon.json\\"\\n{\\n  \\"registry-mirrors\\": [\\"https://xxxxxx.mirror.aliyuncs.com\\"]\\n}\\n```\\n\\n\u914d\u7f6e\u6587\u4ef6(\u5982\u679c\u4e0d\u5b58\u5728\u53ef\u4ee5\u521b\u5efa\u8be5\u6587\u4ef6)\u4fee\u6539\u6210\u529f\u540e, \u91cd\u542fDocker\u670d\u52a1\u5373\u53ef:\\n\\n```bash\\nsudo systemctl daemon-reload\\nsudo systemctl restart docker\\n```\\n\\n> \u67e5\u770b\u81ea\u5df1\u963f\u91cc\u4e91\u7684Docker\u955c\u50cf\u52a0\u901f\u5668\u5730\u5740: `https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors`"},{"id":"/2021/03/26/open-mirrors","metadata":{"permalink":"/blog/2021/03/26/open-mirrors","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-26-open-mirrors.md","source":"@site/src/blog/2021-03-26-open-mirrors.md","title":"\u56fd\u5185\u5f00\u6e90\u955c\u50cf\u7ad9\u70b9","description":"\u56fd\u5185\u5f00\u6e90\u955c\u50cf\u52a0\u901f\u7ad9\u70b9","date":"2021-03-26T00:00:00.000Z","formattedDate":"March 26, 2021","tags":[{"label":"mirror","permalink":"/blog/tags/mirror"},{"label":"linux","permalink":"/blog/tags/linux"},{"label":"docker","permalink":"/blog/tags/docker"},{"label":"android","permalink":"/blog/tags/android"},{"label":"aosp","permalink":"/blog/tags/aosp"}],"readingTime":0.215,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u56fd\u5185\u5f00\u6e90\u955c\u50cf\u7ad9\u70b9","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["mirror","linux","docker","android","aosp"],"description":"\u56fd\u5185\u5f00\u6e90\u955c\u50cf\u52a0\u901f\u7ad9\u70b9","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Docker\u914d\u7f6e\u955c\u50cf\u52a0\u901f","permalink":"/blog/2021/03/26/docker-config-mirror"},"nextItem":{"title":"Chromium \u6240\u6709\u5f00\u5173(flag)\u5217\u8868","permalink":"/blog/2021/03/21/chromium-command-line-switches"}},"content":"\u56fd\u5185\u5f00\u6e90\u955c\u50cf\u52a0\u901f\u7ad9\u70b9\\n\\n\x3c!--truncate--\x3e\\n\\n* [Aliyun](https://developer.aliyun.com/mirror/ubuntu?spm=a2c6h.13651102.0.0.3e221b11id7tZa)\\n* [\u4e2d\u79d1\u5927](https://mirrors.ustc.edu.cn/)\\n* [\u6e05\u534e\u5927\u5b66](https://mirrors.tuna.tsinghua.edu.cn/)\\n* [\u7f51\u6613](http://mirrors.163.com/)\\n* [\u817e\u8baf](https://mirrors.cloud.tencent.com/)\\n* [\u534e\u4e3a](https://mirrors.huaweicloud.com/)\\n* [neusoft](http://mirrors.neusoft.edu.cn/)"},{"id":"/2021/03/21/chromium-command-line-switches","metadata":{"permalink":"/blog/2021/03/21/chromium-command-line-switches","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-21-chromium-command-line-switches.md","source":"@site/src/blog/2021-03-21-chromium-command-line-switches.md","title":"Chromium \u6240\u6709\u5f00\u5173(flag)\u5217\u8868","description":"Chromium \u6240\u6709\u5f00\u5173\u5217\u8868","date":"2021-03-21T00:00:00.000Z","formattedDate":"March 21, 2021","tags":[{"label":"chrome","permalink":"/blog/tags/chrome"},{"label":"chromium","permalink":"/blog/tags/chromium"},{"label":"chrome flags","permalink":"/blog/tags/chrome-flags"},{"label":"chrome switches","permalink":"/blog/tags/chrome-switches"}],"readingTime":130.285,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Chromium \u6240\u6709\u5f00\u5173(flag)\u5217\u8868","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["chrome","chromium","chrome flags","chrome switches"],"description":"Chromium \u6240\u6709\u5f00\u5173\u5217\u8868","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u56fd\u5185\u5f00\u6e90\u955c\u50cf\u7ad9\u70b9","permalink":"/blog/2021/03/26/open-mirrors"},"nextItem":{"title":"Docusaurus \u914d\u7f6e GitHub Action \u81ea\u52a8\u53d1\u5e03","permalink":"/blog/2021/03/21/docusaurus-github-deploy"}},"content":"[\u539f\u6587 - List of Chromium Command Line Switches](https://peter.sh/experiments/chromium-command-line-switches/)\\n\\n\x3c!--truncate--\x3e\\n\\n* `--/prefetch:1[1]` \u2297 \\t/prefetch:# arguments to use when launching various process types. It has been observed that when file reads are consistent for 3 process launches with the same /prefetch:# argument, the Windows prefetcher starts issuing reads in batch at process launch. Because reads depend on the process type, the prefetcher wouldn\'t be able to observe consistent reads if no /prefetch:# arguments were used. Note that the browser process has no /prefetch:# argument; as such all other processes must have one in order to avoid polluting its profile. Note: # must always be in [1, 8]; otherwise it is ignored by the Windows prefetcher.  \\n* `--/prefetch:2[1]` \u2297 \\tNo description  \\n* `--/prefetch:3[1]` \u2297 \\tNo description  \\n* `--/prefetch:4[1]` \u2297 \\tNo description  \\n* `--/prefetch:5[1]` \u2297 \\t/prefetch:# arguments for the browser process launched in background mode and for the watcher process. Use profiles 5, 6 and 7 as documented on kPrefetchArgument* in content_switches.cc.  \\n* `--/prefetch:6[1]` \u2297 \\tNo description  \\n* `--/prefetch:8[1]` \u2297 \\tPrefetch arguments are used by the Windows prefetcher to disambiguate different execution modes (i.e. process types) of the same executable image so that different types of processes don\'t trample each others\' prefetch behavior. Legal values are integers in the range [1, 8]. We reserve 8 to mean \\"whatever\\", and this will ultimately lead to processes with /prefetch:8 having inconsistent behavior thus disabling prefetch in practice. TODO(rockot): Make it possible for embedders to override this argument on a per-service basis.  \\n* `--10000` \u2297 \\tNo description  \\n* `--100000` \u2297 \\tNo description  \\n* `--1000000` \u2297 \\tNo description  \\n* `--3d-display-mode[1]` \u2297 \\tNo description  \\n* `--50000` \u2297 \\tNo description  \\n* `--500000` \u2297 \\tNo description  \\n* `--5000000` \u2297 \\tNo description  \\n* `--?` \u2297 \\tNo description  \\n* `--accept-resource-provider` \u2297 \\tFlag indicating that a resource provider must be set up to provide cast receiver with resources. Apps cannot start until provided resources. This flag implies --alsa-check-close-timeout=0.  \\n* `--adaboost` \u2297 \\tNo description  \\n* `--add-gpu-appcontainer-caps[1]` \u2297 \\tAdd additional capabilities to the AppContainer sandbox on the GPU process.  \\n* `--add-xr-appcontainer-caps[1]` \u2297 \\tAdd additional capabilities to the AppContainer sandbox used for XR compositing.  \\n* `--additional-trust-token-key-commitments` \u2297 \\tManually sets additional Trust Tokens key commitments in the network service to the given value, which should be a JSON dictionary satisfying the requirements of TrustTokenKeyCommitmentParser::ParseMultipleIssuers. These keys are available in addition to keys provided by the most recent call to TrustTokenKeyCommitments::Set. For issuers with keys provided through both the command line and TrustTokenKeyCommitments::Set, the keys provided through the command line take precedence. This is because someone testing manually might want to pass additional keys via the command line to a real Chrome release with the component updater enabled, and it would be surprising if the manually-passed keys were overwritten some time after startup when the component updater runs.  \\n* `--agc-startup-min-volume` \u2297 \\tOverride the default minimum starting volume of the Automatic Gain Control algorithm in WebRTC used with audio tracks from getUserMedia. The valid range is 12-255. Values outside that range will be clamped to the lowest or highest valid value inside WebRTC. TODO(tommi): Remove this switch when crbug.com/555577 is fixed.  \\n* `--aggressive` \u2297 \\tNo description  \\n* `--aggressive-cache-discard` \u2297 \\tNo description  \\n* `--aggressive-tab-discard` \u2297 \\tNo description  \\n* `--all` \u2297 \\tNo description  \\n* `--all-renderers` \u2297 \\tNo description  \\n* `--allarticles` \u2297 \\tNo description  \\n* `--allow-cross-origin-auth-prompt` \u2297 \\tAllows third-party content included on a page to prompt for a HTTP basic auth username/password pair.  \\n* `--allow-external-pages` \u2297 \\tAllow access to external pages during web tests.  \\n* `--allow-failed-policy-fetch-for-test` \u2297 \\tIf this flag is passed, failed policy fetches will not cause profile initialization to fail. This is useful for tests because it means that tests don\'t have to mock out the policy infrastructure.  \\n* `--allow-file-access-from-files` \u2297 \\tBy default, file:// URIs cannot read other file:// URIs. This is an override for developers who need the old behavior for testing.  \\n* `--allow-http-background-page` \u2297 \\tAllows non-https URL for background_page for hosted apps.  \\n* `--allow-http-screen-capture` \u2297 \\tAllow non-secure origins to use the screen capture API and the desktopCapture extension API.  \\n* `--allow-insecure-localhost` \u2297 \\tEnables TLS/SSL errors on localhost to be ignored (no interstitial, no blocking of requests).  \\n* `--allow-legacy-extension-manifests` \u2297 \\tAllows the browser to load extensions that lack a modern manifest when that would otherwise be forbidden.  \\n* `--allow-loopback-in-peer-connection` \u2297 \\tAllows loopback interface to be added in network list for peer connection.  \\n* `--allow-nacl-crxfs-api[2]` \u2297 \\tSpecifies comma-separated list of extension ids or hosts to grant access to CRX file system APIs.  \\n* `--allow-nacl-file-handle-api[2]` \u2297 \\tSpecifies comma-separated list of extension ids or hosts to grant access to file handle APIs.  \\n* `--allow-nacl-socket-api[2]` \u2297 \\tSpecifies comma-separated list of extension ids or hosts to grant access to TCP/UDP socket APIs.  \\n* `--allow-no-sandbox-job` \u2297 \\tEnables the sandboxed processes to run without a job object assigned to them. This flag is required to allow Chrome to run in RemoteApps or Citrix. This flag can reduce the security of the sandboxed processes and allow them to do certain API calls like shut down Windows or access the clipboard. Also we lose the chance to kill some processes until the outer job that owns them finishes.  \\n* `--allow-outdated-plugins` \u2297 \\tDon\'t block outdated plugins.  \\n* `--allow-popups-during-page-unload` \u2297 \\tAllow a page to show popups during its unloading. [TODO](https://crbug.com/937569): Remove this in Chrome 88.  \\n* `--allow-pre-commit-input` \u2297 \\tAllows processing of input before a frame has been committed. TODO(schenney): crbug.com/987626. Used by headless. Look for a way not involving a command line switch.  \\n* `--allow-profiles-outside-user-dir` \u2297 \\tAllows profiles to be created outside of the user data dir. [TODO](https://crbug.com/1060366): Various places in Chrome assume that all profiles are within the user data dir. Some tests need to violate that assumption. The switch should be removed after this workaround is no longer needed.  \\n* `--allow-ra-in-dev-mode` \u2297 \\tAllows remote attestation (RA) in dev mode for testing purpose. Usually RA is disabled in dev mode because it will always fail. However, there are cases in testing where we do want to go through the permission flow even in dev mode. This can be enabled by this flag.  \\n* `--allow-running-insecure-content` \u2297 \\tNo description  \\n* `--allow-sandbox-debugging` \u2297 \\tAllows debugging of sandboxed processes (see zygote_main_linux.cc).  \\n* `--allow-silent-push` \u2297 \\tAllows Web Push notifications that do not show a notification.  \\n* `--allow-sync-xhr-in-page-dimissal` \u2297 \\tAllow a page to send synchronus XHR during its unloading. [TODO](https://crbug.com/1003101): Remove this in Chrome 88.  \\n* `--allow-third-party-modules[1]` \u2297 \\tAllows third party modules to inject by disabling the BINARY_SIGNATURE mitigation policy on Win10+. Also has other effects in ELF.  \\n* `--allow-unsecure-dlls[3]` \u2297 \\tDon\'t allow EnableSecureDllLoading to run when this is set. This is only to be used in tests.  \\n* `--alsa-amp-device-name` \u2297 \\tName of the device the amp mixer should be opened on. If this flag is not specified it will default to the same device as kAlsaVolumeDeviceName.  \\n* `--alsa-amp-element-name` \u2297 \\tName of the simple mixer control element that the ALSA-based media library should use to toggle powersave mode on the system.  \\n* `--alsa-check-close-timeout` \u2297 \\tTime in ms to wait before closing the PCM handle when no more mixer inputs remain. Assumed to be 0 if --accept-resource-provider is present.  \\n* `--alsa-enable-upsampling` \u2297 \\tFlag that enables resampling audio with sample rate below 32kHz up to 48kHz. Should be set to true for internal audio products.  \\n* `--alsa-fixed-output-sample-rate` \u2297 \\tOptional flag to set a fixed sample rate for the alsa device. Deprecated: Use --audio-output-sample-rate instead.  \\n* `--alsa-input-device[4]` \u2297 \\tThe Alsa device to use when opening an audio input stream.  \\n* `--alsa-mute-device-name` \u2297 \\tName of the device the mute mixer should be opened on. If this flag is not specified it will default to the same device as kAlsaVolumeDeviceName.  \\n* `--alsa-mute-element-name` \u2297 \\tName of the simple mixer control element that the ALSA-based media library should use to mute the system.  \\n* `--alsa-output-avail-min` \u2297 \\tMinimum number of available frames for scheduling a transfer.  \\n* `--alsa-output-buffer-size` \u2297 \\tSize of the ALSA output buffer in frames. This directly sets the latency of the output device. Latency can be calculated by multiplying the sample rate by the output buffer size.  \\n* `--alsa-output-device[4]` \u2297 \\tThe Alsa device to use when opening an audio stream.  \\n* `--alsa-output-period-size` \u2297 \\tSize of the ALSA output period in frames. The period of an ALSA output device determines how many frames elapse between hardware interrupts.  \\n* `--alsa-output-start-threshold` \u2297 \\tHow many frames need to be in the output buffer before output starts.  \\n* `--alsa-volume-device-name` \u2297 \\tName of the device the volume control mixer should be opened on. Will use the same device as kAlsaOutputDevice and fall back to \\"default\\" if kAlsaOutputDevice is not supplied.  \\n* `--alsa-volume-element-name` \u2297 \\tName of the simple mixer control element that the ALSA-based media library should use to control the volume.  \\n* `--also-emit-success-logs` \u2297 \\tAlso emit full event trace logs for successful tests.  \\n* `--alt1` \u2297 \\tThe Chrome-Proxy \\"exp\\" directive value used by data reduction proxy to receive an alternative back end implementation.  \\n* `--alt10` \u2297 \\tNo description  \\n* `--alt2` \u2297 \\tNo description  \\n* `--alt3` \u2297 \\tNo description  \\n* `--alt4` \u2297 \\tNo description  \\n* `--alt5` \u2297 \\tNo description  \\n* `--alt6` \u2297 \\tNo description  \\n* `--alt7` \u2297 \\tNo description  \\n* `--alt8` \u2297 \\tNo description  \\n* `--alt9` \u2297 \\tNo description  \\n* `--always-use-complex-text` \u2297 \\tAlways use the complex text path for web tests.  \\n* `--alwaystrue` \u2297 \\tNo description  \\n* `--android-fonts-path` \u2297 \\tUses the android SkFontManager on linux. The specified directory should include the configuration xml file with the name \\"fonts.xml\\". This is used in blimp to emulate android fonts on linux.  \\n* `--angle` \u2297 \\tNo description  \\n* `--animation-duration-scale` \u2297 \\tScale factor to apply to every animation duration. Must be >= 0.0. This will only apply to LinearAnimation and its subclasses.  \\n* `--app` \u2297 \\tSpecifies that the associated value should be launched in \\"application\\" mode.  \\n* `--app-auto-launched` \u2297 \\tSpecifies whether an app launched in kiosk mode was auto launched with zero delay. Used in order to properly restore auto-launched state during session restore flow.  \\n* `--app-cache-force-enabled` \u2297 \\tAllows app cache to be forced on, even when gated by an origin trial. TODO(enne): remove this once app cache has been removed.  \\n* `--app-id` \u2297 \\tSpecifies that the extension-app with the specified id should be launched according to its configuration.  \\n* `--app-launch-url-for-shortcuts-menu-item` \u2297 \\tOverrides the launch url of an app with the specified url. This is used along with kAppId to launch a given app with the url corresponding to an item in the app\'s shortcuts menu.  \\n* `--app-mode-auth-code` \u2297 \\tValue of GAIA auth code for --force-app-mode.  \\n* `--app-mode-oauth-token` \u2297 \\tValue of OAuth2 refresh token for --force-app-mode.  \\n* `--app-mode-oem-manifest` \u2297 \\tPath for app\'s OEM manifest file.  \\n* `--app-shell-allow-roaming[5]` \u2297 \\tAllow roaming in the cellular network.  \\n* `--app-shell-host-window-size[5]` \u2297 \\tSize for the host window to create (i.e. \\"800x600\\").  \\n* `--app-shell-preferred-network[5]` \u2297 \\tSSID of the preferred WiFi network.  \\n* `--apple` \u2297 \\tNo description  \\n* `--apps-gallery-download-url` \u2297 \\tThe URL that the webstore APIs download extensions from. Note: the URL must contain one \'%s\' for the extension ID.  \\n* `--apps-gallery-update-url` \u2297 \\tThe update url used by gallery/webstore extensions.  \\n* `--apps-gallery-url` \u2297 \\tThe URL to use for the gallery link in the app launcher.  \\n* `--apps-keep-chrome-alive-in-tests[6]` \u2297 \\tPrevents Chrome from quitting when Chrome Apps are open.  \\n* `--arc-availability` \u2297 \\tSignals ARC support status on this device. This can take one of the following three values. - none: ARC is not installed on this device. (default) - installed: ARC is installed on this device, but not officially supported. Users can enable ARC only when Finch experiment is turned on. - officially-supported: ARC is installed and supported on this device. So users can enable ARC via settings etc.  \\n* `--arc-available` \u2297 \\tDEPRECATED: Please use --arc-availability=installed. Signals the availability of the ARC instance on this device.  \\n* `--arc-build-properties` \u2297 \\tA JSON dictionary whose content is the same as cros config\'s /arc/build-properties.  \\n* `--arc-data-cleanup-on-start` \u2297 \\tFlag that forces ARC data be cleaned on each start.  \\n* `--arc-disable-app-sync` \u2297 \\tFlag that disables ARC app sync flow that installs some apps silently. Used in autotests to resolve racy conditions.  \\n* `--arc-disable-gms-core-cache` \u2297 \\tUsed in autotest to disable GMS-core caches which is on by default.  \\n* `--arc-disable-locale-sync` \u2297 \\tFlag that disables ARC locale sync with Android container. Used in autotest to prevent conditions when certain apps, including Play Store may get restarted. Restarting Play Store may cause random test failures. Enabling this flag would also forces ARC container to use \'en-US\' as a locale and \'en-US,en\' as preferred languages.  \\n* `--arc-disable-play-auto-install` \u2297 \\tFlag that disables ARC Play Auto Install flow that installs set of predefined apps silently. Used in autotests to resolve racy conditions.  \\n* `--arc-disable-system-default-apps` \u2297 \\tUsed for development of Android app that are included into ARC++ as system default apps in order to be able to install them via adb.  \\n* `--arc-enable-native-bridge-64bit-support-experiment` \u2297 \\tFlag to enables an experiment to allow users to turn on 64-bit support in native bridge on systems that have such support available but not yet enabled by default.  \\n* `--arc-force-cache-app-icons` \u2297 \\tFlag that forces ARC to cache icons for apps.  \\n* `--arc-force-show-optin-ui` \u2297 \\tFlag that forces the OptIn ui to be shown. Used in tests.  \\n* `--arc-packages-cache-mode` \u2297 \\tUsed in autotest to specifies how to handle packages cache. Can be copy - copy resulting packages.xml to the temporary directory. skip-copy - skip initial packages cache setup and copy resulting packages.xml to the temporary directory.  \\n* `--arc-play-store-auto-update` \u2297 \\tUsed in autotest to forces Play Store auto-update state. Can be on - auto-update is forced on. off - auto-update is forced off.  \\n* `--arc-scale` \u2297 \\tSet the scale for ARC apps. This is in DPI. e.g. 280 DPI is ~ 1.75 device scale factor. See https://source.android.com/compatibility/android-cdd#3_7_runtime_compatibility for list of supported DPI values.  \\n* `--arc-start-mode` \u2297 \\tDefines how to start ARC. This can take one of the following values: - always-start automatically start with Play Store UI support. - always-start-with-no-play-store automatically start without Play Store UI. If it is not set, then ARC is started in default mode.  \\n* `--arc-tos-host-for-tests` \u2297 \\tSets ARC Terms Of Service hostname url for testing.  \\n* `--arc-transition-migration-required` \u2297 \\tIf this flag is present then the device had ARC M available and gets ARC N when updating. TODO(pmarko): Remove this when we assess that it\'s not necessary anymore: crbug.com/761348.  \\n* `--as-browser` \u2297 \\tFlag to launch tests in the browser process.  \\n* `--ash-color-mode` \u2297 \\tIndicates the current color mode of ash.  \\n* `--ash-constrain-pointer-to-root` \u2297 \\tForce the pointer (cursor) position to be kept inside root windows.  \\n* `--ash-contextual-nudges-interval` \u2297 \\tOverrides the minimum time that must pass between showing user contextual nudges. Unit of time is in seconds.  \\n* `--ash-contextual-nudges-reset-shown-count` \u2297 \\tReset contextual nudge shown count on login.  \\n* `--ash-debug-shortcuts` \u2297 \\tEnable keyboard shortcuts useful for debugging.  \\n* `--ash-dev-shortcuts` \u2297 \\tEnable keyboard shortcuts used by developers only.  \\n* `--ash-disable-touch-exploration-mode` \u2297 \\tDisable the Touch Exploration Mode. Touch Exploration Mode will no longer be turned on automatically when spoken feedback is enabled when this flag is set.  \\n* `--ash-enable-cursor-motion-blur` \u2297 \\tEnable cursor motion blur.  \\n* `--ash-enable-magnifier-key-scroller` \u2297 \\tEnables key bindings to scroll magnified screen.  \\n* `--ash-enable-palette-on-all-displays` \u2297 \\tEnables the palette on every display, instead of only the internal one.  \\n* `--ash-enable-software-mirroring` \u2297 \\tEnables software based mirroring.  \\n* `--ash-enable-unified-desktop[5]` \u2297 \\tEnables unified desktop mode.  \\n* `--ash-enable-v1-app-back-button` \u2297 \\tEnables Backbutton on frame for v1 apps. TODO(oshima): Remove this once the feature is launched. crbug.com/749713.  \\n* `--ash-hide-notifications-for-factory` \u2297 \\tHides notifications that are irrelevant to Chrome OS device factory testing, such as battery level updates.  \\n* `--ash-host-window-bounds` \u2297 \\tSets a window size, optional position, and optional scale factor. \\"1024x768\\" creates a window of size 1024x768. \\"100+200-1024x768\\" positions the window at 100,200. \\"1024x768*2\\" sets the scale factor to 2 for a high DPI display. \\"800,0+800-800x800\\" for two displays at 800x800 resolution. \\"800,0+800-800x800,0+1600-800x800\\" for three displays at 800x800 resolution.  \\n* `--ash-power-button-position` \u2297 \\tPower button position includes the power button\'s physical display side and the percentage for power button center position to the display\'s width/height in landscape_primary screen orientation. The value is a JSON object containing a \\"position\\" property with the value \\"left\\", \\"right\\", \\"top\\", or \\"bottom\\". For \\"left\\" and \\"right\\", a \\"y\\" property specifies the button\'s center position as a fraction of the display\'s height (in [0.0, 1.0]) relative to the top of the display. For \\"top\\" and \\"bottom\\", an \\"x\\" property gives the position as a fraction of the display\'s width relative to the left side of the display.  \\n* `--ash-side-volume-button-position` \u2297 \\tThe physical position info of the side volume button while in landscape primary screen orientation. The value is a JSON object containing a \\"region\\" property with the value \\"keyboard\\", \\"screen\\" and a \\"side\\" property with the value \\"left\\", \\"right\\", \\"top\\", \\"bottom\\".  \\n* `--ash-touch-hud` \u2297 \\tEnables the heads-up display for tracking touch points.  \\n* `--attestation-server` \u2297 \\tUsed in CryptohomeClient to determine which Google Privacy CA to use for attestation.  \\n* `--audio` \u2297 \\tNo description  \\n* `--audio-buffer-size` \u2297 \\tAllow users to specify a custom buffer size for debugging purpose.  \\n* `--audio-output-channels` \u2297 \\tNumber of audio output channels. This will be used to send audio buffer with specific number of channels to ALSA and generate loopback audio. Default value is 2.  \\n* `--audio-output-sample-rate` \u2297 \\tSpecify fixed sample rate for audio output stream. If this flag is not specified the StreamMixer will choose sample rate based on the sample rate of the media stream.  \\n* `--audio-service-quit-timeout-ms` \u2297 \\tSet a timeout (in milliseconds) for the audio service to quit if there are no client connections to it. If the value is negative the service never quits.  \\n* `--aue-reached-for-update-required-test` \u2297 \\tIf this switch is passed, the device policy DeviceMinimumVersion assumes that the device has reached Auto Update Expiration. This is useful for testing the policy behaviour on the DUT.  \\n* `--aura-legacy-power-button` \u2297 \\t(Most) Chrome OS hardware reports ACPI power button releases correctly. Standard hardware reports releases immediately after presses. If set, we lock the screen or shutdown the system immediately in response to a press instead of displaying an interactive animation.  \\n* `--auth-server-whitelist` \u2297 \\tAllowlist for Negotiate Auth servers.  \\n* `--auth-spnego-account-type[7]` \u2297 \\tAndroid authentication account type for SPNEGO authentication  \\n* `--auto` \u2297 \\tNo description  \\n* `--auto-open-devtools-for-tabs` \u2297 \\tThis flag makes Chrome auto-open DevTools window for each tab. It is intended to be used by developers and automation to not require user interaction for opening DevTools.  \\n* `--auto-select-desktop-capture-source` \u2297 \\tThis flag makes Chrome auto-select the provided choice when an extension asks permission to start desktop capture. Should only be used for tests. For instance, --auto-select-desktop-capture-source=\\"Entire screen\\" will automatically select sharing the entire screen in English locales. The switch value only needs to be substring of the capture source name, i.e. \\"display\\" would match \\"Built-in display\\" and \\"External display\\", whichever comes first.  \\n* `--autofill-api-key` \u2297 \\tSets the API key that will be used when calling Autofill API instead of using Chrome\'s baked key by default. You can use this to test new versions of the API that are not linked to the Chrome baked key yet.  \\n* `--autofill-assistant-auth` \u2297 \\tDisables authentication when set to false. This is only useful during development, as prod instances require authentication.  \\n* `--autofill-assistant-key` \u2297 \\tSets the API key to be used instead of Chrome\'s default key when sending requests to the backend.  \\n* `--autofill-assistant-url` \u2297 \\tOverrides the default backend URL.  \\n* `--autofill-ios-delay-between-fields` \u2297 \\tThe delay between filling two fields.  \\n* `--autofill-metadata-upload-encoding` \u2297 \\tThe randomized encoding type to use when sending metadata uploads. The value of the parameter must be one of the valid integer values of the AutofillRandomizedValue_EncodingType enum.  \\n* `--autofill-server-url` \u2297 \\tOverride the default autofill server URL with \\"scheme://host[:port]/prefix/\\".  \\n* `--autofill-upload-throttling-period-in-days` \u2297 \\tThe number of days after which to reset the registry of autofill events for which an upload has been sent.  \\n* `--autoplay-policy` \u2297 \\tCommand line flag name to set the autoplay policy.  \\n* `--autopush` \u2297 \\tThe command line alias and URL for the \\"autopush\\" environment.  \\n* `--back-gesture-horizontal-threshold` \u2297 \\tThe number of pixels from the start of a left swipe gesture to consider as a \'back\' gesture.  \\n* `--blink-settings` \u2297 \\tSet blink settings. Format is `<name>[=<value],<name>[=<value>]`,... The names are declared in Settings.json5. For boolean type, use \\"true\\", \\"false\\", or omit \'`=<value>`\' part to set to true. For enum type, use the int value of the enum value. Applied after other command line flags and prefs.  \\n* `--block-new-web-contents` \u2297 \\tIf true, then all pop-ups and calls to window.open will fail.  \\n* `--bootstrap` \u2297 \\tValues for the kExtensionContentVerification flag. See ContentVerifierDelegate::Mode for more explanation.  \\n* `--bottom-gesture-start-height` \u2297 \\tThe number of pixels up from the bottom of the screen to consider as a valid origin for a bottom swipe gesture. If set, overrides the value of both the above system-gesture-start-height flag and the default value in cast_system_gesture_handler.cc.  \\n* `--browser` \u2297 \\tNo description  \\n* `--browser-startup-dialog` \u2297 \\tCauses the browser process to display a dialog on launch.  \\n* `--browser-subprocess-path` \u2297 \\tPath to the exe to run for the renderer and plugin subprocesses.  \\n* `--browser-test` \u2297 \\tTells whether the code is running browser tests (this changes the startup URL used by the content shell and also disables features that can make tests flaky [like monitoring of memory pressure]).  \\n* `--bwsi` \u2297 \\tIndicates that the browser is in \\"browse without sign-in\\" (Guest session) mode. Should completely disable extensions, sync and bookmarks.  \\n* `--bypass-app-banner-engagement-checks` \u2297 \\tThis flag causes the user engagement checks for showing app banners to be bypassed. It is intended to be used by developers who wish to test that their sites otherwise meet the criteria needed to show app banners.  \\n* `--cast-app-background-color` \u2297 \\tBackground color used when Chromium hasn\'t rendered anything yet.  \\n* `--cast-initial-screen-height` \u2297 \\tNo description  \\n* `--cast-initial-screen-width` \u2297 \\tUsed to pass initial screen resolution to GPU process. This allows us to set screen size correctly (so no need to resize when first window is created).  \\n* `--cc-layer-tree-test-long-timeout` \u2297 \\tIncreases timeout for memory checkers.  \\n* `--cc-layer-tree-test-no-timeout` \u2297 \\tPrevents the layer tree unit tests from timing out.  \\n* `--cc-scroll-animation-duration-in-seconds` \u2297 \\tControls the duration of the scroll animation curve.  \\n* `--cdm` \u2297 \\tNo description  \\n* `--cellular-first` \u2297 \\tIf this flag is set, it indicates that this device is a \\"Cellular First\\" device. Cellular First devices use cellular telephone data networks as their primary means of connecting to the internet. Setting this flag has two consequences: 1. Cellular data roaming will be enabled by default. 2. UpdateEngine will be instructed to allow auto-updating over cellular data connections.  \\n* `--check-accessibility-permission[8]` \u2297 \\tNo description  \\n* `--check-damage-early` \u2297 \\tChecks damage early and aborts the frame if no damage, so that clients like Android WebView don\'t invalidate unnecessarily.  \\n* `--check-for-update-interval` \u2297 \\tHow often (in seconds) to check for updates. Should only be used for testing purposes.  \\n* `--check-permission[8]` \u2297 \\tNo description  \\n* `--check-screen-recording-permission[8]` \u2297 \\tNo description  \\n* `--child-wallpaper-large` \u2297 \\tDefault large wallpaper to use for kids accounts (as path to trusted, non-user-writable JPEG file).  \\n* `--child-wallpaper-small` \u2297 \\tDefault small wallpaper to use for kids accounts (as path to trusted, non-user-writable JPEG file).  \\n* `--chrome-mojo-pipe-token` \u2297 \\tThe Mojo pipe token for IPC communication between the Software Reporter and Chrome. Dropped in M80.  \\n* `--ChromeOSMemoryPressureHandling` \u2297 \\tThe memory pressure thresholds selection which is used to decide whether and when a memory pressure event needs to get fired.  \\n* `--cipher-suite-blacklist` \u2297 \\tComma-separated list of SSL cipher suites to disable.  \\n* `--clamshell` \u2297 \\tValues for the kAshUiMode flag.  \\n* `--class[9]` \u2297 \\tThe same as the --class argument in X applications. Overrides the WM_CLASS window property with the given value.  \\n* `--cleaning-timeout` \u2297 \\tSet the timeout for the cleaning phase, in minutes. 0 disables the timeout entirely. WARNING: this switch is used by internal test systems. Be careful when making changes.  \\n* `--cleanup-id` \u2297 \\tIdentifier used to group all reports generated during the same run of the cleaner, including runs before and after a reboot. The id is generated by the first cleaner process for a run, and propagated to spawned or scheduled cleaner processes. A new id will be generated in the first process for a subsequent cleanup, so cleanups from the same user cannot be tracked over time.  \\n* `--clear-key-cdm-path-for-testing` \u2297 \\tSpecifies the path to the Clear Key CDM for testing, which is necessary to support External Clear Key key system when library CDM is enabled. Note that External Clear Key key system support is also controlled by feature kExternalClearKeyForTesting.  \\n* `--clear-token-service` \u2297 \\tClears the token service before using it. This allows simulating the expiration of credentials during testing.  \\n* `--cloud-print-file` \u2297 \\tTells chrome to display the cloud print dialog and upload the specified file for printing.  \\n* `--cloud-print-file-type` \u2297 \\tSpecifies the mime type to be used when uploading data from the file referenced by cloud-print-file. Defaults to \\"application/pdf\\" if unspecified.  \\n* `--cloud-print-job-title` \u2297 \\tUsed with kCloudPrintFile to specify a title for the resulting print job.  \\n* `--cloud-print-print-ticket` \u2297 \\tUsed with kCloudPrintFile to specify a JSON print ticket for the resulting print job. Defaults to null if unspecified.  \\n* `--cloud-print-setup-proxy` \u2297 \\tSetup cloud print proxy for provided printers. This does not start service or register proxy for autostart.  \\n* `--cloud-print-url` \u2297 \\tThe URL of the cloud print service to use, overrides any value stored in preferences, and the default. Only used if the cloud print service has been enabled. Used for testing.  \\n* `--cloud-print-xmpp-endpoint` \u2297 \\tThe XMPP endpoint the cloud print service will use. Only used if the cloud print service has been enabled. Used for testing.  \\n* `--compensate-for-unstable-pinch-zoom` \u2297 \\tEnable compensation for unstable pinch zoom. Some touch screens display significant amount of wobble when moving a finger in a straight line. This makes two finger scroll trigger an oscillating pinch zoom. See crbug.com/394380 for details.  \\n* `--compile-shader-always-succeeds` \u2297 \\tAlways return success when compiling a shader. Linking will still fail.  \\n* `--component-updater` \u2297 \\tComma-separated options to troubleshoot the component updater. Only valid for the browser process.  \\n* `--connectivity-check-url` \u2297 \\tUrl for network connectivity checking. Default is \\"https://clients3.google.com/generate_204\\".  \\n* `--conservative` \u2297 \\tNo description  \\n* `--content-directories` \u2297 \\tNo description  \\n* `--content-shell-hide-toolbar` \u2297 \\tHides toolbar from content_shell\'s host window.  \\n* `--content-shell-host-window-size` \u2297 \\tSize for the content_shell\'s host window (i.e. \\"800x600\\").  \\n* `--controller` \u2297 \\tNo description  \\n* `--conversions-debug-mode` \u2297 \\tCauses the Conversion Measurement API to run without delays or noise.  \\n* `--copy-to-download-dir` \u2297 \\tCopy user action data to download directory.  \\n* `--cors-exempt-headers` \u2297 \\tNo description  \\n* `--crash` \u2297 \\tCrash flag to force a crash right away. Mainly intended for ensuring crashes are properly recorded by crashpad.  \\n* `--crash-dumps-dir` \u2297 \\tThe directory breakpad should store minidumps in.  \\n* `--crash-handler` \u2297 \\tRuns as the Crashpad handler.  \\n* `--crash-loop-before[5]` \u2297 \\tA time_t. Passed by session_manager into the Chrome user session, indicating that if Chrome crashes before the indicated time, session_manager will consider this to be a crash-loop situation and log the user out. Chrome mostly just passes this to crash_reporter if it crashes.  \\n* `--crash-on-failure` \u2297 \\tWhen specified to \\"enable-leak-detection\\" command-line option, causes the leak detector to cause immediate crash when found leak.  \\n* `--crash-on-hang-threads` \u2297 \\tComma-separated list of BrowserThreads that cause browser process to crash if the given browser thread is not responsive. UI/IO are the BrowserThreads that are supported. For example: --crash-on-hang-threads=UI:18,IO:18 --\x3e Crash the browser if UI or IO is not responsive for 18 seconds while the other browser thread is responsive.  \\n* `--crash-server-url` \u2297 \\tServer url to upload crash data to. Default is \\"https://clients2.google.com/cr/report\\" for prod devices. Default is \\"https://clients2.google.com/cr/staging_report\\" for non prod.  \\n* `--crash-test` \u2297 \\tCauses the browser process to crash on startup.  \\n* `--crashpad-handler` \u2297 \\tA process type (switches::kProcessType) that indicates chrome.exe or setup.exe is being launched as crashpad_handler. This is only used on Windows. We bundle the handler into chrome.exe on Windows because there is high probability of a \\"new\\" .exe being blocked or interfered with by application firewalls, AV software, etc. On other platforms, crashpad_handler is a standalone executable.  \\n* `--crashpad-handler-pid[10]` \u2297 \\tThe process ID of the Crashpad handler.  \\n* `--create-browser-on-startup-for-tests` \u2297 \\tSome platforms like ChromeOS default to empty desktop. Browser tests may need to add this switch so that at least one browser instance is created on startup. TODO(nkostylev): Investigate if this switch could be removed. (http://crbug.com/148675)  \\n* `--cros-region` \u2297 \\tForces CrOS region value.  \\n* `--cros-regions-mode` \u2297 \\tControl regions data load (\\"\\" is default).  \\n* `--crosh-command[5]` \u2297 \\tCustom crosh command.  \\n* `--cryptauth-http-host` \u2297 \\tOverrides the default URL for Google APIs (https://www.googleapis.com) used by CryptAuth.  \\n* `--cryptauth-v2-devicesync-http-host` \u2297 \\tOverrides the default URL for CryptAuth v2 DeviceSync: https://cryptauthdevicesync.googleapis.com.  \\n* `--cryptauth-v2-enrollment-http-host` \u2297 \\tOverrides the default URL for CryptAuth v2 Enrollment: https://cryptauthenrollment.googleapis.com.  \\n* `--custom-android-messages-domain` \u2297 \\tNo description  \\n* `--custom-devtools-frontend` \u2297 \\tSpecifies the `http://` endpoint which will be used to serve `devtools://devtools/custom/<path>` Or a `file://` URL to specify a custom file path to load from for `devtools://devtools/bundled/<path>` \\n* `--custom-launcher-page` \u2297 \\tSpecifies the chrome-extension:// URL for the contents of an additional page added to the app launcher.  \\n* `--custom_summary[7]` \u2297 \\tForces a custom summary to be displayed below the update menu item.  \\n* `--d3d-support[1]` \u2297 \\tNo description  \\n* `--d3d11` \u2297 \\tNo description  \\n* `--d3d11-null` \u2297 \\tSpecial switches for \\"NULL\\"/stub driver implementations.  \\n* `--d3d11on12` \u2297 \\tNo description  \\n* `--d3d9` \u2297 \\tNo description  \\n* `--daemon` \u2297 \\tNo description  \\n* `--dark` \u2297 \\tNo description  \\n* `--data-path` \u2297 \\tMakes Content Shell use the given path for its data directory.  \\n* `--data-reduction-proxy-client-config` \u2297 \\tUses the encoded ClientConfig instead of fetching one from the config server. This value is always used, regardless of error or expiration. The value should be a base64 encoded binary protobuf.  \\n* `--data-reduction-proxy-config-url` \u2297 \\tThe URL from which to retrieve the Data Reduction Proxy configuration.  \\n* `--data-reduction-proxy-experiment` \u2297 \\tThe name of a Data Reduction Proxy experiment to run. These experiments are defined by the proxy server. Use --force-fieldtrials for Data Reduction Proxy field trials.  \\n* `--data-reduction-proxy-http-proxies` \u2297 \\tThe semicolon-separated list of proxy server URIs to override the list of HTTP proxies returned by the Data Saver API. It is illegal to use |kDataReductionProxy| or |kDataReductionProxyFallback| switch in conjunction with |kDataReductionProxyHttpProxies|. If the URI omits a scheme, then the proxy server scheme defaults to HTTP, and if the port is omitted then the default port for that scheme is used. E.g. \\"http://foo.net:80\\", \\"http://foo.net\\", \\"foo.net:80\\", and \\"foo.net\\" are all equivalent.  \\n* `--data-reduction-proxy-pingback-url` \u2297 \\tNo description  \\n* `--data-reduction-proxy-secure-proxy-check-url` \u2297 \\tSets a secure proxy check URL to test before committing to using the Data Reduction Proxy. Note this check does not go through the Data Reduction Proxy.  \\n* `--data-reduction-proxy-server-experiments-disabled` \u2297 \\tDisables server experiments that may be enabled through field trial.  \\n* `--dbus-stub` \u2297 \\tForces the stub implementation of D-Bus clients.  \\n* `--de-jelly-screen-width` \u2297 \\tScreen width is useful for debugging. Shipping implementations should detect this.  \\n* `--deadline-to-synchronize-surfaces` \u2297 \\tThe default number of the BeginFrames to wait to activate a surface with dependencies.  \\n* `--debug-devtools` \u2297 \\tRun devtools tests in debug mode (not bundled and minified)  \\n* `--debug-enable-frame-toggle` \u2297 \\tEnables a frame context menu item that toggles the frame in and out of glass mode (Windows Vista and up only).  \\n* `--debug-packed-apps` \u2297 \\tAdds debugging entries such as Inspect Element to context menus of packed apps.  \\n* `--debug-print[11]` \u2297 \\tEnables support to debug printing subsystem.  \\n* `--default` \u2297 \\tNo description  \\n* `--default-background-color` \u2297 \\tThe background color to be used if the page doesn\'t specify one. Provided as RGBA integer value in hex, e.g. \'ff0000ff\' for red or \'00000000\' for transparent.  \\n* `--default-country-code[7]` \u2297 \\tDefault country code to be used for search engine localization.  \\n* `--default-tile-height` \u2297 \\tNo description  \\n* `--default-tile-width` \u2297 \\tSets the tile size used by composited layers.  \\n* `--default-wallpaper-is-oem` \u2297 \\tIndicates that the wallpaper images specified by kAshDefaultWallpaper{Large,Small} are OEM-specific (i.e. they are not downloadable from Google).  \\n* `--default-wallpaper-large` \u2297 \\tDefault large wallpaper to use (as path to trusted, non-user-writable JPEG file).  \\n* `--default-wallpaper-small` \u2297 \\tDefault small wallpaper to use (as path to trusted, non-user-writable JPEG file).  \\n* `--deny-permission-prompts` \u2297 \\tPrevents permission prompts from appearing by denying instead of showing prompts.  \\n* `--derelict-detection-timeout` \u2297 \\tTime in seconds before a machine at OOBE is considered derelict.  \\n* `--derelict-idle-timeout` \u2297 \\tTime in seconds before a derelict machines starts demo mode.  \\n* `--desktop` \u2297 \\tNo description  \\n* `--desktop-window-1080p` \u2297 \\tWhen present, desktop cast_shell will create 1080p window (provided display resolution is high enough). Otherwise, cast_shell defaults to 720p.  \\n* `--deterministic-mode` \u2297 \\tA meta flag. This sets a number of flags which put the browser into deterministic mode where begin frames should be issued over DevToolsProtocol (experimental).  \\n* `--device-management-url` \u2297 \\tSpecifies the URL at which to communicate with the device management backend to fetch configuration policies and perform other device tasks.  \\n* `--device-scale-factor[1]` \u2297 \\tDevice scale factor passed to certain processes like renderers, etc.  \\n* `--devtools-flags` \u2297 \\tPasses command line parameters to the DevTools front-end.  \\n* `--diagnostics` \u2297 \\tTriggers a plethora of diagnostic modes.  \\n* `--diagnostics-format` \u2297 \\tSets the output format for diagnostic modes enabled by diagnostics flag.  \\n* `--diagnostics-recovery` \u2297 \\tTells the diagnostics mode to do the requested recovery step(s).  \\n* `--disable-2d-canvas-clip-aa` \u2297 \\tDisable antialiasing on 2d canvas clips  \\n* `--disable-2d-canvas-image-chromium` \u2297 \\tDisables Canvas2D rendering into a scanout buffer for overlay support.  \\n* `--disable-3d-apis` \u2297 \\tDisables client-visible 3D APIs, in particular WebGL and Pepper 3D. This is controlled by policy and is kept separate from the other enable/disable switches to avoid accidentally regressing the policy support for controlling access to these APIs.  \\n* `--disable-accelerated-2d-canvas` \u2297 \\tDisable gpu-accelerated 2d canvas.  \\n* `--disable-accelerated-mjpeg-decode` \u2297 \\tDisable hardware acceleration of mjpeg decode for captured frame, where available.  \\n* `--disable-accelerated-video-decode` \u2297 \\tDisables hardware acceleration of video decode, where available.  \\n* `--disable-accelerated-video-encode` \u2297 \\tDisables hardware acceleration of video encode, where available.  \\n* `--disable-and-delete-previous-log` \u2297 \\tDisable cros action logging.  \\n* `--disable-angle-features` \u2297 \\tDisables specified comma separated ANGLE features if found.  \\n* `--disable-app-list-dismiss-on-blur` \u2297 \\tIf set, the app list will not be dismissed when it loses focus. This is useful when testing the app list or a custom launcher page. It can still be dismissed via the other methods (like the Esc key).  \\n* `--disable-arc-cpu-restriction` \u2297 \\tPrevents any CPU restrictions being set on the ARC container. Only meant to be used by tests as some tests may time out if the ARC container is throttled.  \\n* `--disable-arc-data-wipe` \u2297 \\tDisables android user data wipe on opt out.  \\n* `--disable-arc-opt-in-verification` \u2297 \\tDisables ARC Opt-in verification process and ARC is enabled by default.  \\n* `--disable-audio-output` \u2297 \\tNo description  \\n* `--disable-audio-support-for-desktop-share` \u2297 \\tNo description  \\n* `--disable-auto-reload` \u2297 \\tDisable auto-reload of error pages.  \\n* `--disable-auto-wpt-origin-isolation` \u2297 \\tDisables the automatic origin isolation of web platform test domains. We normally origin-isolate them for better test coverage, but tests of opt-in origin isolation need to disable this.  \\n* `--disable-avfoundation-overlays[6]` \u2297 \\tDisable use of AVFoundation to draw video content.  \\n* `--disable-ax-menu-list` \u2297 \\tOptionally disable AXMenuList, which makes the internal pop-up menu UI for a select element directly accessible.  \\n* `--disable-back-forward-cache` \u2297 \\tDisables the BackForwardCache feature.  \\n* `--disable-background-media-suspend` \u2297 \\tDo not immediately suspend media in background tabs.  \\n* `--disable-background-networking` \u2297 \\tDisable several subsystems which run network requests in the background. This is for use when doing network performance testing to avoid noise in the measurements.  \\n* `--disable-background-timer-throttling` \u2297 \\tDisable task throttling of timer tasks from background pages.  \\n* `--disable-backgrounding-occluded-windows` \u2297 \\tDisable backgrounding renders for occluded windows. Done for tests to avoid nondeterministic behavior.  \\n* `--disable-backing-store-limit` \u2297 \\tDisable limits on the number of backing stores. Can prevent blinking for users with many windows/tabs and lots of memory.  \\n* `--disable-best-effort-tasks` \u2297 \\tDelays execution of TaskPriority::BEST_EFFORT tasks until shutdown.  \\n* `--disable-blink-features` \u2297 \\tDisable one or more Blink runtime-enabled features. Use names from runtime_enabled_features.json5, separated by commas. Applied after kEnableBlinkFeatures, and after other flags that change these features.  \\n* `--disable-breakpad` \u2297 \\tDisables the crash reporting.  \\n* `--disable-bundled-ppapi-flash` \u2297 \\tDisables the bundled PPAPI version of Flash.  \\n* `--disable-cancel-all-touches[12]` \u2297 \\tDisable CancelAllTouches() function for the implementation on cancel single touches.  \\n* `--disable-canvas-aa` \u2297 \\tDisable antialiasing on 2d canvas.  \\n* `--disable-checker-imaging` \u2297 \\tDisabled defering all image decodes to the image decode service, ignoring DecodingMode preferences specified on PaintImage.  \\n* `--disable-checking-optimization-guide-user-permissions` \u2297 \\tNo description  \\n* `--disable-client-side-phishing-detection` \u2297 \\tDisables the client-side phishing detection feature. Note that even if client-side phishing detection is enabled, it will only be active if the user has opted in to UMA stats and SafeBrowsing is enabled in the preferences.  \\n* `--disable-component-cloud-policy` \u2297 \\tDisables fetching and storing cloud policy for components.  \\n* `--disable-component-extensions-with-background-pages` \u2297 \\tDisable default component extensions with background pages - useful for performance tests where these pages may interfere with perf results.  \\n* `--disable-component-update` \u2297 \\tNo description  \\n* `--disable-composited-antialiasing` \u2297 \\tDisables layer-edge anti-aliasing in the compositor.  \\n* `--disable-cookie-encryption` \u2297 \\tWhether cookies stored as part of user profile are encrypted.  \\n* `--disable-crash-reporter` \u2297 \\tDisable crash reporter for headless. It is enabled by default in official builds.  \\n* `--disable-d3d11` \u2297 \\tDisables use of D3D11.  \\n* `--disable-databases` \u2297 \\tDisables HTML5 DB support.  \\n* `--disable-default-apps` \u2297 \\tDisables installation of default apps on first run. This is used during automated testing.  \\n* `--disable-demo-mode` \u2297 \\tDisables the Chrome OS demo.  \\n* `--disable-dev-shm-usage[13]` \u2297 \\tThe /dev/shm partition is too small in certain VM environments, causing Chrome to fail or crash (see http://crbug.com/715363). Use this flag to work-around this issue (a temporary directory will always be used to create anonymous shared memory files).  \\n* `--disable-device-disabling` \u2297 \\tIf this switch is set, the device cannot be remotely disabled by its owner.  \\n* `--disable-device-discovery-notifications` \u2297 \\tDisables device discovery notifications.  \\n* `--disable-dinosaur-easter-egg` \u2297 \\tDisables the dinosaur easter egg on the offline interstitial.  \\n* `--disable-direct-composition` \u2297 \\tDisables DirectComposition surface.  \\n* `--disable-direct-composition-video-overlays` \u2297 \\tDisables using DirectComposition video overlays, even if hardware overlays are supported.  \\n* `--disable-domain-blocking-for-3d-apis` \u2297 \\tDisable the per-domain blocking for 3D APIs after GPU reset. This switch is intended only for tests.  \\n* `--disable-domain-reliability` \u2297 \\tDisables Domain Reliability Monitoring.  \\n* `--disable-dwm-composition` \u2297 \\tDisables use of DWM composition for top level windows.  \\n* `--disable-encryption-migration` \u2297 \\tDisable encryption migration for user\'s cryptohome to run latest Arc.  \\n* `--disable-enterprise-policy` \u2297 \\tDisables enterprise policy support.  \\n* `--disable-es3-gl-context` \u2297 \\tDisables use of ES3 backend (use ES2 backend instead).  \\n* `--disable-es3-gl-context-for-testing` \u2297 \\tDisables use of ES3 backend at a lower level, for testing purposes. This isn\'t guaranteed to work everywhere, so it\'s test-only.  \\n* `--disable-experimental-accessibility-chromevox-language-switching` \u2297 \\tDisables ChromeVox language switching feature.  \\n* `--disable-experimental-accessibility-chromevox-search-menus` \u2297 \\tDisables ChromeVox search menus feature.  \\n* `--disable-explicit-dma-fences` \u2297 \\tDisable explicit DMA-fences  \\n* `--disable-extensions` \u2297 \\tDisable extensions.  \\n* `--disable-extensions-except` \u2297 \\tDisable extensions except those specified in a comma-separated list.  \\n* `--disable-extensions-file-access-check` \u2297 \\tDisable checking for user opt-in for extensions that want to inject script into file URLs (ie, always allow it). This is used during automated testing.  \\n* `--disable-extensions-http-throttling` \u2297 \\tDisable the net::URLRequestThrottlerManager functionality for requests originating from extensions.  \\n* `--disable-features` \u2297 \\tComma-separated list of feature names to disable. See also kEnableFeatures.  \\n* `--disable-fetching-hints-at-navigation-start` \u2297 \\tNo description  \\n* `--disable-field-trial-config` \u2297 \\tDisable field trial tests configured in fieldtrial_testing_config.json.  \\n* `--disable-file-system` \u2297 \\tDisable FileSystem API.  \\n* `--disable-fine-grained-time-zone-detection` \u2297 \\tDisables fine grained time zone detection.  \\n* `--disable-flash-3d` \u2297 \\tDisable 3D inside of flapper.  \\n* `--disable-flash-stage3d` \u2297 \\tDisable Stage3D inside of flapper.  \\n* `--disable-font-subpixel-positioning` \u2297 \\tForce disables font subpixel positioning. This affects the character glyph sharpness, kerning, hinting and layout.  \\n* `--disable-frame-rate-limit` \u2297 \\tDisables begin frame limiting in both cc scheduler and display scheduler. Also implies --disable-gpu-vsync (see //ui/gl/gl_switches.h).  \\n* `--disable-gaia-services` \u2297 \\tDisables GAIA services such as enrollment and OAuth session restore. Used by \'fake\' telemetry login.  \\n* `--disable-gesture-requirement-for-presentation` \u2297 \\tDisable user gesture requirement for presentation.  \\n* `--disable-gl-drawing-for-tests` \u2297 \\tDisables GL drawing operations which produce pixel output. With this the GL output will not be correct but tests will run faster.  \\n* `--disable-gl-error-limit` \u2297 \\tDisable the GL error log limit.  \\n* `--disable-gl-extensions` \u2297 \\tDisables specified comma separated GL Extensions if found.  \\n* `--disable-glsl-translator` \u2297 \\tDisable the GLSL translator.  \\n* `--disable-gpu` \u2297 \\tDisables GPU hardware acceleration. If software renderer is not in place, then the GPU process won\'t launch.  \\n* `--disable-gpu-compositing` \u2297 \\tPrevent the compositor from using its GPU implementation.  \\n* `--disable-gpu-driver-bug-workarounds` \u2297 \\tDisable workarounds for various GPU driver bugs.  \\n* `--disable-gpu-early-init` \u2297 \\tDisable proactive early init of GPU process.  \\n* `--disable-gpu-memory-buffer-compositor-resources` \u2297 \\tDo not force that all compositor resources be backed by GPU memory buffers.  \\n* `--disable-gpu-memory-buffer-video-frames` \u2297 \\tDisable GpuMemoryBuffer backed VideoFrames.  \\n* `--disable-gpu-process-crash-limit` \u2297 \\tFor tests, to disable the limit on the number of times the GPU process may be restarted.  \\n* `--disable-gpu-process-for-dx12-info-collection` \u2297 \\tDisables the non-sandboxed GPU process for DX12 info collection  \\n* `--disable-gpu-program-cache` \u2297 \\tTurn off gpu program caching  \\n* `--disable-gpu-rasterization` \u2297 \\tDisable GPU rasterization, i.e. rasterize on the CPU only. Overrides the kEnableGpuRasterization flag.  \\n* `--disable-gpu-sandbox` \u2297 \\tDisables the GPU process sandbox.  \\n* `--disable-gpu-shader-disk-cache` \u2297 \\tDisables the GPU shader on disk cache.  \\n* `--disable-gpu-vsync` \u2297 \\tStop the GPU from synchronizing presentation with vblank.  \\n* `--disable-gpu-watchdog` \u2297 \\tDisable the thread that crashes the GPU process if it stops responding to messages.  \\n* `--disable-hang-monitor` \u2297 \\tSuppresses hang monitor dialogs in renderer processes. This may allow slow unload handlers on a page to prevent the tab from closing, but the Task Manager can be used to terminate the offending process in this case.  \\n* `--disable-headless-mode` \u2297 \\tDisables the shell from beginning in headless mode. Tests will then attempt to use the hardware GPU for rendering. This is only followed when kRunWebTests is set.  \\n* `--disable-hid-detection-on-oobe` \u2297 \\tDisables HID-detection OOBE screen.  \\n* `--disable-highres-timer[1]` \u2297 \\tDisable high-resolution timer on Windows.  \\n* `--disable-histogram-customizer` \u2297 \\tDisable the RenderThread\'s HistogramCustomizer.  \\n* `--disable-hosted-app-shim-creation[6]` \u2297 \\tDisables app shim creation for hosted apps on Mac.  \\n* `--disable-image-animation-resync` \u2297 \\tDisallow image animations to be reset to the beginning to avoid skipping many frames. Only effective if compositor image animations are enabled.  \\n* `--disable-in-process-stack-traces` \u2297 \\tDisables the in-process stack traces.  \\n* `--disable-ios-password-suggestions` \u2297 \\tDisable showing available password credentials in the keyboard accessory view when focused on form fields.  \\n* `--disable-ipc-flooding-protection` \u2297 \\tDisables the IPC flooding protection. It is activated by default. Some javascript functions can be used to flood the browser process with IPC. This protection limits the rate at which they can be used.  \\n* `--disable-javascript-harmony-shipping` \u2297 \\tDisable latest shipping ECMAScript 6 features.  \\n* `--disable-kill-after-bad-ipc` \u2297 \\tDon\'t kill a child process when it sends a bad IPC message. Apart from testing, it is a bad idea from a security perspective to enable this switch.  \\n* `--disable-layer-tree-host-memory-pressure` \u2297 \\tDisables LayerTreeHost::OnMemoryPressure  \\n* `--disable-lcd-text` \u2297 \\tDisables LCD text.  \\n* `--disable-legacy-window[1]` \u2297 \\tDisable the Legacy Window which corresponds to the size of the WebContents.  \\n* `--disable-local-storage` \u2297 \\tDisable LocalStorage.  \\n* `--disable-logging` \u2297 \\tForce logging to be disabled. Logging is enabled by default in debug builds.  \\n* `--disable-logging-redirect[5]` \u2297 \\tDisables logging redirect for testing.  \\n* `--disable-login-animations` \u2297 \\tAvoid doing expensive animations upon login.  \\n* `--disable-login-screen-apps[5]` \u2297 \\tDisables apps on the login screen. By default, they are allowed and can be installed through policy.  \\n* `--disable-low-end-device-mode` \u2297 \\tForce disabling of low-end device mode when set.  \\n* `--disable-low-latency-dxva` \u2297 \\tDisables using CODECAPI_AVLowLatencyMode when creating DXVA decoders.  \\n* `--disable-low-res-tiling` \u2297 \\tWhen using CPU rasterizing disable low resolution tiling. This uses less power, particularly during animations, but more white may be seen during fast scrolling especially on slower devices.  \\n* `--disable-mac-overlays[6]` \u2297 \\tFall back to using CAOpenGLLayers display content, instead of the IOSurface based overlay display path.  \\n* `--disable-machine-cert-request` \u2297 \\tDisables requests for an enterprise machine certificate during attestation.  \\n* `--disable-main-frame-before-activation` \u2297 \\tDisables sending the next BeginMainFrame before the previous commit activates. Overrides the kEnableMainFrameBeforeActivation flag.  \\n* `--disable-media-session-api[7]` \u2297 \\tDisable Media Session API  \\n* `--disable-metal-test-shaders` \u2297 \\tNo description  \\n* `--disable-modal-animations[6]` \u2297 \\tDisable animations for showing and hiding modal dialogs.  \\n* `--disable-mojo-renderer` \u2297 \\tRather than use the renderer hosted remotely in the media service, fall back to the default renderer within content_renderer. Does not change the behavior of the media service.  \\n* `--disable-multi-display-layout` \u2297 \\tDisables the multiple display layout UI.  \\n* `--disable-namespace-sandbox` \u2297 \\tDisables usage of the namespace sandbox.  \\n* `--disable-new-content-rendering-timeout` \u2297 \\tDisables clearing the rendering output of a renderer when it didn\'t commit new output for a while after a top-frame navigation.  \\n* `--disable-notifications` \u2297 \\tDisables the Web Notification and the Push APIs.  \\n* `--disable-nv12-dxgi-video` \u2297 \\tDisables the video decoder from drawing to an NV12 textures instead of ARGB.  \\n* `--disable-offer-store-unmasked-wallet-cards` \u2297 \\tForce hiding the local save checkbox in the autofill dialog box for getting the full credit card number for a wallet card. The card will never be stored locally.  \\n* `--disable-oop-rasterization` \u2297 \\tDisables OOP rasterization. Takes precedence over the enable flag.  \\n* `--disable-oopr-debug-crash-dump[7]` \u2297 \\tDisables debug crash dumps for OOPR.  \\n* `--disable-oor-cors` \u2297 \\tDisable OOR-CORS in child processes regardless of the base::Feature flag.  \\n* `--disable-origin-trial-controlled-blink-features` \u2297 \\tDisables all RuntimeEnabledFeatures that can be enabled via OriginTrials.  \\n* `--disable-overscroll-edge-effect[7]` \u2297 \\tDisable overscroll edge effects like those found in Android views.  \\n* `--disable-partial-raster` \u2297 \\tDisable partial raster in the renderer. Disabling this switch also disables the use of persistent gpu memory buffers.  \\n* `--disable-pepper-3d` \u2297 \\tDisable Pepper3D.  \\n* `--disable-pepper-3d-image-chromium` \u2297 \\tDisable Image Chromium for Pepper 3d.  \\n* `--disable-per-user-timezone` \u2297 \\tDisables per-user timezone.  \\n* `--disable-permissions-api` \u2297 \\tDisables the Permissions API.  \\n* `--disable-pinch` \u2297 \\tDisables compositor-accelerated touch-screen pinch gestures.  \\n* `--disable-pnacl-crash-throttling` \u2297 \\tDisables crash throttling for Portable Native Client.  \\n* `--disable-popup-blocking` \u2297 \\tDisables pop-up blocking.  \\n* `--disable-prefer-compositing-to-lcd-text` \u2297 \\tDisable the creation of compositing layers when it would prevent LCD text.  \\n* `--disable-presentation-api` \u2297 \\tDisables the Presentation API.  \\n* `--disable-print-preview` \u2297 \\tDisables print preview (For testing, and for users who don\'t like us. :[ )  \\n* `--disable-prompt-on-repost` \u2297 \\tNormally when the user attempts to navigate to a page that was the result of a post we prompt to make sure they want to. This switch may be used to disable that check. This switch is used during automated testing.  \\n* `--disable-pull-to-refresh-effect[7]` \u2297 \\tDisable the pull-to-refresh effect when vertically overscrolling content.  \\n* `--disable-pushstate-throttle` \u2297 \\tDisables throttling of history.pushState/replaceState calls.  \\n* `--disable-reading-from-canvas` \u2297 \\tTaints all `<canvas>` elements, regardless of origin.  \\n* `--disable-remote-core-animation[6]` \u2297 \\tDisable use of cross-process CALayers to display content directly from the GPU process on Mac.  \\n* `--disable-remote-fonts` \u2297 \\tDisables remote web font support. SVG font should always work whether this option is specified or not.  \\n* `--disable-remote-playback-api` \u2297 \\tDisables the RemotePlayback API.  \\n* `--disable-renderer-accessibility` \u2297 \\tTurns off the accessibility in the renderer.  \\n* `--disable-renderer-backgrounding` \u2297 \\tPrevent renderer process backgrounding when set.  \\n* `--disable-resource-scheduler` \u2297 \\tWhether the ResourceScheduler is disabled. Note this is only useful for C++ Headless embedders who need to implement their own resource scheduling.  \\n* `--disable-rgba-4444-textures` \u2297 \\tDisables RGBA_4444 textures.  \\n* `--disable-rollback-option` \u2297 \\tDisables rollback option on reset screen.  \\n* `--disable-rtc-smoothness-algorithm` \u2297 \\tDisables the new rendering algorithm for webrtc, which is designed to improve the rendering smoothness.  \\n* `--disable-running-as-system-compositor` \u2297 \\tDisable running as system compositor.  \\n* `--disable-screen-orientation-lock[7]` \u2297 \\tDisable the locking feature of the screen orientation API.  \\n* `--disable-scroll-to-text-fragment` \u2297 \\tThis switch disables the ScrollToTextFragment feature.  \\n* `--disable-search-geolocation-disclosure` \u2297 \\tDisables showing the search geolocation disclosure UI. Used for perf testing.  \\n* `--disable-seccomp-filter-sandbox` \u2297 \\tDisable the seccomp filter sandbox (seccomp-bpf) (Linux only).  \\n* `--disable-setuid-sandbox` \u2297 \\tDisable the setuid sandbox (Linux only).  \\n* `--disable-shader-name-hashing` \u2297 \\tTurn off user-defined name hashing in shaders.  \\n* `--disable-shared-workers` \u2297 \\tDisable shared workers.  \\n* `--disable-signin-frame-client-certs` \u2297 \\tDisables client certificate authentication on the sign-in frame on the Chrome OS sign-in profile. [TODO](https://crbug.com/844022): Remove this flag when reaching endpoints that request client certs does not hang anymore when there is no system token yet.  \\n* `--disable-signin-scoped-device-id` \u2297 \\tDisables sending signin scoped device id to LSO with refresh token request.  \\n* `--disable-site-isolation-for-policy[7]` \u2297 \\tJust like kDisableSiteIsolation, but doesn\'t show the \\"stability and security will suffer\\" butter bar warning.  \\n* `--disable-site-isolation-trials` \u2297 \\tDisables site isolation. Note that the opt-in (to site-per-process, isolate-origins, etc.) via enterprise policy and/or cmdline takes precedence over the kDisableSiteIsolation switch (i.e. the opt-in takes effect despite potential presence of kDisableSiteIsolation switch). Note that for historic reasons the name of the switch misleadingly mentions \\"trials\\", but the switch also disables the default site isolation that ships on desktop since M67. The name of the switch is preserved for backcompatibility of chrome://flags.  \\n* `--disable-skia-runtime-opts` \u2297 \\tDo not use runtime-detected high-end CPU optimizations in Skia. This is useful for forcing a baseline code path for e.g. web tests.  \\n* `--disable-smooth-scrolling` \u2297 \\tDisable smooth scrolling for testing.  \\n* `--disable-software-compositing-fallback` \u2297 \\tFor tests, to disable falling back to software compositing if the GPU Process has crashed, and reached the GPU Process crash limit.  \\n* `--disable-software-rasterizer` \u2297 \\tDisables the use of a 3D software rasterizer.  \\n* `--disable-software-video-decoders` \u2297 \\tNo description  \\n* `--disable-speech-api` \u2297 \\tDisables the Web Speech API (both speech recognition and synthesis).  \\n* `--disable-speech-synthesis-api` \u2297 \\tDisables the speech synthesis part of Web Speech API.  \\n* `--disable-sync` \u2297 \\tDisables syncing browser data to a Google Account.  \\n* `--disable-sync-types` \u2297 \\tDisables syncing one or more sync data types that are on by default. See sync/base/model_type.h for possible types. Types should be comma separated, and follow the naming convention for string representation of model types, e.g.: --disable-synctypes=\'Typed URLs, Bookmarks, Autofill Profiles\'  \\n* `--disable-system-font-check` \u2297 \\tDisables the check for the system font when specified.  \\n* `--disable-test-root-certs` \u2297 \\tDisables adding the test certs in the network process.  \\n* `--disable-third-party-keyboard-workaround` \u2297 \\tDisables the 3rd party keyboard omnibox workaround.  \\n* `--disable-threaded-animation` \u2297 \\tNo description  \\n* `--disable-threaded-compositing` \u2297 \\tDisable multithreaded GPU compositing of web content.  \\n* `--disable-threaded-scrolling` \u2297 \\tDisable multithreaded, compositor scrolling of web content.  \\n* `--disable-timeouts-for-profiling[7]` \u2297 \\tDisable timeouts that may cause the browser to die when running slowly. This is useful if running with profiling (such as debug malloc).  \\n* `--disable-touch-adjustment` \u2297 \\tDisables touch adjustment.  \\n* `--disable-touch-drag-drop` \u2297 \\tDisables touch event based drag and drop.  \\n* `--disable-usb-keyboard-detect[1]` \u2297 \\tDisables the USB keyboard detection for blocking the OSK on Win8+.  \\n* `--disable-v8-idle-tasks` \u2297 \\tDisable V8 idle tasks.  \\n* `--disable-video-capture-use-gpu-memory-buffer` \u2297 \\tThis is for the same feature controlled by kVideoCaptureUseGpuMemoryBuffer. kVideoCaptureUseGpuMemoryBuffer is settled by chromeos overlays. This flag is necessary to overwrite the settings via chrome:// flag. The behavior of chrome://flag#zero-copy-video-capture is as follows; Default : Respect chromeos overlays settings. Enabled : Force to enable kVideoCaptureUseGpuMemoryBuffer. Disabled : Force to disable kVideoCaptureUseGpuMemoryBuffer.  \\n* `--disable-volume-adjust-sound` \u2297 \\tDisables volume adjust sound.  \\n* `--disable-vsync-for-tests` \u2297 \\tNo description  \\n* `--disable-vulkan-fallback-to-gl-for-testing` \u2297 \\tDisables falling back to GL based hardware rendering if initializing Vulkan fails. This is to allow tests to catch regressions in Vulkan.  \\n* `--disable-vulkan-surface` \u2297 \\tDisables VK_KHR_surface extension. Instead of using swapchain, bitblt will be used for present render result on screen.  \\n* `--disable-wake-on-wifi` \u2297 \\tDisables wake on wifi features.  \\n* `--disable-web-security` \u2297 \\tDon\'t enforce the same-origin policy. (Used by people testing their sites.)  \\n* `--disable-webgl` \u2297 \\tDisable all versions of WebGL.  \\n* `--disable-webgl-image-chromium` \u2297 \\tDisables WebGL rendering into a scanout buffer for overlay support.  \\n* `--disable-webgl2` \u2297 \\tDisable WebGL2.  \\n* `--disable-webrtc-encryption` \u2297 \\tDisables encryption of RTP Media for WebRTC. When Chrome embeds Content, it ignores this switch on its stable and beta channels.  \\n* `--disable-webrtc-hw-decoding` \u2297 \\tDisables HW decode acceleration for WebRTC.  \\n* `--disable-webrtc-hw-encoding` \u2297 \\tDisables HW encode acceleration for WebRTC.  \\n* `--disable-windows10-custom-titlebar[1]` \u2297 \\tDisables custom-drawing the window titlebar on Windows 10.  \\n* `--disable-yuv-image-decoding` \u2297 \\tDisable YUV image decoding for those formats and cases where it\'s supported. Has no effect unless GPU rasterization is enabled.  \\n* `--disable-yuv420-biplanar` \u2297 \\tDisable a NV12 format buffer allocation with gfx::BufferUsage::SCANOUT_CPU_READ_WRITE usage.  \\n* `--disable-zero-browsers-open-for-tests` \u2297 \\tSome tests seem to require the application to close when the last browser window is closed. Thus, we need a switch to force this behavior for ChromeOS Aura, disable \\"zero window mode\\". TODO(pkotwicz): Investigate if this bug can be removed. (http://crbug.com/119175)  \\n* `--disable-zero-copy` \u2297 \\tDisable rasterizer that writes directly to GPU memory associated with tiles.  \\n* `--disable-zero-copy-dxgi-video` \u2297 \\tDisable the video decoder from drawing directly to a texture.  \\n* `--disabled` \u2297 \\tNo description  \\n* `--disallow-non-exact-resource-reuse` \u2297 \\tDisable re-use of non-exact resources to fulfill ResourcePool requests. Intended only for use in layout or pixel tests to reduce noise.  \\n* `--discoverability` \u2297 \\tNo description  \\n* `--disk-cache-dir` \u2297 \\tUse a specific disk cache location, rather than one derived from the UserDatadir.  \\n* `--disk-cache-size` \u2297 \\tForces the maximum disk space to be used by the disk cache, in bytes.  \\n* `--display` \u2297 \\tWhich X11 display to connect to. Emulates the GTK+ \\"--display=\\" command line argument.  \\n* `--dmg-device[6]` \u2297 \\tWhen switches::kProcessType is switches::kRelauncherProcess, if this switch is also present, the relauncher process will unmount and eject a mounted disk image and move its disk image file to the trash. The argument\'s value must be a BSD device name of the form \\"diskN\\" or \\"diskNsM\\".  \\n* `--dns-log-details` \u2297 \\tNo description  \\n* `--document-user-activation-required` \u2297 \\tAutoplay policy that requires a document user activation.  \\n* `--dom-automation` \u2297 \\tSpecifies if the |DOMAutomationController| needs to be bound in the renderer. This binding happens on per-frame basis and hence can potentially be a performance bottleneck. One should only enable it when automating dom based tests.  \\n* `--dont-require-litepage-redirect-infobar` \u2297 \\tDo not require the user notification InfoBar to be shown before triggering a Lite Page Redirect preview.  \\n* `--double-buffer-compositing` \u2297 \\tSets the number of max pending frames in the GL buffer queue to 1.  \\n* `--draw-view-bounds-rects` \u2297 \\tDraws a semitransparent rect to indicate the bounds of each view.  \\n* `--dump-blink-runtime-call-stats` \u2297 \\tLogs Runtime Call Stats for Blink. --single-process also needs to be used along with this for the stats to be logged.  \\n* `--dump-browser-histograms` \u2297 \\tRequests that a running browser process dump its collected histograms to a given file. The file is overwritten if it exists.  \\n* `--dump-dom` \u2297 \\tInstructs headless_shell to print document.body.innerHTML to stdout.  \\n* `--dump-raw-logs` \u2297 \\tDump the raw logs to a file with the same base name as the executable. The dumped file is a raw protobuf and has a \\"pb\\" extension. WARNING: this switch is used by internal test systems. Be careful when making changes.  \\n* `--easy-unlock-app-path` \u2297 \\tOverrides the path of Easy Unlock component app.  \\n* `--edge-touch-filtering[12]` \u2297 \\tTells Chrome to do edge touch filtering. Useful for convertible tablet.  \\n* `--egl` \u2297 \\tNo description  \\n* `--elevate` \u2297 \\tNo description  \\n* `--elevated` \u2297 \\tIdentify that the process is already supposed to be elevated, so that we don\'t try again.  \\n* `--embedded-extension-options` \u2297 \\tEnables extension options to be embedded in chrome://extensions rather than a new tab.  \\n* `--emulate-shader-precision` \u2297 \\tEmulate ESSL lowp and mediump float precisions by mutating the shaders to round intermediate values in ANGLE.  \\n* `--enable-accelerated-2d-canvas` \u2297 \\tEnable accelerated 2D canvas.  \\n* `--enable-accessibility-object-model` \u2297 \\tEnable the experimental Accessibility Object Model APIs in development.  \\n* `--enable-accessibility-tab-switcher[7]` \u2297 \\tEnable the accessibility tab switcher.  \\n* `--enable-adaptive-selection-handle-orientation[7]` \u2297 \\tEnable inverting of selection handles so that they are not clipped by the viewport boundaries.  \\n* `--enable-aggressive-domstorage-flushing` \u2297 \\tEnable the aggressive flushing of DOM Storage to minimize data loss.  \\n* `--enable-angle-features` \u2297 \\tANGLE features are defined per-backend in third_party/angle/include/platform Enables specified comma separated ANGLE features if found.  \\n* `--enable-app-list` \u2297 \\tIf set, the app list will be enabled as if enabled from CWS.  \\n* `--enable-arc` \u2297 \\tDEPRECATED. Please use --arc-availability=officially-supported. Enables starting the ARC instance upon session start.  \\n* `--enable-arcvm` \u2297 \\tEnables ARC VM.  \\n* `--enable-audio-debug-recordings-from-extension` \u2297 \\tIf the WebRTC logging private API is active, enables audio debug recordings.  \\n* `--enable-auto-reload` \u2297 \\tEnable auto-reload of error pages.  \\n* `--enable-automation` \u2297 \\tEnable indication that browser is controlled by automation.  \\n* `--enable-background-tracing` \u2297 \\tEnables background and upload trace to trace-upload-url. Trigger rules are pass as an argument.  \\n* `--enable-begin-frame-control` \u2297 \\tWhether or not begin frames should be issued over DevToolsProtocol (experimental).  \\n* `--enable-benchmarking` \u2297 \\tTODO(asvitkine): Consider removing or renaming this functionality. Enables the benchmarking extensions.  \\n* `--enable-ble-advertising-in-apps` \u2297 \\tEnable BLE Advertisiing in apps.  \\n* `--enable-blink-features` \u2297 \\tEnable one or more Blink runtime-enabled features. Use names from runtime_enabled_features.json5, separated by commas. Applied before kDisableBlinkFeatures, and after other flags that change these features.  \\n* `--enable-blink-test-features` \u2297 \\tEnables blink runtime enabled features with status:\\"test\\" or status:\\"experimental\\", which are enabled when running web tests.  \\n* `--enable-bluetooth-spp-in-serial-api` \u2297 \\tEnable serial communication for SPP devices.  \\n* `--enable-bookmark-undo` \u2297 \\tEnables the multi-level undo system for bookmarks.  \\n* `--enable-caret-browsing` \u2297 \\tEnable native caret browsing, in which a moveable cursor is placed on a web page, allowing a user to select and navigate through non-editable text using just a keyboard. See https://crbug.com/977390 for links to i2i.  \\n* `--enable-cast-receiver` \u2297 \\tEnables the Cast Receiver.  \\n* `--enable-cast-streaming-receiver` \u2297 \\tNo description  \\n* `--enable-chrome-browser-cloud-management` \u2297 \\tEnables Chrome Browser Cloud Management flow.  \\n* `--enable-chrome-tracing-computation` \u2297 \\tEnable the tracing service.  \\n* `--enable-cloud-print-proxy` \u2297 \\tThis applies only when the process type is \\"service\\". Enables the Cloud Print Proxy component within the service process.  \\n* `--enable-consumer-kiosk` \u2297 \\tEnables consumer kiosk mode for Chrome OS.  \\n* `--enable-crash-reporter` \u2297 \\tEnable crash reporter for headless.  \\n* `--enable-crash-reporter-for-testing[14]` \u2297 \\tUsed for turning on Breakpad crash reporting in a debug environment where crash reporting is typically compiled but disabled.  \\n* `--enable-cros-action-recorder` \u2297 \\tIf set, the CrOSActionRecorder will be enabled which will record some user actions on device.  \\n* `--enable-crx-hash-check` \u2297 \\tEnable package hash check: the .crx file sha256 hash sum should be equal to the one received from update manifest.  \\n* `--enable-data-reduction-proxy-bypass-warning` \u2297 \\tEnable the data reduction proxy bypass warning.  \\n* `--enable-data-reduction-proxy-force-pingback` \u2297 \\tEnables sending a pageload metrics pingback after every page load.  \\n* `--enable-data-reduction-proxy-savings-promo` \u2297 \\tEnables a 1 MB savings promo for the data reduction proxy.  \\n* `--enable-dawn-backend-validation` \u2297 \\tEnable validation layers in Dawn backends.  \\n* `--enable-de-jelly` \u2297 \\tExperimental de-jelly support.  \\n* `--enable-defer-all-script-without-optimization-hints` \u2297 \\tAllows defer script preview on all https pages even if optimization hints are missing for that webpage.  \\n* `--enable-device-discovery-notifications` \u2297 \\tEnable device discovery notifications.  \\n* `--enable-dim-shelf` \u2297 \\tEnables Shelf Dimming for ChromeOS.  \\n* `--enable-direct-composition-video-overlays` \u2297 \\tEnables using DirectComposition video overlays, even if hardware overlays aren\'t supported.  \\n* `--enable-distillability-service` \u2297 \\tNo description  \\n* `--enable-dom-distiller` \u2297 \\tNo description  \\n* `--enable-domain-reliability` \u2297 \\tEnables Domain Reliability Monitoring.  \\n* `--enable-encryption-migration` \u2297 \\tEnables encryption migration for user\'s cryptohome to run latest Arc.  \\n* `--enable-encryption-selection[9]` \u2297 \\tEnables the feature of allowing the user to disable the backend via a setting.  \\n* `--enable-enterprise-policy` \u2297 \\tEnables enterprise policy support.  \\n* `--enable-exclusive-audio[1]` \u2297 \\tUse exclusive mode audio streaming for Windows Vista and higher. Leads to lower latencies for audio streams which uses the AudioParameters::AUDIO_PCM_LOW_LATENCY audio path. See http://msdn.microsoft.com/en-us/library/windows/desktop/dd370844.aspx for details.  \\n* `--enable-experimental-accessibility-autoclick` \u2297 \\tShows additional automatic click features that haven\'t launched yet.  \\n* `--enable-experimental-accessibility-chromevox-annotations` \u2297 \\tEnables annotations feature that hasn\'t launched yet.  \\n* `--enable-experimental-accessibility-chromevox-tutorial` \u2297 \\tEnables interactive tutorial for ChromeVox.  \\n* `--enable-experimental-accessibility-labels-debugging` \u2297 \\tEnables support for visually debugging the accessibility labels feature, which provides images descriptions for screen reader users.  \\n* `--enable-experimental-accessibility-language-detection` \u2297 \\tEnables language detection on in-page text content which is then exposed to assistive technology such as screen readers.  \\n* `--enable-experimental-accessibility-language-detection-dynamic` \u2297 \\tEnables language detection for dynamic content which is then exposed to assistive technology such as screen readers.  \\n* `--enable-experimental-accessibility-switch-access` \u2297 \\tShows setting to enable Switch Access before it has launched.  \\n* `--enable-experimental-accessibility-switch-access-text` \u2297 \\tEnables in progress Switch Access features for text input.  \\n* `--enable-experimental-cookie-features` \u2297 \\tFlag that turns on a group of experimental/newly added cookie-related features together, as a convenience for e.g. testing, to avoid having to set multiple switches individually which may be error-prone (not to mention tedious). There is not a corresponding switch to disable all these features, because that is discouraged, and for testing purposes you\'d need to switch them off individually to identify the problematic feature anyway. At present this turns on: net::features::kCookiesWithoutSameSiteMustBeSecure net::features::kSameSiteByDefaultCookies net::features::kSameSiteDefaultChecksMethodRigorously It will soon also turn on: content_settings::kImprovedCookieControls content_settings::kImprovedCookieControlsForThirdPartyCookieBlocking net::features::kSchemefulSameSite  \\n* `--enable-experimental-extension-apis` \u2297 \\tEnables extension APIs that are in development.  \\n* `--enable-experimental-ui-automation[1]` \u2297 \\tEnables UI Automation platform API in addition to the IAccessible API.  \\n* `--enable-experimental-web-platform-features` \u2297 \\tEnables Web Platform features that are in development.  \\n* `--enable-experimental-webassembly-features` \u2297 \\tEnables experimental WebAssembly features.  \\n* `--enable-extension-activity-log-testing` \u2297 \\tNo description  \\n* `--enable-extension-activity-logging` \u2297 \\tEnables logging for extension activity.  \\n* `--enable-extension-assets-sharing` \u2297 \\tEnables sharing assets for installed default apps.  \\n* `--enable-features` \u2297 \\tComma-separated list of feature names to enable. See also kDisableFeatures.  \\n* `--enable-font-antialiasing` \u2297 \\tEnable font antialiasing for pixel tests.  \\n* `--enable-ftp` \u2297 \\tEnables support for FTP URLs. See https://crbug.com/333943.  \\n* `--enable-gamepad-button-axis-events` \u2297 \\tEnables gamepadbuttondown, gamepadbuttonup, gamepadbuttonchange, gamepadaxismove non-standard gamepad events.  \\n* `--enable-gpu-benchmarking` \u2297 \\tEnables the GPU benchmarking extension  \\n* `--enable-gpu-blocked-time` \u2297 \\tEnables measures of how long GPU Main Thread was blocked between SwapBuffers  \\n* `--enable-gpu-client-logging` \u2297 \\tEnable GPU client logging.  \\n* `--enable-gpu-client-tracing` \u2297 \\tEnables TRACE for GL calls in the renderer.  \\n* `--enable-gpu-command-logging` \u2297 \\tTurn on Logging GPU commands.  \\n* `--enable-gpu-debugging` \u2297 \\tTurn on Calling GL Error after every command.  \\n* `--enable-gpu-driver-debug-logging` \u2297 \\tEnable logging of GPU driver debug messages.  \\n* `--enable-gpu-memory-buffer-compositor-resources` \u2297 \\tSpecify that all compositor resources should be backed by GPU memory buffers.  \\n* `--enable-gpu-memory-buffer-video-frames` \u2297 \\tEnable GpuMemoryBuffer backed VideoFrames.  \\n* `--enable-gpu-rasterization` \u2297 \\tAllow heuristics to determine when a layer tile should be drawn with the Skia GPU backend. Only valid with GPU accelerated compositing.  \\n* `--enable-gpu-service-logging` \u2297 \\tTurns on GPU logging (debug build only).  \\n* `--enable-gpu-service-tracing` \u2297 \\tTurns on calling TRACE for every GL call.  \\n* `--enable-hardware-overlays` \u2297 \\tEnable compositing individual elements via hardware overlays when permitted by device. Setting the flag to \\"single-fullscreen\\" will try to promote a single fullscreen overlay and use it as main framebuffer where possible.  \\n* `--enable-hosted-app-quit-notification[6]` \u2297 \\tShows a notification when quitting Chrome with hosted apps running. Default behavior is to also quit all hosted apps.  \\n* `--enable-houdini` \u2297 \\tEnables the use of 32-bit Houdini library for ARM binary translation.  \\n* `--enable-houdini64` \u2297 \\tEnables the use of 64-bit Houdini library for ARM binary translation.  \\n* `--enable-hung-renderer-infobar[7]` \u2297 \\tEnables a hung renderer InfoBar allowing the user to close or wait on unresponsive web content.  \\n* `--enable-idle-tracing[7]` \u2297 \\tAdds additional thread idle time information into the trace event output.  \\n* `--enable-input` \u2297 \\tEnables input event handling by the window manager.  \\n* `--enable-ios-handoff-to-other-devices` \u2297 \\tEnables support for Handoff from Chrome on iOS to the default browser of other Apple devices.  \\n* `--enable-lcd-text` \u2297 \\tEnables LCD text.  \\n* `--enable-leak-detection` \u2297 \\tEnables the leak detection of loading webpages. This allows us to check whether or not reloading a webpage releases web-related objects correctly.  \\n* `--enable-local-file-accesses` \u2297 \\tEnable file accesses. It should not be enabled for most Cast devices.  \\n* `--enable-local-sync-backend` \u2297 \\tEnabled the local sync backend implemented by the LoopbackServer.  \\n* `--enable-logging` \u2297 \\tControls whether console logging is enabled and optionally configures where it\'s routed.  \\n* `--enable-longpress-drag-selection[7]` \u2297 \\tEnable drag manipulation of longpress-triggered text selections.  \\n* `--enable-low-end-device-mode` \u2297 \\tForce low-end device mode when set.  \\n* `--enable-low-res-tiling` \u2297 \\tWhen using CPU rasterizing generate low resolution tiling. Low res tiles may be displayed during fast scrolls especially on slower devices.  \\n* `--enable-main-frame-before-activation` \u2297 \\tEnables sending the next BeginMainFrame before the previous commit activates.  \\n* `--enable-nacl` \u2297 \\tRuns the Native Client inside the renderer process and enables GPU plugin (internally adds lEnableGpuPlugin to the command line).  \\n* `--enable-nacl-debug` \u2297 \\tEnables debugging via RSP over a socket.  \\n* `--enable-nacl-nonsfi-mode` \u2297 \\tEnables Non-SFI mode, in which programs can be run without NaCl\'s SFI sandbox.  \\n* `--enable-native-gpu-memory-buffers` \u2297 \\tEnable native CPU-mappable GPU memory buffer support on Linux.  \\n* `--enable-natural-scroll-default` \u2297 \\tEnables natural scroll by default.  \\n* `--enable-ndk-translation` \u2297 \\tEnables the use of 32-bit NDK translation library for ARM binary translation.  \\n* `--enable-ndk-translation64` \u2297 \\tEnables the use of 64-bit NDK translation library for ARM binary translation.  \\n* `--enable-net-benchmarking` \u2297 \\tEnables the network-related benchmarking extensions.  \\n* `--enable-network-information-downlink-max` \u2297 \\tEnables the type, downlinkMax attributes of the NetInfo API. Also, enables triggering of change attribute of the NetInfo API when there is a change in the connection type.  \\n* `--enable-new-app-menu-icon[15]` \u2297 \\tNo description  \\n* `--enable-ntp-search-engine-country-detection` \u2297 \\tEnables using the default search engine country to show country specific popular sites on the NTP.  \\n* `--enable-offer-store-unmasked-wallet-cards` \u2297 \\tForce showing the local save checkbox in the autofill dialog box for getting the full credit card number for a wallet card.  \\n* `--enable-oop-rasterization` \u2297 \\tTurns on out of process raster for the renderer whenever gpu raster would have been used. Enables the chromium_raster_transport extension.  \\n* `--enable-pepper-testing` \u2297 \\tEnables the testing interface for PPAPI.  \\n* `--enable-pixel-output-in-tests` \u2297 \\tForces tests to produce pixel output when they normally wouldn\'t.  \\n* `--enable-plugin-placeholder-testing` \u2297 \\tEnables testing features of the Plugin Placeholder. For internal use only.  \\n* `--enable-potentially-annoying-security-features` \u2297 \\tEnables a number of potentially annoying security features (strict mixed content mode, powerful feature restrictions, etc.)  \\n* `--enable-precise-memory-info` \u2297 \\tMake the values returned to window.performance.memory more granular and more up to date in shared worker. Without this flag, the memory information is still available, but it is bucketized and updated less frequently. This flag also applys to workers.  \\n* `--enable-prefer-compositing-to-lcd-text` \u2297 \\tEnable the creation of compositing layers when it would prevent LCD text.  \\n* `--enable-profile-shortcut-manager[1]` \u2297 \\tForce-enables the profile shortcut manager. This is needed for tests since they use a custom-user-data-dir which disables this.  \\n* `--enable-protected-video-buffers[16]` \u2297 \\tEnables protected buffers for encrypted video streams.  \\n* `--enable-reached-code-profiler[7]` \u2297 \\tEnables the reached code profiler that samples all threads in all processes to determine which functions are almost never executed.  \\n* `--enable-reporting[17]` \u2297 \\tEnables metrics and crash reporting.  \\n* `--enable-request-tablet-site` \u2297 \\tEnables request of tablet site (via user agent override).  \\n* `--enable-rgba-4444-textures` \u2297 \\tEnables RGBA_4444 textures.  \\n* `--enable-sandbox-logging[6]` \u2297 \\tCause the OS X sandbox write to syslog every time an access to a resource is denied by the sandbox.  \\n* `--enable-service-binary-launcher` \u2297 \\tIf true the ServiceProcessLauncher is used to launch services. This allows for service binaries to be loaded rather than using the utility process. This is only useful for tests.  \\n* `--enable-service-manager-tracing` \u2297 \\tEnable the tracing service.  \\n* `--enable-sgi-video-sync` \u2297 \\tEnable use of the SGI_video_sync extension, which can have driver/sandbox/window manager compatibility issues.  \\n* `--enable-skia-benchmarking` \u2297 \\tEnables the Skia benchmarking extension.  \\n* `--enable-smooth-scrolling` \u2297 \\tOn platforms that support it, enables smooth scroll animation.  \\n* `--enable-spatial-navigation` \u2297 \\tEnable spatial navigation  \\n* `--enable-spdy-proxy-auth` \u2297 \\tEnable the data reduction proxy.  \\n* `--enable-speech-dispatcher[17]` \u2297 \\tAllows sending text-to-speech requests to speech-dispatcher, a common Linux speech service. Because it\'s buggy, the user must explicitly enable it so that visiting a random webpage can\'t cause instability.  \\n* `--enable-spotlight-actions` \u2297 \\tEnables the Spotlight actions.  \\n* `--enable-stats-collection-bindings` \u2297 \\tSpecifies if the |StatsCollectionController| needs to be bound in the renderer. This binding happens on per-frame basis and hence can potentially be a performance bottleneck. One should only enable it when running a test that needs to access the provided statistics.  \\n* `--enable-strict-mixed-content-checking` \u2297 \\tBlocks all insecure requests from secure contexts, and prevents the user from overriding that decision.  \\n* `--enable-strict-powerful-feature-restrictions` \u2297 \\tBlocks insecure usage of a number of powerful features (device orientation, for example) that we haven\'t yet deprecated for the web at large.  \\n* `--enable-swap-buffers-with-bounds` \u2297 \\tEnables SwapBuffersWithBounds if it is supported.  \\n* `--enable-switch-access-point-scanning` \u2297 \\tEnables Switch Access point scanning. This feature hasn\'t launched yet.  \\n* `--enable-tablet-form-factor` \u2297 \\tEnables tablet form factor.  \\n* `--enable-third-party-keyboard-workaround` \u2297 \\tEnables the 3rd party keyboard omnibox workaround.  \\n* `--enable-thread-instruction-count[10]` \u2297 \\tControls whether or not retired instruction counts are surfaced for threads in trace events on Linux. This flag requires the BPF sandbox to be disabled.  \\n* `--enable-threaded-compositing` \u2297 \\tEnabled threaded compositing for web tests.  \\n* `--enable-threaded-texture-mailboxes` \u2297 \\tSimulates shared textures when share groups are not available. Not available everywhere.  \\n* `--enable-top-drag-gesture` \u2297 \\tWhether to enable detection and dispatch of a \'drag from the top\' gesture.  \\n* `--enable-touch-calibration-setting` \u2297 \\tEnables the touch calibration option in MD settings UI for valid touch displays.  \\n* `--enable-touch-drag-drop` \u2297 \\tEnables touch event based drag and drop.  \\n* `--enable-touchpad-three-finger-click` \u2297 \\tEnables touchpad three-finger-click as middle button.  \\n* `--enable-touchview` \u2297 \\tIf the flag is present, it indicates 1) the device has accelerometer and 2) the device is a convertible device or a tablet device (thus is capable of entering tablet mode). If this flag is not set, then the device is not capable of entering tablet mode. For example, Samus has accelerometer, but is not a covertible or tablet, thus doesn\'t have this flag set, thus can\'t enter tablet mode.  \\n* `--enable-trace-app-source` \u2297 \\tPass launch source to platform apps.  \\n* `--enable-tracing` \u2297 \\tEnable tracing during the execution of browser tests.  \\n* `--enable-tracing-output` \u2297 \\tThe filename to write the output of the test tracing to.  \\n* `--enable-ui-devtools` \u2297 \\tEnables DevTools server for UI (mus, ash, etc). Value should be the port the server is started on. Default port is 9223.  \\n* `--enable-unsafe-webgpu` \u2297 \\tNo description  \\n* `--enable-use-zoom-for-dsf` \u2297 \\tEnable the mode that uses zooming to implment device scale factor behavior.  \\n* `--enable-user-metrics[6]` \u2297 \\tEnable user metrics from within the installer.  \\n* `--enable-usermedia-screen-capturing` \u2297 \\tEnable screen capturing support for MediaStream API.  \\n* `--enable-viewport` \u2297 \\tEnables the use of the @viewport CSS rule, which allows pages to control aspects of their own layout. This also turns on touch-screen pinch gestures.  \\n* `--enable-virtual-keyboard` \u2297 \\tNo description  \\n* `--enable-viz-devtools` \u2297 \\tEnables inspecting Viz Display Compositor objects. Default port is 9229. For local inspection use chrome://inspect#other  \\n* `--enable-viz-hit-test-debug` \u2297 \\tEnables hit-test debug logging.  \\n* `--enable-vtune-support` \u2297 \\tEnable the Vtune profiler support.  \\n* `--enable-wayland-ime` \u2297 \\tTry to enable wayland input method editor.  \\n* `--enable-wayland-server` \u2297 \\tEnable the wayland server.  \\n* `--enable-web-auth-deprecated-mojo-testing-api` \u2297 \\tEnable the WebAuthn Mojo Testing API. This is a way to interact with the virtual authenticator environment through a mojo interface and is supported only to run web-platform-tests on content shell. Removal of this deprecated API is blocked on crbug.com/937369.  \\n* `--enable-webgl-draft-extensions` \u2297 \\tEnables WebGL extensions not yet approved by the community.  \\n* `--enable-webgl-image-chromium` \u2297 \\tEnables WebGL rendering into a scanout buffer for overlay support.  \\n* `--enable-webgl2-compute-context` \u2297 \\tEnable WebGL2 Compute context.  \\n* `--enable-webrtc-srtp-aes-gcm` \u2297 \\tEnables negotiation of GCM cipher suites from RFC 7714 for SRTP in WebRTC. See https://tools.ietf.org/html/rfc7714 for further information.  \\n* `--enable-webrtc-srtp-encrypted-headers` \u2297 \\tEnables negotiation of encrypted header extensions from RFC 6904 for SRTP in WebRTC. See https://tools.ietf.org/html/rfc6904 for further information. TODO(https://crbug.com/954201): Remove this.  \\n* `--enable-webrtc-stun-origin` \u2297 \\tEnables Origin header in Stun messages for WebRTC.  \\n* `--enable-widevine` \u2297 \\tNo description  \\n* `--enable-win7-webrtc-hw-h264-decoding[1]` \u2297 \\tEnables H264 HW decode acceleration for WebRtc on Win 7.  \\n* `--enable-zero-copy` \u2297 \\tEnable rasterizer that writes directly to GPU memory associated with tiles.  \\n* `--enabled` \u2297 \\tNo description  \\n* `--encode-binary` \u2297 \\tEncode binary web test results (images, audio) using base64.  \\n* `--enforce` \u2297 \\tNo description  \\n* `--enforce-gl-minimums` \u2297 \\tEnforce GL minimums.  \\n* `--enforce-vulkan-protected-memory` \u2297 \\tForces to use protected memory for vulkan compositing.  \\n* `--enforce-webrtc-ip-permission-check` \u2297 \\tEnforce IP Permission check. TODO(guoweis): Remove this once the feature is not under finch and becomes the default.  \\n* `--enforce_strict` \u2297 \\tNo description  \\n* `--ensure-forced-color-profile` \u2297 \\tCrash the browser at startup if the display\'s color profile does not match the forced color profile. This is necessary on Mac because Chrome\'s pixel output is always subject to the color conversion performed by the operating system. On all other platforms, this is a no-op.  \\n* `--enterprise-disable-arc` \u2297 \\tDisables ARC for managed accounts.  \\n* `--enterprise-enable-forced-re-enrollment` \u2297 \\tWhether to enable forced enterprise re-enrollment.  \\n* `--enterprise-enable-initial-enrollment` \u2297 \\tWhether to enable initial enterprise enrollment.  \\n* `--enterprise-enable-psm` \u2297 \\tWhether to enable private set membership queries.  \\n* `--enterprise-enable-zero-touch-enrollment` \u2297 \\tEnables the zero-touch enterprise enrollment flow.  \\n* `--enterprise-enrollment-initial-modulus` \u2297 \\tPower of the power-of-2 initial modulus that will be used by the auto-enrollment client. E.g. \\"4\\" means the modulus will be 2^4 = 16.  \\n* `--enterprise-enrollment-modulus-limit` \u2297 \\tPower of the power-of-2 maximum modulus that will be used by the auto-enrollment client.  \\n* `--evaluate-type` \u2297 \\tNo description  \\n* `--evaluate_capability` \u2297 \\tNo description  \\n* `--explicitly-allowed-ports` \u2297 \\tAllows overriding the list of restricted ports by passing a comma-separated list of port numbers.  \\n* `--export-tagged-pdf` \u2297 \\tIf enabled, generate a tagged (accessible) file when printing to PDF. The plan is for this to go away once tagged PDFs become the default. See https://crbug.com/607777  \\n* `--expose-internals-for-testing` \u2297 \\tExposes the window.internals object to JavaScript for interactive development and debugging of web tests that rely on it.  \\n* `--extension-content-verification` \u2297 \\tName of the command line flag to force content verification to be on in one of various modes.  \\n* `--extension-process` \u2297 \\tMarks a renderer as extension process.  \\n* `--extension-updater-test-request` \u2297 \\tNo description  \\n* `--extensions-install-verification` \u2297 \\tTurns on extension install verification if it would not otherwise have been turned on.  \\n* `--extensions-not-webstore` \u2297 \\tSpecifies a comma-separated list of extension ids that should be forced to be treated as not from the webstore when doing install verification.  \\n* `--extensions-on-chrome-urls` \u2297 \\tEnables extensions running scripts on chrome:// URLs. Extensions still need to explicitly request access to chrome:// URLs in the manifest.  \\n* `--external-metrics-collection-interval` \u2297 \\tInterval in seconds between Chrome reading external metrics from /var/lib/metrics/uma-events.  \\n* `--extra-search-query-params` \u2297 \\tAdditional query params to insert in the search and instant URLs. Useful for testing.  \\n* `--fail-audio-stream-creation` \u2297 \\tCauses the AudioManager to fail creating audio streams. Used when testing various failure cases.  \\n* `--fake-drivefs-launcher-chroot-path` \u2297 \\tAn absolute path to the chroot hosting the DriveFS to use. This is only used when running on Linux, i.e. when IsRunningOnChromeOS() returns false.  \\n* `--fake-drivefs-launcher-socket-path` \u2297 \\tA relative path to socket to communicat with the fake DriveFS launcher within the chroot specified by kFakeDriveFsLauncherChrootPath. This is only used when running on Linux, i.e. when IsRunningOnChromeOS() returns false.  \\n* `--fake-oobe-configuration-file` \u2297 \\tPath to a OOBE configuration JSON file (used by FakeOobeConfigurationClient).  \\n* `--fake-variations-channel` \u2297 \\tFakes the channel of the browser for purposes of Variations filtering. This is to be used for testing only. Possible values are \\"stable\\", \\"beta\\", \\"dev\\" and \\"canary\\". This works for official builds as well.  \\n* `--false` \u2297 \\tValue indicating whether flag from command line switch is false.  \\n* `--feedback-server` \u2297 \\tAlternative feedback server to use when submitting user feedback  \\n* `--field-trial-handle` \u2297 \\tHandle to the shared memory segment containing field trial state that is to be shared between processes. The argument to this switch is the handle id (pointer on Windows) as a string, followed by a comma, then the size of the shared memory segment as a string.  \\n* `--file-url-path-alias` \u2297 \\tDefine an alias root directory which is replaced with the replacement string in file URLs. The format is \\"/alias=/replacement\\", which would turn file:///alias/some/path.html into file:///replacement/some/path.html.  \\n* `--file_chooser` \u2297 \\tNo description  \\n* `--finch-seed-expiration-age` \u2297 \\tThe length of time in seconds that an app\'s copy of the variations seed should be considered fresh. If an app\'s seed is older than this, a new seed will be requested from WebView\'s IVariationsSeedServer.  \\n* `--finch-seed-ignore-pending-download` \u2297 \\tForces WebView\'s service to always schedule a new variations seed download job, even if one is already pending.  \\n* `--finch-seed-min-download-period` \u2297 \\tThe minimum amount of time in seconds that WebView\'s service will wait between two variations seed downloads from the variations server.  \\n* `--finch-seed-min-update-period` \u2297 \\tThe minimum amount of time in seconds that the embedded WebView implementation will wait between two requests to WebView\'s service for a new variations seed.  \\n* `--fingerprint-sensor-location` \u2297 \\tFingerprint sensor location indicates the physical sensor\'s location. The value is a string with possible values: \\"power-button-top-left\\", \\"keyboard-bottom-left\\", keyboard-bottom-right\\", \\"keyboard-top-right\\".  \\n* `--first-exec-after-boot` \u2297 \\tPassed to Chrome the first time that it\'s run after the system boots. Not passed on restart after sign out.  \\n* `--flag-switches-begin` \u2297 \\tThese two flags are added around the switches about:flags adds to the command line. This is useful to see which switches were added by about:flags on about:version. They don\'t have any effect.  \\n* `--flag-switches-end` \u2297 \\tNo description  \\n* `--font-cache-shared-handle[1]` \u2297 \\tDirectWrite FontCache is shared by browser to renderers using shared memory. This switch allows us to pass the shared memory handle to the renderer.  \\n* `--font-render-hinting` \u2297 \\tSets font render hinting when running headless, affects Skia rendering and whether glyph subpixel positioning is enabled. Possible values: none|slight|medium|full|max. Default: full.  \\n* `--force-app-mode` \u2297 \\tForces application mode. This hides certain system UI elements and forces the app to be installed if it hasn\'t been already.  \\n* `--force-caption-style` \u2297 \\tForces the caption style for WebVTT captions.  \\n* `--force-cert-verifier-builtin` \u2297 \\tForces Chrome to use CertVerifyProcBuiltin for verification of server certificates, ignoring the status of net::features::kCertVerifierBuiltinFeature.  \\n* `--force-color-profile` \u2297 \\tForce all monitors to be treated as though they have the specified color profile. Accepted values are \\"srgb\\" and \\"generic-rgb\\" (currently used by Mac layout tests) and \\"color-spin-gamma24\\" (used by layout tests).  \\n* `--force-dark-mode` \u2297 \\tForces dark mode in UI for platforms that support it.  \\n* `--force-dev-mode-highlighting` \u2297 \\tWhether to force developer mode extensions highlighting.  \\n* `--force-device-scale-factor` \u2297 \\tOverrides the device scale factor for the browser UI and the contents.  \\n* `--force-devtools-available` \u2297 \\tForces developer tools availability, no matter what values the enterprise policies DeveloperToolsDisabled and DeveloperToolsAvailability are set to.  \\n* `--force-disable-variation-ids` \u2297 \\tForces to remove Chrome Variation Ids from being sent in X-Client-Data header, specified as a 64-bit encoded list of numeric experiment ids. Ids prefixed with the character \\"t\\" will be treated as Trigger Variation Ids.  \\n* `--force-effective-connection-type` \u2297 \\tForces Network Quality Estimator (NQE) to return a specific effective connection type.  \\n* `--force-empty-corb-allowlist` \u2297 \\tWhether |extensions_features::kBypassCorbAllowlistParamName| should always be empty (i.e. ignoring hardcoded allowlist and the field trial param). This switch is useful for manually verifying if an extension would continue to work fine after removing it from the allowlist.  \\n* `--force-enable-lite-pages` \u2297 \\tForce enable all available previews on every page load.  \\n* `--force-enable-metrics-reporting` \u2297 \\tForces metrics reporting to be enabled.  \\n* `--force-enable-night-mode[7]` \u2297 \\tForces the night mode to be enabled.  \\n* `--force-enable-stylus-tools` \u2297 \\tEnables the stylus tools next to the status area.  \\n* `--force-fieldtrial-params` \u2297 \\tThis option can be used to force parameters of field trials when testing changes locally. The argument is a param list of (key, value) pairs prefixed by an associated (trial, group) pair. You specify the param list for multiple (trial, group) pairs with a comma separator. Example: \\"Trial1.Group1:k1/v1/k2/v2,Trial2.Group2:k3/v3/k4/v4\\" Trial names, groups names, parameter names, and value should all be URL escaped for all non-alphanumeric characters.  \\n* `--force-fieldtrials` \u2297 \\tThis option can be used to force field trials when testing changes locally. The argument is a list of name and value pairs, separated by slashes. If a trial name is prefixed with an asterisk, that trial will start activated. For example, the following argument defines two trials, with the second one activated: \\"GoogleNow/Enable/*MaterialDesignNTP/Default/\\" This option can also be used by the browser process to send the list of trials to a non-browser process, using the same format. See FieldTrialList::CreateTrialsFromString() in field_trial.h for details.  \\n* `--force-first-run` \u2297 \\tDisplays the First Run experience when the browser is started, regardless of whether or not it\'s actually the First Run (this overrides kNoFirstRun).  \\n* `--force-first-run-ui` \u2297 \\tForces first-run UI to be shown for every login.  \\n* `--force-gpu-mem-available-mb` \u2297 \\tSets the total amount of memory that may be allocated for GPU resources  \\n* `--force-gpu-mem-discardable-limit-mb` \u2297 \\tSets the maximum GPU memory to use for discardable caches.  \\n* `--force-happiness-tracking-system` \u2297 \\tForce enables the Happiness Tracking System for the device. This ignores user profile check and time limits and shows the notification every time for any type of user. Should be used only for testing.  \\n* `--force-high-contrast` \u2297 \\tForces high-contrast mode in native UI drawing, regardless of system settings. Note that this has limited effect on Windows: only Aura colors will be switched to high contrast, not other system colors.  \\n* `--force-hwid-check-failure-for-test` \u2297 \\tForces Hardware ID check (happens during OOBE) to fail. Should be used only for testing.  \\n* `--force-legacy-default-referrer-policy` \u2297 \\tPins the default referrer policy to the pre-M80 value of no-referrer-when-downgrade. TODO(crbug.com/1016541): After M82, remove when the corresponding enterprise policy has been deleted.  \\n* `--force-login-manager-in-tests` \u2297 \\tUsually in browser tests the usual login manager bringup is skipped so that tests can change how it\'s brought up. This flag disables that.  \\n* `--force-logs-upload-failure` \u2297 \\tForce a logs upload failure to help test the logs upload retry.  \\n* `--force-max-texture-size` \u2297 \\tSets the maximum texture size in pixels.  \\n* `--force-media-resolution-height` \u2297 \\tWhen present overrides the screen resolution used by CanDisplayType API, instead of using the values obtained from avsettings.  \\n* `--force-media-resolution-width` \u2297 \\tNo description  \\n* `--force-overlay-fullscreen-video` \u2297 \\tForces use of hardware overlay for fullscreen video playback. Useful for testing the Android overlay fullscreen functionality on other platforms.  \\n* `--force-pnacl-subzero` \u2297 \\tForce use of the Subzero as the PNaCl translator instead of LLC.  \\n* `--force-prefers-reduced-motion` \u2297 \\tForces whether the user desires reduced motion, regardless of system settings.  \\n* `--force-presentation-receiver-for-testing` \u2297 \\tThis forces pages to be loaded as presentation receivers. Useful for testing behavior specific to presentation receivers. Spec: https://www.w3.org/TR/presentation-api/#interface-presentationreceiver  \\n* `--force-protected-video-output-buffers[16]` \u2297 \\tForces protected memory for all output video buffers generated by FuchsiaVideoDecoder, including unencrypted streams. Ignored unless --enable-protected-video-buffers is also specified.  \\n* `--force-raster-color-profile` \u2297 \\tForce rastering to take place in the specified color profile. Accepted values are the same as for the kForceDisplayColorProfile case above.  \\n* `--force-recovery-component` \u2297 \\tForce the recovery component, when running an unofficial build. This only applies to the cleaner, not the reporter.  \\n* `--force-renderer-accessibility` \u2297 \\tForce renderer accessibility to be on instead of enabling it on demand when a screen reader is detected. The disable-renderer-accessibility switch overrides this if present.  \\n* `--force-self-delete` \u2297 \\tForce self-deletion even on non-official builds.  \\n* `--force-show-update-menu-badge[7]` \u2297 \\tForces the update menu badge to show.  \\n* `--force-stacked-tab-strip-layout` \u2297 \\tForces Chrome to use a stacked tab strip layout.  \\n* `--force-status-area-collapsible` \u2297 \\tForces the status area to allow collapse/expand regardless of the current state.  \\n* `--force-system-compositor-mode` \u2297 \\tForce system compositor mode when set.  \\n* `--force-tablet-mode` \u2297 \\tEnables required things for the selected UI mode, regardless of whether the Chromebook is currently in the selected UI mode.  \\n* `--force-tablet-power-button` \u2297 \\tIf set, tablet-like power button behavior (i.e. tapping the button turns the screen off) is used even if the device is in laptop mode.  \\n* `--force-text-direction` \u2297 \\tForce the text rendering to a specific direction. Valid values are \\"ltr\\" (left-to-right) and \\"rtl\\" (right-to-left). Only tested meaningfully with RTL.  \\n* `--force-ui-direction` \u2297 \\tForce the UI to a specific direction. Valid values are \\"ltr\\" (left-to-right) and \\"rtl\\" (right-to-left).  \\n* `--force-update-menu-type[7]` \u2297 \\tForces the update menu type to a specific type.  \\n* `--force-update-remote-url` \u2297 \\tPer-product customization of force update UI remote url, also used in testing.  \\n* `--force-variation-ids` \u2297 \\tForces additional Chrome Variation Ids that will be sent in X-Client-Data header, specified as a 64-bit encoded list of numeric experiment ids. Ids prefixed with the character \\"t\\" will be treated as Trigger Variation Ids.  \\n* `--force-video-overlays` \u2297 \\tForce media player using SurfaceView instead of SurfaceTexture on Android.  \\n* `--force-wave-audio[1]` \u2297 \\tUse Windows WaveOut/In audio API even if Core Audio is supported.  \\n* `--force-webrtc-ip-handling-policy` \u2297 \\tOverride WebRTC IP handling policy to mimic the behavior when WebRTC IP handling policy is specified in Preferences.  \\n* `--force-webxr-runtime` \u2297 \\tForcibly enable and select the specified runtime for webxr. Note that this provides an alternative means of enabling a runtime, and will also functionally disable all other runtimes.  \\n* `--frame-throttle-fps` \u2297 \\tSets the throttle fps for compositor frame submission.  \\n* `--full-memory-crash-report` \u2297 \\tGenerates full memory crash dump.  \\n* `--gaia-config` \u2297 \\tNo description  \\n* `--gaia-url` \u2297 \\tNo description  \\n* `--gamepad-polling-interval` \u2297 \\tOverrides the gamepad polling interval. Decreasing the interval improves input latency of buttons and axes but may negatively affect performance due to more CPU time spent in the input polling thread.  \\n* `--gcm-checkin-url` \u2297 \\tSets the checkin service endpoint that will be used for performing Google Cloud Messaging checkins.  \\n* `--gcm-mcs-endpoint` \u2297 \\tSets the Mobile Connection Server endpoint that will be used for Google Cloud Messaging.  \\n* `--gcm-registration-url` \u2297 \\tSets the registration endpoint that will be used for creating new Google Cloud Messaging registrations.  \\n* `--generate-accessibility-test-expectations` \u2297 \\tFor development / testing only. When running content_browsertests, saves output of failing accessibility tests to their expectations files in content/test/data/accessibility/, overwriting existing file content.  \\n* `--gl` \u2297 \\tNo description  \\n* `--gl-egl` \u2297 \\tNo description  \\n* `--gl-null` \u2297 \\tNo description  \\n* `--gl-shader-interm-output` \u2297 \\tInclude ANGLE\'s intermediate representation (AST) output in shader compilation info logs.  \\n* `--gles` \u2297 \\tNo description  \\n* `--gles-egl` \u2297 \\tNo description  \\n* `--gles-null` \u2297 \\tNo description  \\n* `--google-apis-url` \u2297 \\tNo description  \\n* `--google-base-url` \u2297 \\tSpecifies an alternate URL to use for speaking to Google. Useful for testing.  \\n* `--google-doodle-url` \u2297 \\tOverrides the URL used to fetch the current Google Doodle. Example: https://www.google.com/async/ddljson Testing? Try: https://www.gstatic.com/chrome/ntp/doodle_test/ddljson_android0.json https://www.gstatic.com/chrome/ntp/doodle_test/ddljson_android1.json https://www.gstatic.com/chrome/ntp/doodle_test/ddljson_android2.json https://www.gstatic.com/chrome/ntp/doodle_test/ddljson_android3.json https://www.gstatic.com/chrome/ntp/doodle_test/ddljson_android4.json  \\n* `--google-url` \u2297 \\tNo description  \\n* `--gpu` \u2297 \\tNo description  \\n* `--gpu-blocklist-test-group` \u2297 \\tSelect a different set of GPU blocklist entries with the specified test_group ID.  \\n* `--gpu-device-id` \u2297 \\tPasses the active graphics device id from browser process to info collection GPU process.  \\n* `--gpu-driver-bug-list-test-group` \u2297 \\tEnable an extra set of GPU driver bug list entries with the specified test_group ID. Note the default test group (group 0) is still active.  \\n* `--gpu-driver-version` \u2297 \\tPasses the active graphics driver version from browser process to info collection GPU process.  \\n* `--gpu-launcher` \u2297 \\tExtra command line options for launching the GPU process (normally used for debugging). Use like renderer-cmd-prefix.  \\n* `--gpu-no-context-lost` \u2297 \\tInform Chrome that a GPU context will not be lost in power saving mode, screen saving mode, etc. Note that this flag does not ensure that a GPU context will never be lost in any situations, say, a GPU reset.  \\n* `--gpu-preferences` \u2297 \\tPasses encoded GpuPreferences to GPU process.  \\n* `--gpu-process` \u2297 \\tFlags spied upon from other layers.  \\n* `--gpu-program-cache-size-kb` \u2297 \\tSets the maximum size of the in-memory gpu program cache, in kb  \\n* `--gpu-rasterization-msaa-sample-count` \u2297 \\tThe number of multisample antialiasing samples for GPU rasterization. Requires MSAA support on GPU to have an effect. 0 disables MSAA.  \\n* `--gpu-revision` \u2297 \\tPasses the active graphics revision info from browser process to info collection GPU process.  \\n* `--gpu-sandbox-allow-sysv-shm` \u2297 \\tAllows shmat() system call in the GPU sandbox.  \\n* `--gpu-sandbox-failures-fatal` \u2297 \\tMakes GPU sandbox failures fatal.  \\n* `--gpu-sandbox-start-early` \u2297 \\tStarts the GPU sandbox before creating a GL context.  \\n* `--gpu-startup-dialog` \u2297 \\tCauses the GPU process to display a dialog on launch.  \\n* `--gpu-sub-system-id` \u2297 \\tPasses the active graphics sub system id from browser process to info collection GPU process.  \\n* `--gpu-vendor-id` \u2297 \\tPasses the active graphics vendor id from browser process to info collection GPU process.  \\n* `--gpu2-startup-dialog[1]` \u2297 \\tCauses the second GPU process used for gpu info collection to display a dialog on launch.  \\n* `--graphics-buffer-count` \u2297 \\tNo description  \\n* `--guest[15]` \u2297 \\tCauses the browser to launch directly in guest mode.  \\n* `--guest-wallpaper-large` \u2297 \\tLarge wallpaper to use in guest mode (as path to trusted, non-user-writable JPEG file).  \\n* `--guest-wallpaper-small` \u2297 \\tSmall wallpaper to use in guest mode (as path to trusted, non-user-writable JPEG file).  \\n* `--h[9]` \u2297 \\tNo description  \\n* `--has-chromeos-keyboard` \u2297 \\tIf set, the system is a Chromebook with a \\"standard Chrome OS keyboard\\", which generally means one with a Search key in the standard Caps Lock location above the Left Shift key. It should be unset for Chromebooks with both Search and Caps Lock keys (e.g. stout) and for devices like Chromeboxes that only use external keyboards.  \\n* `--has-internal-stylus` \u2297 \\tWhether this device has an internal stylus.  \\n* `--headless` \u2297 \\tRun in headless mode, i.e., without a UI or display server dependencies.  \\n* `--help` \u2297 \\tNo description  \\n* `--hermes-fake` \u2297 \\tEnables Hermes fake behavior. By default, no carrier profiles are setup. If a value of \\"on\\" is passed for this switch, then hermes fakes are initialized with a single installed carrier profile. Fake cellular service corresponding to carrier profiles are also setup in Shill.  \\n* `--hide` \u2297 \\t\\"Hide\\" value for kCrosRegionsMode (VPD values are hidden).  \\n* `--hide-android-files-in-files-app` \u2297 \\tIf true, files in Android internal storage will be hidden in Files app.  \\n* `--hide-icons[1]` \u2297 \\tMakes Windows happy by allowing it to show \\"Enable access to this program\\" checkbox in Add/Remove Programs->Set Program Access and Defaults. This only shows an error box because the only way to hide Chrome is by uninstalling it.  \\n* `--hide-scrollbars` \u2297 \\tHide scrollbars from screenshots.  \\n* `--highlight-all-webviews` \u2297 \\tHighlight the contents (including web contents) of all WebViews with a yellow tint. This is useful for identifying WebViews in an Android application.  \\n* `--highlight-non-lcd-text-layers` \u2297 \\tHighlights layers that can\'t use lcd text. Layers containing no text won\'t be highlighted. See DebugColors::NonLCDTextHighlightColor() for the colors.  \\n* `--homedir` \u2297 \\tDefines user homedir. This defaults to primary user homedir.  \\n* `--homepage` \u2297 \\tSpecifies which page will be displayed in newly-opened tabs. We need this for testing purposes so that the UI tests don\'t depend on what comes up for http://google.com.  \\n* `--host` \u2297 \\tNo description  \\n* `--host-resolver-rules` \u2297 \\tThese mappings only apply to the host resolver.  \\n* `--https://chromemediarecommendations-pa.googleapis.com` \u2297 \\tNo description  \\n* `--icon_reader[1]` \u2297 \\tNo description  \\n* `--ignore-autocomplete-off-autofill` \u2297 \\tIgnores autocomplete=\\"off\\" for Autofill data (profiles + credit cards).  \\n* `--ignore-certificate-errors-spki-list` \u2297 \\tA set of public key hashes for which to ignore certificate-related errors. If the certificate chain presented by the server does not validate, and one or more certificates have public key hashes that match a key from this list, the error is ignored. The switch value must a be a comma-separated list of Base64-encoded SHA-256 SPKI Fingerprints (RFC 7469, Section 2.4). This switch has no effect unless --user-data-dir (as defined by the content embedder) is also present.  \\n* `--ignore-google-port-numbers` \u2297 \\tWhen set, this will ignore the PortPermission passed in the google_util.h methods and ignore the port numbers. This makes it easier to run tests for features that use these methods (directly or indirectly) with the EmbeddedTestServer, which is more representative of production.  \\n* `--ignore-gpu-blacklist` \u2297 \\tIgnores GPU blocklist. TODO(crbug.com/1101491): remove in 2020Q4 in favor of --ignore-gpu-blocklist.  \\n* `--ignore-gpu-blocklist` \u2297 \\tIgnores GPU blocklist.  \\n* `--ignore-previews-blacklist` \u2297 \\tIgnore decisions made by PreviewsBlockList. TODO(crbug.com/1092105) : Migrate this to ignore-previews-blacklist.  \\n* `--ignore-urlfetcher-cert-requests` \u2297 \\tCauses net::URLFetchers to ignore requests for SSL client certificates, causing them to attempt an unauthenticated SSL/TLS session. This is intended for use when testing various service URLs (eg: kPromoServerURL, kSbURLPrefix, kSyncServiceURL, etc).  \\n* `--ignore-user-profile-mapping-for-tests` \u2297 \\tIf true, profile selection in UserManager will always return active user\'s profile. TODO(nkostlyev): http://crbug.com/364604 - Get rid of this switch after we turn on multi-profile feature on ChromeOS.  \\n* `--ime[5]` \u2297 \\tNo description  \\n* `--in-process-gpu` \u2297 \\tRun the GPU process as a thread in the browser process.  \\n* `--incognito` \u2297 \\tNo description  \\n* `--init-done-notifier` \u2297 \\tThe handle of an event to signal when the initialization of the main process is complete (including loading all DLL\'s). This is used by the integration test to check that forbidden modules aren\'t loaded outside the sandbox. If this is set, the main process will signal the event and then wait for the integration test to signal it as well before continuing. Ignored in official builds.  \\n* `--initial-virtual-time` \u2297 \\tStart the renderer with an initial virtual time override specified in seconds since the epoch.  \\n* `--input` \u2297 \\tNo description  \\n* `--install-autogenerated-theme` \u2297 \\tInstalls an autogenerated theme based on the given RGB value. The format is \\"r,g,b\\", where r, g, b are a numeric values from 0 to 255.  \\n* `--install-chrome-app` \u2297 \\tCauses Chrome to initiate an installation flow for the given app.  \\n* `--install-managed-bookmarks-handler` \u2297 \\tInstalls the managed bookmarks policy handler.  \\n* `--install-supervised-user-whitelists` \u2297 \\tA list of whitelists to install for a supervised user, for testing. The list is of the following form: `<id>[:<name>],[<id>[:<name>],...]`  \\n* `--install-url-blocklist-handlers` \u2297 \\tInstalls the URLBlocklist and URLAllowlist handlers.  \\n* `--instant-process` \u2297 \\tMarks a renderer as an Instant process.  \\n* `--integration-test-timeout-minutes` \u2297 \\tSet the timeout for integration tests in minutes. 0 disables the timeout entirely.  \\n* `--ipc-connection-timeout` \u2297 \\tOverrides the timeout, in seconds, that a child process waits for a connection from the browser before killing itself.  \\n* `--ipc-dump-directory[18]` \u2297 \\tDumps IPC messages sent from renderer processes to the browser process to the given directory. Used primarily to gather samples for IPC fuzzing.  \\n* `--ipc-fuzzer-testcase[18]` \u2297 \\tSpecifies the testcase used by the IPC fuzzer.  \\n* `--isolate-origins` \u2297 \\tRequire dedicated processes for a set of origins, specified as a comma-separated list. For example: `--isolate-origins=https://www.foo.com,https://www.bar.com`  \\n* `--javascript-harmony` \u2297 \\tEnables experimental Harmony (ECMAScript 6) features.  \\n* `--js-flags` \u2297 \\tSpecifies the flags passed to JS engine.  \\n* `--kaleidoscope-backend-url` \u2297 \\tA command line switch for overriding the base URL of the API.  \\n* `--keep-alive-for-test` \u2297 \\tUsed for testing - keeps browser alive after last browser window closes.  \\n* `--kernelnext-restrict-vms` \u2297 \\tIf set, the Chrome settings will not expose the option to enable crostini unless the enable-experimental-kernel-vm-support flag is set in chrome://flags  \\n* `--kiosk` \u2297 \\tEnable kiosk mode. Please note this is not Chrome OS kiosk mode.  \\n* `--kiosk-printing` \u2297 \\tEnable automatically pressing the print button in print preview.  \\n* `--lacros-chrome-additional-args` \u2297 \\tIf this switch is set, then ash-chrome will pass additional arguments when launching lacros-chrome. The string \'####\' is used as a delimiter. Example: `--lacros-chrome-additional-args=\\"--foo=5####--bar=/tmp/dir name\\"`. Will result in two arguments passed to lacros-chrome: --foo=5 --bar=/tmp/dir name  \\n* `--lacros-chrome-path` \u2297 \\tIf this switch is set, then ash-chrome will exec the lacros-chrome binary from the indicated path rather than from component updater. Note that the path should be to a directory that contains a binary named \'chrome\'.  \\n* `--lang` \u2297 \\tThe language file that we want to try to open. Of the form `language[-country]` where language is the 2 letter code from ISO-639.  \\n* `--last-launched-app` \u2297 \\tPass the app id information to the renderer process, to be used for logging. last-launched-app should be the app that just launched and is spawning the renderer.  \\n* `--layer` \u2297 \\tNo description  \\n* `--light` \u2297 \\tNo description  \\n* `--lite-video-default-downlink-bandwidth-kbps` \u2297 \\tThe default downlink bandwidth estimate used for throttling media requests. Only used when forcing LiteVideos to be allowed.  \\n* `--lite-video-force-coinflip-holdback` \u2297 \\tForces the coinflip used for a counterfactual experiment to be true.  \\n* `--lite-video-force-override-decision` \u2297 \\tOverrides all the LiteVideo decision logic to allow it on every navigation. This causes LiteVideos to ignore the hints, user blocklist, and network condition.  \\n* `--lite-video-ignore-network-conditions` \u2297 \\tOverrides the network conditions checks for LiteVideos.  \\n* `--load-and-launch-app` \u2297 \\tLoads an app from the specified directory and launches it.  \\n* `--load-apps` \u2297 \\tComma-separated list of paths to apps to load at startup. The first app in the list will be launched.  \\n* `--load-empty-dll` \u2297 \\tAttempt to load empty-dll.dll whenever this flag is set. For testing DLL loading.  \\n* `--load-extension` \u2297 \\tComma-separated list of paths to extensions to load at startup.  \\n* `--load-media-router-component-extension` \u2297 \\tLoads the Media Router component extension on startup.  \\n* `--load-signin-profile-test-extension[5]` \u2297 \\tPath to the unpacked test extension to load into the signin profile. The ID extension loaded must match kTestSigninProfileExtensionId.  \\n* `--local-sync-backend-dir` \u2297 \\tSpecifies the local sync backend directory. The name is chosen to mimic user-data-dir etc. This flag only matters if the enable-local-sync-backend flag is present.  \\n* `--log-best-effort-tasks` \u2297 \\tLogs information about all tasks posted with TaskPriority::BEST_EFFORT. Use this to diagnose issues that are thought to be caused by TaskPriority::BEST_EFFORT execution fences. Note: Tasks posted to a non-BEST_EFFORT UpdateableSequencedTaskRunner whose priority is later lowered to BEST_EFFORT are not logged.  \\n* `--log-file` \u2297 \\tOverrides the default file name to use for general-purpose logging (does not affect which events are logged).  \\n* `--log-gpu-control-list-decisions` \u2297 \\tLogs GPU control list decisions when enforcing blacklist rules.  \\n* `--log-interface-calls-to` \u2297 \\tSpecifies a file to log all the interface calls of EngineRequestsImpl and CleanerEngineRequestsImpl.  \\n* `--log-level` \u2297 \\tSets the minimum log level. Valid values are from 0 to 3: INFO = 0, WARNING = 1, LOG_ERROR = 2, LOG_FATAL = 3.  \\n* `--log-net-log` \u2297 \\tEnables saving net log events to a file. If a value is given, it used as the path the the file, otherwise the file is named netlog.json and placed in the user data directory.  \\n* `--log-on-ui-double-background-blur[19]` \u2297 \\tChecks and logs double background blur as an error if any.  \\n* `--log-with-hash` \u2297 \\tLog user actions with action name hashed.  \\n* `--log-without-hash` \u2297 \\tLog user actions with action name unhashed.  \\n* `--login-manager` \u2297 \\tEnables Chrome-as-a-login-manager behavior.  \\n* `--login-profile` \u2297 \\tSpecifies the profile to use once a chromeos user is logged in. This parameter is ignored if user goes through login screen since user_id hash defines which profile directory to use. In case of browser restart within active session this parameter is used to pass user_id hash for primary user.  \\n* `--login-user` \u2297 \\tSpecifies the user which is already logged in.  \\n* `--logs-upload-retry-interval` \u2297 \\tSpecify the time to wait between logs upload retries, in minutes.  \\n* `--lso-url` \u2297 \\tNo description  \\n* `--ltr` \u2297 \\tNo description  \\n* `--main-frame-resizes-are-orientation-changes` \u2297 \\tResizes of the main frame are caused by changing between landscape and portrait mode (i.e. Android) so the page should be rescaled to fit.  \\n* `--make-chrome-default[6]` \u2297 \\tIndicates whether Chrome should be set as the default browser during installation.  \\n* `--make-default-browser` \u2297 \\tMakes Chrome default browser  \\n* `--managed-user-id` \u2297 \\tSets the supervised user ID for any loaded or newly created profile to the given value. Pass an empty string to mark the profile as non-supervised. Used for testing.  \\n* `--mangle-localized-strings` \u2297 \\tTransform localized strings to be longer, with beginning and end markers to make truncation visually apparent.  \\n* `--manual` \u2297 \\tNo description  \\n* `--market-url-for-testing[7]` \u2297 \\tSets the market URL for Chrome for use in testing.  \\n* `--marketing-opt-in-url` \u2297 \\tDetermines the URL to be used when calling the backend.  \\n* `--max-active-webgl-contexts` \u2297 \\tAllows user to override maximum number of active WebGL contexts per renderer process.  \\n* `--max-decoded-image-size-mb` \u2297 \\tSets the maximium decoded image size limitation.  \\n* `--max-file-size` \u2297 \\tLimit the size of files the scanning engine is allowed to open.  \\n* `--max-gum-fps` \u2297 \\tOverride the maximum framerate as can be specified in calls to getUserMedia. This flag expects a value. Example: --max-gum-fps=17.5  \\n* `--max-output-volume-dba1m` \u2297 \\tCalibrated max output volume dBa for voice content at 1 meter, if known.  \\n* `--max-untiled-layer-height` \u2297 \\tSets the width and height above which a composited layer will get tiled.  \\n* `--max-untiled-layer-width` \u2297 \\tNo description  \\n* `--mem-pressure-system-reserved-kb` \u2297 \\tSome platforms typically have very little \'free\' memory, but plenty is available in buffers+cached. For such platforms, configure this amount as the portion of buffers+cached memory that should be treated as unavailable. If this switch is not used, a simple pressure heuristic based purely on free memory will be used.  \\n* `--memlog` \u2297 \\tNo description  \\n* `--memlog-sampling-rate` \u2297 \\tNo description  \\n* `--memlog-stack-mode` \u2297 \\tNo description  \\n* `--memory-pressure-off` \u2297 \\tNo description  \\n* `--message-loop-type-ui` \u2297 \\tIndicates the utility process should run with a message loop type of UI.  \\n* `--metrics-client-id[6]` \u2297 \\tThis is how the metrics client ID is passed from the browser process to its children. With Crashpad, the metrics client ID is distinct from the crash client ID.  \\n* `--metrics-recording-only` \u2297 \\tEnables the recording of metrics reports but disables reporting. In contrast to kForceEnableMetricsReporting, this executes all the code that a normal client would use for reporting, except the report is dropped rather than sent to the server. This is useful for finding issues in the metrics code during UI and performance tests.  \\n* `--metrics-upload-interval` \u2297 \\tOverride the standard time interval between each metrics report upload for UMA and UKM. It is useful to set to a short interval for debugging. Unit in seconds. (The default is 1800 seconds on desktop).  \\n* `--min-height-for-gpu-raster-tile` \u2297 \\tSets the min tile height for GPU raster.  \\n* `--minimal` \u2297 \\tNo description  \\n* `--mixed` \u2297 \\tNo description  \\n* `--mixer-enable-dynamic-channel-count` \u2297 \\tEnable dynamically changing the channel count in the mixer depending on the input streams.  \\n* `--mixer-service-endpoint` \u2297 \\tEndpoint that the mixer service listens on. This is a path for a UNIX domain socket (default is /tmp/mixer-service).  \\n* `--mixer-service-port` \u2297 \\tTCP port that the mixer service listens on on non-Linux platforms. (default 12854).  \\n* `--mixer-source-audio-ready-threshold-ms` \u2297 \\tSpecify the start threshold frames for audio output when using our mixer. This is mostly used to override the default value to a larger value, for platforms that can\'t handle the default start threshold without running into audio underruns.  \\n* `--mixer-source-input-queue-ms` \u2297 \\tSpecify the buffer size for audio output when using our mixer. This is mostly used to override the default value to a larger value, for platforms that can\'t handle an audio buffer so small without running into audio underruns.  \\n* `--mock` \u2297 \\tNo description  \\n* `--mock-cert-verifier-default-result-for-testing` \u2297 \\tSet the default result for MockCertVerifier. This only works in test code.  \\n* `--mojo-core-library-path` \u2297 \\tInitializes Mojo Core from a shared library at the specified path, rather than using the version of Mojo Core embedded within the Content executable.  \\n* `--mojo-local-storage` \u2297 \\tUse a Mojo-based LocalStorage implementation.  \\n* `--mojo-pipe-token` \u2297 \\tNo description  \\n* `--monitoring-destination-id` \u2297 \\tAllows setting a different destination ID for connection-monitoring GCM messages. Useful when running against a non-prod management server.  \\n* `--mse-audio-buffer-size-limit-mb` \u2297 \\tAllows explicitly specifying MSE audio/video buffer sizes as megabytes. Default values are 150M for video and 12M for audio.  \\n* `--mse-video-buffer-size-limit-mb` \u2297 \\tNo description  \\n* `--mute-audio` \u2297 \\tMutes audio sent to the audio device so it is not audible during automated testing.  \\n* `--nacl-broker` \u2297 \\tNo description  \\n* `--nacl-dangerous-no-sandbox-nonsfi` \u2297 \\tDisable sandbox even for non SFI mode. This is particularly unsafe as non SFI NaCl heavily relies on the seccomp sandbox.  \\n* `--nacl-debug-mask` \u2297 \\tUses NaCl manifest URL to choose whether NaCl program will be debugged by debug stub. Switch value format: [!]pattern1,pattern2,...,patternN. Each pattern uses the same syntax as patterns in Chrome extension manifest. The only difference is that * scheme matches all schemes instead of matching only http and https. If the value doesn\'t start with !, a program will be debugged if manifest URL matches any pattern. If the value starts with !, a program will be debugged if manifest URL does not match any pattern.  \\n* `--nacl-gdb` \u2297 \\tNative Client GDB debugger that will be launched automatically when needed.  \\n* `--nacl-gdb-script` \u2297 \\tGDB script to pass to the nacl-gdb debugger at startup.  \\n* `--nacl-loader` \u2297 \\tNo description  \\n* `--nacl-loader-nonsfi` \u2297 \\tValue for --type that causes the process to run as a NativeClient loader for non SFI mode.  \\n* `--native` \u2297 \\tNo description  \\n* `--native-messaging-connect-extension` \u2297 \\tRequests a native messaging connection be established between the extension with ID specified by this switch and the native messaging host named by the kNativeMessagingConnectHost switch.  \\n* `--native-messaging-connect-host` \u2297 \\tRequests a native messaging connection be established between the native messaging host named by this switch and the extension with ID specified by kNativeMessagingConnectExtension.  \\n* `--native-messaging-connect-id` \u2297 \\tIf set when kNativeMessagingConnectHost and kNativeMessagingConnectExtension are specified, is reflected to the native messaging host as a command line parameter.  \\n* `--native-with-thread-names` \u2297 \\tNo description  \\n* `--nearbysharing-http-host` \u2297 \\tOverrides the default URL for Google APIs (https://www.googleapis.com) used by Nearby Share  \\n* `--need-arc-migration-policy-check` \u2297 \\tIf present, the device needs to check the policy to see if the migration to ext4 for ARC is allowed. It should be present only on devices that have been initially issued with ecrypfs encryption and have ARC (N+) available. For the devices in other categories this flag must be missing.  \\n* `--net-log-capture-mode` \u2297 \\tSets the granularity of events to capture in the network log. The mode can be set to one of the following values: \\"Default\\" \\"IncludeSensitive\\" \\"Everything\\" See the enums of the corresponding name in net_log_capture_mode.h for a description of their meanings.  \\n* `--netifs-to-ignore` \u2297 \\tList of network interfaces to ignore. Ignored interfaces will not be used for network connectivity.  \\n* `--network` \u2297 \\tNo description  \\n* `--network-country-iso[7]` \u2297 \\tThe telephony region (ISO country code) to use in phone number detection.  \\n* `--network-quiet-timeout` \u2297 \\tSets the timeout seconds of the network-quiet timers in IdlenessDetector. Used by embedders who want to change the timeout time in order to run web contents on various embedded devices and changeable network bandwidths in different regions. For example, it\'s useful when using FirstMeaningfulPaint signal to dismiss a splash screen.  \\n* `--new-canvas-2d-api` \u2297 \\tEnable in-progress canvas 2d API features.  \\n* `--new-window` \u2297 \\tLaunches URL in new browser window.  \\n* `--no-crash-upload` \u2297 \\tPrevent the crash client from uploading crash reports.  \\n* `--no-default-browser-check` \u2297 \\tDisables the default browser check. Useful for UI/browser tests where we want to avoid having the default browser info-bar displayed.  \\n* `--no-delay-for-dx12-vulkan-info-collection` \u2297 \\tStart the non-sandboxed GPU process for DX12 and Vulkan info collection immediately after the browser starts. The default is to delay for 120 seconds.  \\n* `--no-experiments` \u2297 \\tDisables all experiments set on about:flags. Does not disable about:flags itself. Useful if an experiment makes chrome crash at startup: One can start chrome with --no-experiments, disable the problematic lab at about:flags and then restart chrome without this switch again.  \\n* `--no-first-run` \u2297 \\tSkip First Run tasks, whether or not it\'s actually the First Run. Overridden by kForceFirstRun. This does not drop the First Run sentinel and thus doesn\'t prevent first run from occuring the next time chrome is launched without this flag.  \\n* `--no-initial-navigation` \u2297 \\tStops new Shell objects from navigating to a default url.  \\n* `--no-managed-user-acknowledgment-check` \u2297 \\tDisables checking whether we received an acknowledgment when registering a supervised user. Also disables the timeout during registration that waits for the ack. Useful when debugging against a server that does not support notifications.  \\n* `--no-network-profile-warning[1]` \u2297 \\tWhether or not the browser should warn if the profile is on a network share. This flag is only relevant for Windows currently.  \\n* `--no-pings` \u2297 \\tDon\'t send hyperlink auditing pings  \\n* `--no-proxy-server` \u2297 \\tDon\'t use a proxy server, always make direct connections. Overrides any other proxy server flags that are passed.  \\n* `--no-recovery-component` \u2297 \\tPrevent downloading and running the recovery component.  \\n* `--no-report-upload` \u2297 \\tPrevent the logging service from uploading logs and reports. WARNING: this switch is used by internal test systems. Be careful when making changes.  \\n* `--no-sandbox` \u2297 \\tDisables the sandbox for all process types that are normally sandboxed. Meant to be used as a browser-level switch for testing purposes only.  \\n* `--no-sandbox-and-elevated[1]` \u2297 \\tDisables the sandbox and gives the process elevated privileges.  \\n* `--no-self-delete` \u2297 \\tPrevent the executable from deleting itself after running.  \\n* `--no-service-autorun` \u2297 \\tDisables the service process from adding itself as an autorun process. This does not delete existing autorun registrations, it just prevents the service from registering a new one.  \\n* `--no-startup-window` \u2297 \\tDoes not automatically open a browser window on startup (used when launching Chrome for the purpose of hosting background apps).  \\n* `--no-user-gesture-required` \u2297 \\tAutoplay policy that does not require any user gesture.  \\n* `--no-v8-untrusted-code-mitigations` \u2297 \\tDisables V8 mitigations for executing untrusted code.  \\n* `--no-vr-runtime` \u2297 \\tTell WebXr to assume that it does not support any runtimes.  \\n* `--no-wifi` \u2297 \\tDisable features that require WiFi management.  \\n* `--no-xshm` \u2297 \\tDisables MIT-SHM extension.  \\n* `--no-zygote` \u2297 \\tDisables the use of a zygote process for forking child processes. Instead, child processes will be forked and exec\'d directly. Note that --no-sandbox should also be used together with this flag because the sandbox needs the zygote to work.  \\n* `--no-zygote-sandbox[10]` \u2297 \\tInstructs the zygote to launch without a sandbox. Processes forked from this type of zygote will apply their own custom sandboxes later.  \\n* `--noerrdialogs` \u2297 \\tSuppresses all error dialogs when present.  \\n* `--none` \u2297 \\tMust be in sync with \\"sandbox_type\\" values as used in service manager\'s manifest.json catalog files.  \\n* `--none_and_elevated` \u2297 \\tNo description  \\n* `--note-taking-app-ids` \u2297 \\tAn optional comma-separated list of IDs of apps that can be used to take notes. If unset, a hardcoded list is used instead.  \\n* `--notification-inline-reply[1]` \u2297 \\tUsed in combination with kNotificationLaunchId to specify the inline reply entered in the toast in the Windows Action Center.  \\n* `--notification-launch-id[1]` \u2297 \\tUsed for launching Chrome when a toast displayed in the Windows Action Center has been activated. Should contain the launch ID encoded by Chrome.  \\n* `--ntp-snippets-add-incomplete` \u2297 \\tIf this flag is set, we will add downloaded snippets that are missing some critical data to the list.  \\n* `--null` \u2297 \\tNo description  \\n* `--num-raster-threads` \u2297 \\tNumber of worker threads used to rasterize content.  \\n* `--oauth-account-manager-url` \u2297 \\tNo description  \\n* `--oauth2-client-id` \u2297 \\tNo description  \\n* `--oauth2-client-secret` \u2297 \\tNo description  \\n* `--oculus` \u2297 \\tThe following are the runtimes that WebXr supports.  \\n* `--offer-in-settings` \u2297 \\tNo description  \\n* `--on-the-fly-mhtml-hash-computation` \u2297 \\tCalculate the hash of an MHTML file as it is being saved. The browser process will write the serialized MHTML contents to a file and calculate its hash as it is streamed back from the renderer via a Mojo data pipe.  \\n* `--oobe-eula-url-for-tests` \u2297 \\tAllows the eula url to be overridden for tests.  \\n* `--oobe-force-show-screen` \u2297 \\tForces OOBE/login to force show a comma-separated list of screens from chromeos::kScreenNames in oobe_screen.cc. Supported screens are: user-image  \\n* `--oobe-force-tablet-first-run` \u2297 \\tIndicates that the first user run flow (sequence of OOBE screens after the first user login) should show tablet mode centric screens, even if the device is not in tablet mode.  \\n* `--oobe-guest-session` \u2297 \\tIndicates that a guest session has been started before OOBE completion.  \\n* `--oobe-screenshot-dir` \u2297 \\tSpecifies directory for screenshots taken with OOBE UI Debugger.  \\n* `--oobe-skip-postlogin` \u2297 \\tSkips all other OOBE pages after user login.  \\n* `--oobe-skip-to-login` \u2297 \\tSkip to login screen.  \\n* `--oobe-timer-interval` \u2297 \\tInterval at which we check for total time on OOBE.  \\n* `--oobe-timezone-override-for-tests` \u2297 \\tAllows the timezone to be overridden on the marketing opt-in screen.  \\n* `--opengraph` \u2297 \\tNo description  \\n* `--openvr` \u2297 \\tNo description  \\n* `--openxr` \u2297 \\tNo description  \\n* `--optimization-guide-fetch-hints-override` \u2297 \\tOverrides scheduling and time delays for fetching hints and causes a hints fetch immediately on start up using the provided comma separate lists of hosts.  \\n* `--optimization-guide-fetch-hints-override-timer` \u2297 \\tOverrides the hints fetch scheduling and delay, causing a hints fetch immediately on start up using the TopHostProvider. This is meant for testing.  \\n* `--optimization-guide-fetch-models-and-features-override` \u2297 \\tOverrides scheduling and time delays for fetching prediction models and host model features. This causes a prediction model and host model features fetch immediately on start up.  \\n* `--optimization-guide-service-api-key` \u2297 \\tOverrides the Optimization Guide Service API Key for remote requests to be made.  \\n* `--optimization-guide-service-get-hints-url` \u2297 \\tOverrides the Optimization Guide Service URL that the HintsFetcher will request remote hints from.  \\n* `--optimization-guide-service-get-models-url` \u2297 \\tOverrides the Optimization Guide Service URL that the PredictionModelFetcher will request remote models and host features from.  \\n* `--optimization_guide_hints_override` \u2297 \\tOverrides the Hints Protobuf that would come from the component updater. If the value of this switch is invalid, regular hint processing is used. The value of this switch should be a base64 encoding of a binary Configuration message, found in optimization_guide\'s hints.proto. Providing a valid value to this switch causes Chrome startup to block on hints parsing.  \\n* `--orientation-sensors` \u2297 \\tNo description  \\n* `--origin-trial-disabled-features` \u2297 \\tContains a list of feature names for which origin trial experiments should be disabled. Names should be separated by \\"|\\" characters.  \\n* `--origin-trial-disabled-tokens` \u2297 \\tContains a list of token signatures for which origin trial experiments should be disabled. Tokens should be separated by \\"|\\" characters.  \\n* `--origin-trial-public-key` \u2297 \\tComma-separated list of keys which will override the default public keys for checking origin trial tokens.  \\n* `--output` \u2297 \\tNo description  \\n* `--override` \u2297 \\t\\"Override\\" value for kCrosRegionsMode (region\'s data is read first).  \\n* `--override-enabled-cdm-interface-version` \u2297 \\tOverrides the default enabled library CDM interface version(s) with the one specified with this switch, which will be the only version enabled. For example, on a build where CDM 8, CDM 9 and CDM 10 are all supported (implemented), but only CDM 8 and CDM 9 are enabled by default: --override-enabled-cdm-interface-version=8 : Only CDM 8 is enabled --override-enabled-cdm-interface-version=9 : Only CDM 9 is enabled --override-enabled-cdm-interface-version=10 : Only CDM 10 is enabled --override-enabled-cdm-interface-version=11 : No CDM interface is enabled This can be used for local testing and debugging. It can also be used to enable an experimental CDM interface (which is always disabled by default) for testing while it\'s still in development.  \\n* `--override-hardware-secure-codecs-for-testing` \u2297 \\tOverrides hardware secure codecs support for testing. If specified, real platform hardware secure codecs check will be skipped. Codecs are separated by comma. Valid codecs are \\"vp8\\", \\"vp9\\" and \\"avc1\\". For example: --override-hardware-secure-codecs-for-testing=vp8,vp9 --override-hardware-secure-codecs-for-testing=avc1 CENC encryption scheme is assumed to be supported for the specified codecs. If no valid codecs specified, no hardware secure codecs are supported. This can be used to disable hardware secure codecs support: --override-hardware-secure-codecs-for-testing  \\n* `--override-https-image-compression-infobar` \u2297 \\tOverride the one-time InfoBar to not needed to be shown before triggering https image compression for the page load.  \\n* `--override-metrics-upload-url` \u2297 \\tOverride the URL to which metrics logs are sent for debugging.  \\n* `--override-plugin-power-saver-for-testing` \u2297 \\tOverride the behavior of plugin throttling for testing. By default the throttler is only enabled for a hard-coded list of plugins. Set the value to \'always\' to always throttle every plugin instance. Set the value to \'never\' to disable throttling.  \\n* `--override-use-software-gl-for-tests` \u2297 \\tForces the use of software GL instead of hardware gpu.  \\n* `--ozone-dump-file` \u2297 \\tSpecify location for image dumps.  \\n* `--ozone-platform` \u2297 \\tSpecify ozone platform implementation to use.  \\n* `--pack-extension` \u2297 \\tPackages an extension to a .crx installable file from a given directory.  \\n* `--pack-extension-key` \u2297 \\tOptional PEM private key to use in signing packaged .crx.  \\n* `--parent-window` \u2297 \\tNo description  \\n* `--passive-listeners-default` \u2297 \\tOverride the default value for the \'passive\' field in javascript addEventListener calls. Values are defined as: \'documentonlytrue\' to set the default be true only for document level nodes. \'true\' to set the default to be true on all nodes (when not specified). \'forcealltrue\' to force the value on all nodes.  \\n* `--passthrough` \u2297 \\tNo description  \\n* `--password-store` \u2297 \\tSpecifies which encryption storage backend to use. Possible values are kwallet, kwallet5, gnome, gnome-keyring, gnome-libsecret, basic. Any other value will lead to Chrome detecting the best backend automatically. TODO(crbug.com/571003): Once PasswordStore no longer uses the Keyring or KWallet for storing passwords, rename this flag to stop referencing passwords. Do not rename it sooner, though; developers and testers might rely on it keeping large amounts of testing passwords out of their Keyrings or KWallets.  \\n* `--pdf_conversion[1]` \u2297 \\tNo description  \\n* `--pen-devices[10]` \u2297 \\tTells chrome to interpret events from these devices as pen events. Only available with XInput 2 (i.e. X server 1.8 or above). The id\'s of the devices can be retrieved from \'xinput list\'.  \\n* `--perf-test-print-uma-means` \u2297 \\tShow the mean value of histograms that native performance tests are monitoring. Note that this is only applicable for PerformanceTest subclasses.  \\n* `--perfetto-disable-interning` \u2297 \\tRepeat internable data for each TraceEvent in the perfetto proto format.  \\n* `--perfetto-output-file` \u2297 \\tIf supplied, will enable Perfetto startup tracing and stream the output to the given file. On Android, if no file is provided, automatically generate a file to write the output to. TODO(oysteine): Remove once Perfetto starts early enough after process startup to be able to replace the legacy startup tracing.  \\n* `--performance[5]` \u2297 \\tNo description  \\n* `--permission-request-api-scope` \u2297 \\tDevelopment flag for permission request API. This flag is needed until the API is finalized. TODO(bauerb): Remove when this flag is not needed anymore.  \\n* `--permission-request-api-url` \u2297 \\tDevelopment flag for permission request API. This flag is needed until the API is finalized. TODO(bauerb): Remove when this flag is not needed anymore.  \\n* `--playready-key-system` \u2297 \\tNo description  \\n* `--post-reboot` \u2297 \\tIndicates this run is post-reboot.  \\n* `--post-reboot-override-cmd` \u2297 \\tIndicates that this is a post-reboot run that should fetch its switches from an external registry key. Important note: When this switch is present in the command line, all other switches are ignored except for kCleanupIdSwitch, which is used to read post-reboot switches from the correct registry location.  \\n* `--post-reboot-trigger` \u2297 \\tA freeform text string that records what triggered a post-reboot run.  \\n* `--ppapi` \u2297 \\tNo description  \\n* `--ppapi-antialiased-text-enabled[1]` \u2297 \\tThe boolean value (0/1) of FontRenderParams::antialiasing to be passed to Ppapi processes.  \\n* `--ppapi-broker` \u2297 \\tNo description  \\n* `--ppapi-flash-args` \u2297 \\t\\"Command-line\\" arguments for the PPAPI Flash; used for debugging options.  \\n* `--ppapi-flash-path` \u2297 \\tUse the PPAPI (Pepper) Flash found at the given path.  \\n* `--ppapi-flash-version` \u2297 \\tReport the given version for the PPAPI (Pepper) Flash. The version should be numbers separated by \'.\'s (e.g., \\"12.3.456.78\\"). If not specified, it defaults to \\"10.2.999.999\\".  \\n* `--ppapi-in-process` \u2297 \\tRuns PPAPI (Pepper) plugins in-process.  \\n* `--ppapi-plugin-launcher` \u2297 \\tSpecifies a command that should be used to launch the ppapi plugin process. Useful for running the plugin process through purify or quantify. Ex: --ppapi-plugin-launcher=\\"path\\\\to\\\\purify /Run=yes\\"  \\n* `--ppapi-startup-dialog` \u2297 \\tCauses the PPAPI sub process to display a dialog on launch. Be sure to use --no-sandbox as well or the sandbox won\'t allow the dialog to display.  \\n* `--ppapi-subpixel-rendering-setting[1]` \u2297 \\tThe enum value of FontRenderParams::subpixel_rendering to be passed to Ppapi processes.  \\n* `--previous-app` \u2297 \\tprevious-app should be the app that was running when last-launched-app started.  \\n* `--print-to-pdf` \u2297 \\tSave a pdf file of the loaded page.  \\n* `--print-to-pdf-no-header` \u2297 \\tDo not display header and footer in the pdf file.  \\n* `--print_compositor` \u2297 \\tNo description  \\n* `--privet-ipv6-only` \u2297 \\tUse IPv6 only for privet HTTP.  \\n* `--process-per-site` \u2297 \\tEnable the \\"Process Per Site\\" process model for all domains. This mode consolidates same-site pages so that they share a single process. More details here: - https://www.chromium.org/developers/design-documents/process-models - The class comment in site_instance.h, listing the supported process models. IMPORTANT: This isn\'t to be confused with --site-per-process (which is about isolation, not consolidation). You probably want the other one.  \\n* `--process-per-tab` \u2297 \\tRuns each set of script-connected tabs (i.e., a BrowsingInstance) in its own renderer process. We default to using a renderer process for each site instance (i.e., group of pages from the same registered domain with script connections to each other). TODO(creis): This flag is currently a no-op. We should refactor it to avoid \\"unnecessary\\" process swaps for cross-site navigations but still swap when needed for security (e.g., isolated origins).  \\n* `--prod` \u2297 \\tThe command line alias and URL for the \\"prod\\" environment.  \\n* `--product-version` \u2297 \\tOutputs the product version information and quit. Used as an internal api to detect the installed version of Chrome on Linux.  \\n* `--profile-directory` \u2297 \\tSelects directory of profile to associate with the first browser launched.  \\n* `--profile-requires-policy` \u2297 \\tIf set to \\"true\\", the profile requires policy during restart (policy load must succeed, otherwise session restart should fail).  \\n* `--profiling-at-start` \u2297 \\tStarts the sampling based profiler for the browser process at startup. This will only work if chrome has been built with the gn arg enable_profiling = true. The output will go to the value of kProfilingFile.  \\n* `--profiling-file` \u2297 \\tSpecifies a location for profiling output. This will only work if chrome has been built with the gyp variable profiling=1 or gn arg enable_profiling=true. {pid} if present will be replaced by the pid of the process. {count} if present will be incremented each time a profile is generated for this process. The default is chrome-profile-{pid} for the browser and test-profile-{pid} for tests.  \\n* `--profiling-flush` \u2297 \\tControls whether profile data is periodically flushed to a file. Normally the data gets written on exit but cases exist where chromium doesn\'t exit cleanly (especially when using single-process). A time in seconds can be specified.  \\n* `--progress-bar-animation[7]` \u2297 \\tSpecifies Android phone page loading progress bar animation.  \\n* `--proxy-auto-detect` \u2297 \\tForces proxy auto-detection.  \\n* `--proxy-bypass-list` \u2297 \\tSpecifies a list of hosts for whom we bypass proxy settings and use direct connections. Ignored unless --proxy-server is also specified. This is a comma-separated list of bypass rules. See: \\"net/proxy_resolution/proxy_bypass_rules.h\\" for the format of these rules.  \\n* `--proxy-pac-url` \u2297 \\tUses the pac script at the given URL  \\n* `--proxy-server` \u2297 \\tUses a specified proxy server, overrides system settings. This switch only affects HTTP and HTTPS requests.  \\n* `--proxy_resolver[1]` \u2297 \\tNo description  \\n* `--pseudo` \u2297 \\tNo description  \\n* `--public-accounts-saml-acl-url` \u2297 \\tSAML assertion consumer URL, used to detect when Gaia-less SAML flows end (e.g. for SAML managed guest sessions) TODO(984021): Remove when URL is sent by DMServer.  \\n* `--pull-to-refresh` \u2297 \\tEnables or disables pull-to-refresh gesture in response to vertical overscroll. Set the value to \'0\' to disable the feature, set to \'1\' to enable it for both touchpad and touchscreen, and set to \'2\' to enable it only for touchscreen. Defaults to disabled.  \\n* `--purge-model-and-features-store` \u2297 \\tPurges the store containing prediction medels and host model features on startup, so that it\'s guaranteed to be using fresh data.  \\n* `--purge-optimization-guide-store` \u2297 \\tPurges the store containing fetched and component hints on startup, so that it\'s guaranteed to be using fresh data.  \\n* `--pwa-launcher-version[1]` \u2297 \\tSpecifies the version of the Progressive-Web-App launcher that launched Chrome, used to determine whether to update all launchers. NOTE: changing this switch requires adding legacy handling for the previous method, as older PWA launchers still using this switch will rely on Chrome to update them to use the new method.  \\n* `--quarantine-dir` \u2297 \\tSpecifies the quarantine folder instead of the default one.  \\n* `--query-tiles-country-code` \u2297 \\tNo description  \\n* `--query-tiles-instant-background-task` \u2297 \\tNo description  \\n* `--query-tiles-single-tier` \u2297 \\tNo description  \\n* `--rdp_desktop_session` \u2297 \\tNo description  \\n* `--reached-code-sampling-interval-us[7]` \u2297 \\tSpecifies the profiling interval in microseconds for reached code profiler.  \\n* `--reader-mode-feedback` \u2297 \\tNo description  \\n* `--reader-mode-heuristics` \u2297 \\tNo description  \\n* `--realtime-reporting-url` \u2297 \\tSpecifies the URL at which to upload real-time reports.  \\n* `--redirect-libassistant-logging` \u2297 \\tRedirects libassistant logging to /var/log/chrome/.  \\n* `--register-font-files[1]` \u2297 \\tRegisters additional font files on Windows (for fonts outside the usual %WINDIR%\\\\Fonts location). Multiple files can be used by separating them with a semicolon (;).  \\n* `--register-max-dark-suspend-delay` \u2297 \\tMakes Chrome register the maximum dark suspend delay possible on Chrome OS i.e. give the device the maximum amount of time to do its work in dark resume as is allowed by the power manager.  \\n* `--register-pepper-plugins` \u2297 \\tRegister Pepper plugins (see pepper_plugin_list.cc for its format).  \\n* `--regulatory-label-dir` \u2297 \\tThe name of the per-model directory which contains per-region subdirectories with regulatory label files for this model. The per-model directories (if there are any) are located under \\"/usr/share/chromeos-assets/regulatory_labels/\\".  \\n* `--relauncher[6]` \u2297 \\tA process type (switches::kProcessType) that relaunches the browser. See chrome/browser/mac/relauncher.h.  \\n* `--remote-debugger-handles` \u2297 \\tNo description  \\n* `--remote-debugging-address` \u2297 \\tUse the given address instead of the default loopback for accepting remote debugging connections. Should be used together with --remote-debugging-port. Note that the remote debugging protocol does not perform any authentication, so exposing it too widely can be a security risk.  \\n* `--remote-debugging-pipe` \u2297 \\tEnables remote debug over stdio pipes [in=3, out=4]. Optionally, specifies the format for the protocol messages, can be either \\"JSON\\" (the default) or \\"CBOR\\".  \\n* `--remote-debugging-port` \u2297 \\tEnables remote debug over HTTP on the specified port.  \\n* `--remote-debugging-socket-name[7]` \u2297 \\tEnables remote debug over HTTP on the specified socket name.  \\n* `--remote-debugging-targets` \u2297 \\tPorvides a list of addresses to discover DevTools remote debugging targets. The format is `<host>:<port>,...,<host>:port`.  \\n* `--remove-scan-only-uws` \u2297 \\tAllow the engine to remove UwS that isn\'t marked cleanable. For testing only.  \\n* `--renderer` \u2297 \\tNo description  \\n* `--renderer-client-id` \u2297 \\tNo description  \\n* `--renderer-cmd-prefix` \u2297 \\tThe contents of this flag are prepended to the renderer command line. Useful values might be \\"valgrind\\" or \\"xterm -e gdb --args\\".  \\n* `--renderer-process-limit` \u2297 \\tOverrides the default/calculated limit to the number of renderer processes. Very high values for this setting can lead to high memory/resource usage or instability.  \\n* `--renderer-sampling` \u2297 \\tNo description  \\n* `--renderer-startup-dialog` \u2297 \\tCauses the renderer process to display a dialog on launch. Passing this flag also adds sandbox::policy::kNoSandbox on Windows non-official builds, since that\'s needed to show a dialog.  \\n* `--renderer-wait-for-java-debugger[7]` \u2297 \\tBlock ChildProcessMain thread of the renderer\'s ChildProcessService until a Java debugger is attached.  \\n* `--renderpass` \u2297 \\tParameters for kUIShowCompositedLayerBorders.  \\n* `--repl` \u2297 \\tRuns a read-eval-print loop that allows the user to evaluate Javascript expressions.  \\n* `--report-vp9-as-an-unsupported-mime-type` \u2297 \\tForce to report VP9 as an unsupported MIME type.  \\n* `--require-audio-hardware-for-testing` \u2297 \\tWhen running tests on a system without the required hardware or libraries, this flag will cause the tests to fail. Otherwise, they silently succeed.  \\n* `--require-wlan` \u2297 \\tOnly connect to WLAN interfaces.  \\n* `--reset-variation-state` \u2297 \\tForces a reset of the one-time-randomized FieldTrials on this client, also known as the Chrome Variations state.  \\n* `--restore-last-session` \u2297 \\tIndicates the last session should be restored on startup. This overrides the preferences value. Note that this does not force automatic session restore following a crash, so as to prevent a crash loop. This switch is used to implement support for OS-specific \\"continue where you left off\\" functionality on OS X and Windows.  \\n* `--restrict-gamepad-access` \u2297 \\tEnables Feature Policy and Secure Context requirements on getGamepads.  \\n* `--rlz-ping-delay` \u2297 \\tThe rlz ping delay (in seconds) that overwrites the default value.  \\n* `--rtl` \u2297 \\tNo description  \\n* `--run-all-compositor-stages-before-draw` \u2297 \\tEffectively disables pipelining of compositor frame production stages by waiting for each stage to finish before completing a frame.  \\n* `--run-manual` \u2297 \\tManual tests only run when --run-manual is specified. This allows writing tests that don\'t run automatically but are still in the same test binary. This is useful so that a team that wants to run a few tests doesn\'t have to add a new binary that must be compiled on all builds.  \\n* `--run-web-tests` \u2297 \\tRuns Content Shell in web test mode, injecting test-only behaviour for blink web tests.  \\n* `--run-without-sandbox-for-testing[3]` \u2297 \\tLoad the engine outside the sandbox. This is only to be used for manual testing.  \\n* `--safe-mode` \u2297 \\tThe switch added by session_manager daemon when chrome crashes 3 times or more within the first 60 seconds on start. See BrowserJob::ExportArgv in platform2/login_manager/browser_job.cc.  \\n* `--safebrowsing-enable-enhanced-protection` \u2297 \\tEnable Safe Browsing Enhanced Protection.  \\n* `--safebrowsing-manual-download-blacklist` \u2297 \\tList of comma-separated sha256 hashes of executable files which the download-protection service should treat as \\"dangerous.\\" For a file to show a warning, it also must be considered a dangerous filetype and not be whitelisted otherwise (by signature or URL) and must be on a supported OS. Hashes are in hex. This is used for manual testing when looking for ways to by-pass download protection.  \\n* `--SafeSites` \u2297 \\tNo description  \\n* `--saml-password-change-url` \u2297 \\tPassword change url for SAML users. TODO(941489): Remove when the bug is fixed.  \\n* `--sandbox-ipc` \u2297 \\tCauses the process to run as a sandbox IPC subprocess.  \\n* `--sandbox-mojo-pipe-token` \u2297 \\tMojo pipe token generated in the broker process and passed to the sandbox process to bind with the EngineCommands IPC interface.  \\n* `--sandboxed-process-id` \u2297 \\tUsed to identify the id of the sandbox process that is intended to be spawned.  \\n* `--save-page-as-mhtml` \u2297 \\tDisable saving pages as HTML-only, disable saving pages as HTML Complete (with a directory of sub-resources). Enable only saving pages as MHTML. See http://crbug.com/120416 for how to remove this switch.  \\n* `--scan-locations` \u2297 \\tUsed to limit trace locations that will be scanned. Trace locations should be specified as integers, separated by commas. For example: --scan-locations=1,2,3,5  \\n* `--scanning-timeout` \u2297 \\tSet the timeout for the scanning phase, in minutes. 0 disables the timeout entirely. WARNING: this switch is used by internal test systems. Be careful when making changes.  \\n* `--scheduler-configuration[5]` \u2297 \\tSelects the scheduler configuration specified in the parameter.  \\n* `--scheduler-configuration-default[5]` \u2297 \\tSpecifies what the default scheduler configuration value is if the user does not set one.  \\n* `--screen-config` \u2297 \\tSpecifies the initial screen configuration, or state of all displays, for FakeDisplayDelegate, see class for format details.  \\n* `--screenshot` \u2297 \\tSave a screenshot of the loaded page.  \\n* `--search-provider-logo-url` \u2297 \\tUse a static URL for the logo of the default search engine. Example: https://www.google.com/branding/logo.png  \\n* `--secondary-display-layout` \u2297 \\tSpecifies the layout mode and offsets for the secondary display for testing. The format is \\"`<t|r|b|l>,<offset>`\\" where t=TOP, r=RIGHT, b=BOTTOM and L=LEFT. For example, \'r,-100\' means the secondary display is positioned on the right with -100 offset. (above than primary)  \\n* `--service` \u2297 \\tNo description  \\n* `--service-manager` \u2297 \\tThe value of the |kProcessType| switch which tells the executable to assume the role of a standalone Service Manager instance.  \\n* `--service-name` \u2297 \\tIndicates the name of the service to run. Useful for debugging, or if a service executable is built to support being run as a number of potential different services.  \\n* `--service-request-attachment-name` \u2297 \\tThe name of the `|mojo::PendingReceiver<service_manager::mojom::Service>|` message pipe handle that is attached to the incoming Mojo invitation received by the service.  \\n* `--service-request-channel-token` \u2297 \\tThe token to use to construct the message pipe for a service in a child process.  \\n* `--service-runner` \u2297 \\tThe value of the |kProcessType| switch which tells the executable to assume the role of a service instance.  \\n* `--service-sandbox-type` \u2297 \\tType of sandbox to apply to the process running the service, one of the values in the next block.  \\n* `--set-extension-throttle-test-params` \u2297 \\tSet the parameters for ExtensionURLLoaderThrottleBrowserTest.  \\n* `--shader-disk-cache-size-kb` \u2297 \\tAllows explicitly specifying the shader disk cache size for embedded devices. Default value is 6MB. On Android, 2MB is default and 128KB for low-end devices.  \\n* `--shared-files` \u2297 \\tDescribes the file descriptors passed to a child process in the following list format: `<file_id>:<descriptor_id>,<file_id>:<descriptor_id>,...` where `<file_id>` is an ID string from the manifest of the service being launched and `<descriptor_id>` is the numeric identifier of the descriptor for the child process can use to retrieve the file descriptor from the global descriptor table.  \\n* `--sharing_service` \u2297 \\tNo description  \\n* `--shelf-hotseat` \u2297 \\tNew modular design for the shelf with apps separated into a hotseat UI and smaller shelf in clamshell mode.  \\n* `--shelf-hover-previews` \u2297 \\tApp window previews when hovering over the shelf.  \\n* `--shill-stub` \u2297 \\tOverrides Shill stub behavior. By default, ethernet, wifi and vpn are enabled, and transitions occur instantaneously. Multiple options can be comma separated (no spaces). Note: all options are in the format \'foo=x\'. Values are case sensitive and based on Shill names in service_constants.h. See FakeShillManagerClient::SetInitialNetworkState for implementation. Examples: \'clear=1\' - Clears all default configurations \'wifi=on\' - A wifi network is initially connected (\'1\' also works) \'wifi=off\' - Wifi networks are all initially disconnected (\'0\' also works) \'wifi=disabled\' - Wifi is initially disabled \'wifi=none\' - Wifi is unavailable \'wifi=portal\' - Wifi connection will be in Portal state \'cellular=1\' - Cellular is initially connected \'cellular=LTE\' - Cellular is initially connected, technology is LTE \'interactive=3\' - Interactive mode, connect/scan/etc requests take 3 secs  \\n* `--short-merge-session-timeout-for-test[5]` \u2297 \\tUse a short (1 second) timeout for merge session loader throttle testing.  \\n* `--short-reporting-delay` \u2297 \\tSets the Reporting API delay to under a second to allow much quicker reports.  \\n* `--show-aggregated-damage` \u2297 \\tAdds a DebugBorderDrawQuad to the top of the root RenderPass showing the damage rect after surface aggregation. Note that when enabled this feature sets the entire output rect as damaged after adding the quad to highlight the real damage rect, which could hide damage rect problems.  \\n* `--show-android-files-in-files-app` \u2297 \\tIf true, files in Android internal storage will be shown in Files app.  \\n* `--show-auth-dialog-dev-overlay` \u2297 \\tIf true, the debug view overlay will be shown for the in-session authentication dialog. This enables development of the dialog. TODO(yichenli): Remove this after the feature is released.  \\n* `--show-autofill-signatures` \u2297 \\tAnnotates forms and fields with Autofill signatures.  \\n* `--show-autofill-type-predictions` \u2297 \\tAnnotates forms with Autofill field type predictions.  \\n* `--show-component-extension-options` \u2297 \\tMakes component extensions appear in chrome://settings/extensions.  \\n* `--show-composited-layer-borders` \u2297 \\tRenders a border around compositor layers to help debug and study layer compositing.  \\n* `--show-dc-layer-debug-borders` \u2297 \\tShow debug borders for DC layers - red for overlays and blue for underlays. The debug borders are offset from the layer rect by a few pixels for clarity.  \\n* `--show-fps-counter` \u2297 \\tDraws a heads-up-display showing Frames Per Second as well as GPU memory usage. If you also use --enable-logging=stderr --vmodule=\\"head*=1\\" then FPS will also be output to the console log.  \\n* `--show-icons[1]` \u2297 \\tSee kHideIcons.  \\n* `--show-layer-animation-bounds` \u2297 \\tRenders a border that represents the bounding box for the layer\'s animation.  \\n* `--show-layout-shift-regions` \u2297 \\tVisibly render a border around layout shift rects in the web page to help debug and study layout shifts.  \\n* `--show-login-dev-overlay` \u2297 \\tIf true, the developer tool overlay will be shown for the login/lock screen. This makes it easier to test layout logic.  \\n* `--show-mac-overlay-borders[6]` \u2297 \\tShow borders around CALayers corresponding to overlays and partial damage.  \\n* `--show-oobe-dev-overlay` \u2297 \\tEnables OOBE UI Debugger for ease of navigation between screens during manual testing. Limited to ChromeOS-on-linux and test images only.  \\n* `--show-overdraw-feedback` \u2297 \\tVisualize overdraw by color-coding elements based on if they have other elements drawn underneath. This is good for showing where the UI might be doing more rendering work than necessary. The colors are hinting at the amount of overdraw on your screen for each pixel, as follows: True color: No overdraw. Blue: Overdrawn once. Green: Overdrawn twice. Pink: Overdrawn three times. Red: Overdrawn four or more times.  \\n* `--show-paint-rects` \u2297 \\tVisibly render a border around paint rects in the web page to help debug and study painting behavior.  \\n* `--show-property-changed-rects` \u2297 \\tShow rects in the HUD around layers whose properties have changed.  \\n* `--show-screenspace-rects` \u2297 \\tShow rects in the HUD around the screen-space transformed bounds of every layer.  \\n* `--show-surface-damage-rects` \u2297 \\tShow rects in the HUD around damage as it is recorded into each render surface.  \\n* `--show-taps` \u2297 \\tDraws a circle at each touch point, similar to the Android OS developer option \\"Show taps\\".  \\n* `--silent-debugger-extension-api` \u2297 \\tDoes not show an infobar when an extension attaches to a page using chrome.debugger page. Required to attach to extension background pages.  \\n* `--silent-launch` \u2297 \\tCauses Chrome to launch without opening any windows by default. Useful if one wishes to use Chrome as an ash server.  \\n* `--simulate-critical-update` \u2297 \\tSimulates a critical update being available.  \\n* `--simulate-elevated-recovery` \u2297 \\tSimulates that elevation is needed to recover upgrade channel.  \\n* `--simulate-outdated` \u2297 \\tSimulates that current version is outdated.  \\n* `--simulate-outdated-no-au` \u2297 \\tSimulates that current version is outdated and auto-update is off.  \\n* `--simulate-update-error-code` \u2297 \\tSimulates a GoogleUpdateErrorCode error by the update check. Must be supplied with |kSimulateUpdateHresult| switch.  \\n* `--simulate-update-hresult` \u2297 \\tSimulates a specific HRESULT error code returned by the update check. If the switch value is not specified (as hex) then it defaults to E_FAIL.  \\n* `--simulate-upgrade` \u2297 \\tSimulates an update being available.  \\n* `--single-process` \u2297 \\tRuns the renderer and plugins in the same process as the browser  \\n* `--site-per-process` \u2297 \\tEnforces a one-site-per-process security policy: * Each renderer process, for its whole lifetime, is dedicated to rendering pages for just one site. * Thus, pages from different sites are never in the same process. * A renderer process\'s access rights are restricted based on its site. * All cross-site navigations force process swaps. * `<iframe>`s are rendered out-of-process whenever the src= is cross-site. More details here: - https://www.chromium.org/developers/design-documents/site-isolation - https://www.chromium.org/developers/design-documents/process-models - The class comment in site_instance.h, listing the supported process models. IMPORTANT: this isn\'t to be confused with --process-per-site (which is about process consolidation, not isolation). You probably want this one.  \\n* `--skia-font-cache-limit-mb` \u2297 \\tSpecifies the max number of bytes that should be used by the skia font cache. If the cache needs to allocate more, skia will purge previous entries.  \\n* `--skia-resource-cache-limit-mb` \u2297 \\tSpecifies the max number of bytes that should be used by the skia resource cache. The previous entries are purged from the cache when the memory useage exceeds this limit.  \\n* `--slow-down-compositing-scale-factor` \u2297 \\tRe-draw everything multiple times to simulate a much slower machine. Give a slow down factor to cause renderer to take that many times longer to complete, such as --slow-down-compositing-scale-factor=2.  \\n* `--slow-down-raster-scale-factor` \u2297 \\tRe-rasters everything multiple times to simulate a much slower machine. Give a scale factor to cause raster to take that many times longer to complete, such as --slow-down-raster-scale-factor=25.  \\n* `--sms-test-messages` \u2297 \\tSends test messages on first call to RequestUpdate (stub only).  \\n* `--spdy-proxy-auth-fallback` \u2297 \\tThe origin of the data reduction proxy fallback.  \\n* `--spdy-proxy-auth-origin` \u2297 \\tThe origin of the data reduction proxy.  \\n* `--spdy-proxy-auth-value` \u2297 \\tA test key for data reduction proxy authentication.  \\n* `--speech_recognition` \u2297 \\tNo description  \\n* `--ssl-key-log-file` \u2297 \\tCauses SSL key material to be logged to the specified file for debugging purposes. See https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/Key_Log_Format for the format.  \\n* `--ssl-version-max` \u2297 \\tSpecifies the maximum SSL/TLS version (\\"tls1.2\\" or \\"tls1.3\\").  \\n* `--ssl-version-min` \u2297 \\tSpecifies the minimum SSL/TLS version (\\"tls1\\", \\"tls1.1\\", \\"tls1.2\\", or \\"tls1.3\\").  \\n* `--stable-release-mode` \u2297 \\tThis makes us disable some web-platform runtime features so that we test content_shell as if it was a stable release. It is only followed when kRunWebTest is set. For the features\' level, see http://dev.chromium.org/blink/runtime-enabled-features.  \\n* `--staging` \u2297 \\tThe command line alias and URL for the \\"staging\\" environment.  \\n* `--start-fullscreen` \u2297 \\tSpecifies if the browser should start in fullscreen mode, like if the user had pressed F11 right after startup.  \\n* `--start-in-incognito` \u2297 \\tStarts the shell with the profile in incognito mode.  \\n* `--start-maximized` \u2297 \\tStarts the browser maximized, regardless of any previous settings.  \\n* `--start-stack-profiler` \u2297 \\tStarts the stack sampling profiler in the child process.  \\n* `--started` \u2297 \\tValue for kTestCrosGaiaIdMigration indicating that migration is started (i.e. all stored user keys will be converted to GaiaId)  \\n* `--storage-pressure-notification-interval` \u2297 \\tInterval, in minutes, used for storage pressure notification throttling. Useful for developers testing applications that might use non-trivial amounts of disk space.  \\n* `--structured-metrics-disabled` \u2297 \\tDisable structured metrics logging of cros actions.  \\n* `--stub` \u2297 \\tNo description  \\n* `--suppress-message-center-popups` \u2297 \\tHides all Message Center notification popups (toasts). Used for testing.  \\n* `--surface` \u2297 \\tNo description  \\n* `--swiftshader` \u2297 \\tNo description  \\n* `--swiftshader-webgl` \u2297 \\tNo description  \\n* `--sync-deferred-startup-timeout-seconds` \u2297 \\tAllows overriding the deferred init fallback timeout.  \\n* `--sync-disable-deferred-startup` \u2297 \\tEnables deferring sync backend initialization until user initiated changes occur.  \\n* `--sync-include-specifics` \u2297 \\tControls whether the initial state of the \\"Capture Specifics\\" flag on chrome://sync-internals is enabled.  \\n* `--sync-short-initial-retry-override` \u2297 \\tThis flag causes sync to retry very quickly (see polling_constants.h) the when it encounters an error, as the first step towards exponential backoff.  \\n* `--sync-short-nudge-delay-for-test` \u2297 \\tThis flag significantly shortens the delay between nudge cycles. Its primary purpose is to speed up integration tests. The normal delay allows coalescing and prevention of server overload, so don\'t use this unless you\'re really sure that it\'s what you want.  \\n* `--sync-url` \u2297 \\tOverrides the default server used for profile sync.  \\n* `--sys-info-file-path` \u2297 \\tSystem info file path. Default is an empty string, which means that dummy info will be used.  \\n* `--system-developer-mode` \u2297 \\tUsed by FakeDebugDaemonClient to specify that the system is running in dev mode when running in a Linux environment. The dev mode probing is done by session manager.  \\n* `--system-gesture-start-height` \u2297 \\tThe number of pixels from the very top or bottom of the screen to consider as a valid origin for the top or bottom swipe gesture. Overrides the default value in cast_system_gesture_handler.cc.  \\n* `--system-gesture-start-width` \u2297 \\tThe number of pixels from the very left or right of the screen to consider as a valid origin for the left or right swipe gesture. Overrides the default value in cast_system_gesture_handler.cc.  \\n* `--system-log-upload-frequency` \u2297 \\tFrequency in Milliseconds for system log uploads. Should only be used for testing purposes.  \\n* `--telemetry-extension-dir` \u2297 \\tSpecifies directory for the Telemetry System Web Extension.  \\n* `--test-child-process` \u2297 \\tWhen running certain tests that spawn child processes, this switch indicates to the test framework that the current process is a child process.  \\n* `--test-cros-gaia-id-migration` \u2297 \\tControls CrOS GaiaId migration for tests (\\"\\" is default).  \\n* `--test-do-not-initialize-icu` \u2297 \\tWhen running certain tests that spawn child processes, this switch indicates to the test framework that the current process should not initialize ICU to avoid creating any scoped handles too early in startup.  \\n* `--test-encryption-migration-ui` \u2297 \\tEnables testing for encryption migration UI.  \\n* `--test-gl-lib` \u2297 \\tFlag used for Linux tests: for desktop GL bindings, try to load this GL library first, but fall back to regular library if loading fails.  \\n* `--test-logging-path` \u2297 \\tSet a path to save logs in while testing.  \\n* `--test-logging-url` \u2297 \\tSet a test logging URL, where logs will be uploaded.  \\n* `--test-name` \u2297 \\tPasses the name of the current running automated test to Chrome.  \\n* `--test-type` \u2297 \\tType of the current test harness (\\"browser\\" or \\"ui\\").  \\n* `--test-wallpaper-server` \u2297 \\tEnables the wallpaper picker to fetch images from the test server.  \\n* `--testing` \u2297 \\tFlag set during testing and stored as a crash key, to differentiate from crashes received from actual users. WARNING: this switch is used by internal test systems. Be careful when making changes.  \\n* `--tether-host-scans-ignore-wired-connections` \u2297 \\tTells the Chromebook to scan for a tethering host even if there is already a wired connection. This allows end-to-end tests to be deployed over ethernet without that connection preventing scans and thereby blocking the testing of cases with no preexisting connection. Should be used only for testing.  \\n* `--tether-stub` \u2297 \\tOverrides Tether with stub service. Provide integer arguments for the number of fake networks desired, e.g. \'tether-stub=2\'.  \\n* `--third-party-doodle-url` \u2297 \\tOverrides the Doodle URL to use for third-party search engines. Testing? Try: https://www.gstatic.com/chrome/ntp/doodle_test/third_party_simple.json https://www.gstatic.com/chrome/ntp/doodle_test/third_party_animated.json  \\n* `--timeout` \u2297 \\tIssues a stop after the specified number of milliseconds. This cancels all navigation and causes the DOMContentLoaded event to fire.  \\n* `--tint-composited-content` \u2297 \\tTint composited color.  \\n* `--tls1` \u2297 \\tTLS 1.0 mode for the |kSSLVersionMin| switch.  \\n* `--tls1.1` \u2297 \\tTLS 1.1 mode for the |kSSLVersionMin| switch.  \\n* `--tls1.2` \u2297 \\tTLS 1.2 mode for |kSSLVersionMax| and |kSSLVersionMin| switches.  \\n* `--tls1.3` \u2297 \\tTLS 1.3 mode for |kSSLVersionMax| and |kSSLVersionMin| switches.  \\n* `--top-chrome-touch-ui` \u2297 \\tControls touch-optimized UI layout for top chrome.  \\n* `--top-controls-hide-threshold` \u2297 \\tPercentage of the browser controls need to be hidden before they will auto hide.  \\n* `--top-controls-show-threshold` \u2297 \\tPercentage of the browser controls need to be shown before they will auto show.  \\n* `--touch-devices[10]` \u2297 \\tTells chrome to interpret events from these devices as touch events. Only available with XInput 2 (i.e. X server 1.8 or above). The id\'s of the devices can be retrieved from \'xinput list\'.  \\n* `--touch-events` \u2297 \\tEnable support for touch event feature detection.  \\n* `--touch-selection-strategy` \u2297 \\tControls how text selection granularity changes when touch text selection handles are dragged. Should be \\"character\\" or \\"direction\\". If not specified, the platform default is used.  \\n* `--touchscreen-usable-while-screen-off` \u2297 \\tChromebases\' touchscreens can be used to wake from suspend, unlike the touchscreens on other Chrome OS devices. If set, the touchscreen is kept enabled while the screen is off so that it can be used to turn the screen back on after it has been turned off for inactivity but before the system has suspended.  \\n* `--touch_view` \u2297 \\tNo description  \\n* `--trace-config-file` \u2297 \\tCauses TRACE_EVENT flags to be recorded from startup. This flag will be ignored if --trace-startup or --trace-shutdown is provided.  \\n* `--trace-startup` \u2297 \\tCauses TRACE_EVENT flags to be recorded from startup. Optionally, can specify the specific trace categories to include (e.g. --trace-startup=base,net) otherwise, all events are recorded. Setting this flag results in the first call to BeginTracing() to receive all trace events since startup. In Chrome, you may find --trace-startup-file and --trace-startup-duration to control the auto-saving of the trace (not supported in the base-only TraceLog component).  \\n* `--trace-startup-duration` \u2297 \\tSets the time in seconds until startup tracing ends. If omitted a default of 5 seconds is used. Has no effect without --trace-startup, or if --startup-trace-file=none was supplied.  \\n* `--trace-startup-enable-privacy-filtering` \u2297 \\tIf the perfetto tracing backend is used, this enables privacy filtering in the TraceEvent data sources for the startup tracing session.  \\n* `--trace-startup-file` \u2297 \\tIf supplied, sets the file which startup tracing will be stored into, if omitted the default will be used \\"chrometrace.log\\" in the current directory. Has no effect unless --trace-startup is also supplied. Example: --trace-startup --trace-startup-file=/tmp/trace_event.log As a special case, can be set to \'none\' - this disables automatically saving the result to a file and the first manually recorded trace will then receive all events since startup.  \\n* `--trace-startup-owner` \u2297 \\tSpecifies the coordinator of the startup tracing session. If the legacy tracing backend is used instead of perfetto, providing this flag is not necessary. Valid values: \'controller\', \'devtools\', or \'system\'. Defaults to \'controller\'. If \'controller\' is specified, the session is controlled and stopped via the TracingController (e.g. to implement the timeout). If \'devtools\' is specified, the startup tracing session will be owned by DevTools and thus can be controlled (i.e. stopped) via the DevTools Tracing domain on the first session connected to the browser endpoint. If \'system\' is specified, the system Perfetto service should already be tracing on a supported platform (currently only Android). Session is stopped through the normal methods for stopping system traces.  \\n* `--trace-startup-record-mode` \u2297 \\tIf supplied, sets the tracing record mode and options; otherwise, the default \\"record-until-full\\" mode will be used.  \\n* `--trace-to-console` \u2297 \\tSends a pretty-printed version of tracing info to the console.  \\n* `--trace-to-file` \u2297 \\tSends trace events from these categories to a file. --trace-to-file on its own sends to default categories.  \\n* `--trace-to-file-name` \u2297 \\tSpecifies the file name for --trace-to-file. If unspecified, it will go to a default file name.  \\n* `--trace-upload-url` \u2297 \\tSets the target URL for uploading tracing data.  \\n* `--translate-ranker-model-url` \u2297 \\tOverrides the URL from which the translate ranker model is downloaded.  \\n* `--translate-script-url` \u2297 \\tOverrides the default server used for Google Translate.  \\n* `--translate-security-origin` \u2297 \\tOverrides security-origin with which Translate runs in an isolated world.  \\n* `--true` \u2297 \\tValue indicating whether flag from command line switch is true.  \\n* `--trustable-web-bundles-file-url` \u2297 \\tAccepts specified file URL of a trustable WebBundle file. This flag should be used only for testing purpose.  \\n* `--trusted-cdn-base-url-for-tests[7]` \u2297 \\tSpecifies a base URL for the trusted CDN for tests.  \\n* `--trusted-download-sources` \u2297 \\tIdentifies a list of download sources as trusted, but only if proper group policy is set.  \\n* `--try-chrome-again` \u2297 \\tExperimental. Shows a dialog asking the user to try chrome. This flag is to be used only by the upgrade process.  \\n* `--try-supported-channel-layouts[1]` \u2297 \\tInstead of always using the hardware channel layout, check if a driver supports the source channel layout. Avoids outputting empty channels and permits drivers to enable stereo to multichannel expansion. Kept behind a flag since some drivers lie about supported layouts and hang when used. See http://crbug.com/259165 for more details.  \\n* `--tts[5]` \u2297 \\tNo description  \\n* `--type` \u2297 \\tIndicates the type of process to run. This may be \\"service-manager\\", \\"service-runner\\", or any other arbitrary value supported by the embedder.  \\n* `--ui-compositor-memory-limit-when-visible-mb` \u2297 \\tNo description  \\n* `--ui-disable-partial-swap` \u2297 \\tDisable partial swap which is needed for some OpenGL drivers / emulators.  \\n* `--ui-disable-zero-copy` \u2297 \\tNo description  \\n* `--ui-enable-layer-lists` \u2297 \\tSwitches the ui compositor to use layer lists instead of layer trees.  \\n* `--ui-enable-rgba-4444-textures` \u2297 \\tNo description  \\n* `--ui-enable-zero-copy` \u2297 \\tNo description  \\n* `--ui-show-composited-layer-borders` \u2297 \\tNo description  \\n* `--ui-show-fps-counter` \u2297 \\tNo description  \\n* `--ui-show-layer-animation-bounds` \u2297 \\tNo description  \\n* `--ui-show-paint-rects` \u2297 \\tNo description  \\n* `--ui-show-property-changed-rects` \u2297 \\tNo description  \\n* `--ui-show-screenspace-rects` \u2297 \\tNo description  \\n* `--ui-show-surface-damage-rects` \u2297 \\tNo description  \\n* `--ui-slow-animations` \u2297 \\tNo description  \\n* `--unfiltered-bluetooth-devices` \u2297 \\tShows all Bluetooth devices in UI (System Tray/Settings Page.)  \\n* `--uninstall[1]` \u2297 \\tRuns un-installation steps that were done by chrome first-run.  \\n* `--unlimited-storage` \u2297 \\tOverrides per-origin quota settings to unlimited storage for any apps/origins. This should be used only for testing purpose.  \\n* `--unsafely-allow-protected-media-identifier-for-domain` \u2297 \\tFor automated testing of protected content, this switch allows specific domains (e.g. example.com) to skip asking the user for permission to share the protected media identifier. In this context, domain does not include the port number. User\'s content settings will not be affected by enabling this switch. Reference: http://crbug.com/718608 Example: --unsafely-allow-protected-media-identifier-for-domain=a.com,b.ca  \\n* `--unsafely-treat-insecure-origin-as-secure` \u2297 \\tTreat given (insecure) origins as secure origins. Multiple origins can be supplied as a comma-separated list. For the definition of secure contexts, see https://w3c.github.io/webappsec-secure-contexts/ and https://www.w3.org/TR/powerful-features/#is-origin-trustworthy Example: --unsafely-treat-insecure-origin-as-secure=http://a.test,http://b.test  \\n* `--upload-log-file` \u2297 \\tSpecifies the full path to a protocol buffer log file to be uploaded.  \\n* `--use-adapter-luid` \u2297 \\tInitialize the GPU process using the adapter with the specified LUID. This is only used on Windows, as LUID is a Windows specific structure.  \\n* `--use-angle` \u2297 \\tSelect which ANGLE backend to use. Options are: default: Attempts several ANGLE renderers until one successfully initializes, varying ES support by platform. d3d9: Legacy D3D9 renderer, ES2 only. d3d11: D3D11 renderer, ES2 and ES3. warp: D3D11 renderer using software rasterization, ES2 and ES3. gl: Desktop GL renderer, ES2 and ES3. gles: GLES renderer, ES2 and ES3.  \\n* `--use-cmd-decoder` \u2297 \\tUse the Pass-through command decoder, skipping all validation and state tracking. Switch lives in ui/gl because it affects the GL binding initialization on platforms that would otherwise not default to using EGL bindings.  \\n* `--use-cras[20]` \u2297 \\tUse CRAS, the ChromeOS audio server.  \\n* `--use-crash-handler-in-tests` \u2297 \\tIf present, the test harness will use the crash reporter.  \\n* `--use-crash-handler-with-id` \u2297 \\tSpecifies the IPC pipe name of the crash handler to use (instead of starting a new crash handler process).  \\n* `--use-fake-codec-for-peer-connection` \u2297 \\tReplaces the existing codecs supported in peer connection with a single fake codec entry that create a fake video encoder and decoder.  \\n* `--use-fake-device-for-media-stream` \u2297 \\tUse fake device for Media Stream to replace actual camera and microphone. For the list of allowed parameters, see FakeVideoCaptureDeviceFactory::ParseFakeDevicesConfigFromOptionsString().  \\n* `--use-fake-mjpeg-decode-accelerator` \u2297 \\tUse a fake device for accelerated decoding of MJPEG. This allows, for example, testing of the communication to the GPU service without requiring actual accelerator hardware to be present.  \\n* `--use-fake-ui-for-media-stream` \u2297 \\tBypass the media stream infobar by selecting the default device for media streams (e.g. WebRTC). Works with --use-fake-device-for-media-stream.  \\n* `--use-file-for-fake-audio-capture` \u2297 \\tPlay a .wav file as the microphone. Note that for WebRTC calls we\'ll treat the bits as if they came from the microphone, which means you should disable audio processing (lest your audio file will play back distorted). The input file is converted to suit Chrome\'s audio buses if necessary, so most sane .wav files should work. You can pass either `<path>` to play the file looping or `<path>`%noloop to stop after playing the file to completion.  \\n* `--use-file-for-fake-video-capture` \u2297 \\tUse an .y4m file to play as the webcam. See the comments in media/capture/video/file_video_capture_device.h for more details.  \\n* `--use-first-display-as-internal` \u2297 \\tUses the 1st display in --ash-host-window-bounds as internal display. This is for debugging on linux desktop.  \\n* `--use-gl` \u2297 \\tSelect which implementation of GL the GPU process should use. Options are: desktop: whatever desktop OpenGL the user has installed (Linux and Mac default). egl: whatever EGL / GLES2 the user has installed (Windows default - actually ANGLE). swiftshader: The SwiftShader software renderer.  \\n* `--use-gpu-high-thread-priority-for-perf-tests` \u2297 \\tIncreases the priority (to REALTIME_AUDIO) of gpu process and compositor thread. This is only to be used for perf tests on macOS for more reliable values.  \\n* `--use-gpu-in-tests` \u2297 \\tUse hardware gpu, if available, for tests.  \\n* `--use-legacy-metrics-service` \u2297 \\tNo description  \\n* `--use-mobile-user-agent` \u2297 \\tSet when Chromium should use a mobile user agent.  \\n* `--use-mock-cert-verifier-for-testing` \u2297 \\tUse the MockCertVerifier. This only works in test code.  \\n* `--use-mock-keychain[8]` \u2297 \\tNo description  \\n* `--use-system-clipboard` \u2297 \\tEnables the ozone x11 clipboard for linux-chromeos.  \\n* `--use-system-default-printer[21]` \u2297 \\tUses the system default printer as the initially selected destination in print preview, instead of the most recently used destination.  \\n* `--use-temp-registry-path` \u2297 \\tOverride the registry with the specified temporary registry. Used for tests.  \\n* `--use-vulkan` \u2297 \\tEnable Vulkan support and select Vulkan implementation, must also have ENABLE_VULKAN defined. This only initializes Vulkan, the flag --enable-features=Vulkan must also be used to select Vulkan for compositing and rasterization.  \\n* `--user-agent` \u2297 \\tA string used to override the default user agent with a custom one.  \\n* `--user-agent-product` \u2297 \\tNo description  \\n* `--user-always-affiliated` \u2297 \\tAlways treat user as affiliated. TODO(antrim): Remove once test servers correctly produce affiliation ids.  \\n* `--user-data-dir` \u2297 \\tDirectory where the browser stores the user profile.  \\n* `--user-data-migrated[22]` \u2297 \\tIndicates that this process is the product of a relaunch following migration of User Data.  \\n* `--user-gesture-required` \u2297 \\tAutoplay policy to require a user gesture in order to play.  \\n* `--user-response-timeout` \u2297 \\tSet the timeout for how long to wait for user response from Chrome, in minutes. 0 disables the timeout entirely.  \\n* `--utility` \u2297 \\tNo description  \\n* `--utility-and-browser` \u2297 \\tNo description  \\n* `--utility-cmd-prefix` \u2297 \\tThe contents of this flag are prepended to the utility process command line. Useful values might be \\"valgrind\\" or \\"xterm -e gdb --args\\".  \\n* `--utility-sampling` \u2297 \\tNo description  \\n* `--utility-startup-dialog` \u2297 \\tCauses the utility process to display a dialog on launch.  \\n* `--utility-sub-type` \u2297 \\tThis switch indicates the type of a utility process. It is not used by Chrome but is added to the command line for debugging and profiling purposes.  \\n* `--v` \u2297 \\tGives the default maximal active V-logging level; 0 is the default. Normally positive values are used for V-logging levels.  \\n* `--v8-cache-options` \u2297 \\tSet options to cache V8 data. (off, preparse data, or code)  \\n* `--validate-crx` \u2297 \\tExamines a .crx for validity and prints the result.  \\n* `--validate-input-event-stream` \u2297 \\tIn debug builds, asserts that the stream of input events is valid.  \\n* `--validating` \u2297 \\tThe command decoder names that can be passed to --use-cmd-decoder.  \\n* `--variations-insecure-server-url` \u2297 \\tSpecifies a custom URL for the server to use as an insecure fallback when requests to |kVariationsServerURL| fail. Requests to this URL will be encrypted.  \\n* `--variations-override-country` \u2297 \\tAllows overriding the country used for evaluating variations. This is similar to the \\"Override Variations Country\\" entry on chrome://translate-internals, but is exposed as a command-line flag to allow testing First Run scenarios. Additionally, unlike chrome://translate-internals, the value isn\'t persisted across sessions.  \\n* `--variations-server-url` \u2297 \\tSpecifies a custom URL for the server which reports variation data to the client. Specifying this switch enables the Variations service on unofficial builds. See variations_service.cc.  \\n* `--version` \u2297 \\tNo description  \\n* `--video-capture-use-gpu-memory-buffer` \u2297 \\tEnables GpuMemoryBuffer-based buffer pool.  \\n* `--video-image-texture-target` \u2297 \\tTexture target for CHROMIUM_image backed video frame textures.  \\n* `--video-threads` \u2297 \\tSet number of threads to use for video decoding.  \\n* `--video-underflow-threshold-ms` \u2297 \\tAllows clients to override the threshold for when the media renderer will declare the underflow state for the video stream when audio is present. TODO(dalecurtis): Remove once experiments for http://crbug.com/470940 finish.  \\n* `--video_capture` \u2297 \\tNo description  \\n* `--virtual-time-budget` \u2297 \\tIf set the system waits the specified number of virtual milliseconds before deeming the page to be ready. For determinism virtual time does not advance while there are pending network fetches (i.e no timers will fire). Once all network fetches have completed, timers fire and if the system runs out of virtual time is fastforwarded so the next timer fires immediatley, until the specified virtual time budget is exhausted.  \\n* `--vmodule` \u2297 \\tGives the per-module maximal V-logging levels to override the value given by --v. E.g. \\"my_module=2,foo*=3\\" would change the logging level for all code in source files \\"my_module.*\\" and \\"foo*.*\\" (\\"-inl\\" suffixes are also disregarded for this matching). Any pattern containing a forward or backward slash will be tested against the whole pathname and not just the module. E.g., \\"*/foo/bar/*=2\\" would change the logging level for all code in source files under a \\"foo/bar\\" directory.  \\n* `--vsync-interval` \u2297 \\tOverrides the vsync interval used by the GPU process to refresh the display.  \\n* `--vulkan` \u2297 \\tNo description  \\n* `--vulkan-null` \u2297 \\tNo description  \\n* `--wait-for-debugger` \u2297 \\tWill wait for 60 seconds for a debugger to come to attach to the process.  \\n* `--wait-for-debugger-children` \u2297 \\tWill add kWaitForDebugger to every child processes. If a value is passed, it will be used as a filter to determine if the child process should have the kWaitForDebugger flag passed on or not.  \\n* `--wait-for-debugger-webui` \u2297 \\tFlag used by WebUI test runners to wait for debugger to be attached.  \\n* `--wait-for-initial-policy-fetch-for-test` \u2297 \\tUsed to tell the policy infrastructure to not let profile initialization complete until policy is manually set by a test. This is used to provide backward compatibility with a few tests that incorrectly use the synchronously-initialized login profile to run their tests - do not add new uses of this flag.  \\n* `--wallet-service-use-sandbox` \u2297 \\tUse the sandbox Online Wallet service URL (for developer testing).  \\n* `--waveout-buffers[1]` \u2297 \\tNumber of buffers to use for WaveOut.  \\n* `--web-otp-backend` \u2297 \\tEnables specified backend for the Web OTP API.  \\n* `--web-otp-backend-sms-verification` \u2297 \\tEnables Sms Verification backend for Web OTP API which requires app hash in SMS body.  \\n* `--web-otp-backend-user-consent` \u2297 \\tEnables User Consent backend for Web OTP API.  \\n* `--webapk-server-url[7]` \u2297 \\tCustom WebAPK server URL for the sake of testing.  \\n* `--webgl-antialiasing-mode` \u2297 \\tSet the antialiasing method used for webgl. (none, explicit, implicit)  \\n* `--webgl-msaa-sample-count` \u2297 \\tSet a default sample count for webgl if msaa is enabled.  \\n* `--weblayer-user-data-dir` \u2297 \\tMakes WebLayer Shell use the given path for its data directory.  \\n* `--webrtc-event-log-proactive-pruning-delta` \u2297 \\tSets the delay (in seconds) between proactive prunings of remote-bound WebRTC event logs which are pending upload. All positive values are legal. All negative values are illegal, and ignored. If set to 0, the meaning is \\"no proactive pruning\\".  \\n* `--webrtc-event-log-upload-delay-ms` \u2297 \\tWebRTC event logs will only be uploaded if the conditions hold for this many milliseconds.  \\n* `--webrtc-event-log-upload-no-suppression` \u2297 \\tNormally, remote-bound WebRTC event logs are uploaded only when no peer connections are active. With this flag, the upload is never suppressed.  \\n* `--webrtc-event-logging` \u2297 \\tEnable capture and local storage of WebRTC event logs without visiting chrome://webrtc-internals. This is useful for automated testing. It accepts the path to which the local logs would be stored. Disabling is not possible without restarting the browser and relaunching without this flag.  \\n* `--webrtc-max-cpu-consumption-percentage` \u2297 \\tConfigure the maximum CPU time percentage of a single core that can be consumed for desktop capturing. Default is 50. Set 100 to disable the throttling of the capture.  \\n* `--webrtc-stun-probe-trial` \u2297 \\tRenderer process parameter for WebRTC Stun probe trial to determine the interval. Please see SetupStunProbeTrial in chrome_browser_field_trials_desktop.cc for more detail.  \\n* `--webview-disable-safebrowsing-support` \u2297 \\tused to disable safebrowsing functionality in webview  \\n* `--webview-enable-vulkan` \u2297 \\tUsed to enable vulkan draw mode instead of interop draw mode for webview.  \\n* `--webview-log-js-console-messages` \u2297 \\tNo description  \\n* `--webview-safebrowsing-block-all-resources` \u2297 \\tEnables SafeBrowsing and causes WebView to treat all resources as malicious. Use care: this will block all resources from loading.  \\n* `--webview-sandboxed-renderer` \u2297 \\tNo description  \\n* `--webview-verbose-logging` \u2297 \\tWebView will log additional debugging information to logcat, such as variations and commandline state.  \\n* `--whitelisted-extension-id` \u2297 \\tAdds the given extension ID to all the permission allowlists.  \\n* `--win-jumplist-action` \u2297 \\tSpecifies which category option was clicked in the Windows Jumplist that resulted in a browser startup.  \\n* `--window-position` \u2297 \\tSpecify the initial window position: --window-position=x,y  \\n* `--window-size` \u2297 \\tSets the initial window size. Provided as string in the format \\"800,600\\".  \\n* `--window-workspace` \u2297 \\tSpecify the initial window workspace: --window-workspace=id  \\n* `--windows-mixed-reality` \u2297 \\tNo description  \\n* `--winhttp-proxy-resolver` \u2297 \\tUses WinHTTP to fetch and evaluate PAC scripts. Otherwise the default is to use Chromium\'s network stack to fetch, and V8 to evaluate.  \\n* `--with-cleanup-mode-logs` \u2297 \\tIdentify that the elevated cleaner process is allowed to collect logs. This shouldn\'t be set if |kExecutionModeSwitch| is not ExecutionMode::kCleaner.  \\n* `--wm-window-animations-disabled` \u2297 \\tIf present animations are disabled.  \\n* `--xr_compositing[1]` \u2297 \\tNo description  \\n* `--xsession_chooser[10]` \u2297 \\tNo description  \\n--zygote \u2297 \\tCauses the process to run as a zygote.  \\n\\n## How to use a command line switch?\\n\\nThe Chromium Team has made a page on which [they briefly explain](http://www.chromium.org/developers/how-tos/run-chromium-with-flags) how to use these switches.\\n\\n## Conditions(flag)\\n\\nThese are rather technical. While most are pretty self-explanatory, keep in mind that any condition means that a switch isn\'t always available.\\n\\n1. The constant OS_WIN must be defined.\\n1. The constant BUILDFLAG(ENABLE_PLUGINS) must be defined.\\n1. The constant !BUILDFLAG(IS_OFFICIAL_CHROME_CLEANER_BUILD) must not be defined.\\n1. The constants OS_FREEBSD, OS_LINUX and OS_SOLARIS must be defined.\\n1. The constant OS_CHROMEOS must be defined.\\n1. The constant OS_MAC must be defined.\\n1. The constant OS_ANDROID must be defined.\\n1. The constant OS_APPLE must be defined.\\n1. The constants OS_CHROMEOS and OS_MAC must not be defined, and the constant OS_POSIX must be defined.\\n1. The constant OS_LINUX must be defined.\\n1. The constant OFFICIAL_BUILD must not be defined, and the constant BUILDFLAG(ENABLE_PRINT_PREVIEW) must be defined.\\n1. The constants USE_OZONE and USE_X11 must be defined.\\n1. The constants !BUILDFLAG(IS_LACROS) and OS_CHROMEOS must not be defined, and the constant OS_LINUX must be defined.\\n1. The constant OS_POSIX must be defined.\\n1. The constants OS_LINUX, OS_MAC and OS_WIN must be defined.\\n1. The constant OS_FUCHSIA must be defined.\\n1. The constant OS_CHROMEOS must not be defined, and the constant OS_LINUX must be defined.\\n1. The constant ENABLE_IPC_FUZZER must be defined.\\n1. The constant DCHECK_IS_ON() must be defined.\\n1. The constant USE_CRAS must be defined.\\n1. The constants OS_ANDROID and OS_CHROMEOS must not be defined.\\n1. The constant BUILDFLAG(ENABLE_DOWNGRADE_PROCESSING) must be defined."},{"id":"/2021/03/21/docusaurus-github-deploy","metadata":{"permalink":"/blog/2021/03/21/docusaurus-github-deploy","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-21-docusaurus-github-deploy.md","source":"@site/src/blog/2021-03-21-docusaurus-github-deploy.md","title":"Docusaurus \u914d\u7f6e GitHub Action \u81ea\u52a8\u53d1\u5e03","description":"Docusaurus \u914d\u7f6e GitHub Action \u81ea\u52a8\u53d1\u5e03","date":"2021-03-21T00:00:00.000Z","formattedDate":"March 21, 2021","tags":[{"label":"github","permalink":"/blog/tags/github"},{"label":"Docusaurus","permalink":"/blog/tags/docusaurus"},{"label":"github action","permalink":"/blog/tags/github-action"}],"readingTime":2.62,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Docusaurus \u914d\u7f6e GitHub Action \u81ea\u52a8\u53d1\u5e03","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["github","Docusaurus","github action"],"description":"Docusaurus \u914d\u7f6e GitHub Action \u81ea\u52a8\u53d1\u5e03","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Chromium \u6240\u6709\u5f00\u5173(flag)\u5217\u8868","permalink":"/blog/2021/03/21/chromium-command-line-switches"},"nextItem":{"title":"frp\u8fde\u63a5 EOF \u5931\u8d25\u95ee\u9898","permalink":"/blog/2021/03/21/frp-eof"}},"content":"[\u539f\u6587 - Deploying to GitHub Pages](https://v2.docusaurus.io/docs/deployment/#deploying-to-github-pages)\\n\\n\u8bb0\u5f55\u4e00\u4e0b\u6211\u662f\u5982\u4f55\u5229\u7528 GitHub Action\uff0c\u81ea\u52a8\u53d1\u5e03\u6211\u7684 Docusaurus(\u4ee5\u4e0b\u7b80\u79f0Doc) \u535a\u5ba2\u7684\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Git \u4ed3\u5e93\u7ed3\u6784\\n\\n\u6211\u7684 Doc \u6e90\u7801\u662f\u5728\u4ed3\u5e93`alanwei43/blog`\u7684 `master` \u5206\u652f\uff0c\u6e90\u7801\u53d1\u5e03\u540e\u7684\u9759\u6001\u7ad9\u70b9\uff0c\u4e5f\u5c31\u662fGitHub Page\u6240\u5728\u4ed3\u5e93\u662f `alanwei43/alanwei43.github.io`\uff0cGitHub Page\u4f7f\u7528 *master* \u5206\u652f\u3002\\n\\n## \u914d\u7f6e\u4ed3\u5e93\\n\\n\u9996\u5148\u9700\u8981\u914d\u7f6e `alanwei43/blog` \u4ed3\u5e93\u7684\u8ba4\u8bc1\u3002\\n\\n1. \u751f\u6210\u4e00\u5bf9 SSH Key(\u5982\u679c\u4f60\u7684\u7cfb\u7edf\u5b89\u88c5\u4e86SSH\uff0c\u53ef\u4ee5\u6267\u884c`ssh-keygen`\u751f\u6210\u3002\u56e0\u4e3a\u6211\u662fMac\uff0c\u4e4b\u524d\u751f\u6210\u8fc7\uff0c\u6240\u4ee5\u76f4\u63a5\u4f7f\u7528 *~/.ssh* \u76ee\u5f55\u4e0b\u7684SSH Key\u3002)\\n2. \u8bbf\u95ee\u4ed3\u5e93 `alanwei43/alanwei43.github.io`\uff0c\u4f9d\u6b21\u8fdb\u5165\u5230\u4ed3\u5e93\u7684 **Settings > Deploy keys**\uff0c\u7136\u540e\u5c06\u7b2c\u4e00\u6b65\u751f\u6210\u7684\u516c\u94a5 *id_rsa.pub* \u6dfb\u52a0\u8fdb\u53bb\u3002(\u6dfb\u52a0key\u7684\u65f6\u5019\u9700\u8981\u52fe\u9009 **Allow write access**\u3002)\\n3. \u8bbf\u95ee\u4ed3\u5e93 `alanwei43/blog`\uff0c\u4f9d\u6b21\u8fdb\u5165\u5230\u4ed3\u5e93\u7684 **Settings > Secrets**\uff0c\u7136\u540e\u5c06\u7b2c\u4e00\u6b65\u751f\u6210\u7684\u79c1\u94a5 *id_rsa* \u6dfb\u52a0\u8fdb\u53bb\uff0c\u540d\u79f0\u586b\u5199 `GH_PAGES_DEPLOY`\u3002\\n\\n:::note\\n\u6211\u5b9e\u9645\u64cd\u4f5c\u4e2d\u5e76\u6ca1\u6709\u6267\u884c\u7b2c2\u6b65\uff0c\u56e0\u4e3a\u6211\u4e4b\u524d\u5df2\u7ecf\u628aMac\u4e0a\u7684 *id_rsa.pub* \u6dfb\u52a0\u5230\u6211GitHub\u8d26\u53f7(*Account settings > SSH and GPG keys*)\u91cc\u4e86, \u7136\u540e\u4f7f\u7528\u6211Mac\u4e0a\u7684\u79c1\u6709SSH\u53ef\u4ee5(*id_rsa*)\u64cd\u4f5c\u6211GitHub\u8d26\u53f7\u4e0b\u7684\u6240\u6709\u4ed3\u5e93.\\n:::\\n\\n## \u521b\u5efa Workflow \u6587\u4ef6\\n\\n\u5728 `alanwei43/blog` \u9879\u76ee\u6839\u76ee\u5f55\u521b\u5efa\u6587\u4ef6 `.github/workflows/documentation.yml`\\n\\n```yml title=\\".github/workflows/documentation.yml\\"\\nname: documentation\\n\\non:\\n  pull_request:\\n    branches: [master]\\n  push:\\n    branches: [master] # \u8fd9\u91cc\u8868\u793a\u5f53 alanwei43/blog \u7684\u5206\u652f master \u6709push\u4ee3\u7801\u662f\u6267\u884c\u4ee5\u4e0bjob\\n\\njobs:\\n  checks:\\n    if: github.event_name != \'push\'\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v1\\n      - uses: actions/setup-node@v1\\n        with:\\n          node-version: \'12.x\'\\n      - name: Test Build\\n        run: |\\n          if [ -e yarn.lock ]; then\\n          yarn install --frozen-lockfile\\n          elif [ -e package-lock.json ]; then\\n          npm ci\\n          else\\n          npm i\\n          fi\\n          npm run build\\n  gh-release:\\n    if: github.event_name != \'pull_request\'\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v1\\n      - uses: actions/setup-node@v1\\n        with:\\n          node-version: \'12.x\'\\n      - uses: webfactory/ssh-agent@v0.5.0\\n        with:\\n          ssh-private-key: ${{ secrets.GH_PAGES_DEPLOY }}\\n      - name: Release to GitHub Pages\\n        env:\\n          USE_SSH: true # \u8fd9\u91cc\u914d\u7f6e\u6210\u4f7f\u7528SSH\u8ba4\u8bc1\uff0c\u4f1a\u7528\u5230\u4e0a\u9762\u914d\u7f6e\u7684 deploy key \u548c secret\\n          GIT_USER: git\\n          DEPLOYMENT_BRANCH: master # \u8fd9\u91cc\u6307\u7684\u662f alanwei43/alanwei43.github.io \u4ed3\u5e93\u7684 GitHub Page \u4f7f\u7528\u7684\u5206\u652f\u540d\\n        run: |\\n          git config --global user.email \\"actions@github.com\\"\\n          git config --global user.name \\"gh-actions\\"\\n          if [ -e yarn.lock ]; then\\n          yarn install --frozen-lockfile\\n          elif [ -e package-lock.json ]; then\\n          npm ci\\n          else\\n          npm i\\n          fi\\n          npm run deploy\\n```\\n\\n:::note \u53c2\u8003\u8d44\u6599\\n* [GitHub deploy keys](https://developer.github.com/v3/guides/managing-deploy-keys/)\\n* [GitHub secret](https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets)\\n:::"},{"id":"/2021/03/21/frp-eof","metadata":{"permalink":"/blog/2021/03/21/frp-eof","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-21-frp-eof.md","source":"@site/src/blog/2021-03-21-frp-eof.md","title":"frp\u8fde\u63a5 EOF \u5931\u8d25\u95ee\u9898","description":"\u4e3a\u4e86\u5728\u5bb6\u8c03\u8bd5\u65b9\u4fbf\uff0c\u8001\u9ad8\u4f7f\u7528frp\u5c06\u81ea\u5df1\u653e\u5728\u516c\u53f8\u7684\u5f00\u53d1\u673a\u5668\u7684ssh\u7aef\u53e3\u5f00\u653e\u51fa\u6765\u4e86\uff0c\u4f46\u662f\u914d\u7f6efrp\u5ba2\u6237\u7aef\u7684\u8fc7\u7a0b\u4e2d\u603b\u662f\u51fa\u73b0\u4e0b\u9762\u7684\u4e00\u53e5\u8bdd:","date":"2021-03-21T00:00:00.000Z","formattedDate":"March 21, 2021","tags":[{"label":"frp","permalink":"/blog/tags/frp"}],"readingTime":4.875,"hasTruncateMarker":true,"authors":[{"name":"\u8001\u9ad8","title":"\u8bb0\u5f55\u548c\u5206\u4eab\uff0c\u4e0e\u4f60\u6bcf\u5929\u8fdb\u6b65\u4e00\u70b9\u70b9\u3002","url":"https://blog.phpgao.com/author/1/"}],"frontMatter":{"title":"frp\u8fde\u63a5 EOF \u5931\u8d25\u95ee\u9898","author":"\u8001\u9ad8","author_title":"\u8bb0\u5f55\u548c\u5206\u4eab\uff0c\u4e0e\u4f60\u6bcf\u5929\u8fdb\u6b65\u4e00\u70b9\u70b9\u3002","author_url":"https://blog.phpgao.com/author/1/","tags":["frp"],"draft":false},"prevItem":{"title":"Docusaurus \u914d\u7f6e GitHub Action \u81ea\u52a8\u53d1\u5e03","permalink":"/blog/2021/03/21/docusaurus-github-deploy"},"nextItem":{"title":"linux\u4e0b\u67e5\u770b\u6307\u5b9a\u8fdb\u7a0b\u7684\u6240\u6709\u8fde\u63a5\u4fe1\u606f","permalink":"/blog/2021/03/21/linux-all-ps-connection"}},"content":"import { NetworkCopyRight } from \\"@site/src/components\\";\\n\\n\x3c!--truncate--\x3e\\n\\n\u4e3a\u4e86\u5728\u5bb6\u8c03\u8bd5\u65b9\u4fbf\uff0c\u8001\u9ad8\u4f7f\u7528frp\u5c06\u81ea\u5df1\u653e\u5728\u516c\u53f8\u7684\u5f00\u53d1\u673a\u5668\u7684ssh\u7aef\u53e3\u5f00\u653e\u51fa\u6765\u4e86\uff0c\u4f46\u662f\u914d\u7f6efrp\u5ba2\u6237\u7aef\u7684\u8fc7\u7a0b\u4e2d\u603b\u662f\u51fa\u73b0\u4e0b\u9762\u7684\u4e00\u53e5\u8bdd:\\n\\n```\\n2019/08/30 23:42:47 [W] [service.go:82] login to server failed: EOF\\nEOF\\n```\\n\\n\u5f00\u59cb\u6000\u7591\u662ffrp\u7684\u7248\u672c\u95ee\u9898\uff0c\u4e8e\u662f\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u90fd\u6362\u4e0a\u4e86\u6700\u65b0\u7684\u7248\u672c\uff0c\u7ed3\u679c\u8fd8\u662f\u65e0\u6cd5\u89e3\u51b3\u95ee\u9898\uff0c\u7ee7\u7eed\u5c1d\u8bd5\u66f4\u6362\u7aef\u53e3\uff0c\u95ee\u9898\u4f9d\u65e7\u3002\\n\\n\u7f51\u4e0a\u641c\u7d22\u4e00\u5708\uff0c\u53d1\u73b0\u9047\u5230`login to server failed: EOF`\u95ee\u9898\u7684\u4eba\u8fd8\u771f\u4e0d\u5c11\uff0c\u4e0b\u9762\u770b\u770b\u8001\u9ad8\u662f\u5982\u4f55\u89e3\u51b3\u7684\u5427!\\n\\n### \u672c\u5730\u6293\u5305\\n\\n\u5f00\u542fWireshark\uff0c\u9009\u62e9\u7f51\u5361\uff0c\u8f93\u5165\u8fc7\u6ee4\u89c4\u5219:\\n\\n```\\ntcp and ip.addr==xxx.xxx.220.109\\n```\\n\\nwireshark \u6293\u5305\\n\\n\u540e\u9762\u7684\u90a3\u4e09\u4e2aRST\u5305\u5f88\u53ef\u7591\uff0c\u5176\u4e2d\u8fd8\u6709\u4e09\u4e2aIRC\u534f\u8bae\u7684\u5305\uff0c\u6253\u5f00\u770b\u4e00\u4e0b\uff0c\u53d1\u73b0\u539f\u6765\u662f\u8ba4\u8bc1\u6570\u636e\u3002\\n\\n```\\n{\\"version\\":\\"0.28.2\\",\\"hostname\\":\\"\\",\\"os\\":\\"darwin\\",\\"arch\\":\\"amd64\\",\\"user\\":\\"\\",\\"privilege_key\\":\\"144fa23b09635f403ccd18\\",\\"timestamp\\":1567119104,\\"run_id\\":\\"\\",\\"pool_count\\":1}\\n```\\n\\n### \u670d\u52a1\u7aef\u6293\u5305\\n\\n\u6253\u5f00\u7ec8\u7aef\uff0c\u8f93\u5165\u547d\u4ee4\\n\\n```bash\\n# xxxx \u4e3afrp\u76d1\u542c\u7aef\u53e3\\ntcpdump -i eth0  port xxxx -n\\n\\n23:57:54.041136 IP 180.167.229.162.64674 > xx.xx.xx.xx.PPPP: Flags [S], seq 2454088299, win 65535, options [mss 1460,nop,wscale 6,nop,nop,TS val 1598952560 ecr 0,sackOK,eol], length 0\\n23:57:54.041203 IP xx.xx.xx.xx.PPPP > 180.167.229.162.64674: Flags [S.], seq 2502814427, ack 2454088300, win 65160, options [mss 1460,sackOK,TS val 3508779989 ecr 1598952560,nop,wscale 6], length 0\\n23:57:54.171283 IP 180.167.229.162.64674 > xx.xx.xx.xx.PPPP: Flags [.], ack 1, win 2058, options [nop,nop,TS val 1598952691 ecr 3508779989], length 0\\n23:57:54.171670 IP 180.167.229.162.64674 > xx.xx.xx.xx.PPPP: Flags [P.], seq 1:13, ack 1, win 2058, options [nop,nop,TS val 1598952692 ecr 3508779989], length 12\\n23:57:54.171694 IP xx.xx.xx.xx.PPPP > 180.167.229.162.64674: Flags [.], ack 13, win 1018, options [nop,nop,TS val 3508780120 ecr 1598952692], length 0\\n23:57:54.171896 IP xx.xx.xx.xx.PPPP > 180.167.229.162.64674: Flags [P.], seq 1:13, ack 13, win 1018, options [nop,nop,TS val 3508780120 ecr 1598952692], length 12\\n23:57:54.172366 IP 180.167.229.162.64674 > xx.xx.xx.xx.PPPP: Flags [P.], seq 13:25, ack 1, win 2058, options [nop,nop,TS val 1598952692 ecr 3508779989], length 12\\n23:57:54.172391 IP 180.167.229.162.64674 > xx.xx.xx.xx.PPPP: Flags [R.], seq 25, ack 1, win 8224, length 0\\n23:57:54.301735 IP 180.167.229.162.64674 > xx.xx.xx.xx.PPPP: Flags [R.], seq 13, ack 1, win 8224, length 0\\n23:57:54.302089 IP 180.167.229.162.64674 > xx.xx.xx.xx.PPPP: Flags [R.], seq 13, ack 13, win 8224, length 0\\n```\\n\\n\u597d\u561b\uff0c\u6ce8\u610f\u6700\u540e\u4e09\u4e2a\u5305\uff0c\u4e5f\u662fRST\uff0c\u800c\u4e14\u65b9\u5411\u521a\u597d\u548c\u6211\u5728\u672c\u5730\u6293\u5305\u76f8\u53cd\uff0c\u5f88\u660e\u663e\uff0c\u8fd9\u662f\u53d7\u5230\u4e86\u66ff\u8eab\u653b\u51fb!\ud83d\ude04\\n\\n### \u89e3\u51b3\\n\\n\u770b\u6765\u516c\u53f8\u7684\u9632\u706b\u5899\u5e94\u8be5\u662f\u63a2\u6d4b\u5230\u4e86\u67d0\u4e9b\u7279\u5f81\u6d41\u91cf\u800c\u89e6\u53d1\u4e86\u89c4\u5219\uff0c\u5bfc\u81f4frp\u8ba4\u8bc1\u7684\u5305\u88ab\u91cd\u7f6e\uff0c\u4e8e\u662f\u670d\u52a1\u7aeffrp\u5173\u95ed\u4e86\u94fe\u63a5\uff0c\u800c\u7ffb\u5f00\u6e90\u7801\uff0c\u6211\u4eec\u80fd\u770b\u5230\u518d\u53d1\u9001\u5b8c\u8ba4\u8bc1\u4fe1\u606f\u540e\u6267\u884c\u4e86 `ReadMsgInto` \u65b9\u6cd5\uff0c\u56e0\u4e3a\u8fde\u63a5\u5df2\u7ecf\u5173\u95ed\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u5f97\u5230\u4e86EOF\u9519\u8bef!\\n\\n\u56de\u5934\u518d\u770bwireshark\u7684RST\u5305\u4e4b\u524d\u7684\u4e09\u4e2aIRC\u5305\uff0c\u7b49\u7b49\uff0cIRC\u662f\u4ec0\u4e48\u9b3c\uff1f\u5728FRP\u6e90\u4ee3\u7801\u4e2d\u6839\u672c\u641c\u4e0d\u5230\u8fd9\u4e2a\u5173\u952e\u5b57\u554a!\u4ece\u6e90\u4ee3\u7801\u7684\u767b\u5f55\u903b\u8f91\u6765\u770b\uff0c\u57fa\u672c\u90fd\u662fTCP\u7684\u64cd\u4f5c\u3002\u4e8e\u662f\u518d\u8bd5\u7740\u6293\u4e00\u6b21\u5305\uff0cIRC\u53c8\u53d8\u56de\u4e86TCP\uff0c\u770b\u6765wireshark\u4e5f\u6709\u8bef\u62a5\u7684\u60c5\u51b5\u53d1\u751f\u3002\\n\\n\u7a76\u5176\u539f\u56e0\uff0c\u5f88\u6709\u53ef\u80fd\u662f\u8fd9\u4e00\u6bb5\u660e\u6587\u6570\u636e\u66b4\u9732\u4e86frp\uff0c\u7136\u540e\u5bfc\u81f4\u88ab\u9632\u706b\u5899\u5c01\u6740\u3002\\n\\n\u90a3\u4e48\u5982\u4f55\u89e3\u51b3`login to server failed: EOF`\u7684\u95ee\u9898\u5462\uff1f\\n\\n\u5176\u5b9e\u770b\u4e86\u6e90\u4ee3\u7801\u5c31\u77e5\u9053\u4e86\uff0c\u539f\u6765frp\u5728v0.25.0\u7248\u672c\u540e\u589e\u52a0\u4e86\u4e00\u4e2a\u5ba2\u6237\u7aef\u9009\u9879\uff0c\u652f\u6301\u4e86tls\u4f20\u8f93\uff0c\u4e5f\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u975e\u5bf9\u79f0\u52a0\u5bc6\uff0c\u539f\u6765\u5728frps\u521d\u59cb\u5316\u670d\u52a1\u65f6\uff0c\u5728\u5185\u5b58\u4e2d\u5df2\u7ecf\u4e3a\u6211\u4eec\u751f\u6210\u4e86\u4e00\u4e2a\u7b80\u6613\u7684TLS\u670d\u52a1\uff0c\u7b80\u76f4\u5b8c\u7f8e!\\n\\n\u5f00\u542f\u7684\u529e\u6cd5\u5f88\u7b80\u5355\uff0c\u5728\u5ba2\u6237\u7aef\u539f\u6765\u7684`[common]`\u914d\u7f6e\u4e2d\u52a0\u5165`tls_enable = true`\u5373\u53ef!\\n\\n### \u53e6\u4e00\u79cd\u89e3\u51b3\u529e\u6cd5\\n\\n\u5176\u5b9e\u561b\uff0c\u8fd8\u6709\u4e00\u79cd\u89e3\u51b3\u529e\u6cd5\uff0c\u4f46\u662f\u4e0d\u4e00\u5b9a\u80fd\u884c\uff0c\u800c\u4e14\u53ef\u80fd\u4f1a\u5e26\u6765\u4e00\u4e9b\u95ee\u9898!\\n\\n\u4ec0\u4e48\u65b9\u6cd5\u5462\uff1f\u65e2\u7136\u9632\u706b\u5899\u68c0\u6d4b\u4e86\u6211\u7684tcp\uff0c\u90a3\u6211\u6362\u6210udp\u884c\u4e0d\u884c\uff1f\\n\\nfrp\u652f\u6301\u4f7f\u7528kcp\u4f5c\u4e3a\u5e95\u5c42\u7684\u901a\u8baf\u534f\u8bae\uff0c\u800ckcp\u9ed8\u8ba4\u5c31\u662f\u57fa\u4e8eudp\u534f\u8bae\uff0c\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u8d76\u7d27\u8bd5\u4e00\u8bd5!\\n\\n\u6b65\u9aa4(\u5047\u8bbekcp\u7684\u7aef\u53e3\u4e3a7000):\\n\\n1. \u5728\u670d\u52a1\u7aef\u539f\u6765\u7684`[common]`\u914d\u7f6e\u4e2d\u52a0\u5165`kcp_bind_port = 7000`\uff0c\u4f7f\u5176\u652f\u6301udp\\n2. \u5728\u5ba2\u6237\u7aef\u539f\u6765\u7684`[common]`\u5904\u52a0\u5165`protocol = kcp`\u5373\u53ef\uff0c\u6ce8\u610f\u7aef\u53e3\u4e00\u5b9a\u8981\u5bf9\u4e0a!\\n\\n<NetworkCopyRight author=\\"\u8001\u9ad8\\" link=\\"https://blog.phpgao.com/frp_tcp_reset.html\\" />"},{"id":"/2021/03/21/linux-all-ps-connection","metadata":{"permalink":"/blog/2021/03/21/linux-all-ps-connection","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-21-linux-all-ps-connection.md","source":"@site/src/blog/2021-03-21-linux-all-ps-connection.md","title":"linux\u4e0b\u67e5\u770b\u6307\u5b9a\u8fdb\u7a0b\u7684\u6240\u6709\u8fde\u63a5\u4fe1\u606f","description":"linux\u4e0b\u67e5\u770b\u6307\u5b9a\u8fdb\u7a0b\u7684\u6240\u6709\u8fde\u63a5\u4fe1\u606f","date":"2021-03-21T00:00:00.000Z","formattedDate":"March 21, 2021","tags":[{"label":"linux","permalink":"/blog/tags/linux"}],"readingTime":1.79,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"linux\u4e0b\u67e5\u770b\u6307\u5b9a\u8fdb\u7a0b\u7684\u6240\u6709\u8fde\u63a5\u4fe1\u606f","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["linux"],"description":"linux\u4e0b\u67e5\u770b\u6307\u5b9a\u8fdb\u7a0b\u7684\u6240\u6709\u8fde\u63a5\u4fe1\u606f","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"frp\u8fde\u63a5 EOF \u5931\u8d25\u95ee\u9898","permalink":"/blog/2021/03/21/frp-eof"},"nextItem":{"title":"\u663e\u793aLinux\u7aef\u53e3\u5360\u7528","permalink":"/blog/2021/03/21/linux-view-port-using"}},"content":"Ref: [linux\u4e0b\u67e5\u770b\u6307\u5b9a\u8fdb\u7a0b\u7684\u6240\u6709\u8fde\u63a5\u4fe1\u606f](https://blog.fatedier.com/2016/07/18/stat-all-connection-info-of-special-process-in-linux/)\\n\\n\x3c!--truncate--\x3e\\n\\n\u5b9a\u4f4d\u67d0\u4e2a\u8fdb\u7a0b\u7684\u7f51\u7edc\u6545\u969c\u65f6\u7ecf\u5e38\u9700\u8981\u7528\u5230\u7684\u4e00\u4e2a\u529f\u80fd\u5c31\u662f\u67e5\u627e\u6240\u6709\u8fde\u63a5\u7684\u4fe1\u606f\u3002\u901a\u5e38\u67e5\u627e\u67d0\u4e2a\u7aef\u53e3\u7684\u8fde\u63a5\u4fe1\u606f\u4f7f\u7528 `ss` \u6216\u8005 `netstat` \u53ef\u4ee5\u8f7b\u677e\u62ff\u5230\uff0c\u5982\u679c\u662f\u4e3b\u52a8\u4e0e\u522b\u7684\u673a\u5668\u5efa\u7acb\u7684\u8fde\u63a5\u4fe1\u606f\u5219\u53ef\u4ee5\u901a\u8fc7 `lsof` \u547d\u4ee4\u6765\u83b7\u5f97\u3002\\n\\n\u4f8b\u5982\u6211\u60f3\u8981\u67e5\u770b\u8fdb\u7a0b frps \u5f53\u524d\u7684\u6240\u6709\u8fde\u63a5\u4fe1\u606f\uff0c\u5148\u83b7\u5f97\u8fdb\u7a0b\u7684 pid\uff1a\\n\\n```bash\\nps -ef|grep frps\\n```\\n\\n\u7ed3\u679c\u4e3a\uff1a\\n\\n```bash\\nwcl       4721     1  0 10:27 ?        00:00:01 ./frps\\n```\\n\\n\u53ef\u4ee5\u770b\u5230\u8fdb\u7a0b pid \u4e3a 4721\uff0c\u4e4b\u540e\u901a\u8fc7 lsof \u547d\u4ee4\u67e5\u770b\u6240\u6709 TCP \u8fde\u63a5\u4fe1\u606f\uff1a\\n\\n```bash\\nlsof -p 4721 -nP | grep TCP\\n```\\n\\n\u663e\u793a\u7ed3\u679c\u4e3a\uff1a\\n\\n```bash\\nfrps    4721  wcl    4u     IPv6 117051764      0t0     TCP *:7000 (LISTEN)\\nfrps    4721  wcl    6u     IPv6 117051765      0t0     TCP *:7003 (LISTEN)\\nfrps    4721  wcl    7u     IPv6 117092563      0t0     TCP 139.129.11.120:7000->116.231.70.223:61545 (ESTABLISHED)\\nfrps    4721  wcl    8u     IPv6 117092565      0t0     TCP *:6000 (LISTEN)\\nfrps    4721  wcl    9u     IPv6 117334426      0t0     TCP 139.129.11.120:7000->116.237.93.230:64898 (ESTABLISHED)\\nfrps    4721  wcl   10u     IPv6 117053538      0t0     TCP 139.129.11.120:7000->115.231.20.123:41297 (ESTABLISHED)\\nfrps    4721  wcl   11u     IPv6 117053540      0t0     TCP *:6005 (LISTEN)\\nfrps    4721  wcl   12u     IPv6 117334428      0t0     TCP *:6004 (LISTEN)\\n```\\n\\n\u4ece `lsof` \u7684\u8f93\u51fa\u7ed3\u679c\u4e2d\u53ef\u4ee5\u6e05\u695a\u7684\u770b\u5230 frps \u8fdb\u7a0b\u76d1\u542c\u4e86 5 \u4e2a\u7aef\u53e3\uff0c\u5e76\u4e14\u5728 7000 \u7aef\u53e3\u4e0a\u5efa\u7acb\u4e86 3 \u4e2a\u8fde\u63a5\uff0c\u8fde\u63a5\u4e24\u7aef\u7684 ip \u4fe1\u606f\u4e5f\u90fd\u53ef\u4ee5\u67e5\u5230\u3002\\n\\n`lsof` \u7684 `-nP` \u53c2\u6570\u7528\u4e8e\u5c06 ip \u5730\u5740\u548c\u7aef\u53e3\u53f7\u663e\u793a\u4e3a\u6b63\u5e38\u7684\u6570\u503c\u7c7b\u578b\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u7528\u522b\u540d\u8868\u793a\u3002"},{"id":"/2021/03/21/linux-view-port-using","metadata":{"permalink":"/blog/2021/03/21/linux-view-port-using","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-21-linux-view-port-using.md","source":"@site/src/blog/2021-03-21-linux-view-port-using.md","title":"\u663e\u793aLinux\u7aef\u53e3\u5360\u7528","description":"\u663e\u793aLinux\u7aef\u53e3\u5360\u7528","date":"2021-03-21T00:00:00.000Z","formattedDate":"March 21, 2021","tags":[{"label":"linux","permalink":"/blog/tags/linux"}],"readingTime":0.645,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u663e\u793aLinux\u7aef\u53e3\u5360\u7528","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["linux"],"description":"\u663e\u793aLinux\u7aef\u53e3\u5360\u7528","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"linux\u4e0b\u67e5\u770b\u6307\u5b9a\u8fdb\u7a0b\u7684\u6240\u6709\u8fde\u63a5\u4fe1\u606f","permalink":"/blog/2021/03/21/linux-all-ps-connection"},"nextItem":{"title":"\u963f\u91cc\u4e91Maven\u955c\u50cf","permalink":"/blog/2021/03/21/maven-aliyun"}},"content":"On Linux, you must be root or the owner of the process to get the information you desire. As such, for processes running as another user, prepending sudo is most of what you need. In addition to that, on modern Linux systems, ss is tool to use to do this:\\n\\n\x3c!--truncate--\x3e\\n\\n```bash\\n$ sudo ss -lptn \'sport = :80\'\\n\\nState   Local Address:Port  Peer Address:Port              \\nLISTEN  127.0.0.1:80        *:*                users:((\\"nginx\\",pid=125004,fd=12))\\nLISTEN  ::1:80              :::*               users:((\\"nginx\\",pid=125004,fd=11))\\n```\\n\\nYou can also use the same invocation you\'re currently using, but remember to sudo:\\n\\n```bash\\n$ sudo netstat -nlp | grep :80\\ntcp  0  0  0.0.0.0:80  0.0.0.0:*  LISTEN  125004/nginx\\n```\\n\\nYou can also use lsof:\\n\\n```bash\\n$ sudo lsof -n -i :80 | grep LISTEN\\nnginx   125004 nginx    3u  IPv4   6645      0t0  TCP 0.0.0.0:80 (LISTEN)\\n```"},{"id":"/2021/03/21/maven-aliyun","metadata":{"permalink":"/blog/2021/03/21/maven-aliyun","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-21-maven-aliyun.md","source":"@site/src/blog/2021-03-21-maven-aliyun.md","title":"\u963f\u91cc\u4e91Maven\u955c\u50cf","description":"\u963f\u91cc\u4e91Maven\u955c\u50cf","date":"2021-03-21T00:00:00.000Z","formattedDate":"March 21, 2021","tags":[{"label":"maven","permalink":"/blog/tags/maven"},{"label":"java","permalink":"/blog/tags/java"},{"label":"mirror","permalink":"/blog/tags/mirror"}],"readingTime":0.3,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u963f\u91cc\u4e91Maven\u955c\u50cf","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["maven","java","mirror"],"description":"\u963f\u91cc\u4e91Maven\u955c\u50cf","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u663e\u793aLinux\u7aef\u53e3\u5360\u7528","permalink":"/blog/2021/03/21/linux-view-port-using"},"nextItem":{"title":"\u89e3\u51b3 Node.js HTTP \u8bf7\u6c42\u51fa\u73b0\u7684\u81ea\u7b7e\u540d\u8bc1\u4e66\u6821\u9a8c\u5931\u8d25\u95ee\u9898","permalink":"/blog/2021/03/21/node-tls"}},"content":"\u914d\u7f6eMaven\u4f7f\u7528\u963f\u91cc\u4e91\u955c\u50cf:\\n\\n\x3c!--truncate--\x3e\\n\\n```xml title=\\"~/.m2/settings.xml\\"\\n<settings xmlns=\\"http://maven.apache.org/SETTINGS/1.0.0\\"\\n    xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n    xsi:schemaLocation=\\"http://maven.apache.org/SETTINGS/1.0.0\\n                        https://maven.apache.org/xsd/settings-1.0.0.xsd\\">\\n    <localRepository>\\n    \x3c!-- \u914d\u7f6eMaven Repository\u672c\u5730\u7f13\u5b58\u76ee\u5f55 --\x3e\\n    ${user.home}/.m2/repository \\n    </localRepository>\\n    <interactiveMode>true</interactiveMode>\\n    <usePluginRegistry>false</usePluginRegistry>\\n    <offline/>\\n    <pluginGroups/>\\n    <servers/>\\n    <mirrors>\\n        <mirror>  \\n            <id>maven-aliyun</id>  \\n            <name>Maven Aliyun Mirror</name>  \\n            <url>http://maven.aliyun.com/nexus/content/groups/public/</url>  \\n            <mirrorOf>central</mirrorOf>  \\n        </mirror>  \\n        <mirror>  \\n            <id>maven-net-cn</id>  \\n            <name>Maven China Mirror</name>  \\n            <url>http://maven.NET.cn/content/groups/public/</url>  \\n            <mirrorOf>central</mirrorOf>  \\n        </mirror>  \\n    </mirrors>\\n    <proxies/>\\n    <profiles/>\\n    <activeProfiles/>\\n</settings>\\n```"},{"id":"/2021/03/21/node-tls","metadata":{"permalink":"/blog/2021/03/21/node-tls","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-21-node-tls.md","source":"@site/src/blog/2021-03-21-node-tls.md","title":"\u89e3\u51b3 Node.js HTTP \u8bf7\u6c42\u51fa\u73b0\u7684\u81ea\u7b7e\u540d\u8bc1\u4e66\u6821\u9a8c\u5931\u8d25\u95ee\u9898","description":"\u7a0b\u5e8f\u6267\u884c\u4e4b\u524d\u5148\u6267\u884c\u4ee5\u4e0b\u4ee3\u7801, \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf:","date":"2021-03-21T00:00:00.000Z","formattedDate":"March 21, 2021","tags":[{"label":"node.js","permalink":"/blog/tags/node-js"}],"readingTime":0.12,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u89e3\u51b3 Node.js HTTP \u8bf7\u6c42\u51fa\u73b0\u7684\u81ea\u7b7e\u540d\u8bc1\u4e66\u6821\u9a8c\u5931\u8d25\u95ee\u9898","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["node.js"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u963f\u91cc\u4e91Maven\u955c\u50cf","permalink":"/blog/2021/03/21/maven-aliyun"},"nextItem":{"title":"NPM\u7684\u6dd8\u5b9d\u955c\u50cf","permalink":"/blog/2021/03/21/npm-taobao"}},"content":"\u7a0b\u5e8f\u6267\u884c\u4e4b\u524d\u5148\u6267\u884c\u4ee5\u4e0b\u4ee3\u7801, \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf:\\n\\n```javascript\\nprocess.env.NODE_TLS_REJECT_UNAUTHORIZED = \\"0\\";\\n```"},{"id":"/2021/03/21/npm-taobao","metadata":{"permalink":"/blog/2021/03/21/npm-taobao","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-21-npm-taobao.md","source":"@site/src/blog/2021-03-21-npm-taobao.md","title":"NPM\u7684\u6dd8\u5b9d\u955c\u50cf","description":"NPM\u7684\u6dd8\u5b9d\u955c\u50cf","date":"2021-03-21T00:00:00.000Z","formattedDate":"March 21, 2021","tags":[{"label":"npm","permalink":"/blog/tags/npm"},{"label":"node.js","permalink":"/blog/tags/node-js"},{"label":"\u955c\u50cf","permalink":"/blog/tags/\u955c\u50cf"}],"readingTime":0.575,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"NPM\u7684\u6dd8\u5b9d\u955c\u50cf","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["npm","node.js","\u955c\u50cf"],"description":"NPM\u7684\u6dd8\u5b9d\u955c\u50cf","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u89e3\u51b3 Node.js HTTP \u8bf7\u6c42\u51fa\u73b0\u7684\u81ea\u7b7e\u540d\u8bc1\u4e66\u6821\u9a8c\u5931\u8d25\u95ee\u9898","permalink":"/blog/2021/03/21/node-tls"},"nextItem":{"title":"Visual Studio Code \u4fa7\u8fb9\u680f\u5b9a\u4f4d\u5230\u5f53\u524d\u6587\u4ef6","permalink":"/blog/2021/03/20/visual-studio-code-reveal"}},"content":"\u4e0b\u9762\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0bNPM\u6dd8\u5b9d\u955c\u50cf\u4f7f\u7528:\\n\\n\x3c!--truncate--\x3e\\n\\n\u6dd8\u5b9d\u955c\u50cf\u5730\u5740\u4e3a: `https://registry.npm.taobao.org`\\n\\n\u4e00\u822c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5168\u5c40\u5b89\u88c5 `cnpm`:\\n\\n```bash\\nnpm install -g cnpm --registry=https://registry.npm.taobao.org\\n```\\n\\n\u4e5f\u53ef\u4ee5\u5728\u5b89\u88c5\u9879\u76ee\u4f9d\u8d56\u65f6\u76f4\u63a5\u4f7f\u7528\u6dd8\u5b9d\u955c\u50cf:\\n\\n```bash\\nnpm install --registry=https://registry.npm.taobao.org # \u5b89\u88c5\u5f53\u524d\u9879\u76ee\u4f9d\u8d56\\n```\\n\\n\u6216\u8005\u5728\u9879\u76ee\u6839\u76ee\u5f55\u65b0\u589e `.npmrc` \u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539\u9879\u76ee\u4f7f\u7528\u6dd8\u5b9d\u955c\u50cf\uff0c\u8fd9\u6837\u6bd4\u8f83\u9002\u5408\u56e2\u961f\u534f\u4f5c\uff1a\\n\\n```rc title=\\".npmrc\\"\\nregistry=https://registry.npm.taobao.org\\n```"},{"id":"/2021/03/20/visual-studio-code-reveal","metadata":{"permalink":"/blog/2021/03/20/visual-studio-code-reveal","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-20-visual-studio-code-reveal.md","source":"@site/src/blog/2021-03-20-visual-studio-code-reveal.md","title":"Visual Studio Code \u4fa7\u8fb9\u680f\u5b9a\u4f4d\u5230\u5f53\u524d\u6587\u4ef6","description":"Visual Studio Code \u4fa7\u8fb9\u680f\u5b9a\u4f4d\u5230\u5f53\u524d\u6587\u4ef6","date":"2021-03-20T00:00:00.000Z","formattedDate":"March 20, 2021","tags":[{"label":"vsc","permalink":"/blog/tags/vsc"},{"label":"visual studio code","permalink":"/blog/tags/visual-studio-code"},{"label":"editor","permalink":"/blog/tags/editor"}],"readingTime":1.39,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Visual Studio Code \u4fa7\u8fb9\u680f\u5b9a\u4f4d\u5230\u5f53\u524d\u6587\u4ef6","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vsc","visual studio code","editor"],"description":"Visual Studio Code \u4fa7\u8fb9\u680f\u5b9a\u4f4d\u5230\u5f53\u524d\u6587\u4ef6","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"NPM\u7684\u6dd8\u5b9d\u955c\u50cf","permalink":"/blog/2021/03/21/npm-taobao"},"nextItem":{"title":"Chrome flags","permalink":"/blog/2021/03/15/chrome-flags"}},"content":"\u9879\u76ee\u6587\u4ef6\u6bd4\u8f83\u591a\u65f6, \u5982\u4f55\u5728\u4fa7\u8fb9\u680f\u5feb\u901f\u5b9a\u4f4d\u5230\u5f53\u524d\u6587\u4ef6\u662f\u4e00\u4e2a\u5e38\u7528\u7684\u529f\u80fd\uff0c\u4e0b\u9762\u4ecb\u7ecd\u6211\u7684\u914d\u7f6e\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u9ed8\u8ba4VSC\u5b9a\u4f4d\u5f53\u524d\u6587\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u4fee\u6539: \\n\\n```json title=\\"settings.json\\"\\n{\\n    /**\\n     * \u6b64\u914d\u7f6e\u7528\u4e8e\u8bbe\u7f6e\u5207\u6362\u5230\u5f53\u524d\u6587\u4ef6\u65f6, \u4fa7\u8fb9\u680f\u662f\u5426\u5c55\u793a\u5f53\u524d\u6587\u4ef6\u7684\u6240\u5728\u4f4d\u7f6e, \u53ef\u9009\u503c\u5982\u4e0b:\\n     * true: \u4fa7\u8fb9\u680f\u81ea\u52a8\u6eda\u52a8\u5230\u5f53\u524d\u6587\u4ef6\u6240\u5728\u4f4d\u7f6e\\n     * false: \u7981\u7528\u81ea\u52a8\u663e\u793a\u5f53\u524d\u6587\u4ef6\u6240\u5728\u4f4d\u7f6e\\n     * focusNoScroll: \u4fa7\u8fb9\u680f\u81ea\u52a8\u5b9a\u4f4d\u5230\u5f53\u524d\u6587\u4ef6\u6240\u5728\u4f4d\u7f6e(\u4fa7\u8fb9\u680f\u7684\u6587\u4ef6\u540d\u5904\u4e8e\u9009\u4e2d\u72b6\u6001), \u4f46\u662f\u4fa7\u8fb9\u680f\u6eda\u52a8\u6761\u4e0d\u4f1a\u6eda\u52a8\u5230\u6587\u4ef6\u4f4d\u7f6e\u663e\u793a.\\n    */\\n    \\"explorer.autoReveal\\": \\"focusNoScroll\\"\\n}\\n```\\n\\n\u5982\u679c\u9700\u8981\u5728\u4fa7\u8fb9\u680f\u6eda\u52a8\u5230\u5f53\u524d\u6587\u4ef6\u5e76\u663e\u793a, \u53ef\u4ee5\u6309\u4e0b\u5feb\u6377\u952e `Command + Shift + P`(Windows \u73af\u5883\u662f `Ctrl + Shift + P`), \u7136\u540e\u8f93\u5165 `Files: Reveal Active File in Side Bar` \u5373\u53ef.\\n\\n\u53ef\u4ee5\u914d\u7f6e\u5feb\u6377\u952e:\\n\\n```json title=\\"keybindings.json\\"\\n[\\n    {\\n        \\"key\\": \\"shift+cmd+r\\",\\n        \\"command\\":\\"revealInExplorer\\"\\n    }\\n]\\n```\\n\\n\u66f4\u591a\u5feb\u6377\u952e\u53c2\u8003: [\u6211\u7684 VSC \u5feb\u6377\u952e](./2020-03-20-visual-studio-code-keyboard.md)\\n\\n> \u76f8\u5173\u4ecb\u7ecd [Reveal current file in Explorer in Visual Studio Code](https://stackoverflow.com/questions/44844005/reveal-current-file-in-explorer-in-visual-studio-code)"},{"id":"/2021/03/15/chrome-flags","metadata":{"permalink":"/blog/2021/03/15/chrome-flags","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-15-chrome-flags.md","source":"@site/src/blog/2021-03-15-chrome-flags.md","title":"Chrome flags","description":"Chrome\u652f\u6301\u7684flags\u5217\u8868","date":"2021-03-15T00:00:00.000Z","formattedDate":"March 15, 2021","tags":[{"label":"chrome flags","permalink":"/blog/tags/chrome-flags"},{"label":"chrome","permalink":"/blog/tags/chrome"},{"label":"puppeteer","permalink":"/blog/tags/puppeteer"},{"label":"chrome-launcher","permalink":"/blog/tags/chrome-launcher"}],"readingTime":5.89,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Chrome flags","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["chrome flags","chrome","puppeteer","chrome-launcher"],"description":"Chrome\u652f\u6301\u7684flags\u5217\u8868","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Visual Studio Code \u4fa7\u8fb9\u680f\u5b9a\u4f4d\u5230\u5f53\u524d\u6587\u4ef6","permalink":"/blog/2021/03/20/visual-studio-code-reveal"},"nextItem":{"title":"Let\'s Encrypt\u8bc1\u4e66\u7533\u8bf7\u53ca\u914d\u7f6e","permalink":"/blog/2021/03/14/lets-encrypt-ssl-certificate"}},"content":"Chrome \u5de5\u5177 flags \u5217\u8868, \u6458\u81ea [Chrome Flags for Tooling](https://github.com/GoogleChrome/chrome-launcher/blob/master/docs/chrome-flags-for-tools.md): \\n\\n\x3c!--truncate--\x3e\\n\\n## \u5e38\u7528\\n\\n* `--proxy-server=http://192.168.1.199:3210` \u8bbe\u7f6eHTTP\u4ee3\u7406\\n* `--proxy-bypass-list` \u5ffd\u7565\u7684 server host\\n\\n## SSL \u8bc1\u4e66\\n\\n\u89e3\u51b3 Chrome\u8bbe\u7f6e\u4f7f\u7528\u4ee3\u7406\uff0c\u4ee3\u7406\u5de5\u5177\u8bc1\u4e66\u672a\u88ab\u4fe1\u4efb\u5bfc\u81f4\u7684\u7b7e\u540d\u95ee\u9898\u3002\\n\\n* \u5982\u679c\u4f60\u7684\u4ee3\u7406\u5de5\u5177\u662f\u672c\u5730\u8fd0\u884c\uff0c\u53ef\u4ee5\u5728Chrome\u542f\u52a8\u65f6\u589e\u52a0 `--allow-insecure-localhost` flag\u3002\\n* \u6216\u8005\u5ffd\u7565\u6240\u6709\u8bc1\u4e66\u9519\u8bef `--ignore-certificate-errors`\\n\\n\\n\u672c\u6587\u5c1d\u8bd5\u8bb0\u5f55\u548c\u81ea\u52a8\u5316\u5de5\u5177\u4ee5\u53ca\u57fa\u51c6\u6d4b\u8bd5\u76f8\u5173\u7684Chrome flags\u5217\u8868. \\n\\n\u6ca1\u6709\u76f8\u540c\u7684\u573a\u666f, \u6240\u4ee5\u4f60\u9700\u8981\u9009\u62e9\u6700\u9002\u5408\u81ea\u5df1\u7684flag. \\n## \u901a\u5e38\u65e0\u7528\u7684\u6d4f\u89c8\u5668\u7279\u6027\\n\\n* `--disable-client-side-phishing-detection`: \u7981\u7528\u5ba2\u6237\u7aef\u9493\u9c7c\u68c0\u6d4b\\n* `--disable-component-extensions-with-background-pages`: \u7981\u7528\u4e00\u4e9b `--disable-extensions` \u65e0\u6cd5\u7981\u7528\u7684\u5185\u7f6e\u6269\u5c55\\n* `--disable-default-apps`: \u7981\u6b62\u5b89\u88c5\u9ed8\u8ba4App\\n* `--disable-extensions`: \u7981\u7528\u6240\u6709Chrome\u6269\u5c55\\n* `--mute-audio`: \u9759\u97f3\\n* `--no-default-browser-check`: \u7981\u7528\u9ed8\u8ba4\u6d4f\u89c8\u5668\u68c0\u6d4b\\n* `--no-first-run`: \u8df3\u8fc7\u9996\u6b21\u8fd0\u884c\u5411\u5bfc\\n* `--use-fake-device-for-media-stream`: Use fake device for Media Stream to replace camera and microphone\\n* `--use-file-for-fake-video-capture=<path-to-file>`: Use file for fake video capture (.y4m or .mjpeg) Needs `--use-fake-device-for-media-stream`\\n\\n## \u6027\u80fd\u548cWeb\u5e73\u53f0\u884c\u4e3a\\n\\n* `--allow-running-insecure-content` \u5141\u8bb8\u8fd0\u884c\u4e0d\u5b89\u5168\u7684\u5185\u5bb9\\n* `--autoplay-policy=user-gesture-required`: \u4e0d\u8981\u6e32\u67d3\u89c6\u9891\\n* `--disable-background-timer-throttling`: \u7981\u7528\u540e\u53f0\u9875\u9762\u6216tab\u6296\u52a8\u8ba1\u65f6\u5668\\n* `--disable-backgrounding-occluded-windows` \\n* `--disable-features=ScriptStreaming`: V8 script streaming\\n* `--disable-hang-monitor`\\n* `--disable-ipc-flooding-protection`: Some javascript functions can be used to flood the browser process with IPC. By default, protection is on to limit the number of IPC sent to 10 per second per frame. This flag disables it. https://crrev.com/604305\\n* `--disable-notifications`: Disables the Web Notification and the Push APIs.\\n* `--disable-popup-blocking`: Disable popup blocking.  `--block-new-web-contents` is the strict version of this.\\n* `--disable-prompt-on-repost`: Reloading a page that came from a POST normally prompts the user.\\n* `--disable-renderer-backgrounding`: This disables non-foreground tabs from getting a lower process priority This doesn\'t (on its own) affect timers or painting behavior. [karma-chrome-launcher#123](https://github.com/karma-runner/karma-chrome-launcher/issues/123)\\n* `--js-flags=--random-seed=1157259157`: Initialize V8\'s RNG with a fixed seed.\\n\\n## Test & debugging flags\\n\\n* `--disable-device-discovery-notifications`: Avoid messages like \\"New printer on your network\\"\\n* `--enable-automation`: Disable a few things considered not appropriate for automation. ([Original design doc](https://docs.google.com/a/google.com/document/d/1JYj9K61UyxIYavR8_HATYIglR9T_rDwAtLLsD3fbDQg/preview), though renamed [here](https://codereview.chromium.org/2564973002#msg24)) [codesearch](https://cs.chromium.org/search/?q=kEnableAutomation&type=cs). Note that some projects have chosen to **avoid** using this flag: [web-platform-tests/wpt/#6348](https://github.com/web-platform-tests/wpt/pull/6348)\\n  - disables bubble notification about running development/unpacked extensions\\n  - disables the password saving UI (which [covers](https://source.chromium.org/chromium/chromium/src/+/master:chrome/browser/password_manager/chrome_password_manager_client.cc;l=295-298;drc=00053fb4d880a925c890193b74a8ff35e1cef2a0) the usecase of the [removed](https://bugs.chromium.org/p/chromedriver/issues/detail?id=1015) `--disable-save-password-bubble` flag)\\n  - disables infobar animations\\n  - disables auto-reloading on network errors ([source](https://cs.chromium.org/chromium/src/chrome/renderer/net/net_error_helper_core.cc?l=917&rcl=6eaf0af71262eb876764c6237ee2fe021a3e7a18))\\n  - means the default browser check prompt isn\'t shown\\n  - avoids showing these 3 infobars: ShowBadFlagsPrompt, GoogleApiKeysInfoBarDelegate, ObsoleteSystemInfoBarDelegate\\n  - adds this infobar: ![image](https://user-images.githubusercontent.com/39191/30349667-92a7a086-97c8-11e7-86b2-1365e3d407e3.png)\\n* `--enable-logging=stderr`: Logging behavior slightly more appropriate for a server-type process.\\n* `--log-level=0`: 0 means INFO and higher.\\n* `--password-store=basic`: Avoid potential instability of using Gnome Keyring or KDE wallet. [chromium/linux/password_storage.md](https://chromium.googlesource.com/chromium/src/+/master/docs/linux/password_storage.md) https://crbug.com/571003\\n* `--remote-debugging-pipe`: more secure than using protocol over a websocket\\n* `--silent-debugger-extension-api`: Does not show an infobar when a Chrome extension attaches to a page using `chrome.debugger` page. Required to attach to extension background pages.\\n* `--test-type`: Basically the 2014 version of `--enable-automation`. [codesearch](https://cs.chromium.org/search/?q=kTestType%5Cb&type=cs)\\n  - It avoids creating application stubs in ~/Applications on mac.\\n  - It makes exit codes slightly more correct\\n  - windows navigation jumplists arent updated https://crbug.com/389375\\n  - doesn\'t start some chrome StartPageService\\n  - disables initializing chromecast service\\n  - \\"Component extensions with background pages are not enabled during tests because they generate a lot of background behavior that can interfere.\\"\\n  - when quitting the browser, it disables additional checks that may stop that quitting process. (like unsaved form modifications or unhandled profile notifications..)\\n* `--use-mock-keychain`: Use mock keychain on Mac to prevent blocking permissions dialogs. https://crbug.com/865247\\n\\n## Background updates, networking, reporting\\n\\n* `--disable-background-networking`: Disable various background network services, including extension updating,safe browsing service, upgrade detector, translate, UMA\\n* `--disable-breakpad`: Disable crashdump collection (reporting is already disabled in Chromium)\\n* `--disable-component-update`: Don\'t update the browser \'components\' listed at chrome://components/\\n* `--disable-domain-reliability`: Disables Domain Reliability Monitoring, which tracks whether the browser has difficulty contacting Google-owned sites and uploads reports to Google.\\n* `--disable-sync`: Disable syncing to a Google account\\n* `--enable-crash-reporter-for-testing`: Used for turning on Breakpad crash reporting in a debug environment where crash reporting is typically compiled but disabled.\\n* `--metrics-recording-only`: Disable reporting to UMA, but allows for collection\\n\\n## Rendering & GPU\\n\\n* `--deterministic-mode`: An experimental meta flag. This sets the below indented flags which put the browser into a mode where rendering (border radius, etc) is deterministic and begin frames should be issued over DevTools Protocol. [codesearch](https://source.chromium.org/chromium/chromium/src/+/master:headless/app/headless_shell.cc;drc=df45d1abbc20abc7670643adda6d9625eea55b4d)\\n  - `--run-all-compositor-stages-before-draw`\\n  - `--disable-new-content-rendering-timeout`\\n  - `--enable-begin-frame-control`\\n  - `--disable-threaded-animation`\\n  - `--disable-threaded-scrolling`\\n  - `--disable-checker-imaging`\\n  - `--disable-image-animation-resync`\\n* `--disable-features=PaintHolding`: Don\'t defer paint commits (normally used to avoid flash of unstyled content)\\n* `--disable-partial-raster`: https://crbug.com/919955\\n* `--disable-skia-runtime-opts`: Do not use runtime-detected high-end CPU optimizations in Skia.\\n* `--in-process-gpu`: Saves some memory by moving GPU process into a browser process thread\\n* `--use-gl=\\"swiftshader\\"`: Select which implementation of GL the GPU process should use. Options are: `desktop`: whatever desktop OpenGL the user has installed (Linux and Mac default). `egl`: whatever EGL / GLES2 the user has installed (Windows default - actually ANGLE). `swiftshader`: The SwiftShader software renderer.\\n\\n## Window & screen management\\n\\n* `--block-new-web-contents`: All pop-ups and calls to window.open will fail.\\n* `--force-color-profile=srgb`: Force all monitors to be treated as though they have the specified color profile.\\n* `--force-device-scale-factor=1`\\n* `--new-window`: Launches URL in new browser window.\\n* `--window-position=0,0`\\n* `--window-size=1600,1024`\\n\\n## Process management\\n\\n* `--disable-features=site-per-process`: Disables OOPIF. https://www.chromium.org/Home/chromium-security/site-isolation\\n* `--process-per-tab`: [Doesn\'t do anything](https://source.chromium.org/chromium/chromium/src/+/master:content/public/common/content_switches.cc;l=602-605;drc=2149a93144ce2030ab20863c2983b6c9d7bfd177). Use --single-process instead.\\n* `--single-process`: Runs the renderer and plugins in the same process as the browser.\\n\\n## Headless\\n\\n* `--disable-dev-shm-usage`: Often used in Lambda, Cloud Functions scenarios. ([pptr issue](https://github.com/GoogleChrome/puppeteer/issues/1834), [crbug](https://bugs.chromium.org/p/chromium/issues/detail?id=736452))\\n* `--no-sandbox`: [Sometimes used](https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md#setting-up-chrome-linux-sandbox) with headless, though not recommended.\\n* `--disable-gpu`: Sometimes [used](https://bugs.chromium.org/p/chromium/issues/detail?id=737678) with headless.\\n\\n## ~Removed~ flags\\n\\n* `--disable-add-to-shelf`: [Removed June 2017](https://codereview.chromium.org/2944283002)\\n* `--disable-background-downloads`: [Removed Oct 2014](https://codereview.chromium.org/607843002).\\n* `--disable-browser-side-navigation` Disabled PlzNavigate.\\n* `--disable-datasaver-prompt`\\n* `--disable-desktop-notifications`\\n* `--disable-features=TranslateUI`: renamed `TranslateUI` to `Translate` in [Sept 2020](https://chromium-review.googlesource.com/c/chromium/src/+/2404484).\\n* `--disable-infobars`: [Removed April 2014](https://codereview.chromium.org/240193003)\\n* `--disable-save-password-bubble`: [Removed May 2016](https://codereview.chromium.org/1978563002)\\n* `--disable-translate`: [Removed April 2017](https://codereview.chromium.org/2819813002/) Used to disable built-in Google Translate service.\\n* `--ignore-autoplay-restrictions`: [Removed December 2017](https://chromium-review.googlesource.com/#/c/816855/) Can use `--autoplay-policy=no-user-gesture-required` instead.\\n* `--safebrowsing-disable-auto-update`: [Removed Nov 2017](https://bugs.chromium.org/p/chromium/issues/detail?id=74848#c26)\\n\\n## Sources\\n\\n* [chrome-launcher\'s flags](https://github.com/GoogleChrome/chrome-launcher/blob/master/src/flags.ts)\\n* [Chromedriver\'s flags](https://cs.chromium.org/chromium/src/chrome/test/chromedriver/chrome_launcher.cc?type=cs&q=f:chrome_launcher++kDesktopSwitches&sq=package:chromium)\\n* [Puppeteer\'s flags](https://github.com/puppeteer/puppeteer/blob/main/src/node/Launcher.ts)\\n* [WebpageTest\'s flags](https://github.com/WPO-Foundation/wptagent/blob/master/internal/chrome_desktop.py)\\n* [Catapult\'s flags](https://source.chromium.org/search?q=f:catapult%20f:desktop%20symbol:GetBrowserStartupArgs&ss=chromium%2Fchromium%2Fsrc)\\n* [Karma\'s flags](https://github.com/karma-runner/karma-chrome-launcher/blob/master/index.js)\\n\\n## \u6d4f\u89c8\u5668\u6240\u6709 flags\\n\\n* [The canonical list of Chrome command-line switches on peter.sh](./2021-03-21-chromium-command-line-switches.md) (maintained by the Chromium team)\\n\\nFYI: (Probably) all flags are defined in files matching the pattern of [`*_switches.cc`](f:_switches\\\\.cc).\\n## Feature Flags FYI\\n\\nChromium and Blink use feature flags to disable/enable many features at runtime. Chromium has [~400 features](https://source.chromium.org/search?q=%22const%20base::Feature%22%20f:%5C.cc&sq=&ss=chromium%2Fchromium%2Fsrc) that can be toggled with `--enable-features` / `--disable-features`. Indepdently, Blink has [many features](https://source.chromium.org/chromium/chromium/src/+/master:out/Debug/gen/third_party/blink/renderer/platform/runtime_enabled_features.cc;l=1559;drc=170473ad887b7990079f1f996b126548569c5902) that can be toggled [with commandline switches](https://chromium.googlesource.com/chromium/src/+/master/third_party/blink/renderer/platform/RuntimeEnabledFeatures.md#command_line-switches): `--enable-blink-features` / `--disable-blink-features`."},{"id":"/2021/03/14/lets-encrypt-ssl-certificate","metadata":{"permalink":"/blog/2021/03/14/lets-encrypt-ssl-certificate","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-14-lets-encrypt-ssl-certificate.md","source":"@site/src/blog/2021-03-14-lets-encrypt-ssl-certificate.md","title":"Let\'s Encrypt\u8bc1\u4e66\u7533\u8bf7\u53ca\u914d\u7f6e","description":"\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u4f7f\u7528 Let\'s Encrypt(\u4e00\u4e2a\u7531\u975e\u8425\u5229\u6027\u7ec4\u7ec7 \u4e92\u8054\u7f51\u5b89\u5168\u7814\u7a76\u5c0f\u7ec4\uff08ISRG\uff09\u63d0\u4f9b\u7684\u514d\u8d39\u3001\u81ea\u52a8\u5316\u548c\u5f00\u653e\u7684\u8bc1\u4e66\u9881\u53d1\u673a\u6784\uff08CA\uff09) \u7b7e\u53d1\u8bc1\u4e66\u53caNginx\u914d\u7f6e\u3002","date":"2021-03-14T00:00:00.000Z","formattedDate":"March 14, 2021","tags":[{"label":"ssl","permalink":"/blog/tags/ssl"},{"label":"nginx","permalink":"/blog/tags/nginx"},{"label":"let\'s encrypt","permalink":"/blog/tags/lets-encrypt"}],"readingTime":3.69,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Let\'s Encrypt\u8bc1\u4e66\u7533\u8bf7\u53ca\u914d\u7f6e","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["ssl","nginx","let\'s encrypt"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Chrome flags","permalink":"/blog/2021/03/15/chrome-flags"},"nextItem":{"title":"\u6d4f\u89c8\u5668\u7684\u524d\u8fdb\u540e\u9000\u7f13\u5b58\u673a\u5236 Back/forward cache","permalink":"/blog/2021/03/13/back-forward-cache"}},"content":"\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u4f7f\u7528 [Let\'s Encrypt](https://letsencrypt.org/)(\u4e00\u4e2a\u7531\u975e\u8425\u5229\u6027\u7ec4\u7ec7 \u4e92\u8054\u7f51\u5b89\u5168\u7814\u7a76\u5c0f\u7ec4\uff08ISRG\uff09\u63d0\u4f9b\u7684\u514d\u8d39\u3001\u81ea\u52a8\u5316\u548c\u5f00\u653e\u7684\u8bc1\u4e66\u9881\u53d1\u673a\u6784\uff08CA\uff09) \u7b7e\u53d1\u8bc1\u4e66\u53caNginx\u914d\u7f6e\u3002\\n\\n\x3c!--truncate--\x3e\\n## \u7b7e\u53d1\u5de5\u5177\\n\\n__\u5728\u7ebf\u7248__\\n\\n* [FreeSSL](https://freessl.cn/)\uff08\u4e0d\u652f\u6301\u81ea\u52a8\u7eed\u7b7e\uff09\\n* [\u4e03\u725b](https://www.qiniu.com/products/ssl)\uff08\u4e0d\u652f\u6301 DV \u6cdb\u57df\u540d\uff09\\n* [\u53c8\u62cd\u4e91](https://www.upyun.com/products/ssl)\uff08\u4e0d\u652f\u6301 DV \u6cdb\u57df\u540d\uff09\\n\\n__acme.sh__\\n\\n\u8fd9\u91cc\u4ecb\u7ecd [acme.sh](https://github.com/acmesh-official/acme.sh)\u7684\u4f7f\u7528\uff0c[\u4e2d\u6587\u6587\u6863](https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E)\uff0c[Docker\u4f7f\u7528](https://github.com/acmesh-official/acme.sh/wiki/Run-acme.sh-in-docker)\u3002\\n\\n## \u5b89\u88c5\\n\\n```bash\\ncurl https://get.acme.sh | sh\\n```\\n\u5b89\u88c5\u5b8c\u6210\u540e, \u4f1a\u6709\u4e00\u4e2a `~/.acme.sh` \u76ee\u5f55\uff0c\u4e4b\u540e\u6240\u6709\u751f\u6210\u7684\u8bc1\u4e66\u4e5f\u4f1a\u653e\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\uff0c\u91cc\u9762\u6709\u4e00\u4e2a `acme.sh` \u811a\u672c, \u6dfb\u52a0\u4ee5\u4e0balia\u65b9\u4fbf\u4f7f\u7528:\\n\\n```bash\\nalias acme=\\"/root/.acme.sh/acme.sh\\" # \u5047\u8bbe\u5f53\u524d\u662froot\u7528\u6237\uff0c\u5982\u679c\u662f\u5176\u4ed6\u7528\u9700\u8981\u628a /root \u6539\u6210\u5f53\u524d\u7528\u6237\u76ee\u5f55\\n```\\n\\n\u5176\u4ed6\u7b80\u5355\u547d\u4ee4:\\n\\n```bash\\nacme --version # \u67e5\u770b\u7248\u672c\\nacme --list # \u67e5\u770b\u8bc1\u4e66\u5217\u8868\\nacme remove <SAN_Domains> # \u5220\u9664\u8bc1\u4e66\\nacme --upgrade --auto-upgrade # \u81ea\u52a8\u66f4\u65b0\u811a\u672c\\nacme --upgrade # \u624b\u52a8\u66f4\u65b0\u811a\u672c\\nacme --upgrade --auto-upgrade 0 # \u5173\u95ed\u66f4\u65b0\u811a\u672c\\nacme.sh --renew -d example.com --force # \u9ed8\u8ba490\u5929\u8fc7\u671f\uff0c\u53ef\u4ee5\u5f3a\u5236\u7eed\u7b7e\u8bc1\u4e66\\n```\\n\\n## \u8bc1\u4e66\u7533\u8bf7\\n\\n\u7533\u8bf7\u8bc1\u4e66\u524d\u9700\u8981\u9a8c\u8bc1\u57df\u540d\u6240\u6709\u6743\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\u9a8c\u8bc1\uff1a HTTP \u548c DNS\\n\\n* HTTP\uff1a\u5728\u7f51\u7ad9\u7684\u6839\u76ee\u5f55\u4e0b\u6dfb\u52a0\u4e00\u4e2a\u6587\u4ef6\\n* DNS\uff1a\u5728\u57df\u540d\u4e0a\u6dfb\u52a0\u4e00\u6761 txt \u89e3\u6790\u8bb0\u5f55\\n\\n\u4e0b\u9762\u4ecb\u7ecdDNS\u65b9\u5f0f\u9a8c\u8bc1\\n\\n## DNS\u9a8c\u8bc1\u57df\u540d\u6240\u6709\u6743\\n\\n[DNS](https://github.com/Neilpang/acme.sh/wiki/dns-manual-mode)\u4e0d\u652f\u6301\u81ea\u52a8\u7eed\u7b7e, \u6267\u884c\u4ee5\u4e0b\u811a\u672c\u751f\u6210\u89e3\u6790\u8bb0\u5f55\u503c\uff0c\\n\\n```bash\\nacme --issue --dns -d mydomain.com --yes-I-know-dns-manual-mode-enough-go-ahead-please\\n```\\n\\n\u4e0a\u8ff0\u547d\u4ee4\u6267\u884c\u5b8c\u6210\u540e\uff0c\u7ec8\u7aef\u4f1a\u6709\u5173\u4e8e _acme-challenge.mydomain.com_ \u7684txt\u503c\u8f93\u51fa\uff0c\u7136\u540e\u9700\u8981\u53bbDNS\u63d0\u4f9b\u5546\u6dfb\u52a0\u4e00\u6761TXT\u8bb0\u5f55\uff0c\u8bb0\u5f55\u7c7b\u578b\u4e3a _TXT_\uff0c\u4e3b\u673a\u8bb0\u5f55\u4e3a _acme-challenge.mydomain.com_\uff0c\u8bb0\u5f55\u503c\u4ece\u7ec8\u7aef\u91cc\u590d\u5236\u3002\\n\\n\u7136\u540e\u67e5\u8be2\u8bb0\u5f55\u662f\u5426\u751f\u6548\uff1a\\n```bash\\n# \u67e5\u8be2\u57df\u540d txt \u8bb0\u5f55\\nnslookup -type=txt _acme-challenge.mydomain.com\\n```\\n\\n\u751f\u6548\u540e\u6267\u884c\u4ee5\u4e0b\u811a\u672c:\\n\\n```bash\\nacme --renew -d mydomain.com --yes-I-know-dns-manual-mode-enough-go-ahead-please\\n```\\n\\n## \u8bc1\u4e66\u914d\u7f6e\\n\\n\u4e0a\u4e00\u5c0f\u8282\uff0c\u751f\u6210\u7684\u8bc1\u4e66\u653e\u5728\u4e86`/root/.acme.sh/mydomain.com`\u76ee\u5f55\uff0c\u56e0\u4e3a\u8fd9\u662f acme.sh \u811a\u672c\u7684\u5185\u90e8\u4f7f\u7528\u76ee\u5f55\uff0c\u800c\u4e14\u76ee\u5f55\u7ed3\u6784\u53ef\u80fd\u4f1a\u53d8\u5316\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u80fd\u8ba9 Nginx \u7684\u914d\u7f6e\u6587\u4ef6\u76f4\u63a5\u8bfb\u53d6\u8be5\u76ee\u5f55\u4e0b\u7684\u8bc1\u4e66\u6587\u4ef6\u3002\\n\\n\u6b63\u786e\u7684\u505a\u6cd5\u5c31\u662f\u4f7f\u7528`--installcert`\u547d\u4ee4\uff0c\u6307\u5b9a\u76ee\u6807\u4f4d\u7f6e\uff0c\u7136\u540e\u8bc1\u4e66\u6587\u4ef6\u4f1a\u88ab copy \u5230\u76f8\u5e94\u7684\u4f4d\u7f6e\u3002\\n\\n```bash\\nacme.sh  --installcert -d mydomain.cn \\\\\\n         --key-file /wwwroot/certs/alanwei.net.key\\\\\\n         --fullchain-file /wwwroot/certs/alanwei.net.cer \\\\\\n         --reloadcmd \\"service nginx force-reload\\" # \u8fd9\u884c\u547d\u4ee4\u6839\u636e\u5177\u4f53\u60c5\u51b5\u53ef\u4ee5\u7701\u7565\\n```\\n\\n## Nginx\u914d\u7f6e\\n\\n```conf blog.alanwei.net.conf\\nserver {\\n    listen       443 ssl;\\n    server_name  blog.alanwei.net;\\n\\n    ssl_certificate /wwwroot/certs/alanwei.net.cer; # \u8bc1\u4e66\u6587\u4ef6\\n    ssl_certificate_key /wwwroot/certs/alanwei.net.key; # \u79c1\u94a5\u6587\u4ef6\\n    ssl_session_timeout 5m; # \u4f1a\u8bdd\u7f13\u5b58\u8fc7\u671f\u65f6\u95f4\\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # \u5f00\u542f SSL \u652f\u6301\\n    ssl_prefer_server_ciphers on; # \u8bbe\u7f6e\u534f\u5546\u52a0\u5bc6\u7b97\u6cd5\u65f6\uff0c\u4f18\u5148\u4f7f\u7528\u670d\u52a1\u7aef\u7684\u52a0\u5bc6\u5957\u4ef6\\n\\n    #charset koi8-r;\\n    access_log  /var/log/nginx/blog.alanwei.net.access.log  main;\\n\\n    location / {\\n        proxy_pass http://blog.alanwei.com;\\n    }\\n    \\n    error_page   500 502 503 504  /50x.html;\\n\\n    location = /50x.html {\\n        root   /usr/share/nginx/html;\\n    }\\n}\\n```\\n\\n\\n> \u53c2\u8003\u6587\u7ae0\\n> [Let\'s Encrypt \u8bc1\u4e66\u7533\u8bf7\u53ca\u914d\u7f6e](https://www.jianshu.com/p/1a792f87b6fe)\\n> [\u5feb\u901f\u7b7e\u53d1 Let\'s Encrypt \u8bc1\u4e66\u6307\u5357](https://www.cnblogs.com/esofar/p/9291685.html)"},{"id":"/2021/03/13/back-forward-cache","metadata":{"permalink":"/blog/2021/03/13/back-forward-cache","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-13-back-forward-cache.md","source":"@site/src/blog/2021-03-13-back-forward-cache.md","title":"\u6d4f\u89c8\u5668\u7684\u524d\u8fdb\u540e\u9000\u7f13\u5b58\u673a\u5236 Back/forward cache","description":"Optimize your pages for instant loads when using the browser\'s back and forward buttons.","date":"2021-03-13T00:00:00.000Z","formattedDate":"March 13, 2021","tags":[{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"browser","permalink":"/blog/tags/browser"},{"label":"\u8bd1\u6587","permalink":"/blog/tags/\u8bd1\u6587"}],"readingTime":16.685,"hasTruncateMarker":false,"authors":[{"name":"Philip Walton","url":"https://github.com/philipwalton","imageURL":"https://web-dev.imgix.net/image/admin/ovBM8MF9rYDxVVHUVlcG.jpg?w=128"}],"frontMatter":{"title":"\u6d4f\u89c8\u5668\u7684\u524d\u8fdb\u540e\u9000\u7f13\u5b58\u673a\u5236 Back/forward cache","author":"Philip Walton","author_url":"https://github.com/philipwalton","author_image_url":"https://web-dev.imgix.net/image/admin/ovBM8MF9rYDxVVHUVlcG.jpg?w=128","tags":["javascript","browser","\u8bd1\u6587"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Let\'s Encrypt\u8bc1\u4e66\u7533\u8bf7\u53ca\u914d\u7f6e","permalink":"/blog/2021/03/14/lets-encrypt-ssl-certificate"},"nextItem":{"title":"macOS - \u66f4\u6539\u529f\u80fd\u952e\u7684\u9ed8\u8ba4\u884c\u4e3a","permalink":"/blog/2021/03/13/macos-change-default-behavior-function-keys"}},"content":"Optimize your pages for instant loads when using the browser\'s back and forward buttons. \\n\\n\\nBack/forward cache (or bfcache) is a browser optimization that enables instant back and forward navigation. It significantly improves the browsing experience for users\u2014especially those with slower networks or devices.\\n\\nAs web developers, it\'s critical to understand how to [optimize your pages for bfcache](https://web.dev/bfcache/#optimize-your-pages-for-bfcache) across all browsers, so your users can reap the benefits.\\n\\n## Browser compatibility\\n\\nbfcache has been supported in both [Firefox](https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/1.5/Using_Firefox_1.5_caching) and [Safari](https://webkit.org/blog/427/webkit-page-cache-i-the-basics/) for many years, across desktop and mobile.\\n\\nStarting in version 86, Chrome has enabled bfcache for [cross-site](https://web.dev/same-site-same-origin/) navigations on Android for a small percentage of users. In Chrome 87, bfcache support will be rolled out to all Android users for cross-site navigation, with the intent to support [same-site](https://web.dev/same-site-same-origin/) navigation as well in the near future.\\n\\n### bfcache basics\\n\\nbfcache is an in-memory cache that stores a complete snapshot of a page (including the JavaScript heap) as the user is navigating away. With the entire page in memory, the browser can quickly and easily restore it if the user decides to return.\\n\\nHow many times have you visited a website and clicked a link to go to another page, only to realize it\'s not what you wanted and click the back button? In that moment, bfcache can make a big difference in how fast the previous page loads:\\n\\n* **Without bfcache enabled**  A new request is initiated to load the previous page, and, depending on how well that page has been [optimized](https://web.dev/reliable/#the-options-in-your-caching-toolbox) for repeat visits, the browser might have to re-download, re-parse, and re-execute some (or all) of resources it just downloaded. \\n* **With bfcache enabled**  Loading the previous page is *essentially instant*, because the entire page can be restored from memory, without having to go to the network at all \\n\\nCheck out [this video of bfcache in action](https://youtu.be/cuPsdRckkF0) to understand the speed up it can bring to navigations.\\n\\nIn the video above, the example with bfcache is quite a bit faster than the example without it.\\n\\nbfcache not only speeds up navigation, it also reduces data usage, since resources do not have to be downloaded again.\\n\\nChrome usage data shows that 1 in 10 navigations on desktop and 1 in 5 on mobile are either back or forward. With bfcache enabled, browsers could eliminate the data transfer and time spent loading for billions of web pages every single day!\\n\\n### How the \\"cache\\" works\\n\\nThe \\"cache\\" used by bfcache is different from the [HTTP cache](https://web.dev/http-cache/) (which is also useful in speeding up repeat navigations). The bfcache is a snapshot of the entire page in memory (including the JavaScript heap), whereas the HTTP cache contains only the responses for previously made requests. Since it\'s quite rare that all requests required to load a page can be fulfilled from the HTTP cache, repeat visits using bfcache restores are always faster than even the most well-optimized non-bfcache navigations.\\n\\nCreating a snapshot of a page in memory, however, involves some complexity in terms of how best to preserve in-progress code. For example, how do you handle `setTimeout()` calls where the timeout is reached while the page is in the bfcache?\\n\\nThe answer is that browsers pause running any pending timers or unresolved promises\u2014essentially all pending tasks in the [JavaScript task queues](https://html.spec.whatwg.org/multipage/webappapis.html#task-queue)\u2014and resume processing tasks when (or if) the page is restored from the bfcache.\\n\\nIn some cases this is fairly low-risk (for example, timeouts or promises), but in other cases it might lead to very confusing or unexpected behavior. For example, if the browser pauses a task that\'s required as part of an [IndexedDB transaction](https://developer.mozilla.org/docs/Web/API/IDBTransaction), it can affect other open tabs in the same origin (since the same IndexedDB databases can be accessed by multiple tabs simultaneously). As a result, browsers will generally not attempt to cache pages in the middle of an IndexedDB transaction or using APIs that might affect other pages.\\n\\nFor more details on how various API usage affects a page\'s bfcache eligibility, see [Optimize your pages for bfcache](https://web.dev/bfcache/#optimize-your-pages-for-bfcache) below.\\n\\n### APIs to observe bfcache\\n\\nWhile bfcache is an optimization that browsers do automatically, it\'s still important for developers to know when it\'s happening so they can [optimize their pages for it](https://web.dev/bfcache/#optimize-your-pages-for-bfcache) and [adjust any metrics or performance measurement](https://web.dev/bfcache/#implications-for-analytics-and-performance-measurement) accordingly.\\n\\nThe primary events used to observe bfcache are the [page transition events](https://developer.mozilla.org/docs/Web/API/PageTransitionEvent)\u2014`pageshow` and pagehide\u2014which have been around as long as bfcache has and are supported in pretty much [all browsers in use today](https://caniuse.com/page-transition-events).\\n\\nThe newer [Page Lifecycle](https://developers.google.com/web/updates/2018/07/page-lifecycle-api) events\u2014`freeze` and `resume`\u2014are also dispatched when pages go in or out of the bfcache, as well as in some other situations. For example when a background tab gets frozen to minimize CPU usage. Note, the Page Lifecycle events are currently only supported in Chromium-based browsers.\\n\\n### Observe when a page is restored from bfcache\\n\\nThe `pageshow` event fires right after the `load` event when the page is initially loading and any time the page is restored from bfcache. The `pageshow` event has a [persisted](https://developer.mozilla.org/docs/Web/API/PageTransitionEvent/persisted) property which will be `true` if the page was restored from bfcache (and `false` if not). You can use the `persisted` property to distinguish regular page loads from bfcache restores. For example:\\n```javascript\\nwindow.addEventListener(\'pageshow\', function(event) {\\n  if (event.persisted) {\\n    console.log(\'This page was restored from the bfcache.\');\\n  } else {\\n    console.log(\'This page was loaded normally.\');\\n  }\\n});\\n```\\n\\nIn browsers that support the Page Lifecycle API, the `resume` event will also fire when pages are restored from bfcache (immediately before the `pageshow` event), though it will also fire when a user revisits a frozen background tab. If you want to restore a page\'s state after it\'s frozen (which includes pages in the bfcache), you can use the `resume` event, but if you want to measure your site\'s bfcache hit rate, you\'d need to use the `pageshow` event. In some cases, you might need to use both.\\n\\n:::note\\nSee [Implications for performance and analytics](https://web.dev/bfcache/#how-bfcache-affects-analytics-and-performance-measurement) for more details on bfcache measurement best practices.\\n:::\\n\\n### Observe when a page is entering bfcache\\n\\nThe `pagehide` event is the counterpart to the `pageshow` event. The `pageshow` event fires when a page is either loaded normally or restored from the bfcache. The `pagehide` event fires when the page is either unloaded normally or when the browser attempts to put it into the bfcache.\\n\\nThe `pagehide` event also has a `persisted` property, and if it\'s `false` then you can be confident a page is not about to enter the bfcache. However, if the `persisted` property is `true`, it doesn\'t guarantee that a page will be cached. It means that the browser intends to cache the page, but there may be factors that make it impossible to cache.\\n```javascript\\nwindow.addEventListener(\'pagehide\', function(event) {\\n  if (event.persisted === true) {\\n   console.log(\'This page *might* be entering the bfcache.\');\\n  } else {\\n    console.log(\'This page will unload normally and be discarded.\');\\n  }\\n});\\n```\\n\\nSimilarly, the `freeze` event will fire immediately after the `pagehide` event (if the event\'s `persisted` property is `true`), but again that only means the browser intends to cache the page. It may still have to discard it for a number of reasons explained below.\\n\\n## Optimize your pages for bfcache\\n\\nNot all pages get stored in bfcache, and even when a page does get stored there, it won\'t stay there indefinitely. It\'s critical that developers understand what makes pages eligible (and ineligible) for bfcache to maximize their cache-hit rates.\\n\\nThe following sections outline the best practices to make it as likely as possible that the browser can cache your pages.\\n\\n### Never use the unload event\\n\\nThe most important way to optimize for bfcache in all browsers is to never use the `unload` event. Ever!\\n\\nThe `unload` event is problematic for browsers because it predates bfcache and many pages on the internet operate under the (reasonable) assumption that a page will not continue to exist after the `unload` event has fired. This presents a challenge because many of those pages were also built with the assumption that the `unload` event would fire any time a user is navigating away, which is no longer true (and [hasn\'t been true for a long time](https://developers.google.com/web/updates/2018/07/page-lifecycle-api#the-unload-event)).\\n\\nSo browsers are faced with a dilemma, they have to choose between something that can improve the user experience\u2014but might also risk breaking the page.\\n\\nFirefox has chosen to make pages ineligible for bfcache if they add an `unload` listener, which is less risky but also disqualifies a lot of pages. Safari will attempt to cache some pages with an `unload` event listener, but to reduce potential breakage it will not run the `unload` event when a user is navigating away.\\n\\nSince 65% of pages in Chrome register an `unload` event listener, to be able to cache as many pages as possible, Chrome chose to align implementation with Safari.\\n\\nInstead of using the `unload` event, use the `pagehide` event. The `pagehide` event fires in all cases where the `unload` event currently fires, and it also fires when a page is put in the bfcache.\\n\\nIn fact, Lighthouse v6.2.0 has added a [no-unload-listeners](https://github.com/GoogleChrome/lighthouse/pull/11085) audit, which will warn developers if any JavaScript on their pages (including that from third-party libraries) adds an `unload` event listener.\\n\\n:::warning\\nWarning: Never add an `unload` event listener! Use the `pagehide` event instead. Adding an `unload` event listener will make your site slower in Firefox, and the code won\'t even run most of the time in Chrome and Safari.\\n:::\\n\\n### Only add beforeunload listeners conditionally\\n\\nThe `beforeunload` event will not make your pages ineligible for bfcache in Chrome or Safari, but it will make them ineligible in Firefox, so avoid using it unless absolutely necessary.\\n\\nUnlike the `unload` event, however, there are legitimate uses for `beforeunload`. For example, when you want to warn the user that they have unsaved changes they\'ll lose if they leave the page. In this case, it\'s recommended that you only add `beforeunload` listeners when a user has unsaved changes and then remove them immediately after the unsaved changes are saved.\\n\\n:::warning\\n**Don\'t**\\n```javascript\\nwindow.addEventListener(\'beforeunload\', (event) => {\\n  if (pageHasUnsavedChanges()) {\\n    event.preventDefault();\\n    return event.returnValue = \'Are you sure you want to exit?\';\\n  }\\n});\\n```\\nThe code above adds a `beforeunload` listener unconditionally.\\n:::\\n\\n:::note\\n**Do**\\n```javascript\\nfunction beforeUnloadListener(event) {\\n  event.preventDefault();\\n  return event.returnValue = \'Are you sure you want to exit?\';\\n};\\n\\n// A function that invokes a callback when the page has unsaved changes.\\nonPageHasUnsavedChanges(() => {\\n  window.addEventListener(\'beforeunload\', beforeUnloadListener);\\n});\\n\\n// A function that invokes a callback when the page\'s unsaved changes are resolved.\\nonAllChangesSaved(() => {\\n  window.removeEventListener(\'beforeunload\', beforeUnloadListener);\\n});\\n```\\nThe code above only adds the `beforeunload` listener when it\'s needed (and removes it when it\'s not).\\n:::\\n\\n### Avoid window.opener references\\n\\nIn some browsers (including Chromium-based browsers) if a page was opened using [window.open()](https://developer.mozilla.org/docs/Web/API/Window/open) or (in [Chromium-based browsers prior to version 88](https://crbug.com/898942)) from a link with [target=_blank](https://developer.mozilla.org/docs/Web/HTML/Element/a#target)\u2014without specifying [rel=\\"noopener\\"](https://developer.mozilla.org/docs/Web/HTML/Link_types/noopener)\u2014then the opening page will have a reference to the window object of the opened page.\\n\\nIn addition to [being a security risk](https://mathiasbynens.github.io/rel-noopener/), a page with a non-null window.opener reference cannot safely be put into the bfcache because that could break any pages attempting to access it.\\n\\nAs a result, it\'s best to avoid creating window.opener references by using rel=\\"noopener\\" whenever possible. If your site requires opening a window and controlling it through [window.postMessage()](https://developer.mozilla.org/docs/Web/API/Window/postMessage) or directly referencing the window object, neither the opened window nor the opener will be eligible for bfcache.\\n\\n### Always close open connections before the user navigates away \\n\\nAs mentioned above, when a page is put into the bfcache all scheduled JavaScript tasks are paused and then resumed when the page is taken out of the cache.\\n\\nIf these scheduled JavaScript tasks are only accessing DOM APIs\u2014or other APIs isolated to just the current page\u2014then pausing these tasks while the page is not visible to the user is not going to cause any problems.\\n\\nHowever, if these tasks are connected to APIs that are also accessible from other pages in the same origin (for example: IndexedDB, Web Locks, WebSockets, etc.) this can be problematic because pausing these tasks may prevent code in other tabs from running.\\n\\nAs a result, most browsers will not attempt to put a page in bfcache in the following scenarios:\\n\\n* Pages with an unfinished [IndexedDB transaction](https://developer.mozilla.org/docs/Web/API/IDBTransaction)\\n* Pages with in-progress [fetch()](https://developer.mozilla.org/docs/Web/API/Fetch_API) or [XMLHttpRequest](https://developer.mozilla.org/docs/Web/API/XMLHttpRequest)\\n* Pages with an open [WebSocket](https://developer.mozilla.org/docs/Web/API/WebSocket) or [WebRTC](https://developer.mozilla.org/docs/Web/API/WebRTC_API) connection\\n\\nIf your page is using any of these APIs, it\'s best to always close connections and remove or disconnect observers during the `pagehide` or `freeze` event. That will allow the browser to safely cache the page without the risk of it affecting other open tabs.\\n\\nThen, if the page is restored from the bfcache, you can re-open or re-connect to those APIs (in the `pageshow` or `resume` event).\\n\\n:::note\\nUsing the APIs listed above does not disqualify a page from being stored in bfcache, as long as they are not actively in use before the user navigates away. However, there are APIs (Embedded Plugins, Workers, Broadcast Channel, and [several others](https://source.chromium.org/chromium/chromium/src/+/master:content/browser/frame_host/back_forward_cache_impl.cc;l=124;drc=e790fb2272990696f1d16a465832692f25506925?originalUrl=https:%2F%2Fcs.chromium.org%2F)) where usage currently does disqualify a page from being cached. While Chrome is intentionally being conservative in its initial release of bfcache, the long-term goal is to make bfcache work with as many APIs as possible.\\n:::\\n\\n### Test to ensure your pages are cacheable\\n\\nWhile there\'s no way to determine whether a page was put into the cache as it\'s unloading, it is possible to assert that a back or forward navigation did restore a page from the cache.\\n\\nCurrently, in Chrome, a page can remain in the bfcache for up to three minutes, which should be enough time to run a test (using a tool like [Puppeteer](https://github.com/puppeteer/puppeteer) or [WebDriver](https://www.w3.org/TR/webdriver/)) to ensure that the `persisted` property of a `pageshow` event is true after navigating away from a page and then clicking the back button.\\n\\nNote that, while under normal conditions a page should remain in the cache for long enough to run a test, it can be evicted silently at any time (for example, if the system is under memory pressure). A failing test doesn\'t necessarily mean your pages are not cacheable, so you need to configure your test or build failure criteria accordingly.\\n\\n:::note\\nIn Chrome, bfcache is currently only enabled on mobile. To test bfcache on desktop you need to [enable the #back-forward-cache flag](https://www.chromium.org/developers/how-tos/run-chromium-with-flags).\\n:::\\n\\n### Ways to opt out of bfcache\\n\\nIf you do not want a page to be stored in the bfcache you can ensure it\'s not cached by setting the `Cache-Control` header on the top-level page response to `no-store`:\\n```\\nCache-Control: no-store\\n```\\n\\nAll other caching directives (including `no-cache` or even `no-store` on a subframe) will not affect a page\'s eligibility for bfcache.\\n\\nWhile this method is effective and works across browsers, it has other caching and performance implications that may be undesirable. To address that, there\'s a proposal to [add a more explicit opt-out mechanism](https://github.com/whatwg/html/issues/5744), including a mechanism to clear the bfcache if needed (for example, when a user logs out of a website on a shared device).\\n\\nAlso, in Chrome, user-level opt-out is currently possible via [the #back-forward-cache flag](https://www.chromium.org/developers/how-tos/run-chromium-with-flags), as well an [enterprise policy-based opt-out](https://cloud.google.com/docs/chrome-enterprise/policies).\\n\\n:::note\\nCaution: Given the significantly better user experience that bfcache delivers, it is not recommended to opt-out unless absolutely necessary for privacy reasons, for example if a user logs out of a website on a shared device.\\n:::\\n\\n## How bfcache affects analytics and performance measurement\\n\\nIf you track visits to your site with an analytics tool, you will likely notice a decrease in the total number of pageviews reported as Chrome continues to enable bfcache for more users.\\n\\nIn fact, you\'re likely already underreporting pageviews from other browsers that implement bfcache since most of the popular analytics libraries do not track bfcache restores as new pageviews.\\n\\nIf you don\'t want your pageview counts to go down due to Chrome enabling bfcache, you can report bfcache restores as pageviews (recommended) by listening to the `pageshow` event and checking the `persisted` property.\\n\\nThe following example shows how to do this with Google Analytics; the logic should be similar for other analytics tools:\\n```javascript\\n// Send a pageview when the page is first loaded.\\ngtag(\'event\', \'page_view\')\\n\\nwindow.addEventListener(\'pageshow\', function(event) {\\n  if (event.persisted === true) {\\n    // Send another pageview if the page is restored from bfcache.\\n    gtag(\'event\', \'page_view\')\\n  }\\n});\\n```\\n\\n### Performance measurement\\n\\nbfcache can also negatively affect performance metrics collected [in the field](https://web.dev/user-centric-performance-metrics/#in-the-field), specifically metrics that measure page load times.\\n\\nSince bfcache navigations restore an existing page rather than initiate a new page load, the total number of page loads collected will decrease when bfcache is enabled. What\'s critical, though, is that the page loads being replaced by bfcache restores would likely have been some of the fastest page loads in your dataset. This is because back and forward navigations, by definition, are repeat visits, and repeat page loads are generally faster than page loads from first time visitors (due to [HTTP caching](https://web.dev/http-cache/), as mentioned earlier).\\n\\nThe result is fewer fast page loads in your dataset, which will likely skew the distribution slower\u2014despite the fact that the performance experienced by the user has probably improved!\\n\\nThere are a few ways to deal with this issue. One is to annotate all page load metrics with their respective [navigation type](https://www.w3.org/TR/navigation-timing-2/#sec-performance-navigation-types): `navigate`, `reload`, `back_forward`, or `prerender`. This will allow you to continue to monitor your performance within these navigation types\u2014even if the overall distribution skews negative. This approach is recommended for non-user-centric page load metrics like [Time to First Byte (TTFB)](https://web.dev/time-to-first-byte/).\\n\\nFor user-centric metrics like the [Core Web Vitals](https://web.dev/vitals/), a better option is to report a value that more accurately represents what the user experiences.\\n\\n:::note\\nCaution: The `back_forward` navigation type in the [Navigation Timing API](https://www.w3.org/TR/navigation-timing-2/#sec-performance-navigation-types) is not to be confused with bfcache restores. The Navigation Timing API only annotates page loads, whereas bfcache restores are re-using a page loaded from a previous navigation.\\n:::\\n\\n### Impact on Core Web Vitals\\n\\nCore Web Vitals measure the user\'s experience of a web page across a variety of dimensions (loading speed, interactivity, visual stability), and since users experience bfcache restores as faster navigations than traditional page loads, it\'s important that the Core Web Vitals metrics reflect this. After all, a user doesn\'t care whether or not bfcache was enabled, they just care that the navigation was fast!\\n\\nTools like the Chrome User Experience Report, that collect and report on the Core Web Vitals metrics treat bfcache restores as separate page visits in their dataset.\\n\\nAnd while there aren\'t (yet) dedicated web performance APIs for measuring these metrics after bfcache restores, their values can be approximated using existing web APIs.\\n\\n* For Largest Contentful Paint (LCP), you can use the delta between the pageshow event\'s timestamp and the timestamp of the next painted frame (since all elements in the frame will be painted at the same time). Note that in the case of a bfcache restore, LCP and FCP will be the same.\\n* For First Input Delay (FID), you can re-add the event listeners (the same ones used by the FID polyfill) in the pageshow event, and report FID as the delay of the first input after the bfcache restore.\\n* For Cumulative Layout Shift (CLS), you can continue to keep using your existing Performance Observer; all you have to do is reset the current CLS value to 0.\\n\\nFor more details on how bfcache affects each metric, refer to the individual Core Web Vitals metric guides pages. And for a specific example of how to implement bfcache versions of these metrics in code, refer to the PR adding them to the web-vitals JS library.\\n\\n:::note\\nAs of v1, the [web-vitals](https://github.com/GoogleChrome/web-vitals) JavaScript library [supports bfcache restores](https://github.com/GoogleChrome/web-vitals/pull/87) in the metrics it reports. Developers using v1 or greater should not need to update their code.\\n:::\\n\\n## Additional Resources\\n\\n* [Firefox Caching](https://developer.mozilla.org/Firefox/Releases/1.5/Using_Firefox_1.5_caching) *(bfcache in Firefox)*\\n* [Page Cache](https://webkit.org/blog/427/webkit-page-cache-i-the-basics/) *(bfcache in Safari)*\\n* [Back/forward cache: web exposed behavior](https://docs.google.com/document/d/1JtDCN9A_1UBlDuwkjn1HWxdhQ1H2un9K4kyPLgBqJUc/edit?usp=sharing) *(bfcache differences across browsers)*\\n* [bfcache tester](https://back-forward-cache-tester.glitch.me/?persistent_logs=1) *(test how different APIs and events affect bfcache in browsers)*\\n\\n\\n> [\u539f\u6587 - Back/forward cache](https://web.dev/bfcache/)"},{"id":"/2021/03/13/macos-change-default-behavior-function-keys","metadata":{"permalink":"/blog/2021/03/13/macos-change-default-behavior-function-keys","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-13-macos-change-default-behavior-function-keys.md","source":"@site/src/blog/2021-03-13-macos-change-default-behavior-function-keys.md","title":"macOS - \u66f4\u6539\u529f\u80fd\u952e\u7684\u9ed8\u8ba4\u884c\u4e3a","description":"\u66f4\u6539 macOS \u7cfb\u7edf\u529f\u80fd\u952e\u7684\u9ed8\u8ba4\u884c\u4e3a","date":"2021-03-13T00:00:00.000Z","formattedDate":"March 13, 2021","tags":[{"label":"mac","permalink":"/blog/tags/mac"},{"label":"keyboard","permalink":"/blog/tags/keyboard"}],"readingTime":0.51,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"macOS - \u66f4\u6539\u529f\u80fd\u952e\u7684\u9ed8\u8ba4\u884c\u4e3a","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["mac","keyboard"],"description":"\u66f4\u6539 macOS \u7cfb\u7edf\u529f\u80fd\u952e\u7684\u9ed8\u8ba4\u884c\u4e3a","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u6d4f\u89c8\u5668\u7684\u524d\u8fdb\u540e\u9000\u7f13\u5b58\u673a\u5236 Back/forward cache","permalink":"/blog/2021/03/13/back-forward-cache"},"nextItem":{"title":"\u5220\u9664HTTP\u8bf7\u6c42\u5934\u4e2d\u7684 referrer","permalink":"/blog/2021/03/09/remove-http-request-referrer"}},"content":"\u5982\u679c\u60a8\u8981\u66f4\u6539\u9876\u884c\u6309\u952e(F1~F12)\u4ee5\u4f7f\u5b83\u4eec\u5728\u65e0\u9700\u6309\u4f4f Fn \u952e\u7684\u60c5\u51b5\u4e0b\u7528\u4f5c\u6807\u51c6\u529f\u80fd\u952e\uff0c\u8bf7\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a\\n\\n\x3c!--truncate--\x3e\\n\\n1. \u9009\u53d6\u82f9\u679c\u83dc\u5355 __\uf8ff > \u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e(System Perferences)__\\n2. \u70b9\u6309 __\u952e\u76d8(Keyboard)__\\n3. \u9009\u62e9 __\u5c06F1\u3001F12\u7b49\u952e\u7528\u4f5c\u6807\u51c6\u6309\u952e(Use F1, F2, ect. keys as standard function keys)__\\n\\n[\u539f\u6587 - \u5982\u4f55\u4f7f\u7528 Mac \u4e0a\u7684\u529f\u80fd\u952e](https://support.apple.com/zh-cn/HT204436)"},{"id":"/2021/03/09/remove-http-request-referrer","metadata":{"permalink":"/blog/2021/03/09/remove-http-request-referrer","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-09-remove-http-request-referrer.md","source":"@site/src/blog/2021-03-09-remove-http-request-referrer.md","title":"\u5220\u9664HTTP\u8bf7\u6c42\u5934\u4e2d\u7684 referrer","description":"\u5220\u9664HTTP\u8bf7\u6c42\u5934\u4e2d\u7684 Referer\uff0c\u80fd\u89e3\u51b3\u90e8\u5206\u9632\u76d7\u94fe\u95ee\u9898\u3002","date":"2021-03-09T00:00:00.000Z","formattedDate":"March 9, 2021","tags":[{"label":"http","permalink":"/blog/tags/http"},{"label":"web","permalink":"/blog/tags/web"}],"readingTime":1.335,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u5220\u9664HTTP\u8bf7\u6c42\u5934\u4e2d\u7684 referrer","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["http","web"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"macOS - \u66f4\u6539\u529f\u80fd\u952e\u7684\u9ed8\u8ba4\u884c\u4e3a","permalink":"/blog/2021/03/13/macos-change-default-behavior-function-keys"},"nextItem":{"title":"\u60b2\u50ac\u7684\u7a0b\u5e8f\u5458\uff0c\u4ee5\u53ca\u7a0b\u5e8f\u5458\u7684\u60b2\u50ac","permalink":"/blog/2021/03/07/bei-cui-cheng-xu-yuan-yi-ji-cheng-xu-yuan-be-cui"}},"content":"\u5220\u9664HTTP\u8bf7\u6c42\u5934\u4e2d\u7684 `Referer`\uff0c\u80fd\u89e3\u51b3\u90e8\u5206\u9632\u76d7\u94fe\u95ee\u9898\u3002\\n\\n\u5728\u9875\u9762\u7684 `head` \u91cc\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\u5373\u53ef\u5220\u9664`Referer`\u8bf7\u6c42\u5934\uff1a \\n\\n\x3c!--truncate--\x3e\\n\\n```html\\n<meta name=\\"referrer\\" content=\\"no-referrer\\" />\\n```\\n\\n\u8fd9\u5bf9\u9875\u9762\u4e0a\u7684\u94fe\u63a5\u8bf7\u6c42\u4ee5\u53ca\u4f7f\u7528JavaScript\u4ee3\u7801\u53d1\u8d77\u7684Ajax\u8bf7\u6c42\u90fd\u6709\u6548\u3002\\n\\n\u6216\u8005\u9488\u5bf9\u56fe\u7247\u53bb\u6389referrer:\\n\\n```html\\n<img referrer=\\"no-referrer|origin|unsafe-url\\" src=\\"image link\\"/>\\n\\n\x3c!-- \u6bd4\u5982 --\x3e\\n<img src=\\"https://gitee.com/alanway/resources/raw/master/files/iis-reverse-proxy/site-access-with-proxy.png\\" referrerpolicy=\\"no-referrer\\">\\n```\\n\\n\u5176\u4ed6\u6709\u6548 `meta` \u9009\u9879\u5982\u4e0b:\\n\\n```html\\n<meta name=\\"referrer\\" content=\\"unsafe-url\\" />\\n<meta name=\\"referrer\\" content=\\"origin\\" />\\n<meta name=\\"referrer\\" content=\\"no-referrer-when-downgrade\\" />\\n<meta name=\\"referrer\\" content=\\"origin-when-cross-origin\\" />\\n```\\n\\n* See if it works for your browser here: http://caniuse.com/#feat=referrer-policy\\n* See specs here: http://w3c.github.io/webappsec/specs/referrer-policy/\\n\\nAlso note that browsers now send the Origin header (with CORS requests and POST requests, see here: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin ) which includes domain and port, and, as far as I know, cannot be removed. If you use `<meta name=\\"referrer\\" content=\\"origin\\" />` the referrer will contain similar information to the Origin header, which is already good from a privacy point of view, since it will hide the exact page the user is in.\\n\\n__Update:__\\n\\nIf you want to remove the referrer by using JavaScript only, you may add the appropriate meta tag dynamically just before making the Ajax request. This JavaScript will add `<meta name=\\"referrer\\" content=\\"no-referrer\\" /> `to head section of the web page:\\n\\n```javascript\\nvar meta = document.createElement(\'meta\');\\nmeta.name = \\"referrer\\";\\nmeta.content = \\"no-referrer\\";\\ndocument.getElementsByTagName(\'head\')[0].appendChild(meta);\\n```\\n\\n> [\u539f\u6587 - Remove http referer](https://stackoverflow.com/questions/6817595/remove-http-referer)"},{"id":"/2021/03/07/bei-cui-cheng-xu-yuan-yi-ji-cheng-xu-yuan-be-cui","metadata":{"permalink":"/blog/2021/03/07/bei-cui-cheng-xu-yuan-yi-ji-cheng-xu-yuan-be-cui","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-07-bei-cui-cheng-xu-yuan-yi-ji-cheng-xu-yuan-be-cui.md","source":"@site/src/blog/2021-03-07-bei-cui-cheng-xu-yuan-yi-ji-cheng-xu-yuan-be-cui.md","title":"\u60b2\u50ac\u7684\u7a0b\u5e8f\u5458\uff0c\u4ee5\u53ca\u7a0b\u5e8f\u5458\u7684\u60b2\u50ac","description":"\u539f\u6587 - \u60b2\u50ac\u7684\u7a0b\u5e8f\u5458\uff0c\u4ee5\u53ca\u7a0b\u5e8f\u5458\u7684\u60b2\u50ac[\u8f6c(http://blog.sina.cn/dpool/blog/s/blog_621a71a00100qs5r.html)","date":"2021-03-07T00:00:00.000Z","formattedDate":"March 7, 2021","tags":[{"label":"\u65e5\u5fd7","permalink":"/blog/tags/\u65e5\u5fd7"},{"label":"\u6587\u7ae0","permalink":"/blog/tags/\u6587\u7ae0"},{"label":"\u6458\u6284","permalink":"/blog/tags/\u6458\u6284"},{"label":"\u8f6c\u6458","permalink":"/blog/tags/\u8f6c\u6458"}],"readingTime":11.715,"hasTruncateMarker":true,"authors":[{"name":"\u82cf\u9e4f","url":"http://blog.sina.cn/dpool/blog/u/1645900192#type=-1","imageURL":"https://portrait1.sinaimg.cn/1645900192/blog/180"}],"frontMatter":{"title":"\u60b2\u50ac\u7684\u7a0b\u5e8f\u5458\uff0c\u4ee5\u53ca\u7a0b\u5e8f\u5458\u7684\u60b2\u50ac","author":"\u82cf\u9e4f","author_url":"http://blog.sina.cn/dpool/blog/u/1645900192#type=-1","author_image_url":"https://portrait1.sinaimg.cn/1645900192/blog/180","tags":["\u65e5\u5fd7","\u6587\u7ae0","\u6458\u6284","\u8f6c\u6458"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5220\u9664HTTP\u8bf7\u6c42\u5934\u4e2d\u7684 referrer","permalink":"/blog/2021/03/09/remove-http-request-referrer"},"nextItem":{"title":"\u4ece\u524d\u6162","permalink":"/blog/2021/03/07/cong-qian-man"}},"content":"import { NetworkCopyRight } from \\"@site/src/components\\";\\n\\n<NetworkCopyRight author=\\"\u4f5a\u540d\\" link=\\"http://blog.sina.cn/dpool/blog/s/blog_621a71a00100qs5r.html\\" />\\n\\n\\n[\u539f\u6587 - \u60b2\u50ac\u7684\u7a0b\u5e8f\u5458\uff0c\u4ee5\u53ca\u7a0b\u5e8f\u5458\u7684\u60b2\u50ac[\u8f6c](\u8f6c\u8f7d\u81eahttp://www.douban.com/note/122664737/\u6c34\u4e4b\u5370\u8c61\u8c46\u74e3\uff09](http://blog.sina.cn/dpool/blog/s/blog_621a71a00100qs5r.html)\\n\\n\u6211\u5c3d\u91cf\u7528\u5e73\u548c\u4e00\u70b9\u7684\u53e3\u543b\u8ddf\u4f60\u8bf4\u8bf4\u5173\u4e8e\u7a0b\u5e8f\u5458\u7684\u90a3\u70b9\u4e8b\u513f\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u7b2c1\u8282\\n\\n\u6211\u5728\u4e00\u4e2a\u53eb\u6469\u6258\u7f57\u62c9\u7684\u516c\u53f8\u5e72\u8fc7\uff0c\u90a3\u5730\u65b9\u670950%\u7684\u4eba\u6574\u5929\u5e72\u7684\u4e8b\u60c5\u5c31\u662f\u50ac\u53e6\u591625%\u7684\u4eba\u6ca1\u5b8c\u6ca1\u4e86\u7684\u89e3\u5269\u4e0b\u90a325%\u7684\u4eba\u9020\u6210\u7684bug\u3002\u6211\u662f\u4e2a\u7a0b\u5e8f\u5458\uff0c\u6bcf\u5929\u6572\u6572\u6253\u6253\uff0c\u54ea\u5929\u7535\u8111\u5d29\u6e83\u4e86\u4f60\u4f1a\u53d1\u73b0\u6211\u8fd9\u8f88\u5b50\u5565\u90fd\u6ca1\u7559\u4e0b\u3002\u5927\u591a\u6570\u4eba\u751a\u81f3\u90fd\u6ca1\u6709\u60f3\u8fc7\u6211\u4eec\u662f\u600e\u4e48\u628a\u624b\u673a\u6363\u9f13\u51fa\u6765\u7684\uff0c\u5305\u62ec\u662f\u662f\u5426\u4eba\u624b\u4e00\u5957\u4e50\u9ad8\u7684\u5bb6\u5ead\u5957\u88c5\u5de5\u5177\u3002\\n\\n\u6211\u90a3\u53ef\u7231\u7684\u5cb3\u7236\u5cb3\u6bcd\u5728\u5411\u81ea\u5df1\u7684\u4eb2\u621a\u670b\u53cb\u4eec\u4ecb\u7ecd\u6211\u7684\u65f6\u5019\uff0c\u603b\u662f\u7528\u4e00\u79cd\u5145\u6ee1\u81ea\u8c6a\u7684\u53e3\u543b\u8f7b\u63cf\u6de1\u5199\u7684\u8bf4\uff0c\u4ed6\u5728\u6469\u6258\u7f57\u62c9\u4e0a\u73ed\uff08\u6211\u79bb\u5f00\u6469\u6258\u7f57\u62c9\u4ee5\u540e\u4ed6\u4eec\u4f1a\u8bf4\uff0c\u4ed6\u4ee5\u524d\u5728\u6469\u6258\u7f57\u62c9\u4e0a\u73ed\uff09\u3002\u7136\u540e\u90a3\u5e2e\u5012\u9709\u50ac\u7684\u4eb2\u621a\u670b\u53cb\u4eec\u5c31\u4f1a\u4e00\u79cd\u65e2\u5185\u884c\u53c8\u5957\u8fd1\u4e4e\u7684\u53e3\u6c14\u8bf4\uff0c\u4f60\u80fd\u57cb\u5bfc\u504f\u4f0a\u719f\u51e0\u5575\uff1f...\u6211\u5185\u8bfa\u51e0\u4e9a\u5c4f\u5e55\u4e0d\u54b8\u4f60\u80fd\u4fee\u5575\uff1f\\n\\n\u7c7b\u4f3c\u7684\u4e8b\u60c5\u5728\u6211\u521a\u6bd5\u4e1a\u7684\u65f6\u5019\u4e5f\u4f1a\u7ecf\u5e38\u53d1\u751f\uff0c\u4eba\u4eec\u4e00\u542c\u5230\u90ae\u7535\u5927\u5b66\u5c31\u4f1a\u5fe7\u56fd\u5fe7\u6c11\u7684\u53f9\u4e00\u53e3\u6c14\uff1a\u73b0\u5728\u8fd9\u90ae\u5c40\u4e0d\u666f\u6c14\u554a\uff0c\u5feb\u9012\u4e5f\u90fd\u662f\u4f53\u529b\u6d3b\u513f...\\n\\n\u4eca\u5929\u4e0b\u5348\u6211\u7684\u6211\u540c\u4e8b\u540c\u5ba2\u6237\u89c1\u9762\uff0c\u6211\u4eec\u82b1\u4e86\u4e00\u4e2a\u591a\u5c0f\u65f6\u4e5f\u6ca1\u6cd5\u5f88\u597d\u7684\u89e3\u91ca\u4e3a\u4ec0\u4e48\u6211\u4eec\u7684\u5ba2\u6237\u7aef\u5728\u6536\u5230\u4e00\u4e2a\u5b8c\u6574\u7684\u56fe\u7247\uff08\u867d\u7136\u5b83\u8d85\u65f6\u4e86\uff09\u540e\u53c8\u518d\u6b21\u53d1\u751f\u76f8\u540c\u7684\u8bf7\u6c42\uff0c\u5e76\u4e14\u57283\u79d2\u949f\u53c8\u6536\u5230\u5e94\u7b54\u4e4b\u540e\u8fd8\u662f\u6ca1\u6cd5\u8ba9\u5b83\u663e\u793a\u51fa\u6765\u3002\u201c\u6709\u5173\u90e8\u95e8\u201d\u53ef\u4ee5\u201c\u4e0d\u89e3\u91ca\u201d\uff0c\u4f46\u7a0b\u5e8f\u5458\u4e00\u70b9\u513f\u90fd\u4e0d\u80fd\u542b\u7cca\u3002\\n\\n\u7136\u540e\u53e6\u5916\u4e00\u4e2a\u540c\u4e8b\u7ed9\u6211\u53d1\u4e86\u4e00\u4e2a\u94fe\u63a5\uff0c\u5173\u4e8e\u5927\u6d0b\u5f7c\u5cb8\u4e00\u4e2a\u60b2\u50ac\u7684\u7a0b\u5e8f\u5458[\u963f\u4ec0\u987f\u7684\u6545\u4e8b](http://www.zhuoqun.net/html/y2010/1565.html)\u3002\u201c\u4ed6\u5199\u8fc7\u7684\u4efb\u4f55\u4e00\u884c\u4ee3\u7801\u90fd\u6ca1\u6709\u8fd0\u884c\u8fc7\u3002\u8fc7\u53bb\u4e24\u5e74\u5185\u4ed6\u505a\u7684\u4efb\u4f55\u4e00\u4ef6\u4e8b\u60c5\u90fd\u6ca1\u6709\u5bf9\u4e16\u754c\u4ea7\u751f\u8fc7\u4ec0\u4e48\u5f71\u54cd\u3002\u201d\\n\\n\u5c3d\u7ba1\u6211\u4ece\u5185\u5fc3\u91cc\u660e\u767d\u8fd9\u4e2a\u4e16\u754c\u4e0a\u8fd8\u6709\u5f88\u591a\u4eba\u6d3b\u5f97\u6bd4\u6211\u60b2\u60e8\uff0c\u4f46\u6211\u8fd8\u662f\u5fcd\u4e0d\u4f4f\u7684\u60b2\u4ece\u4e2d\u6765\uff0c\u51e0\u4e4e\u9006\u6d41\u3002\\n \\n## \u7b2c2\u8282\\n\\n\u6211\u6bcf\u5929\u52aa\u529b\u7f16\u5199\u4ee3\u7801\u7684\u95f4\u9699\uff0c\u4f1a\u4e0a\u6c34\u6728\u6e05\u534e\u7684\u7b11\u8bdd\u7248\u653e\u677e\u4e00\u4e0b\uff0c\u6216\u662f\u770b\u770b\u4e0d\u9732\u70b9\u7684\u7f8e\u5973\u56fe\u7247\u89e3\u89e3\u4e4f\u3002\u6211\u4e5f\u770b\u4e00\u4e9b\u4e1a\u754c\u7684\u65b0\u95fb\uff0c\u90a3\u4e9b\u72d7\u65e5\u7684\u5929\u5929\u628a\u201c\u521b\u65b0/\u7528\u6237\u4f53\u9a8c/\u654f\u6377\u5f00\u53d1\u201d\u7b49\u7b49\u6302\u5728\u5634\u8fb9\uff0c\u5374\u4ece\u6765\u6ca1\u4e3a\u8fd9\u4e2a\u4e16\u754c\u8d21\u732e\u8fc7\u54ea\u6015\u4e00\u884c\u4ee3\u7801\u3002\u6211\u8fd8\u7528\u514d\u8d39\u7684\u5728\u7ebf\u7ffb\u8bd1\u8f6f\u4ef6\uff0c\u4e3a\u7684\u662f\u7ed9\u4ee3\u7801\u4e2d\u7684\u6bcf\u4e00\u4e2a\u53d8\u91cf\u90fd\u8d77\u4e00\u4e2a\u5730\u9053\u7684\u82f1\u6587\u540d\u5b57\uff0c\u81f3\u5c11\u8ba9\u5370\u5ea6\u540c\u4e8b\u4eec\u770b\u4e0a\u53bb\u53ef\u8bfb\u6027\u5f3a\u4e00\u4e9b\u3002\\n\\n\u6211\u6709\u4e2a\u5e08\u5f1f\uff0c\u56e0\u4e3a\u5de5\u4f5c\u7684\u5173\u7cfb\u4ed6\u5c45\u7136\u4e0d\u5f97\u4e0d\u5728\u665a\u4e0a\u7f16\u7a0b\u3002\u5728\u4ed6\u5931\u604b\u7684\u90a3\u5929\u665a\u4e0a\u6211\u4eec\u4e00\u8d77\u559d\u9152\uff0c\u4ed6\u6cea\u6d41\u6ee1\u9762\u7684\u5bf9\u6211\u8bf4\uff0c\u5176\u5b9e\u4ed6\u89c9\u5f97\u6700\u60b2\u75db\u7684\u4e8b\u60c5\u662f\u81ea\u5df1\u8fde\u5750\u53f0\u7684\u5c0f\u59d0\u90fd\u4e0d\u5982\uff0c\u5979\u4eec\u8fd8\u53ef\u4ee5\u8d5a\u5916\u5feb\uff0c\u800c\u8fd9\u5374\u662f\u6211\u7684\u751f\u6d3b\u3002\\n\\n\u4e0a\u4e2a\u6708\u6211\u548c\u51e0\u4e2a\u6821\u53cb\u805a\u9910\uff0c\u5176\u4e2d\u4e00\u4e2a26\u5c81\u7684\u5c0f\u4f19\u5b50\u4e00\u76f4\u6ca1\u600e\u4e48\u5403\uff0c\u672b\u4e86\u4ed6\u5341\u5206\u6c89\u91cd\u7684\u8bf4\uff0c\u6015\u81ea\u5df1\u8fd9\u8f88\u5b50\u5c31\u53ea\u80fd\u5f53\u4e2a\u7a0b\u5e8f\u5458\u4e86...\u7f16\u7a0b\u5e74\u9f84\u6700\u957f\u4e3a12\u5e74\u7684\u6211\u4eec\u5145\u6ee1\u7f9e\u6127\u5730\u4ee5\u904d\u5386\u7684\u5f62\u5f0f\u76f8\u4e92\u5bf9\u89c6\u4e86\u4e00\u5708\uff1b\u5305\u95f4\u7684\u7a7a\u6c14\u91cc\u5145\u6ee1\u4e86\u60b2\u6006\u548c\u7edd\u671b\u3002\\n\\n\u6211\u52aa\u529b\u56de\u5fc6\u770b\u8fc7\u7684\u6bcf\u4e00\u90e8\u6709\u7a0b\u5e8f\u5458\u51fa\u73b0\u7684\u7247\u5b50\uff0c\u53d1\u73b0\u8fd9\u4e9b\u4eba\u4e0d\u662f\u524d\u666f\u5c31\u662f\u80cc\u666f\uff0c\u603b\u662f\u5904\u4e8e\u7126\u5916\u3002\u6709\u65f6\u5019\u4ed6\u4eec\u5728\u9ed1\u6389\u4e00\u4e9b\u7cfb\u7edf\u4e4b\u540e\u4f1a\u6709\u6709\u5e78\u8fd0\u7684\u6b63\u8138\u51fa\u73b0\uff0c\u4f46\u5f88\u5feb\u5c31\u4f1a\u4ee5\u4e00\u79cd\u98de\u6765\u6a2a\u7978\uff08\u4f8b\u5982\u88ab\u9f20\u6807\u7ebf\u52d2\u4f4f\u6216\u6ed1\u843d\u7684\u7535\u8111\u7838\u5230\uff09\u7684\u65b9\u5f0f\u6b7b\u6389\uff0c\u8fde\u50cf\u4e3b\u89d2\u90a3\u6837\u4e2d\u67aa\u6216\u88ab\u7206\u70b8\u90fd\u4e0d\u914d\u3002\u4ed6\u4eec\u6ca1\u6709\u540d\u8868\u540d\u8f66\uff0c\u6ca1\u6709\u5973\u4eba\u548c\u6027\uff0c\u6700\u591a\u517b\u4e00\u53ea\u770b\u4e0a\u53bb\u548c\u672c\u4eba\u4e00\u6837\u975e\u4e3b\u6d41\u7684\u5ba0\u7269\u8725\u8734\u3002\\n\\n\u90a3\u665a\u4e0a\u6211\u505a\u4e86\u4e2a\u68a6\uff0c\u68a6\u89c1\u8fd9\u4e2a\u4e16\u754c\u6709\u4e00\u4e2a\u603b\u7684\u7535\u6e90\u5f00\u5173\uff0c\u90aa\u6076\u7684\u7ae0\u9c7c\u535a\u58eb\u7528\u624b\uff08\u4ed6\u6709\u516b\u53ea\u624b\uff09\u6076\u72e0\u72e0\u7684\u6390\u6389\u4e86\u5f00\u5173\uff0c\u7136\u540e\u6211\u5e72\u4e86\u4e00\u8f88\u5b50\u4ec0\u4e48\u90fd\u6ca1\u7559\u4e0b\u3002\\n\\n## \u7b2c3\u8282\\n\\n\u6211\u8001\u5a46\u6bcf\u5929\u4e0b\u73ed\u90fd\u4f1a\u8ddf\u6211\u8bb2\u5979\u4eec\u529e\u516c\u5ba4\u597d\u73a9\u7684\u4e8b\u60c5\uff0c\u4f8b\u5982A\u548cB\u95f9\u77db\u76fe\u6253\u4e86\u8d77\u6765\u7136\u540eB\u5c31\u628aA\u5168\u5e74\u7684\u5de5\u8d44\u5355\u7fa4\u53d1\u7ed9\u6240\u6709\u540c\u4e8b...\u6211\u4e5f\u8ddf\u5979\u8bf4\u6211\u4eec\u597d\u73a9\u7684\u4e8b\u60c5\uff1aA\u5199\u7684\u4ee3\u7801\u628a\u4e92\u65a5\u548c\u4fe1\u53f7\u91cf\u5f04\u6df7\u6dc6\u4e86\uff0c\u5bfc\u81f4\u6267\u884c\u7684\u7ed3\u679c\u603b\u662f\u65f6\u5bf9\u65f6\u9519\uff0cB\u7ed9\u4ed6\u505acode review\u4e4b\u540e\u628a\u4e92\u65a5\u548c\u4fe1\u53f7\u91cf\u90fd\u53bb\u6389\u4e86\uff0c\u53d1\u73b0\u6839\u672c\u4e0d\u9700\u8981\u8fd9\u4e9b\u4e1c\u897f\u4e5f\u80fd\u5f97\u5230\u6b63\u786e\u7684\u7ed3\u679c\uff0c\u56e0\u4e3a\u6240\u6709\u7684\u4e00\u5207\u90fd\u8fd0\u884c\u5728\u540c\u4e00\u4e2a\u7ebf\u7a0b\u91cc...\\n\\n\u5982\u4f60\u6240\u77e5\uff0c\u8fd9\u4e2a\u4e16\u754c\u4e0a\u6709\u4e24\u79cd\u4eba\u6c38\u8fdc\u6ca1\u6cd5\u7406\u89e3\u7a0b\u5e8f\u5458\u7684\u5e7d\u9ed8\u548c\u7b11\u70b9\uff0c\u4e00\u79cd\u662f\u4e0d\u4f1a\u7f16\u7a0b\u7684\u4eba\uff0c\u4e00\u79cd\u662f\u6ca1\u6709\u5e7d\u9ed8\u611f\u7684\u4eba\u3002\u5c31\u5982\u540c\u72d7\u65e5\u7684KJ\u8bf4\u8fc7\u7684\uff0c\u8fd9\u4e2a\u4e16\u754c\u6709\u4e24\u79cd\u4eba\uff0c\u4e00\u79cd\u662f\u7a0b\u5e8f\u5458\uff0c\u4e00\u79cd\u4e0d\u662f\u7a0b\u5e8f\u5458\u3002\\n\\n\u975e\u7a0b\u5e8f\u5458\u53ef\u4ee5\u8981\u6c42\u7a0b\u5e8f\u5458\u63d0\u9ad8\u70b9\u6587\u5316\u7d20\u8d28\u548c\u4e3e\u6b62\u4fee\u517b\uff0c\u4f46\u7a0b\u5e8f\u5458\u5374\u4e0d\u80fd\u8981\u6c42\u975e\u7a0b\u5e8f\u5458\u4eec\u5728\u8ba8\u8bba\u5927\u4e8b\u5c0f\u4e8b\u7684\u65f6\u5019\u591a\u4e00\u70b9\u7406\u6027\u7684\u6001\u5ea6\u548c\u5ba2\u89c2\u79d1\u5b66\u7684\u7cbe\u795e\u3002\u8fd9\u4e5f\u662f\u6211\u548c\u6211\u8001\u5a46\u7684\u5bb6\u5ead\u751f\u6d3b\u539f\u5219\u3002\\n\\n\u6211\u8ba4\u8bc6\u7684\u670b\u53cb\u4e2d\u6709\u505a\u7f16\u5267\uff0c\u4e5f\u6709\u753b\u753b\u7684\uff0c\u8fd9\u4e24\u4e2a\u5012\u9709\u7684\u5bb6\u4f19\u7684\u4f5c\u54c1\u4ece\u6765\u6ca1\u6709\u5728\u8fd9\u4e2a\u4e16\u754c\u4e0a\u4ee5\u4e00\u79cd\u516c\u5f00\u7684\u65b9\u5f0f\u88ab\u4eba\u770b\u8fc7\u3002\u4f46\u662f\u6240\u6709\u7684\u4eba\u90fd\u5145\u6ee1\u8010\u5fc3\u548c\u7231\u5fc3\u7684\u5b89\u6170\u4ed6\u4eec\uff0c\u6ca1\u5173\u7cfb\uff0c\u603b\u6709\u90a3\u4e48\u4e00\u5929\u4f60\u4f1a\u8fdb\u519b\u597d\u83b1\u575e\uff0c\u6216\u662f\u5728\u4f73\u58eb\u5f97\u62cd\u5356\u573a\u7684\u3002\u53ef\u662f\u8fd9\u5e2e\u52bf\u5229\u773c\u4eec\u6bcf\u6b21\u89c1\u5230\u6211\u90fd\u4f1a\u7528\u4e00\u79cd\u4e0d\u51fa\u6240\u6599\u7684\u5fc3\u6001\uff0c\u4ee5\u4e00\u79cd\u5173\u5207\u60cb\u60dc\u7684\u53e3\u543b\u8bf4\uff0c\u4f60\u600e\u4e48\u8fd8\u5728\u7f16\u7a0b\u554a\uff1f\u4ed6\u4eec\u4ece\u6765\u4e0d\u4f1a\u5b89\u6170\u6211\u8bf4\uff0c\u603b\u6709\u4e00\u5929\u4f60\u4f1a\u6210\u4e3a\u6bd4\u5c14\u76d6\u8328\u7684\uff1b\u54ea\u6015\u662f\u738b\u6c5f\u6c11\u4e5f\u884c\uff0c\u5c3d\u7ba1\u4ed6\u5df2\u7ecf\u82f1\u5e74\u65e9\u901d\u3002\\n\\n## \u7b2c4\u8282\\n\\n\u54f2\u4eba\u4eec\u8bf4\u8fc7\uff0c\u662f\u4f60\u53bb\u8fce\u5408\u8fd9\u4e2a\u4e16\u754c\uff0c\u800c\u4e0d\u662f\u8fd9\u4e2a\u4e16\u754c\u6765\u8fce\u5408\u4f60\u3002\u6211\u4e3a\u4e86\u8fce\u5408\u8fd9\u4e2a\u72d7\u65e5\u7684\u4e16\u754c\uff0c\u4e0d\u5f97\u4e0d\u5728\u7f16\u7a0b\u4e4b\u4f59\u53bb\u505a\u4e00\u4e9b\u4e8b\u60c5\uff0c\u76ee\u7684\u53ea\u662f\u8ba9\u81ea\u5df1\u6210\u4e3a\u4e00\u4e2a\u4e0d\u662f\u90a3\u4e48\u666e\u901a\u7684\u7a0b\u5e8f\u5458\u800c\u5df2\u3002\u4e16\u754c\u53ef\u80fd\u662f\u4f60\u7684\uff0c\u4e5f\u53ef\u80fd\u662f\u4ed6\u7684\uff0c\u4f46\u4e0d\u662f\u7a0b\u5e8f\u5458\u7684\uff0c\u5c3d\u7ba1\u8fd9\u4e2a\u4e16\u754c\u51e1\u662f\u63d2\u7535\u7684\u4e1c\u897f\u91cc\u57fa\u672c\u90fd\u8dd1\u7740\u533f\u540d\u7a0b\u5e8f\u5458\u4eec\u4e00\u884c\u4e00\u884c\u5199\u51fa\u6765\u7684\u4ee3\u7801\u3002\\n\\n\u6211\u5f97\u770b\u4e00\u4e9b\u5927\u90e8\u5934\uff0c\u4e0d\u662f\u300a\u9b3c\u5439\u706f\u300b\uff0c\u81f3\u5c11\u5f97\u662f\u300a\u660e\u671d\u90a3\u4e9b\u4e8b\u513f\u300b\uff0c\u8fd9\u6837\u4ed6\u4eec\u5728\u8c08\u8bba\u300a\u4e07\u5386\u5341\u4e94\u5e74\u7684\u65f6\u5019\u300b\u6211\u81f3\u5c11\u80fd\u63d2\u5f97\u4e0a\u8bdd\uff0c\u5076\u5c14\u4e5f\u80fd\u8c08\u7b11\u98ce\u751f\u3002\u6211\u6700\u8fd1\u770b\u7684\u4e00\u672c\u4e66\u662f\u300a\u9ad8\u7ea7\u8ff7\u4fe1\u300b\uff0c\u6211\u6562\u6253\u8d4c\u4e0d\u7ba1\u4f60\u662f\u4e0d\u662f\u7a0b\u5e8f\u5458\u4f60\u90fd\u4e0d\u4e00\u5b9a\u770b\u5f97\u61c2\u3002\\n\\n\u6211\u4e70\u4e86\u5355\u53cd\u8fd8\u6709\u955c\u5934\uff0c\u867d\u7136\u90fd\u662f\u4e8c\u624b\u7684\uff0c\u4f46\u6211\u548c\u6240\u6709\u70e7\u4e0d\u8d77\u5668\u6750\u7684\u4eba\u4eec\u4e00\u6837\uff0c\u575a\u4fe1\u91cd\u8981\u7684\u4e0d\u662f\u955c\u5934\u800c\u662f\u955c\u5934\u540e\u8fb9\u7684\u8fd9\u9897\u8111\u888b\u3002\\n\\n\u6211\u8fd8\u542c\u6447\u6eda\uff0c\u867d\u7136\u4ed6\u4eec\u7684iPod\u91cc\u5927\u591a\u6570\u65f6\u5019\u653e\u7684\u90fd\u662f\u4e9b\u5c0f\u8d44\u5c0f\u6e05\u65b0\u3002\u81f3\u5c11\u6211\u4e5f\u6709\u81ea\u5df1\u7684\u54c1\u5473\u3002\\n\\n\u6211\u7684\u90a3\u4e9b\u7a0b\u5e8f\u5458\u540c\u4e8b\u548c\u670b\u53cb\u4eec\uff0c\u6709\u7684\u53bb\u767b\u5c71\u8fdc\u8db3\uff0c\u6709\u7684\u5b66\u8c03\u9152\uff08\u56e0\u4e3a\u6ca1\u6cd5\u5b66\u4f1a\u8c03\u59d1\u5a18\uff09\uff0c\u8fd8\u6709\u7684\u81ea\u5df1\u548c\u81ea\u5df1\u73a9SM\u3002\u56e0\u4e3a\u7a0b\u5e8f\u5458\u4eec\u5bf9\u4e8e\u8fd9\u4e2a\u590d\u6742\u7684\u4e16\u754c\u6765\u8bf4\u90fd\u5c5e\u4e8e\u8db3\u591f\u7b80\u5355\u7684\u90a3\u4e00\u7c7b\u4eba\uff0c\u6027\u683c\u7b80\u5355\uff0c\u7231\u597d\u7b80\u5355\uff0c\u751a\u81f3\u884c\u4e3a\u4e5f\u7b80\u5355\u3002\u4ed6\u4eec\u6709\u65f6\u53ea\u662f\u60f3\u5f15\u8d77\u8eab\u8fb9\u7684\u4eba\u5bf9\u81ea\u5df1\u7684\u7a0b\u5e8f\u5458\u670b\u53cb\u6216\u7a0b\u5e8f\u5458\u5bb6\u4eba\u4e00\u70b9\u8db3\u591f\u7684\u91cd\u89c6\uff0c\u5c31\u50cf\u4f60\u517b\u7684\u5c0f\u72d7\u90a3\u6837\u3002\\n\\n\u6709\u65f6\u6211\u4e5f\u628a\u4e00\u4e9b\u7f16\u7a0b\u7684\u5fc3\u5f97\u5199\u51fa\u6765\uff0c\u63d2\u5165\u4e00\u4e9b\u6545\u5f04\u7384\u865a\u7684\u5e9f\u8bdd\uff0c\u7136\u540e\u53d1\u5230\u535a\u5ba2\u91cc\u3002\u6211\u4ece\u6765\u4e0d\u77e5\u9053\u81ea\u5df1\u5199\u7684\u4ee3\u7801\u4ec0\u4e48\u65f6\u5019\u5728\u54ea\u4e9b\u5730\u65b9\u8fd0\u884c\u7740\uff0c\u4f46\u6211\u5374\u53ef\u4ee5\u6e05\u695a\u7684\u770b\u5230\u591a\u5c11\u4eba\u8bbf\u95ee\u8fc7\u6211\u7684\u535a\u5ba2\uff08\u5c3d\u7ba1\u6709\u4e9b\u4eba\u53ea\u662f\u8bef\u70b9\uff09\uff0c\u8fd8\u6709\u591a\u5c11\u4eba\u7559\u8a00\uff08\u5c3d\u7ba1\u5927\u90e8\u5206\u90fd\u662f\u201c\u9876\u201d\u6216\u201c\u72d7\u5c41\u201d\u4e00\u7c7b\u7684\u72d7\u5c41\uff09\u3002\u4f46\u5f97\u611f\u8c22\u4ed6\u4eec\uff0c\u6df1\u591c\u91cc\u6211\u629a\u6478\u5c4f\u5e55\u4e0a\u8fd9\u4e9b\u83ab\u540d\u7684\u8bbf\u5ba2\u8bb0\u5f55\uff0c\u611f\u89c9\u81ea\u5df1\u90a3\u7070\u8272\u7684\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u5458\u751f\u6d3b\u56e0\u6b64\u800c\u7167\u8fdb\u4e86\u4e00\u4e1d\u5723\u5149\uff0c\u770b\u4e0a\u53bb\u53d8\u6210\u4e868\u8fdb\u5236\uff1a\u8d64\u6a59\u7ea2\u9ec4\u7eff\u84dd\u7d2b\uff0c\u8fd8\u6709\u767d\u3002\\n\\n## \u7b2c5\u8282\\n\\n\u5bf9\u4e8e\u7a0b\u5e8f\u5458\u6765\u8bf4\uff0c\u4e00\u4e2a\u6700\u597d\u7684\u4e16\u754c\uff0c\u5c31\u662f\u6211\u4eec\u53ef\u4ee5\u5fc3\u65e0\u65c1\u9a9b\u7f16\u7a0b\u7684\u4e16\u754c\uff0c\u662f\u6211\u4eec\u53ef\u4ee5\u9a84\u50b2\u7684\u9ad8\u547c\u201c\u6211\u8981\u7f16\u4e00\u8f88\u5b50\u7a0b\u201d\u7684\u4e16\u754c\uff0c\u662f\u975e\u7a0b\u5e8f\u5458\u7684\u90a3\u4e9b\u4eba\u50cf\u8ffd\u6367iPad\u4e00\u6837\u5949\u7a0b\u5e8f\u5458\u4e3a\u660e\u661f\u548c\u6559\u4e3b\u7684\u4e16\u754c"},{"id":"/2021/03/07/cong-qian-man","metadata":{"permalink":"/blog/2021/03/07/cong-qian-man","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-07-cong-qian-man.md","source":"@site/src/blog/2021-03-07-cong-qian-man.md","title":"\u4ece\u524d\u6162","description":"\u8bb0\u5f97\u65e9\u5148\u5c11\u5e74\u65f6","date":"2021-03-07T00:00:00.000Z","formattedDate":"March 7, 2021","tags":[{"label":"\u65e5\u5fd7","permalink":"/blog/tags/\u65e5\u5fd7"},{"label":"\u6587\u7ae0","permalink":"/blog/tags/\u6587\u7ae0"},{"label":"\u8f6c\u6458","permalink":"/blog/tags/\u8f6c\u6458"}],"readingTime":0.555,"hasTruncateMarker":true,"authors":[{"name":"\u6728\u5fc3"}],"frontMatter":{"title":"\u4ece\u524d\u6162","author":"\u6728\u5fc3","tags":["\u65e5\u5fd7","\u6587\u7ae0","\u8f6c\u6458"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u60b2\u50ac\u7684\u7a0b\u5e8f\u5458\uff0c\u4ee5\u53ca\u7a0b\u5e8f\u5458\u7684\u60b2\u50ac","permalink":"/blog/2021/03/07/bei-cui-cheng-xu-yuan-yi-ji-cheng-xu-yuan-be-cui"},"nextItem":{"title":"\u4f7f\u7528Maven\u521b\u5efa\u4e00\u4e2aJava\u9879\u76ee","permalink":"/blog/2021/03/06/create-java-project-use-maven"}},"content":"\u8bb0\u5f97\u65e9\u5148\u5c11\u5e74\u65f6 <br />\\n\u5927\u5bb6\u8bda\u8bda\u6073\u6073 <br />\\n\u8bf4\u4e00\u53e5 \u662f\u4e00\u53e5 <br />\\n\\n\x3c!--truncate--\x3e\\n\\n\u6e05\u65e9\u4e0a\u706b\u8f66\u7ad9  <br />\\n\u957f\u8857\u9ed1\u6697\u65e0\u884c\u4eba <br />\\n\u5356\u8c46\u6d46\u7684\u5c0f\u5e97\u5192\u7740\u70ed\u6c14 <br />\\n\\n\u4ece\u524d\u7684\u65e5\u8272\u53d8\u5f97\u6162 <br />\\n\u8f66\uff0c\u9a6c\uff0c\u90ae\u4ef6\u90fd\u6162 <br />\\n\u4e00\u751f\u53ea\u591f\u7231\u4e00\u4e2a\u4eba <br />\\n\\n\u4ece\u524d\u7684\u9501\u4e5f\u597d\u770b <br />\\n\u94a5\u5319\u7cbe\u7f8e\u6709\u6837\u5b50 <br />\\n\u4f60\u9501\u4e86 \u4eba\u5bb6\u5c31\u61c2\u4e86 <br />"},{"id":"/2021/03/06/create-java-project-use-maven","metadata":{"permalink":"/blog/2021/03/06/create-java-project-use-maven","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-06-create-java-project-use-maven.md","source":"@site/src/blog/2021-03-06-create-java-project-use-maven.md","title":"\u4f7f\u7528Maven\u521b\u5efa\u4e00\u4e2aJava\u9879\u76ee","description":"\u539f\u6587","date":"2021-03-06T00:00:00.000Z","formattedDate":"March 6, 2021","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"maven","permalink":"/blog/tags/maven"}],"readingTime":4.575,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u4f7f\u7528Maven\u521b\u5efa\u4e00\u4e2aJava\u9879\u76ee","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["java","maven"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4ece\u524d\u6162","permalink":"/blog/2021/03/07/cong-qian-man"},"nextItem":{"title":"\u5982\u4f55\u4f7f\u7528Maven\u521b\u5efa\u53ef\u6267\u884c\u7684JAR\u6587\u4ef6","permalink":"/blog/2021/03/06/how-can-i-create-an-executable-jar-with-dependencies-using-maven"}},"content":"[\u539f\u6587](https://mkyong.com/maven/how-to-create-a-java-project-with-maven/)\\n\\n## 1. Create a Project from Maven Template\\n\\nIn a terminal (*uix or Mac) or command prompt (Windows), navigate to the folder you want to create the Java project. Type this command :\\n\\n\x3c!--truncate--\x3e\\n\\n```\\nmvn archetype:generate \\n\\t-DgroupId={project-packaging}\\n\\t-DartifactId={project-name}\\n\\t-DarchetypeArtifactId={maven-template} \\n\\t-DinteractiveMode=false\\n```\\n\\nThis tells Maven to generate a Java project from a Maven template. For example,\\n\\n```\\nD:\\\\>mvn archetype:generate -DgroupId=com.mkyong.hashing -DartifactId=java-project -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\\n\\n...\\n[INFO] ------------------------------------------------------------------------\\n[INFO] BUILD SUCCESS\\n[INFO] ------------------------------------------------------------------------\\n[INFO] Total time: 3.992 s\\n[INFO] Finished at: 2018-09-27T17:15:57+08:00\\n[INFO] ------------------------------------------------------------------------\\n```\\n\\nAbove command will generate a Java project from maven-archetype-quickstart template.\\n\\n## 2. Maven Directory Layout\\n\\nThe following project directory structure will be created. In short, source code puts in folder /src/main/java/, unit test code puts in `/src/test/java/`.\\n\\n## 3. POM file\\n\\nReview the generated `pom.xml`. It\u2019s quite empty, just a single `jUnit` dependency.\\n\\n_pom.xml_\\n\\n```xml\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" \\n\\txmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n         xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 \\n\\t\\t http://maven.apache.org/maven-v4_0_0.xsd\\">\\n    <modelVersion>4.0.0</modelVersion>\\n    <groupId>com.mkyong.hashing</groupId>\\n    <artifactId>java-project3</artifactId>\\n    <packaging>jar</packaging>\\n    <version>1.0-SNAPSHOT</version>\\n    <name>java-project</name>\\n    <url>http://maven.apache.org</url>\\n    <dependencies>\\n        <dependency>\\n            <groupId>junit</groupId>\\n            <artifactId>junit</artifactId>\\n            <version>3.8.1</version>\\n            <scope>test</scope>\\n        </dependency>\\n    </dependencies>\\n</project>\\n```\\n\\nThis POM file is like the Ant `build.xml` file, it describes the entire project information, everything from directory structure, project plugins, project dependencies, how to build this project and etc, read this [official POM guide](http://maven.apache.org/guides/introduction/introduction-to-the-pom.html).\\n\\n## 4. Update POM\\n\\n### 4.1 Add compiler properties to tell Maven use a specified JDK version to compile the source code.\\n\\n```xml\\n\\t<properties>\\n\\t\\t\x3c!-- https://maven.apache.org/general.html#encoding-warning --\x3e\\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\\n\\t\\t\\n        <maven.compiler.source>1.8</maven.compiler.source>\\n        <maven.compiler.target>1.8</maven.compiler.target>\\n    </properties>\\n```\\n\\n### 4.2 Update jUnit to 4.12\\n\\n```xml\\n\\t<dependency>\\n\\t\\t<groupId>junit</groupId>\\n\\t\\t<artifactId>junit</artifactId>\\n\\t\\t<version>4.12</version>\\n\\t\\t<scope>test</scope>\\n\\t</dependency>\\n```\\n\\n### 4.3 Add commons-codec for SHA hashing.\\n\\n```xml\\n\\t\x3c!-- Dependency for hashing --\x3e\\n\\t\x3c!-- https://search.maven.org/artifact/commons-codec/commons-codec/1.11/jar --\x3e\\n\\t<dependency>\\n\\t\\t<groupId>commons-codec</groupId>\\n\\t\\t<artifactId>commons-codec</artifactId>\\n\\t\\t<version>1.11</version>\\n\\t</dependency>\\n```\\n\\n### 4.4 Complete updated version.\\n\\n_pom.xml_\\n\\n```xml\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" \\n\\txmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n         xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 \\n\\t\\t http://maven.apache.org/maven-v4_0_0.xsd\\">\\n    <modelVersion>4.0.0</modelVersion>\\n    <groupId>com.mkyong.hashing</groupId>\\n    <artifactId>java-project</artifactId>\\n    <packaging>jar</packaging>\\n    <version>1.0-SNAPSHOT</version>\\n    <name>java-project</name>\\n    <url>http://maven.apache.org</url>\\n\\n    <properties>\\n        \x3c!-- https://maven.apache.org/general.html#encoding-warning --\x3e\\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\\n        <maven.compiler.source>1.8</maven.compiler.source>\\n        <maven.compiler.target>1.8</maven.compiler.target>\\n    </properties>\\n\\n    <dependencies>\\n        <dependency>\\n            <groupId>junit</groupId>\\n            <artifactId>junit</artifactId>\\n            <version>4.12</version>\\n            <scope>test</scope>\\n        </dependency>\\n        <dependency>\\n            <groupId>commons-codec</groupId>\\n            <artifactId>commons-codec</artifactId>\\n            <version>1.11</version>\\n        </dependency>\\n    </dependencies>\\n\\n</project>\\n```\\n\\n## 5. Write Code\\n\\n### 5.1 Update the App.java to accept an input and hash it with a SHA-256 algorithm.\\n\\n_App.java_\\n\\n```java\\npackage com.mkyong.hashing;\\n\\nimport org.apache.commons.codec.digest.DigestUtils;\\n\\npublic class App {\\n\\n    public static void main(String[] args) {\\n\\n        if (args.length < 1) {\\n            System.err.println(\\"Please provide an input!\\");\\n            System.exit(0);\\n        }\\n        System.out.println(sha256hex(args[0]));\\n\\n    }\\n\\n    public static String sha256hex(String input) {\\n        return DigestUtils.sha256Hex(input);\\n    }\\n\\n}\\n```\\n\\n### 5.2 Unit Test.\\n\\n_AppTest.java_\\n\\n```java\\npackage com.mkyong.hashing;\\n\\nimport org.junit.Assert;\\nimport org.junit.Test;\\n\\npublic class AppTest {\\n\\n    private String INPUT = \\"123456\\";\\n\\n    @Test\\n    public void testLength() {\\n        Assert.assertEquals(64, App.sha256hex(INPUT).length());\\n    }\\n\\n    @Test\\n    public void testHex() {\\n        String expected = \\"8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\\";\\n        Assert.assertEquals(expected, App.sha256hex(INPUT));\\n    }\\n\\n}\\n```\\n\\nDone.\\n\\n## 6. Maven Build\\n\\n### 6.1 Let build it with `mvn package`\\n\\n```\\nD:\\\\java-project>mvn package\\n[INFO] Scanning for projects...\\n[INFO]\\n[INFO] ------------------< com.mkyong.hashing:java-project >-------------------\\n[INFO] Building java-project 1.0-SNAPSHOT\\n[INFO] --------------------------------[ jar ]---------------------------------\\n[INFO]\\n......\\n\\n-------------------------------------------------------\\n T E S T S\\n-------------------------------------------------------\\nRunning com.mkyong.hashing.AppTest\\nTests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.067 sec\\n\\nResults :\\n\\nTests run: 2, Failures: 0, Errors: 0, Skipped: 0\\n\\n[INFO]\\n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ java-project ---\\n[INFO] Building jar: D:\\\\java-project\\\\target\\\\java-project-1.0-SNAPSHOT.jar\\n[INFO] ------------------------------------------------------------------------\\n[INFO] BUILD SUCCESS\\n[INFO] ------------------------------------------------------------------------\\n[INFO] Total time: 1.956 s\\n[INFO] Finished at: 2018-09-28T12:40:18+08:00\\n[INFO] ------------------------------------------------------------------------\\n```\\n\\nIt compiles, run unit test and package the project into a `jar` file and puts it into the `project/target` folder.\\n\\n## 7. Run#1\\n\\n### 7.1 Run it. Oops\u2026 By default, Maven didn\u2019t add the project dependencies `commons-codec` into the jar file.\\n\\n```\\nD:\\\\java-project>java -cp target/java-project-1.0-SNAPSHOT.jar com.mkyong.hashing.App 123456\\n\\nException in thread \\"main\\" java.lang.NoClassDefFoundError: org/apache/commons/codec/digest/DigestUtils\\n        at com.mkyong.hashing.App.sha256hex(App.java:18)\\n        at com.mkyong.hashing.App.main(App.java:13)\\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.codec.digest.DigestUtils\\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\\n        ... 2 more\\n```\\n\\n### 7.2 To solve it, we can use this `maven-shade-plugin` to create an uber/fat-jar \u2013 group everything into a single jar file.\\n\\n_pom.xml_\\n\\n```xml\\n\\t<build>\\n        <plugins>\\n\\n            <plugin>\\n                <groupId>org.apache.maven.plugins</groupId>\\n                <artifactId>maven-shade-plugin</artifactId>\\n                <version>3.2.0</version>\\n                <executions>\\n                    \x3c!-- Attach the shade goal into the package phase --\x3e\\n                    <execution>\\n                        <phase>package</phase>\\n                        <goals>\\n                            <goal>shade</goal>\\n                        </goals>\\n                    </execution>\\n                </executions>\\n            </plugin>\\n\\n        </plugins>\\n    </build>\\n```\\n\\n### 7.3 Package it again!\\n\\n```\\nD:\\\\java-project>mvn clean package\\n[INFO] Scanning for projects...\\n[...\\n\\n[INFO] --- maven-shade-plugin:3.2.0:shade (default) @ java-project ---\\n[INFO] Including commons-codec:commons-codec:jar:1.11 in the shaded jar.\\n[INFO] Replacing original artifact with shaded artifact.\\n\\n[INFO] Replacing D:\\\\java-project\\\\target\\\\java-project-1.0-SNAPSHOT.jar \\n\\twith D:\\\\java-project\\\\target\\\\java-project-1.0-SNAPSHOT-shaded.jar\\n...\\n```\\n\\nTwo jars will be generated, review the file size :\\n\\n```\\nD:\\\\java-project>dir target\\n Volume in drive D is Samsung970\\n Volume Serial Number is 10DF-E63D\\n\\n Directory of D:\\\\java-project\\\\target\\n\\n28/09/2018  12:57 PM           335,643 java-project-1.0-SNAPSHOT.jar\\n28/09/2018  12:57 PM             3,053 original-java-project-1.0-SNAPSHOT.jar\\n...\\n```\\n\\n## 8. Run#2\\n\\n### 8.1 Run it again. Good, the result is expected.\\n\\n```\\nD:\\\\java-project>java -cp target/java-project-1.0-SNAPSHOT.jar com.mkyong.hashing.App 123456\\n8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\\n```\\n\\n### 8.2 Can we run it as Jar? No, there is no main class.\\n\\n```\\nD:\\\\java-project>java -jar target/java-project-1.0-SNAPSHOT.jar 123456\\nno main manifest attribute, in target/java-project-1.0-SNAPSHOT.jar\\n```\\n\\n### 8.3 To solve it, add the main class in maven-shade-plugin like this.\\n\\n_pom.xml_\\n\\n```xml\\n<plugin>\\n\\t<groupId>org.apache.maven.plugins</groupId>\\n\\t<artifactId>maven-shade-plugin</artifactId>\\n\\t<version>3.2.0</version>\\n\\t<executions>\\n\\t\\t\x3c!-- Attach the shade into the package phase --\x3e\\n\\t\\t<execution>\\n\\t\\t\\t<phase>package</phase>\\n\\t\\t\\t<goals>\\n\\t\\t\\t\\t<goal>shade</goal>\\n\\t\\t\\t</goals>\\n\\t\\t\\t<configuration>\\n\\t\\t\\t\\t<transformers>\\n\\t\\t\\t\\t\\t<transformer implementation=\\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\\">\\n\\t\\t\\t\\t\\t\\t<mainClass>com.mkyong.hashing.App</mainClass>\\n\\t\\t\\t\\t\\t</transformer>\\n\\t\\t\\t\\t</transformers>\\n\\t\\t\\t</configuration>\\n\\t\\t</execution>\\n\\t</executions>\\n</plugin>\\n```\\n\\n## 9. Run#3\\n\\n### 9.1 Package it again!\\n\\n```\\nD:\\\\java-project>mvn clean package\\n```\\n\\n### 9.2 Run it as Jar.\\n\\n```\\nD:\\\\java-project>java -jar target/java-project-1.0-SNAPSHOT.jar 123456\\n8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\\n```\\n\\nDone.\\n\\n## 10. POM\\n\\nFinal POM file.\\n\\n_pom.xml_\\n\\n```xml\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" \\n\\txmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n         xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 \\n\\t\\t http://maven.apache.org/maven-v4_0_0.xsd\\">\\n    <modelVersion>4.0.0</modelVersion>\\n    <groupId>com.mkyong.hashing</groupId>\\n    <artifactId>java-project</artifactId>\\n    <packaging>jar</packaging>\\n    <version>1.0-SNAPSHOT</version>\\n    <name>java-project</name>\\n    <url>http://maven.apache.org</url>\\n\\n    <properties>\\n        \x3c!-- https://maven.apache.org/general.html#encoding-warning --\x3e\\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\\n        <maven.compiler.source>1.8</maven.compiler.source>\\n        <maven.compiler.target>1.8</maven.compiler.target>\\n    </properties>\\n\\n    <dependencies>\\n        <dependency>\\n            <groupId>junit</groupId>\\n            <artifactId>junit</artifactId>\\n            <version>4.12</version>\\n            <scope>test</scope>\\n        </dependency>\\n        <dependency>\\n            <groupId>commons-codec</groupId>\\n            <artifactId>commons-codec</artifactId>\\n            <version>1.11</version>\\n        </dependency>\\n    </dependencies>\\n    <build>\\n        <plugins>\\n            <plugin>\\n                <groupId>org.apache.maven.plugins</groupId>\\n                <artifactId>maven-shade-plugin</artifactId>\\n                <version>3.2.0</version>\\n                <executions>\\n                    \x3c!-- Attach the shade into the package phase --\x3e\\n                    <execution>\\n                        <phase>package</phase>\\n                        <goals>\\n                            <goal>shade</goal>\\n                        </goals>\\n                        <configuration>\\n                            <transformers>\\n                                <transformer\\n                                        implementation=\\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\\">\\n                                    <mainClass>com.mkyong.hashing.App</mainClass>\\n                                </transformer>\\n                            </transformers>\\n                        </configuration>\\n                    </execution>\\n                </executions>\\n            </plugin>\\n\\t\\t\\t\\n        </plugins>\\n    </build>\\n</project>\\n```"},{"id":"/2021/03/06/how-can-i-create-an-executable-jar-with-dependencies-using-maven","metadata":{"permalink":"/blog/2021/03/06/how-can-i-create-an-executable-jar-with-dependencies-using-maven","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-06-how-can-i-create-an-executable-jar-with-dependencies-using-maven.md","source":"@site/src/blog/2021-03-06-how-can-i-create-an-executable-jar-with-dependencies-using-maven.md","title":"\u5982\u4f55\u4f7f\u7528Maven\u521b\u5efa\u53ef\u6267\u884c\u7684JAR\u6587\u4ef6","description":"\u539f\u6587 - \u4f7f\u7528Maven\u6253\u5305\u53ef\u6267\u884cJAR\u7a0b\u5e8f","date":"2021-03-06T00:00:00.000Z","formattedDate":"March 6, 2021","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"maven","permalink":"/blog/tags/maven"}],"readingTime":1.3,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u5982\u4f55\u4f7f\u7528Maven\u521b\u5efa\u53ef\u6267\u884c\u7684JAR\u6587\u4ef6","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["java","maven"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u4f7f\u7528Maven\u521b\u5efa\u4e00\u4e2aJava\u9879\u76ee","permalink":"/blog/2021/03/06/create-java-project-use-maven"},"nextItem":{"title":"IKEv2 \u914d\u7f6e\u548c\u4f7f\u7528\u6307\u5357","permalink":"/blog/2021/03/06/ipsec-clients-ikev2"}},"content":"[\u539f\u6587 - \u4f7f\u7528Maven\u6253\u5305\u53ef\u6267\u884cJAR\u7a0b\u5e8f](https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven)\\n\\n\x3c!--truncate--\x3e\\n\\n## \u65b9\u6848 1\\n\\n```xml\\n<build>\\n  <plugins>\\n    <plugin>\\n      <artifactId>maven-assembly-plugin</artifactId>\\n      <configuration>\\n        <archive>\\n          <manifest>\\n            <mainClass>fully.qualified.MainClass</mainClass>\\n          </manifest>\\n        </archive>\\n        <descriptorRefs>\\n          <descriptorRef>jar-with-dependencies</descriptorRef>\\n        </descriptorRefs>\\n      </configuration>\\n    </plugin>\\n  </plugins>\\n</build>\\n```\\n\\nand you run it with\\n\\n```bash\\nmvn clean compile assembly:single\\n```\\n\\n## \u65b9\u6848 2\\n\\nYou can use the dependency-plugin to generate all dependencies in a separate directory before the package phase and then include that in the classpath of the manifest:\\n\\n```xml\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-dependency-plugin</artifactId>\\n    <executions>\\n        <execution>\\n            <id>copy-dependencies</id>\\n            <phase>prepare-package</phase>\\n            <goals>\\n                <goal>copy-dependencies</goal>\\n            </goals>\\n            <configuration>\\n                <outputDirectory>${project.build.directory}/lib</outputDirectory>\\n                <overWriteReleases>false</overWriteReleases>\\n                <overWriteSnapshots>false</overWriteSnapshots>\\n                <overWriteIfNewer>true</overWriteIfNewer>\\n            </configuration>\\n        </execution>\\n    </executions>\\n</plugin>\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-jar-plugin</artifactId>\\n    <configuration>\\n        <archive>\\n            <manifest>\\n                <addClasspath>true</addClasspath>\\n                <classpathPrefix>lib/</classpathPrefix>\\n                <mainClass>theMainClass</mainClass>\\n            </manifest>\\n        </archive>\\n    </configuration>\\n</plugin>\\n```\\n\\nAlternatively use `${project.build.directory}/classes/lib` as OutputDirectory to integrate all jar-files into the main jar, but then you will need to add custom classloading code to load the jars.\\n\\n## \u65b9\u6848 3\\n\\n[Uber JAR with Maven](https://robert-reiz.com/2011/10/19/uber-jar-with-maven/)\\n\\nBy default maven is generating a small JAR file, which just contains your compiled classes and other project files. If you want to have a single JAR file which also includes all dependent JAR files, you have to create a uber JAR. You can do that with the maven shade plugin. Just put this lines of xml into your pom.xml.\\n\\n```xml\\n<build>\\n    <plugins>\\n        <plugin>\\n            <groupId>org.apache.maven.plugins</groupId>\\n            <artifactId>maven-shade-plugin</artifactId>\\n            <version>1.4</version>\\n            <executions>\\n                <execution>\\n                    <phase>package</phase>\\n                    <goals>\\n                        <goal>shade</goal>\\n                    </goals>\\n                    <configuration>\\n                        <shadedArtifactAttached>true</shadedArtifactAttached>\\n                        <shadedClassifierName>all</shadedClassifierName>\\n                    </configuration>\\n                </execution>\\n            </executions>\\n        </plugin>\\n    </plugins>\\n</build>\\n```\\n\\nIn Maven you can solve every problem. You just need enough XML code for that. If you still have problems, than probably your pom.xml is to short."},{"id":"/2021/03/06/ipsec-clients-ikev2","metadata":{"permalink":"/blog/2021/03/06/ipsec-clients-ikev2","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-06-ipsec-clients-ikev2.md","source":"@site/src/blog/2021-03-06-ipsec-clients-ikev2.md","title":"IKEv2 \u914d\u7f6e\u548c\u4f7f\u7528\u6307\u5357","description":"\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 IPsec/L2TP \u6216\u8005 IPsec/XAuth \u6a21\u5f0f\u8fde\u63a5\u3002","date":"2021-03-06T00:00:00.000Z","formattedDate":"March 6, 2021","tags":[{"label":"ipsec","permalink":"/blog/tags/ipsec"},{"label":"ikev2","permalink":"/blog/tags/ikev-2"}],"readingTime":33.915,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"IKEv2 \u914d\u7f6e\u548c\u4f7f\u7528\u6307\u5357","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["ipsec","ikev2"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5982\u4f55\u4f7f\u7528Maven\u521b\u5efa\u53ef\u6267\u884c\u7684JAR\u6587\u4ef6","permalink":"/blog/2021/03/06/how-can-i-create-an-executable-jar-with-dependencies-using-maven"},"nextItem":{"title":"\u914d\u7f6e IPsec/L2TP \u5ba2\u6237\u7aef","permalink":"/blog/2021/03/06/ipsec-clients-l2tp"}},"content":":::note\\n\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 [IPsec/L2TP](2021-03-06-ipsec-clients-l2tp.md) \u6216\u8005 [IPsec/XAuth](2021-03-06-ipsec-clients-xauth.md) \u6a21\u5f0f\u8fde\u63a5\u3002\\n:::note\\n\\n\x3c!--truncate--\x3e\\n\\n* [\u5bfc\u8a00](#\u5bfc\u8a00)\\n* [\u4f7f\u7528\u8f85\u52a9\u811a\u672c](#\u4f7f\u7528\u8f85\u52a9\u811a\u672c)\\n* [\u914d\u7f6e IKEv2 VPN \u5ba2\u6237\u7aef](#\u914d\u7f6e-ikev2-vpn-\u5ba2\u6237\u7aef)\\n* [\u7ba1\u7406\u5ba2\u6237\u7aef\u8bc1\u4e66](#\u7ba1\u7406\u5ba2\u6237\u7aef\u8bc1\u4e66)\\n* [\u624b\u52a8\u5728 VPN \u670d\u52a1\u5668\u4e0a\u914d\u7f6e IKEv2](#\u624b\u52a8\u5728-vpn-\u670d\u52a1\u5668\u4e0a\u914d\u7f6e-ikev2)\\n* [\u6545\u969c\u6392\u9664](#\u6545\u969c\u6392\u9664)\\n* [\u79fb\u9664 IKEv2](#\u79fb\u9664-ikev2)\\n* [\u53c2\u8003\u94fe\u63a5](#\u53c2\u8003\u94fe\u63a5)\\n\\n## \u5bfc\u8a00\\n\\n\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\uff08\u6bd4\u5982 Windows 7 \u548c\u66f4\u65b0\u7248\u672c\uff09\u652f\u6301 IKEv2 \u534f\u8bae\u6807\u51c6\u3002\u56e0\u7279\u7f51\u5bc6\u94a5\u4ea4\u6362\uff08\u82f1\u8bed\uff1aInternet Key Exchange\uff0c\u7b80\u79f0 IKE \u6216 IKEv2\uff09\u662f\u4e00\u79cd\u7f51\u7edc\u534f\u8bae\uff0c\u5f52\u5c5e\u4e8e IPsec \u534f\u8bae\u65cf\u4e4b\u4e0b\uff0c\u7528\u4ee5\u521b\u5efa\u5b89\u5168\u5173\u8054 (Security Association, SA)\u3002\u4e0e IKE \u7248\u672c 1 \u76f8\u6bd4\u8f83\uff0cIKEv2 \u7684 <a href=\\"https://en.wikipedia.org/wiki/Internet_Key_Exchange#Improvements_with_IKEv2\\" target=\\"_blank\\">\u529f\u80fd\u6539\u8fdb</a> \u5305\u62ec\u6bd4\u5982\u901a\u8fc7 MOBIKE \u5b9e\u73b0 Standard Mobility \u652f\u6301\uff0c\u4ee5\u53ca\u66f4\u9ad8\u7684\u53ef\u9760\u6027\u3002\\n\\nLibreswan \u652f\u6301\u901a\u8fc7\u4f7f\u7528 RSA \u7b7e\u540d\u7b97\u6cd5\u7684 X.509 Machine Certificates \u6765\u5bf9 IKEv2 \u5ba2\u6237\u7aef\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002\u8be5\u65b9\u6cd5\u65e0\u9700 IPsec PSK, \u7528\u6237\u540d\u6216\u5bc6\u7801\u3002\u5b83\u53ef\u4ee5\u7528\u4e8e\u4ee5\u4e0b\u7cfb\u7edf\uff1a\\n\\n- Windows 7, 8.x \u548c 10\\n- OS X (macOS)\\n- iOS (iPhone/iPad)\\n- Android 4.x \u548c\u66f4\u65b0\u7248\u672c\uff08\u4f7f\u7528 strongSwan VPN \u5ba2\u6237\u7aef\uff09\\n\\n\u5728\u6309\u7167\u672c\u6307\u5357\u64cd\u4f5c\u4e4b\u540e\uff0c\u4f60\u5c06\u53ef\u4ee5\u9009\u62e9\u4e09\u79cd\u6a21\u5f0f\u4e2d\u7684\u4efb\u610f\u4e00\u79cd\u8fde\u63a5\u5230 VPN\uff1aIKEv2\uff0c\u4ee5\u53ca\u5df2\u6709\u7684 [IPsec/L2TP](2021-03-06-ipsec-clients-l2tp.md) \u548c [IPsec/XAuth (\\"Cisco IPsec\\")](2021-03-06-ipsec-clients-xauth.md) \u6a21\u5f0f\u3002\\n\\n## \u4f7f\u7528\u8f85\u52a9\u811a\u672c\\n\\n**\u65b0\uff1a** \u8f85\u52a9\u811a\u672c\u73b0\u5728\u53ef\u4ee5\u4e3a macOS \u548c iOS \u5ba2\u6237\u7aef\u521b\u5efa .mobileconfig \u6587\u4ef6\uff0c\u4ee5\u7b80\u5316\u5ba2\u6237\u7aef\u8bbe\u7f6e\u5e76\u63d0\u9ad8 VPN \u6027\u80fd\u3002\\n\\n**\u91cd\u8981\uff1a** \u5728\u7ee7\u7eed\u4e4b\u524d\uff0c\u4f60\u5e94\u8be5\u5df2\u7ecf\u6210\u529f\u5730 [\u642d\u5efa\u81ea\u5df1\u7684 VPN \u670d\u52a1\u5668](2021-03-06-ipsec-server.md)\uff0c\u5e76\u4e14\uff08\u53ef\u9009\u4f46\u63a8\u8350\uff09[\u5347\u7ea7 Libreswan](2021-03-06-ipsec-clients-l2tp.md)\u3002**Docker \u7528\u6237\u8bf7\u770b <a href=\\"https://github.com/hwdsl2/docker-ipsec-vpn-server/blob/master/README-zh.md#\u914d\u7f6e\u5e76\u4f7f\u7528-ikev2-vpn\\" target=\\"_blank\\">\u8fd9\u91cc</a>**\u3002\\n\\n\u4f7f\u7528\u8fd9\u4e2a\u8f85\u52a9\u811a\u672c\u6765\u81ea\u52a8\u5730\u5728 VPN \u670d\u52a1\u5668\u4e0a\u914d\u7f6e IKEv2\uff1a\\n\\n```\\nwget https://git.io/ikev2setup -O ikev2.sh && sudo bash ikev2.sh --auto\\n```\\n\\n\u8be5 <a href=\\"https://github.com/hwdsl2/setup-ipsec-vpn/blob/master/extras/ikev2setup.sh\\" target=\\"_blank\\">\u811a\u672c</a> \u5fc5\u987b\u4f7f\u7528 `bash` \u800c\u4e0d\u662f `sh` \u8fd0\u884c\u3002\u4ee5\u4e0a\u547d\u4ee4\u4f7f\u7528\u81ea\u52a8\u6a21\u5f0f\u548c\u9ed8\u8ba4\u9009\u9879\u8fd0\u884c\u8f85\u52a9\u811a\u672c\u3002\u5982\u679c\u4f60\u60f3\u8981\u81ea\u5b9a\u4e49 IKEv2 \u5b89\u88c5\u9009\u9879\uff0c\u8bf7\u5728\u8fd0\u884c\u811a\u672c\u65f6\u53bb\u6389 `--auto` \u53c2\u6570\u3002\u5728\u5b8c\u6210\u4e4b\u540e\uff0c\u8bf7\u8f6c\u5230 [\u914d\u7f6e IKEv2 VPN \u5ba2\u6237\u7aef#\u914d\u7f6e-ikev2-vpn-\u5ba2\u6237\u7aef](2021-03-06-ipsec-clients-ikev2.md)\u3002\\n\\n\u4f60\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u57df\u540d\u548c/\u6216\u53e6\u5916\u7684 DNS \u670d\u52a1\u5668\u3002\u8fd9\u662f\u53ef\u9009\u7684\u3002\u70b9\u8fd9\u91cc\u67e5\u770b\u8be6\u60c5\u3002\\n\\n\u5728\u4f7f\u7528\u81ea\u52a8\u6a21\u5f0f\u5b89\u88c5 IKEv2 \u65f6\uff0c\u9ad8\u7ea7\u7528\u6237\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u57df\u540d\u4f5c\u4e3a VPN \u670d\u52a1\u5668\u7684\u5730\u5740\u3002\u8fd9\u662f\u53ef\u9009\u7684\u3002\u8be5\u57df\u540d\u5fc5\u987b\u662f\u4e00\u4e2a\u5168\u79f0\u57df\u540d(FQDN)\u3002\u793a\u4f8b\u5982\u4e0b\uff1a\\n\\n```\\nsudo VPN_DNS_NAME=\'vpn.example.com\' bash ikev2.sh --auto\\n```\\n\\n\u5728 VPN \u5df2\u8fde\u63a5\u65f6\uff0cIKEv2 \u5ba2\u6237\u7aef\u9ed8\u8ba4\u914d\u7f6e\u4e3a\u4f7f\u7528 <a href=\\"https://developers.google.com/speed/public-dns/\\" target=\\"_blank\\">Google Public DNS</a>\u3002\u5728\u4f7f\u7528\u81ea\u52a8\u6a21\u5f0f\u5b89\u88c5 IKEv2 \u65f6\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a\u53e6\u5916\u7684 DNS \u670d\u52a1\u5668\u3002\u8fd9\u662f\u53ef\u9009\u7684\u3002\u793a\u4f8b\u5982\u4e0b\uff1a\\n\\n```\\nsudo VPN_DNS_SRV1=1.1.1.1 VPN_DNS_SRV2=1.0.0.1 bash ikev2.sh --auto\\n```\\n\\n\u5355\u51fb\u6b64\u5904\u4ee5\u67e5\u770b IKEv2 \u8f85\u52a9\u811a\u672c\u7684\u8be6\u7ec6\u4f7f\u7528\u4fe1\u606f\u3002\\n\\n```\\nUsage: bash ikev2.sh [options]\\n\\nOptions:\\n  --auto                        run IKEv2 setup in auto mode using default options (for initial IKEv2 setup only)\\n  --addclient [client name]     add a new IKEv2 client using default options (after IKEv2 setup)\\n  --exportclient [client name]  export an existing IKEv2 client using default options (after IKEv2 setup)\\n  --listclients                 list the names of existing IKEv2 clients (after IKEv2 setup)\\n  --removeikev2                 remove IKEv2 and delete all certificates and keys from the IPsec database\\n  -h, --help                    show this help message and exit\\n\\nTo customize IKEv2 or client options, run this script without arguments.\\n```\\n\\n## \u914d\u7f6e IKEv2 VPN \u5ba2\u6237\u7aef\\n\\n**\u6ce8\uff1a** \u5982\u679c\u8981\u4e3a\u66f4\u591a\u7684\u5ba2\u6237\u7aef\u751f\u6210\u8bc1\u4e66\uff0c\u6216\u8005\u4e3a\u4e00\u4e2a\u5df2\u6709\u7684\u5ba2\u6237\u7aef\u5bfc\u51fa\u914d\u7f6e\uff0c\u53ea\u9700\u91cd\u65b0\u8fd0\u884c[\u8f85\u52a9\u811a\u672c](#\u4f7f\u7528\u8f85\u52a9\u811a\u672c)\u3002\u4f7f\u7528\u53c2\u6570 `-h` \u663e\u793a\u8be6\u7ec6\u7684\u4f7f\u7528\u4fe1\u606f\u3002\\n\\n* [Windows 7, 8.x \u548c 10](#windows-7-8x-\u548c-10)\\n* [OS X (macOS)](#os-x-macos)\\n* [iOS (iPhone/iPad)](#ios)\\n* [Android](#android)\\n\\n### Windows 7, 8.x \u548c 10\\n\\n1. \u5c06\u751f\u6210\u7684 `.p12` \u6587\u4ef6\u5b89\u5168\u5730\u4f20\u9001\u5230\u4f60\u7684\u8ba1\u7b97\u673a\uff0c\u7136\u540e\u5bfc\u5165\u5230 \\"\u8ba1\u7b97\u673a\u8d26\u6237\\" \u8bc1\u4e66\u5b58\u50a8\u3002\u8981\u5bfc\u5165 `.p12` \u6587\u4ef6\uff0c\u6253\u5f00 <a href=\\"http://www.cnblogs.com/xxcanghai/p/4610054.html\\" target=\\"_blank\\">\u63d0\u5347\u6743\u9650\u547d\u4ee4\u63d0\u793a\u7b26</a> \u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n\\n   ```console\\n   # \u5bfc\u5165 .p12 \u6587\u4ef6\uff08\u6362\u6210\u4f60\u81ea\u5df1\u7684\u503c\uff09\\n   certutil -f -importpfx \\".p12\u6587\u4ef6\u7684\u4f4d\u7f6e\u548c\u540d\u79f0\\" NoExport\\n   ```\\n\\n   \u53e6\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u624b\u52a8\u5bfc\u5165 `.p12` \u6587\u4ef6\u3002\u8be6\u7ec6\u6b65\u9aa4\u8bf7\u770b <a href=\\"https://wiki.strongswan.org/projects/strongswan/wiki/Win7Certs\\" target=\\"_blank\\">\u8fd9\u91cc</a>\u3002\u5728\u5bfc\u5165\u8bc1\u4e66\u540e\uff0c\u4f60\u5fc5\u987b\u786e\u4fdd\u5c06\u5ba2\u6237\u7aef\u8bc1\u4e66\u653e\u5728 \\"\u4e2a\u4eba -> \u8bc1\u4e66\\" \u76ee\u5f55\u4e2d\uff0c\u5e76\u4e14\u5c06 CA \u8bc1\u4e66\u653e\u5728 \\"\u53d7\u4fe1\u4efb\u7684\u6839\u8bc1\u4e66\u9881\u53d1\u673a\u6784 -> \u8bc1\u4e66\\" \u76ee\u5f55\u4e2d\u3002\\n\\n   **\u6ce8\uff1a** Ubuntu 18.04 \u7528\u6237\u5728\u5c1d\u8bd5\u5bfc\u5165 `.p12` \u6587\u4ef6\u65f6\u53ef\u80fd\u4f1a\u9047\u5230\u9519\u8bef \\"\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u6b63\u786e\\"\u3002\u53c2\u89c1 [\u6545\u969c\u6392\u9664](#\u6545\u969c\u6392\u9664)\u3002\\n\\n1. \u5728 Windows \u8ba1\u7b97\u673a\u4e0a\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684 IKEv2 VPN \u8fde\u63a5\u3002\u5bf9\u4e8e Windows 8.x \u548c 10\uff0c\u63a8\u8350\u4ece\u547d\u4ee4\u63d0\u793a\u7b26\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa VPN \u8fde\u63a5\uff0c\u4ee5\u8fbe\u5230\u66f4\u4f73\u7684\u5b89\u5168\u6027\u548c\u6027\u80fd\u3002Windows 7 \u4e0d\u652f\u6301\u8fd9\u4e9b\u547d\u4ee4\uff0c\u4f60\u53ef\u4ee5\u624b\u52a8\u521b\u5efa VPN \u8fde\u63a5\uff08\u89c1\u4e0b\u9762\uff09\u3002\\n\\n   ```console\\n   # \u5c06\u670d\u52a1\u5668\u5730\u5740\u5b58\u5165\u53d8\u91cf\uff08\u6362\u6210\u4f60\u81ea\u5df1\u7684\u503c\uff09\\n   set server_addr=\\"\u4f60\u7684 VPN \u670d\u52a1\u5668 IP\uff08\u6216\u8005\u57df\u540d\uff09\\"\\n   # \u521b\u5efa VPN \u8fde\u63a5\\n   powershell -command \\"Add-VpnConnection -Name \'My IKEv2 VPN\' -ServerAddress \'%server_addr%\' -TunnelType IKEv2 -AuthenticationMethod MachineCertificate -EncryptionLevel Required -PassThru\\"\\n   # \u8bbe\u7f6e IPsec \u53c2\u6570\\n   powershell -command \\"Set-VpnConnectionIPsecConfiguration -ConnectionName \'My IKEv2 VPN\' -AuthenticationTransformConstants GCMAES256 -CipherTransformConstants GCMAES256 -EncryptionMethod AES256 -IntegrityCheckMethod SHA256 -PfsGroup None -DHGroup Group14 -PassThru -Force\\"\\n   ```\\n\\n   \u53e6\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u624b\u52a8\u521b\u5efa VPN \u8fde\u63a5\u3002\u8be6\u7ec6\u6b65\u9aa4\u8bf7\u770b <a href=\\"https://wiki.strongswan.org/projects/strongswan/wiki/Win7Config\\" target=\\"_blank\\">\u8fd9\u91cc</a>\u3002\u5982\u679c\u4f60\u5728\u914d\u7f6e IKEv2 \u65f6\u6307\u5b9a\u4e86\u670d\u52a1\u5668\u7684\u57df\u540d\uff08\u800c\u4e0d\u662f IP \u5730\u5740\uff09\uff0c\u5219\u5fc5\u987b\u5728 **Internet\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165\u8be5\u57df\u540d\u3002\\n\\n1. \u4e3a IKEv2 \u542f\u7528\u66f4\u5f3a\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u901a\u8fc7\u4fee\u6539\u4e00\u6b21\u6ce8\u518c\u8868\u6765\u5b9e\u73b0\u3002\u8fd9\u4e00\u6b65\u662f\u53ef\u9009\u7684\uff0c\u4f46\u63a8\u8350\u3002\u8bf7\u4e0b\u8f7d\u5e76\u5bfc\u5165\u4e0b\u9762\u7684 `.reg` \u6587\u4ef6\uff0c\u6216\u8005\u6253\u5f00\u63d0\u5347\u6743\u9650\u547d\u4ee4\u63d0\u793a\u7b26\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u770b <a href=\\"https://wiki.strongswan.org/projects/strongswan/wiki/WindowsClients#AES-256-CBC-and-MODP2048\\" target=\\"_blank\\">\u8fd9\u91cc</a>\u3002\\n\\n   - \u9002\u7528\u4e8e Windows 7, 8.x \u548c 10 ([\u4e0b\u8f7d .reg \u6587\u4ef6](https://dl.ls20.com/reg-files/v1/Enable_Stronger_Ciphers_for_IKEv2_on_Windows.reg))\\n\\n     ```console\\n     REG ADD HKLM\\\\SYSTEM\\\\CurrentControlSet\\\\Services\\\\RasMan\\\\Parameters /v NegotiateDH2048_AES256 /t REG_DWORD /d 0x1 /f\\n     ```\\n\\n\u8981\u8fde\u63a5\u5230 VPN\uff1a\u5355\u51fb\u7cfb\u7edf\u6258\u76d8\u4e2d\u7684\u65e0\u7ebf/\u7f51\u7edc\u56fe\u6807\uff0c\u9009\u62e9\u65b0\u7684 VPN \u8fde\u63a5\uff0c\u7136\u540e\u5355\u51fb **\u8fde\u63a5**\u3002\u8fde\u63a5\u6210\u529f\u540e\uff0c\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 [\u6545\u969c\u6392\u9664](#\u6545\u969c\u6392\u9664)\u3002\\n\\n### OS X (macOS)\\n\\n\u9996\u5148\uff0c\u5c06\u751f\u6210\u7684 `.mobileconfig` \u6587\u4ef6\u5b89\u5168\u5730\u4f20\u9001\u5230\u4f60\u7684 Mac\uff0c\u7136\u540e\u53cc\u51fb\u5e76\u6309\u63d0\u793a\u64cd\u4f5c\uff0c\u4ee5\u5bfc\u5165\u4e3a macOS \u914d\u7f6e\u63cf\u8ff0\u6587\u4ef6\u3002\u5728\u5b8c\u6210\u4e4b\u540e\uff0c\u68c0\u67e5\u5e76\u786e\u4fdd \\"IKEv2 VPN configuration\\" \u663e\u793a\u5728\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e -> \u63cf\u8ff0\u6587\u4ef6\u4e2d\u3002\\n\\n\u8981\u8fde\u63a5\u5230 VPN\uff1a\\n\\n1. \u6253\u5f00\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e\u5e76\u8f6c\u5230\u7f51\u7edc\u90e8\u5206\u3002\\n1. \u9009\u62e9\u4e0e `\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\uff08\u6216\u8005\u57df\u540d\uff09\u5bf9\u5e94\u7684 VPN \u8fde\u63a5\u3002\\n1. \u9009\u4e2d **\u5728\u83dc\u5355\u680f\u4e2d\u663e\u793a VPN \u72b6\u6001** \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **\u8fde\u63a5**\u3002\\n\\n\uff08\u53ef\u9009\u529f\u80fd\uff09\u4f60\u53ef\u4ee5\u9009\u62e9\u542f\u7528 <a href=\\"https://developer.apple.com/documentation/networkextension/personal_vpn/vpn_on_demand_rules\\" target=\\"_blank\\">VPN On Demand\uff08\u6309\u9700\u8fde\u63a5\uff09</a> \uff0c\u8be5\u529f\u80fd\u5728\u4f7f\u7528 Wi-Fi \u7f51\u7edc\u65f6\u81ea\u52a8\u5efa\u7acb VPN \u8fde\u63a5\u3002\u8981\u542f\u7528\u5b83\uff0c\u9009\u4e2d VPN \u8fde\u63a5\u7684 **\u6309\u9700\u8fde\u63a5** \u590d\u9009\u6846\uff0c\u7136\u540e\u5355\u51fb **\u5e94\u7528**\u3002\\n\\n\u5982\u679c\u4f60\u624b\u52a8\u914d\u7f6e IKEv2 \u800c\u4e0d\u662f\u4f7f\u7528\u8f85\u52a9\u811a\u672c\uff0c\u70b9\u8fd9\u91cc\u67e5\u770b\u6b65\u9aa4\u3002\\n\\n\u9996\u5148\uff0c\u5c06\u751f\u6210\u7684 `.p12` \u6587\u4ef6\u5b89\u5168\u5730\u4f20\u9001\u5230\u4f60\u7684 Mac\uff0c\u7136\u540e\u53cc\u51fb\u4ee5\u5bfc\u5165\u5230 **\u94a5\u5319\u4e32\u8bbf\u95ee** \u4e2d\u7684 **\u767b\u5f55** \u94a5\u5319\u4e32\u3002\u4e0b\u4e00\u6b65\uff0c\u53cc\u51fb\u5bfc\u5165\u7684 `IKEv2 VPN CA` \u8bc1\u4e66\uff0c\u5c55\u5f00 **\u4fe1\u4efb** \u5e76\u4ece **IP \u5b89\u5168 (IPsec)** \u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9 **\u59cb\u7ec8\u4fe1\u4efb**\u3002\u5355\u51fb\u5de6\u4e0a\u89d2\u7684\u7ea2\u8272 \\"X\\" \u5173\u95ed\u7a97\u53e3\u3002\u6839\u636e\u63d0\u793a\u4f7f\u7528\u89e6\u63a7 ID\uff0c\u6216\u8005\u8f93\u5165\u5bc6\u7801\u5e76\u5355\u51fb \\"\u66f4\u65b0\u8bbe\u7f6e\\"\u3002\\n\\n\u5728\u5b8c\u6210\u4e4b\u540e\uff0c\u68c0\u67e5\u5e76\u786e\u4fdd\u65b0\u7684\u5ba2\u6237\u7aef\u8bc1\u4e66\u548c `IKEv2 VPN CA` \u90fd\u663e\u793a\u5728 **\u767b\u5f55** \u94a5\u5319\u4e32 \u7684 **\u8bc1\u4e66** \u7c7b\u522b\u4e2d\u3002\\n\\n1. \u6253\u5f00\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e\u5e76\u8f6c\u5230\u7f51\u7edc\u90e8\u5206\u3002\\n1. \u5728\u7a97\u53e3\u5de6\u4e0b\u89d2\u5355\u51fb **+** \u6309\u94ae\u3002\\n1. \u4ece **\u63a5\u53e3** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **VPN**\u3002\\n1. \u4ece **VPN \u7c7b\u578b** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **IKEv2**\u3002\\n1. \u5728 **\u670d\u52a1\u540d\u79f0** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u5355\u51fb **\u521b\u5efa**\u3002\\n1. \u5728 **\u670d\u52a1\u5668\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165 `\u4f60\u7684 VPN \u670d\u52a1\u5668 IP` \uff08\u6216\u8005\u57df\u540d\uff09\u3002   \\n   **\u6ce8\uff1a** \u5982\u679c\u4f60\u5728\u914d\u7f6e IKEv2 \u65f6\u6307\u5b9a\u4e86\u670d\u52a1\u5668\u7684\u57df\u540d\uff08\u800c\u4e0d\u662f IP \u5730\u5740\uff09\uff0c\u5219\u5fc5\u987b\u5728 **\u670d\u52a1\u5668\u5730\u5740** \u548c **\u8fdc\u7a0b ID** \u5b57\u6bb5\u4e2d\u8f93\u5165\u8be5\u57df\u540d\u3002\\n1. \u5728 **\u8fdc\u7a0b ID** \u5b57\u6bb5\u4e2d\u8f93\u5165 `\u4f60\u7684 VPN \u670d\u52a1\u5668 IP` \uff08\u6216\u8005\u57df\u540d\uff09\u3002\\n1. \u5728 **\u672c\u5730 ID** \u5b57\u6bb5\u4e2d\u8f93\u5165 `\u4f60\u7684 VPN \u5ba2\u6237\u7aef\u540d\u79f0`\u3002   \\n   **\u6ce8\uff1a** \u8be5\u540d\u79f0\u5fc5\u987b\u548c\u4f60\u5728 IKEv2 \u914d\u7f6e\u8fc7\u7a0b\u4e2d\u6307\u5b9a\u7684\u5ba2\u6237\u7aef\u540d\u79f0\u4e00\u81f4\u3002\u5b83\u4e0e\u4f60\u7684 `.p12` \u6587\u4ef6\u540d\u7684\u7b2c\u4e00\u90e8\u5206\u76f8\u540c\u3002\\n1. \u5355\u51fb **\u8ba4\u8bc1\u8bbe\u7f6e** \u6309\u94ae\u3002\\n1. \u4ece **\u8ba4\u8bc1\u8bbe\u7f6e** \u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9 **\u65e0**\u3002\\n1. \u9009\u62e9 **\u8bc1\u4e66** \u5355\u9009\u6309\u94ae\uff0c\u7136\u540e\u9009\u62e9\u65b0\u7684\u5ba2\u6237\u7aef\u8bc1\u4e66\u3002\\n1. \u5355\u51fb **\u597d**\u3002\\n1. \u9009\u4e2d **\u5728\u83dc\u5355\u680f\u4e2d\u663e\u793a VPN \u72b6\u6001** \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **\u5e94\u7528** \u4fdd\u5b58VPN\u8fde\u63a5\u4fe1\u606f\u3002\\n1. \u5355\u51fb **\u8fde\u63a5**\u3002\\n\\n\u8fde\u63a5\u6210\u529f\u540e\uff0c\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 [\u6545\u969c\u6392\u9664](#\u6545\u969c\u6392\u9664)\u3002\\n\\n### iOS\\n\\n\u9996\u5148\uff0c\u5c06\u751f\u6210\u7684 `.mobileconfig` \u6587\u4ef6\u5b89\u5168\u5730\u4f20\u9001\u5230\u4f60\u7684 iOS \u8bbe\u5907\uff0c\u5e76\u4e14\u5bfc\u5165\u4e3a iOS \u914d\u7f6e\u63cf\u8ff0\u6587\u4ef6\u3002\u8981\u4f20\u9001\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\uff1a\\n\\n1. AirDrop\uff08\u9694\u7a7a\u6295\u9001\uff09\uff0c\u6216\u8005\\n1. \u4f7f\u7528 iTunes \u7684 \\"\u6587\u4ef6\u5171\u4eab\\" \u529f\u80fd\u4e0a\u4f20\u5230\u8bbe\u5907\uff0c\u7136\u540e\u6253\u5f00 iOS \u8bbe\u5907\u4e0a\u7684 \\"\u6587\u4ef6\\" \u5e94\u7528\u7a0b\u5e8f\uff0c\u5c06\u4e0a\u4f20\u7684\u6587\u4ef6\u79fb\u52a8\u5230 \\"On My iPhone\\" \u76ee\u5f55\u4e0b\u3002\u7136\u540e\u5355\u51fb\u5b83\u5e76\u5230 \\"\u8bbe\u7f6e\\" \u5e94\u7528\u7a0b\u5e8f\u4e2d\u5bfc\u5165\uff0c\u6216\u8005\\n1. \u5c06\u6587\u4ef6\u653e\u5728\u4e00\u4e2a\u4f60\u7684\u5b89\u5168\u7684\u6258\u7ba1\u7f51\u7ad9\u4e0a\uff0c\u7136\u540e\u5728 Mobile Safari \u4e2d\u4e0b\u8f7d\u5e76\u5bfc\u5165\u5b83\u4eec\u3002\\n\\n\u5728\u5b8c\u6210\u4e4b\u540e\uff0c\u68c0\u67e5\u5e76\u786e\u4fdd \\"IKEv2 VPN configuration\\" \u663e\u793a\u5728\u8bbe\u7f6e -> \u901a\u7528 -> \u63cf\u8ff0\u6587\u4ef6\u4e2d\u3002\\n\\n\u8981\u8fde\u63a5\u5230 VPN\uff1a\\n\\n1. \u8fdb\u5165\u8bbe\u7f6e -> \u901a\u7528 -> VPN\u3002\\n1. \u9009\u62e9\u4e0e `\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\uff08\u6216\u8005\u57df\u540d\uff09\u5bf9\u5e94\u7684 VPN \u8fde\u63a5\u3002\\n1. \u542f\u7528 **VPN** \u8fde\u63a5\u3002\\n\\n\uff08\u53ef\u9009\u529f\u80fd\uff09\u4f60\u53ef\u4ee5\u9009\u62e9\u542f\u7528 <a href=\\"https://developer.apple.com/documentation/networkextension/personal_vpn/vpn_on_demand_rules\\" target=\\"_blank\\">VPN On Demand\uff08\u6309\u9700\u8fde\u63a5\uff09</a> \uff0c\u8be5\u529f\u80fd\u5728\u4f7f\u7528 Wi-Fi \u7f51\u7edc\u65f6\u81ea\u52a8\u5efa\u7acb VPN \u8fde\u63a5\u3002\u8981\u542f\u7528\u5b83\uff0c\u5355\u51fb VPN \u8fde\u63a5\u53f3\u8fb9\u7684 \\"i\\" \u56fe\u6807\uff0c\u7136\u540e\u542f\u7528 **\u6309\u9700\u8fde\u63a5**\u3002\\n\\n\u5982\u679c\u4f60\u624b\u52a8\u914d\u7f6e IKEv2 \u800c\u4e0d\u662f\u4f7f\u7528\u8f85\u52a9\u811a\u672c\uff0c\u70b9\u8fd9\u91cc\u67e5\u770b\u6b65\u9aa4\u3002\\n\\n\u9996\u5148\uff0c\u5c06\u751f\u6210\u7684 `ikev2vpnca.cer` \u548c `.p12` \u6587\u4ef6\u5b89\u5168\u5730\u4f20\u9001\u5230\u4f60\u7684 iOS \u8bbe\u5907\uff0c\u5e76\u4e14\u9010\u4e2a\u5bfc\u5165\u4e3a iOS \u914d\u7f6e\u63cf\u8ff0\u6587\u4ef6\u3002\u8981\u4f20\u9001\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\uff1a\\n\\n1. AirDrop\uff08\u9694\u7a7a\u6295\u9001\uff09\uff0c\u6216\u8005\\n1. \u4f7f\u7528 iTunes \u7684 \\"\u6587\u4ef6\u5171\u4eab\\" \u529f\u80fd\u4e0a\u4f20\u5230\u8bbe\u5907\uff0c\u7136\u540e\u6253\u5f00 iOS \u8bbe\u5907\u4e0a\u7684 \\"\u6587\u4ef6\\" \u5e94\u7528\u7a0b\u5e8f\uff0c\u5c06\u4e0a\u4f20\u7684\u6587\u4ef6\u79fb\u52a8\u5230 \\"On My iPhone\\" \u76ee\u5f55\u4e0b\u3002\u7136\u540e\u9010\u4e2a\u5355\u51fb\u5b83\u4eec\u5e76\u5230 \\"\u8bbe\u7f6e\\" \u5e94\u7528\u7a0b\u5e8f\u4e2d\u5bfc\u5165\uff0c\u6216\u8005\\n1. \u5c06\u6587\u4ef6\u653e\u5728\u4e00\u4e2a\u4f60\u7684\u5b89\u5168\u7684\u6258\u7ba1\u7f51\u7ad9\u4e0a\uff0c\u7136\u540e\u5728 Mobile Safari \u4e2d\u4e0b\u8f7d\u5e76\u5bfc\u5165\u5b83\u4eec\u3002\\n\\n\u5728\u5b8c\u6210\u4e4b\u540e\uff0c\u68c0\u67e5\u5e76\u786e\u4fdd\u65b0\u7684\u5ba2\u6237\u7aef\u8bc1\u4e66\u548c `IKEv2 VPN CA` \u90fd\u663e\u793a\u5728\u8bbe\u7f6e -> \u901a\u7528 -> \u63cf\u8ff0\u6587\u4ef6\u4e2d\u3002\\n\\n1. \u8fdb\u5165\u8bbe\u7f6e -> \u901a\u7528 -> VPN\u3002\\n1. \u5355\u51fb **\u6dfb\u52a0VPN\u914d\u7f6e...**\u3002\\n1. \u5355\u51fb **\u7c7b\u578b** \u3002\u9009\u62e9 **IKEv2** \u5e76\u8fd4\u56de\u3002\\n1. \u5728 **\u63cf\u8ff0** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u5728 **\u670d\u52a1\u5668** \u5b57\u6bb5\u4e2d\u8f93\u5165 `\u4f60\u7684 VPN \u670d\u52a1\u5668 IP` \uff08\u6216\u8005\u57df\u540d\uff09\u3002   \\n   **\u6ce8\uff1a** \u5982\u679c\u4f60\u5728\u914d\u7f6e IKEv2 \u65f6\u6307\u5b9a\u4e86\u670d\u52a1\u5668\u7684\u57df\u540d\uff08\u800c\u4e0d\u662f IP \u5730\u5740\uff09\uff0c\u5219\u5fc5\u987b\u5728 **\u670d\u52a1\u5668** \u548c **\u8fdc\u7a0b ID** \u5b57\u6bb5\u4e2d\u8f93\u5165\u8be5\u57df\u540d\u3002\\n1. \u5728 **\u8fdc\u7a0b ID** \u5b57\u6bb5\u4e2d\u8f93\u5165 `\u4f60\u7684 VPN \u670d\u52a1\u5668 IP` \uff08\u6216\u8005\u57df\u540d\uff09\u3002\\n1. \u5728 **\u672c\u5730 ID** \u5b57\u6bb5\u4e2d\u8f93\u5165 `\u4f60\u7684 VPN \u5ba2\u6237\u7aef\u540d\u79f0`\u3002   \\n   **\u6ce8\uff1a** \u8be5\u540d\u79f0\u5fc5\u987b\u548c\u4f60\u5728 IKEv2 \u914d\u7f6e\u8fc7\u7a0b\u4e2d\u6307\u5b9a\u7684\u5ba2\u6237\u7aef\u540d\u79f0\u4e00\u81f4\u3002\u5b83\u4e0e\u4f60\u7684 `.p12` \u6587\u4ef6\u540d\u7684\u7b2c\u4e00\u90e8\u5206\u76f8\u540c\u3002\\n1. \u5355\u51fb **\u7528\u6237\u9274\u5b9a** \u3002\u9009\u62e9 **\u65e0** \u5e76\u8fd4\u56de\u3002\\n1. \u542f\u7528 **\u4f7f\u7528\u8bc1\u4e66** \u9009\u9879\u3002\\n1. \u5355\u51fb **\u8bc1\u4e66** \u3002\u9009\u62e9\u65b0\u7684\u5ba2\u6237\u7aef\u8bc1\u4e66\u5e76\u8fd4\u56de\u3002\\n1. \u5355\u51fb\u53f3\u4e0a\u89d2\u7684 **\u5b8c\u6210**\u3002\\n1. \u542f\u7528 **VPN** \u8fde\u63a5\u3002\\n\\n\u8fde\u63a5\u6210\u529f\u540e\uff0c\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 [\u6545\u969c\u6392\u9664](#\u6545\u969c\u6392\u9664)\u3002\\n\\n### Android\\n\\n1. \u5c06\u751f\u6210\u7684 `.sswan` \u6587\u4ef6\u5b89\u5168\u5730\u4f20\u9001\u5230\u4f60\u7684 Android \u8bbe\u5907\u3002\\n1. \u4ece **Google Play** \u5b89\u88c5 <a href=\\"https://play.google.com/store/apps/details?id=org.strongswan.android\\" target=\\"_blank\\">strongSwan VPN \u5ba2\u6237\u7aef</a>\u3002\\n1. \u542f\u52a8 strongSwan VPN \u5ba2\u6237\u7aef\u3002\\n1. \u5355\u51fb\u53f3\u4e0a\u89d2\u7684 \\"\u66f4\u591a\u9009\u9879\\" \u83dc\u5355\uff0c\u7136\u540e\u5355\u51fb **\u5bfc\u5165VPN\u914d\u7f6e**\u3002\\n1. \u9009\u62e9\u4f60\u4ece\u670d\u52a1\u5668\u4f20\u9001\u8fc7\u6765\u7684 `.sswan` \u6587\u4ef6\u3002   \\n   **\u6ce8\uff1a** \u8981\u67e5\u627e `.sswan` \u6587\u4ef6\uff0c\u5355\u51fb\u5de6\u4e0a\u89d2\u7684\u62bd\u62c9\u5f0f\u83dc\u5355\uff0c\u7136\u540e\u6d4f\u89c8\u5230\u4f60\u4fdd\u5b58\u6587\u4ef6\u7684\u76ee\u5f55\u3002\\n1. \u5728 \\"\u5bfc\u5165VPN\u914d\u7f6e\\" \u5c4f\u5e55\u4e0a\uff0c\u5355\u51fb **\u4eceVPN\u914d\u7f6e\u5bfc\u5165\u8bc1\u4e66**\uff0c\u5e76\u6309\u63d0\u793a\u64cd\u4f5c\u3002\\n1. \u5728 \\"\u9009\u62e9\u8bc1\u4e66\\" \u5c4f\u5e55\u4e0a\uff0c\u9009\u62e9\u65b0\u7684\u5ba2\u6237\u7aef\u8bc1\u4e66\u5e76\u5355\u51fb **\u9009\u62e9**\u3002\\n1. \u5355\u51fb **\u5bfc\u5165**\u3002\\n1. \u5355\u51fb\u65b0\u7684 VPN \u914d\u7f6e\u6587\u4ef6\u4ee5\u5f00\u59cb\u8fde\u63a5\u3002\\n\\n\u5982\u679c\u4f60\u7684\u8bbe\u5907\u8fd0\u884c Android 6.0 \u6216\u66f4\u65e9\u7248\u672c\uff0c\u70b9\u8fd9\u91cc\u67e5\u770b\u989d\u5916\u7684\u6b65\u9aa4\u3002\\n\\n\u5982\u679c\u4f60\u7684\u8bbe\u5907\u8fd0\u884c Android 6.0 (Marshmallow) \u6216\u66f4\u65e9\u7248\u672c\uff0c\u8981\u4f7f\u7528 strongSwan VPN \u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u4f60\u5fc5\u987b\u66f4\u6539 VPN \u670d\u52a1\u5668\u4e0a\u7684\u4ee5\u4e0b\u8bbe\u7f6e\uff1a\u7f16\u8f91\u670d\u52a1\u5668\u4e0a\u7684 `/etc/ipsec.d/ikev2.conf`\u3002\u5728 `conn ikev2-cp` \u5c0f\u8282\u7684\u672b\u5c3e\u6dfb\u52a0 `authby=rsa-sha1`\uff0c\u5f00\u5934\u5fc5\u987b\u7a7a\u4e24\u683c\u3002\u4fdd\u5b58\u6587\u4ef6\u5e76\u8fd0\u884c `service ipsec restart`\u3002\\n\\n\uff08\u53ef\u9009\u529f\u80fd\uff09\u4f60\u53ef\u4ee5\u9009\u62e9\u542f\u7528 Android \u4e0a\u7684 \\"\u59cb\u7ec8\u5f00\u542f\u7684 VPN\\" \u529f\u80fd\u3002\u542f\u52a8 **\u8bbe\u7f6e** \u5e94\u7528\u7a0b\u5e8f\uff0c\u8fdb\u5165 \u7f51\u7edc\u548c\u4e92\u8054\u7f51 -> \u9ad8\u7ea7 -> VPN\uff0c\u5355\u51fb \\"strongSwan VPN \u5ba2\u6237\u7aef\\" \u53f3\u8fb9\u7684\u8bbe\u7f6e\u56fe\u6807\uff0c\u7136\u540e\u542f\u7528 **\u59cb\u7ec8\u5f00\u542f\u7684 VPN** \u4ee5\u53ca **\u5c4f\u853d\u672a\u4f7f\u7528 VPN \u7684\u6240\u6709\u8fde\u63a5** \u9009\u9879\u3002\\n\\n\u5982\u679c\u4f60\u624b\u52a8\u914d\u7f6e IKEv2 \u800c\u4e0d\u662f\u4f7f\u7528\u8f85\u52a9\u811a\u672c\uff0c\u70b9\u8fd9\u91cc\u67e5\u770b\u6b65\u9aa4\u3002\\n\\n**Android 10 \u548c\u66f4\u65b0\u7248\u672c:**\\n\\n1. \u5c06\u751f\u6210\u7684 `.p12` \u6587\u4ef6\u5b89\u5168\u5730\u4f20\u9001\u5230\u4f60\u7684 Android \u8bbe\u5907\u3002\\n1. \u4ece **Google Play** \u5b89\u88c5 <a href=\\"https://play.google.com/store/apps/details?id=org.strongswan.android\\" target=\\"_blank\\">strongSwan VPN \u5ba2\u6237\u7aef</a>\u3002\\n1. \u542f\u52a8 **\u8bbe\u7f6e** \u5e94\u7528\u7a0b\u5e8f\u3002\\n1. \u8fdb\u5165 \u5b89\u5168 -> \u9ad8\u7ea7 -> \u52a0\u5bc6\u4e0e\u51ed\u636e\u3002\\n1. \u5355\u51fb **\u4ece\u5b58\u50a8\u8bbe\u5907\uff08\u6216 SD \u5361\uff09\u5b89\u88c5\u8bc1\u4e66**\u3002\\n1. \u9009\u62e9\u4f60\u4ece\u670d\u52a1\u5668\u4f20\u9001\u8fc7\u6765\u7684 `.p12` \u6587\u4ef6\uff0c\u5e76\u6309\u63d0\u793a\u64cd\u4f5c\u3002   \\n   **\u6ce8\uff1a** \u8981\u67e5\u627e `.p12` \u6587\u4ef6\uff0c\u5355\u51fb\u5de6\u4e0a\u89d2\u7684\u62bd\u62c9\u5f0f\u83dc\u5355\uff0c\u7136\u540e\u6d4f\u89c8\u5230\u4f60\u4fdd\u5b58\u6587\u4ef6\u7684\u76ee\u5f55\u3002\\n1. \u542f\u52a8 strongSwan VPN \u5ba2\u6237\u7aef\uff0c\u7136\u540e\u5355\u51fb **\u6dfb\u52a0VPN\u914d\u7f6e**\u3002\\n1. \u5728 **\u670d\u52a1\u5668\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165 `\u4f60\u7684 VPN \u670d\u52a1\u5668 IP` \uff08\u6216\u8005\u57df\u540d\uff09\u3002   \\n   **\u6ce8\uff1a** \u5982\u679c\u4f60\u5728\u914d\u7f6e IKEv2 \u65f6\u6307\u5b9a\u4e86\u670d\u52a1\u5668\u7684\u57df\u540d\uff08\u800c\u4e0d\u662f IP \u5730\u5740\uff09\uff0c\u5219\u5fc5\u987b\u5728 **\u670d\u52a1\u5668\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165\u8be5\u57df\u540d\u3002\\n1. \u5728 **VPN \u7c7b\u578b** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **IKEv2 \u8bc1\u4e66**\u3002\\n1. \u5355\u51fb **\u9009\u62e9\u7528\u6237\u8bc1\u4e66**\uff0c\u9009\u62e9\u65b0\u7684\u5ba2\u6237\u7aef\u8bc1\u4e66\u5e76\u5355\u51fb **\u9009\u62e9**\u3002\\n1. **\uff08\u91cd\u8981\uff09** \u5355\u51fb **\u663e\u793a\u9ad8\u7ea7\u8bbe\u7f6e**\u3002\u5411\u4e0b\u6eda\u52a8\uff0c\u627e\u5230\u5e76\u542f\u7528 **Use RSA/PSS signatures** \u9009\u9879\u3002\\n1. \u4fdd\u5b58\u65b0\u7684 VPN \u8fde\u63a5\uff0c\u7136\u540e\u5355\u51fb\u5b83\u4ee5\u5f00\u59cb\u8fde\u63a5\u3002\\n\\n**Android 4 to 9:**\\n\\n1. \u5c06\u751f\u6210\u7684 `.p12` \u6587\u4ef6\u5b89\u5168\u5730\u4f20\u9001\u5230\u4f60\u7684 Android \u8bbe\u5907\u3002\\n1. \u4ece **Google Play** \u5b89\u88c5 <a href=\\"https://play.google.com/store/apps/details?id=org.strongswan.android\\" target=\\"_blank\\">strongSwan VPN \u5ba2\u6237\u7aef</a>\u3002\\n1. \u542f\u52a8 strongSwan VPN \u5ba2\u6237\u7aef\uff0c\u7136\u540e\u5355\u51fb **\u6dfb\u52a0VPN\u914d\u7f6e**\u3002\\n1. \u5728 **\u670d\u52a1\u5668\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165 `\u4f60\u7684 VPN \u670d\u52a1\u5668 IP` \uff08\u6216\u8005\u57df\u540d\uff09\u3002   \\n   **\u6ce8\uff1a** \u5982\u679c\u4f60\u5728\u914d\u7f6e IKEv2 \u65f6\u6307\u5b9a\u4e86\u670d\u52a1\u5668\u7684\u57df\u540d\uff08\u800c\u4e0d\u662f IP \u5730\u5740\uff09\uff0c\u5219\u5fc5\u987b\u5728 **\u670d\u52a1\u5668\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165\u8be5\u57df\u540d\u3002\\n1. \u5728 **VPN \u7c7b\u578b** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **IKEv2 \u8bc1\u4e66**\u3002\\n1. \u5355\u51fb **\u9009\u62e9\u7528\u6237\u8bc1\u4e66**\uff0c\u7136\u540e\u5355\u51fb **\u5b89\u88c5\u8bc1\u4e66**\u3002\\n1. \u9009\u62e9\u4f60\u4ece\u670d\u52a1\u5668\u4f20\u9001\u8fc7\u6765\u7684 `.p12` \u6587\u4ef6\uff0c\u5e76\u6309\u63d0\u793a\u64cd\u4f5c\u3002   \\n   **\u6ce8\uff1a** \u8981\u67e5\u627e `.p12` \u6587\u4ef6\uff0c\u5355\u51fb\u5de6\u4e0a\u89d2\u7684\u62bd\u62c9\u5f0f\u83dc\u5355\uff0c\u7136\u540e\u6d4f\u89c8\u5230\u4f60\u4fdd\u5b58\u6587\u4ef6\u7684\u76ee\u5f55\u3002\\n1. **\uff08\u91cd\u8981\uff09** \u5355\u51fb **\u663e\u793a\u9ad8\u7ea7\u8bbe\u7f6e**\u3002\u5411\u4e0b\u6eda\u52a8\uff0c\u627e\u5230\u5e76\u542f\u7528 **Use RSA/PSS signatures** \u9009\u9879\u3002\\n1. \u4fdd\u5b58\u65b0\u7684 VPN \u8fde\u63a5\uff0c\u7136\u540e\u5355\u51fb\u5b83\u4ee5\u5f00\u59cb\u8fde\u63a5\u3002\\n\\n\u8fde\u63a5\u6210\u529f\u540e\uff0c\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 [\u6545\u969c\u6392\u9664](#\u6545\u969c\u6392\u9664)\u3002\\n\\n## \u7ba1\u7406\u5ba2\u6237\u7aef\u8bc1\u4e66\\n\\n### \u5217\u51fa\u5df2\u6709\u7684\u5ba2\u6237\u7aef\\n\\n\u5982\u679c\u8981\u5217\u51fa\u5df2\u6709\u7684 IKEv2 \u5ba2\u6237\u7aef\u7684\u540d\u79f0\uff0c\u8fd0\u884c [\u8f85\u52a9\u811a\u672c](#\u4f7f\u7528\u8f85\u52a9\u811a\u672c) \u5e76\u6dfb\u52a0 `--listclients` \u9009\u9879\u3002IKEv2 \u8f85\u52a9\u811a\u672c\u7684\u8be6\u7ec6\u4f7f\u7528\u4fe1\u606f\u8bf7\u770b [\u8fd9\u91cc](#\u4f7f\u7528\u8f85\u52a9\u811a\u672c)\u3002\\n\\n### \u6dfb\u52a0\u4e00\u4e2a\u5ba2\u6237\u7aef\u8bc1\u4e66\\n\\n\u5982\u679c\u8981\u4e3a\u66f4\u591a\u7684 IKEv2 \u5ba2\u6237\u7aef\u751f\u6210\u8bc1\u4e66\uff0c\u53ea\u9700\u91cd\u65b0\u8fd0\u884c [\u8f85\u52a9\u811a\u672c](#\u4f7f\u7528\u8f85\u52a9\u811a\u672c)\u3002\u53c2\u89c1\u4e0a\u9762\u7684\u4f7f\u7528\u4fe1\u606f\u3002\u6216\u8005\u4f60\u53ef\u4ee5\u770b [\u8fd9\u4e00\u5c0f\u8282](#\u624b\u52a8\u5728-vpn-\u670d\u52a1\u5668\u4e0a\u914d\u7f6e-ikev2) \u7684\u7b2c 4 \u6b65\u3002\\n\\n### \u5bfc\u51fa\u4e00\u4e2a\u5df2\u6709\u7684\u5ba2\u6237\u7aef\u7684\u914d\u7f6e\\n\\n\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c[IKEv2 \u8f85\u52a9\u811a\u672c](#\u4f7f\u7528\u8f85\u52a9\u811a\u672c) \u5728\u8fd0\u884c\u540e\u4f1a\u5bfc\u51fa\u5ba2\u6237\u7aef\u914d\u7f6e\u3002\u5982\u679c\u4e4b\u540e\u4f60\u60f3\u8981\u4e3a\u4e00\u4e2a\u5df2\u6709\u7684\u5ba2\u6237\u7aef\u5bfc\u51fa\u914d\u7f6e\uff0c\u91cd\u65b0\u8fd0\u884c\u8f85\u52a9\u811a\u672c\u5e76\u9009\u62e9\u9002\u5f53\u7684\u9009\u9879\u3002\u53c2\u89c1\u4e0a\u9762\u7684\u4f7f\u7528\u4fe1\u606f\u3002\\n\\n### \u540a\u9500\u4e00\u4e2a\u5ba2\u6237\u7aef\u8bc1\u4e66\\n\\n\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u540a\u9500\u4e00\u4e2a\u4e4b\u524d\u751f\u6210\u7684 VPN \u5ba2\u6237\u7aef\u8bc1\u4e66\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7 `crlutil` \u5b9e\u73b0\u3002\u4e0b\u9762\u4e3e\u4f8b\u8bf4\u660e\uff0c\u8fd9\u4e9b\u547d\u4ee4\u5fc5\u987b\u7528 `root` \u8d26\u6237\u8fd0\u884c\u3002\\n\\n1. \u68c0\u67e5\u8bc1\u4e66\u6570\u636e\u5e93\uff0c\u5e76\u4e14\u627e\u5230\u60f3\u8981\u540a\u9500\u7684\u5ba2\u6237\u7aef\u8bc1\u4e66\u7684\u6635\u79f0\u3002\\n\\n   ```bash\\n   certutil -L -d sql:/etc/ipsec.d\\n   ```\\n\\n   ```\\n   Certificate Nickname                               Trust Attributes\\n                                                      SSL,S/MIME,JAR/XPI\\n\\n   IKEv2 VPN CA                                       CTu,u,u\\n   ($PUBLIC_IP)                                       u,u,u\\n   vpnclient-to-revoke                                u,u,u\\n   ```\\n\\n   \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c06\u8981\u540a\u9500\u6635\u79f0\u4e3a `vpnclient-to-revoke` \u7684\u5ba2\u6237\u7aef\u8bc1\u4e66\u3002\u5b83\u662f\u7531 `IKEv2 VPN CA` \u7b7e\u53d1\u7684\u3002\\n\\n1. \u627e\u5230\u8be5\u5ba2\u6237\u7aef\u8bc1\u4e66\u7684\u5e8f\u5217\u53f7\u3002\\n\\n   ```bash\\n   certutil -L -d sql:/etc/ipsec.d -n \\"vpnclient-to-revoke\\"\\n   ```\\n\\n   ```\\n   Certificate:\\n       Data:\\n           Version: 3 (0x2)\\n           Serial Number:\\n               00:cd:69:ff:74\\n   ... ...\\n   ```\\n\\n   \u6839\u636e\u4e0a\u9762\u7684\u8f93\u51fa\uff0c\u6211\u4eec\u77e5\u9053\u8be5\u5e8f\u5217\u53f7\u4e3a\u5341\u516d\u8fdb\u5236\u7684 `CD69FF74`\uff0c\u4e5f\u5c31\u662f\u5341\u8fdb\u5236\u7684 `3446275956`\u3002\u5b83\u5c06\u5728\u4ee5\u4e0b\u6b65\u9aa4\u4e2d\u4f7f\u7528\u3002\\n\\n1. \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8bc1\u4e66\u540a\u9500\u5217\u8868 (CRL)\u3002\u8be5\u6b65\u9aa4\u5bf9\u4e8e\u6bcf\u4e2a CA \u53ea\u9700\u8fd0\u884c\u4e00\u6b21\u3002\\n\\n   ```bash\\n   if ! crlutil -L -d sql:/etc/ipsec.d -n \\"IKEv2 VPN CA\\" 2>/dev/null; then\\n     crlutil -G -d sql:/etc/ipsec.d -n \\"IKEv2 VPN CA\\" -c /dev/null\\n   fi\\n   ```\\n\\n   ```\\n   CRL Info:\\n   :\\n       Version: 2 (0x1)\\n       Signature Algorithm: PKCS #1 SHA-256 With RSA Encryption\\n       Issuer: \\"O=IKEv2 VPN,CN=IKEv2 VPN CA\\"\\n       This Update: Sat Jun 06 22:00:00 2020\\n       CRL Extensions:\\n   ```\\n\\n1. \u5c06\u4f60\u60f3\u8981\u540a\u9500\u7684\u5ba2\u6237\u7aef\u8bc1\u4e66\u6dfb\u52a0\u5230 CRL\u3002\u5728\u8fd9\u91cc\u6211\u4eec\u6307\u5b9a\u8be5\u8bc1\u4e66\u7684\uff08\u5341\u8fdb\u5236\uff09\u5e8f\u5217\u53f7\uff0c\u4ee5\u53ca\u540a\u9500\u65f6\u95f4\uff08UTC\u65f6\u95f4\uff0c\u683c\u5f0f\uff1aGeneralizedTime (YYYYMMDDhhmmssZ)\uff09\u3002\\n\\n   ```bash\\n   crlutil -M -d sql:/etc/ipsec.d -n \\"IKEv2 VPN CA\\" <<EOF\\n   addcert 3446275956 20200606220100Z\\n   EOF\\n   ```\\n\\n   ```\\n   CRL Info:\\n   :\\n       Version: 2 (0x1)\\n       Signature Algorithm: PKCS #1 SHA-256 With RSA Encryption\\n       Issuer: \\"O=IKEv2 VPN,CN=IKEv2 VPN CA\\"\\n       This Update: Sat Jun 06 22:02:00 2020\\n       Entry 1 (0x1):\\n           Serial Number:\\n               00:cd:69:ff:74\\n           Revocation Date: Sat Jun 06 22:01:00 2020\\n       CRL Extensions:\\n   ```\\n\\n   **\u6ce8\uff1a** \u5982\u679c\u9700\u8981\u4ece CRL \u5220\u9664\u4e00\u4e2a\u8bc1\u4e66\uff0c\u53ef\u4ee5\u5c06\u4e0a\u9762\u7684 `addcert 3446275956 20200606220100Z` \u66ff\u6362\u4e3a `rmcert 3446275956`\u3002\u5173\u4e8e `crlutil` \u7684\u5176\u5b83\u7528\u6cd5\u53c2\u89c1 <a href=\\"https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/tools/NSS_Tools_crlutil\\" target=\\"_blank\\">\u8fd9\u91cc</a>\u3002\\n\\n1. \u6700\u540e\uff0c\u8ba9 Libreswan \u91cd\u65b0\u8bfb\u53d6\u5df2\u66f4\u65b0\u7684 CRL\u3002\\n\\n   ```bash\\n   ipsec crls\\n   ```\\n\\n## \u624b\u52a8\u5728 VPN \u670d\u52a1\u5668\u4e0a\u914d\u7f6e IKEv2\\n\\n\u9664\u4e86\u4f7f\u7528 [\u8f85\u52a9\u811a\u672c](#\u4f7f\u7528\u8f85\u52a9\u811a\u672c) \u4e4b\u5916\uff0c\u9ad8\u7ea7\u7528\u6237\u4e5f\u53ef\u4ee5\u624b\u52a8\u914d\u7f6e IKEv2\u3002\u4e0b\u9762\u4e3e\u4f8b\u8bf4\u660e\u5982\u4f55\u624b\u52a8\u5728 Libreswan \u4e0a\u914d\u7f6e IKEv2\u3002\u4ee5\u4e0b\u547d\u4ee4\u5fc5\u987b\u7528 `root` \u8d26\u6237\u8fd0\u884c\u3002\\n\\n1. \u83b7\u53d6 VPN \u670d\u52a1\u5668\u7684\u516c\u5171 IP \u5730\u5740\uff0c\u5c06\u5b83\u4fdd\u5b58\u5230\u53d8\u91cf\u5e76\u68c0\u67e5\u3002\\n\\n   ```bash\\n   PUBLIC_IP=$(dig @resolver1.opendns.com -t A -4 myip.opendns.com +short)\\n   [ -z \\"$PUBLIC_IP\\" ] && PUBLIC_IP=$(wget -t 3 -T 15 -qO- http://ipv4.icanhazip.com)\\n   printf \'%s\\\\n\' \\"$PUBLIC_IP\\"\\n   ```\\n\\n   \u68c0\u67e5\u5e76\u786e\u4fdd\u4ee5\u4e0a\u547d\u4ee4\u7684\u8f93\u51fa\u4e0e\u670d\u52a1\u5668\u7684\u516c\u5171 IP \u4e00\u81f4\u3002\u8be5\u53d8\u91cf\u5c06\u5728\u4ee5\u4e0b\u6b65\u9aa4\u4e2d\u4f7f\u7528\u3002\\n\\n   **\u6ce8\uff1a** \u53e6\u5916\uff0c\u5728\u8fd9\u91cc\u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a VPN \u670d\u52a1\u5668\u7684\u57df\u540d\u3002\u4f8b\u5982\uff1a `PUBLIC_IP=myvpn.example.com`\u3002\\n\\n1. \u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684 IKEv2 \u8fde\u63a5\uff1a\\n\\n   ```bash\\n   if ! grep -qs \'^include /etc/ipsec\\\\.d/\\\\*\\\\.conf$\' /etc/ipsec.conf; then\\n     echo >> /etc/ipsec.conf\\n     echo \'include /etc/ipsec.d/*.conf\' >> /etc/ipsec.conf\\n   fi\\n   ```\\n\\n   **\u6ce8\uff1a** \u5982\u679c\u4f60\u5728\u4e0a\u9762\u7684\u7b2c\u4e00\u6b65\u6307\u5b9a\u4e86\u670d\u52a1\u5668\u7684\u57df\u540d\uff08\u800c\u4e0d\u662f IP \u5730\u5740\uff09\uff0c\u5219\u5fc5\u987b\u5c06\u4ee5\u4e0b\u547d\u4ee4\u4e2d\u7684 `leftid=$PUBLIC_IP` \u6362\u6210 `leftid=@$PUBLIC_IP`\u3002\\n\\n   ```bash\\n   cat > /etc/ipsec.d/ikev2.conf <<EOF\\n\\n   conn ikev2-cp\\n     left=%defaultroute\\n     leftcert=$PUBLIC_IP\\n     leftid=$PUBLIC_IP\\n     leftsendcert=always\\n     leftsubnet=0.0.0.0/0\\n     leftrsasigkey=%cert\\n     right=%any\\n     rightid=%fromcert\\n     rightaddresspool=192.168.43.10-192.168.43.250\\n     rightca=%same\\n     rightrsasigkey=%cert\\n     narrowing=yes\\n     dpddelay=30\\n     dpdtimeout=120\\n     dpdaction=clear\\n     auto=add\\n     ikev2=insist\\n     rekey=no\\n     pfs=no\\n     fragmentation=yes\\n     ike=aes256-sha2,aes128-sha2,aes256-sha1,aes128-sha1,aes256-sha2;modp1024,aes128-sha1;modp1024\\n     phase2alg=aes_gcm-null,aes128-sha1,aes256-sha1,aes128-sha2,aes256-sha2\\n     ikelifetime=24h\\n     salifetime=24h\\n   EOF\\n   ```\\n\\n   \u8fd8\u9700\u8981\u5728\u8be5\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4e00\u4e9b\u884c\u3002\u9996\u5148\u67e5\u770b\u4f60\u7684 Libreswan \u7248\u672c\uff0c\u7136\u540e\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4e4b\u4e00\uff1a\\n\\n   ```bash\\n   ipsec --version\\n   ```\\n\\n   \u5982\u679c\u662f Libreswan 3.23 \u6216\u66f4\u65b0\u7248\u672c\uff1a\\n\\n   ```bash\\n   cat >> /etc/ipsec.d/ikev2.conf <<EOF\\n     modecfgdns=\\"8.8.8.8 8.8.4.4\\"\\n     encapsulation=yes\\n     mobike=no\\n   EOF\\n   ```\\n\\n   **\u6ce8\uff1a** <a href=\\"https://wiki.strongswan.org/projects/strongswan/wiki/MobIke\\" target=\\"_blank\\">MOBIKE</a>  IKEv2 \u534f\u8bae\u6269\u5c55\u5141\u8bb8 VPN \u5ba2\u6237\u7aef\u66f4\u6539\u7f51\u7edc\u8fde\u63a5\u70b9\uff0c\u4f8b\u5982\u5728\u79fb\u52a8\u6570\u636e\u548c Wi-Fi \u4e4b\u95f4\u5207\u6362\uff0c\u5e76\u4f7f VPN \u4fdd\u6301\u8fde\u63a5\u3002\u5982\u679c\u4f60\u7684\u670d\u52a1\u5668\uff08\u6216\u8005 Docker \u4e3b\u673a\uff09\u7684\u64cd\u4f5c\u7cfb\u7edf **\u4e0d\u662f** Ubuntu Linux\uff0c\u5e76\u4e14\u4f60\u60f3\u8981\u542f\u7528 MOBIKE \u652f\u6301\uff0c\u53ef\u4ee5\u5c06\u4e0a\u9762\u547d\u4ee4\u4e2d\u7684 `mobike=no` \u6362\u6210 `mobike=yes`\u3002**\u4e0d\u8981** \u5728 Ubuntu \u7cfb\u7edf\u6216\u8005 Raspberry Pi \u4e0a\u542f\u7528\u8be5\u9009\u9879\u3002\\n\\n   \u5982\u679c\u662f Libreswan 3.19-3.22\uff1a\\n\\n   ```bash\\n   cat >> /etc/ipsec.d/ikev2.conf <<EOF\\n     modecfgdns1=8.8.8.8\\n     modecfgdns2=8.8.4.4\\n     encapsulation=yes\\n   EOF\\n   ```\\n\\n   \u5982\u679c\u662f Libreswan 3.18 \u6216\u66f4\u65e9\u7248\u672c\uff1a\\n\\n   ```bash\\n   cat >> /etc/ipsec.d/ikev2.conf <<EOF\\n     modecfgdns1=8.8.8.8\\n     modecfgdns2=8.8.4.4\\n     forceencaps=yes\\n   EOF\\n   ```\\n\\n1. \u751f\u6210 Certificate Authority (CA) \u548c VPN \u670d\u52a1\u5668\u8bc1\u4e66\u3002\\n\\n   **\u6ce8\uff1a** \u4f7f\u7528 \\"-v\\" \u53c2\u6570\u6307\u5b9a\u8bc1\u4e66\u7684\u6709\u6548\u671f\uff08\u5355\u4f4d\uff1a\u6708\uff09\uff0c\u4f8b\u5982 \\"-v 120\\"\u3002\\n\\n   \u751f\u6210 CA \u8bc1\u4e66\uff1a\\n\\n   ```bash\\n   certutil -z <(head -c 1024 /dev/urandom) \\\\\\n     -S -x -n \\"IKEv2 VPN CA\\" \\\\\\n     -s \\"O=IKEv2 VPN,CN=IKEv2 VPN CA\\" \\\\\\n     -k rsa -g 4096 -v 120 \\\\\\n     -d sql:/etc/ipsec.d -t \\"CT,,\\" -2\\n   ```\\n\\n   ```\\n   Generating key.  This may take a few moments...\\n\\n   Is this a CA certificate [y/N]?\\n   y\\n   Enter the path length constraint, enter to skip [<0 for unlimited path]: >\\n   Is this a critical extension [y/N]?\\n   N\\n   ```\\n\\n   \u751f\u6210 VPN \u670d\u52a1\u5668\u8bc1\u4e66\uff1a\\n\\n   **\u6ce8\uff1a** \u5982\u679c\u4f60\u5728\u4e0a\u9762\u7684\u7b2c\u4e00\u6b65\u6307\u5b9a\u4e86\u670d\u52a1\u5668\u7684\u57df\u540d\uff08\u800c\u4e0d\u662f IP \u5730\u5740\uff09\uff0c\u5219\u5fc5\u987b\u5c06\u4ee5\u4e0b\u547d\u4ee4\u4e2d\u7684 `--extSAN \\"ip:$PUBLIC_IP,dns:$PUBLIC_IP\\"` \u6362\u6210 `--extSAN \\"dns:$PUBLIC_IP\\"`\u3002\\n\\n   ```bash\\n   certutil -z <(head -c 1024 /dev/urandom) \\\\\\n     -S -c \\"IKEv2 VPN CA\\" -n \\"$PUBLIC_IP\\" \\\\\\n     -s \\"O=IKEv2 VPN,CN=$PUBLIC_IP\\" \\\\\\n     -k rsa -g 4096 -v 120 \\\\\\n     -d sql:/etc/ipsec.d -t \\",,\\" \\\\\\n     --keyUsage digitalSignature,keyEncipherment \\\\\\n     --extKeyUsage serverAuth \\\\\\n     --extSAN \\"ip:$PUBLIC_IP,dns:$PUBLIC_IP\\"\\n   ```\\n\\n   ```\\n   Generating key.  This may take a few moments...\\n   ```\\n\\n1. \u751f\u6210\u5ba2\u6237\u7aef\u8bc1\u4e66\uff0c\u7136\u540e\u5bfc\u51fa `.p12` \u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u5305\u542b\u5ba2\u6237\u7aef\u8bc1\u4e66\uff0c\u79c1\u94a5\u4ee5\u53ca CA \u8bc1\u4e66\u3002\\n\\n   **\u6ce8\uff1a** \u4f60\u53ef\u4ee5\u91cd\u590d\u672c\u6b65\u9aa4\u6765\u4e3a\u66f4\u591a\u7684\u5ba2\u6237\u7aef\u751f\u6210\u8bc1\u4e66\uff0c\u4f46\u5fc5\u987b\u5c06\u6240\u6709\u7684 `vpnclient` \u6362\u6210\u6bd4\u5982 `vpnclient2`\uff0c\u7b49\u7b49\u3002\u5982\u9700\u540c\u65f6\u8fde\u63a5\u591a\u4e2a\u5ba2\u6237\u7aef\uff0c\u5219\u5fc5\u987b\u4e3a\u6bcf\u4e2a\u5ba2\u6237\u7aef\u751f\u6210\u552f\u4e00\u7684\u8bc1\u4e66\u3002\\n\\n   \u751f\u6210\u5ba2\u6237\u7aef\u8bc1\u4e66\uff1a\\n\\n   ```bash\\n   certutil -z <(head -c 1024 /dev/urandom) \\\\\\n     -S -c \\"IKEv2 VPN CA\\" -n \\"vpnclient\\" \\\\\\n     -s \\"O=IKEv2 VPN,CN=vpnclient\\" \\\\\\n     -k rsa -g 4096 -v 120 \\\\\\n     -d sql:/etc/ipsec.d -t \\",,\\" \\\\\\n     --keyUsage digitalSignature,keyEncipherment \\\\\\n     --extKeyUsage serverAuth,clientAuth -8 \\"vpnclient\\"\\n   ```\\n\\n   ```\\n   Generating key.  This may take a few moments...\\n   ```\\n\\n   \u5bfc\u51fa `.p12` \u6587\u4ef6\uff1a\\n\\n   ```bash\\n   pk12util -d sql:/etc/ipsec.d -n \\"vpnclient\\" -o vpnclient.p12\\n   ```\\n\\n   ```\\n   Enter password for PKCS12 file:\\n   Re-enter password:\\n   pk12util: PKCS12 EXPORT SUCCESSFUL\\n   ```\\n\\n   \u6307\u5b9a\u4e00\u4e2a\u5b89\u5168\u7684\u5bc6\u7801\u4ee5\u4fdd\u62a4\u5bfc\u51fa\u7684 `.p12` \u6587\u4ef6\uff08\u5728\u5bfc\u5165\u5230 iOS \u6216 macOS \u8bbe\u5907\u65f6\uff0c\u8be5\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff09\u3002\\n\\n1. \uff08\u9002\u7528\u4e8e iOS \u5ba2\u6237\u7aef\uff09 \u5bfc\u51fa CA \u8bc1\u4e66\u5230 `ikev2vpnca.cer`\uff1a\\n\\n   ```bash\\n   certutil -L -d sql:/etc/ipsec.d -n \\"IKEv2 VPN CA\\" -a -o ikev2vpnca.cer\\n   ```\\n\\n1. \u8bc1\u4e66\u6570\u636e\u5e93\u73b0\u5728\u5e94\u8be5\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a\\n\\n   ```bash\\n   certutil -L -d sql:/etc/ipsec.d\\n   ```\\n\\n   ```\\n   Certificate Nickname                               Trust Attributes\\n                                                      SSL,S/MIME,JAR/XPI\\n\\n   IKEv2 VPN CA                                       CTu,u,u\\n   ($PUBLIC_IP)                                       u,u,u\\n   vpnclient                                          u,u,u\\n   ```\\n\\n   **\u6ce8\uff1a** \u5982\u9700\u663e\u793a\u8bc1\u4e66\u5185\u5bb9\uff0c\u53ef\u4f7f\u7528 `certutil -L -d sql:/etc/ipsec.d -n \\"Nickname\\"`\u3002\u8981\u540a\u9500\u4e00\u4e2a\u5ba2\u6237\u7aef\u8bc1\u4e66\uff0c\u8bf7\u8f6c\u5230[\u8fd9\u4e00\u8282](#\u540a\u9500\u4e00\u4e2a\u5ba2\u6237\u7aef\u8bc1\u4e66)\u3002\u5173\u4e8e `certutil` \u7684\u5176\u5b83\u7528\u6cd5\u53c2\u89c1 <a href=\\"https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/tools/NSS_Tools_certutil\\" target=\\"_blank\\">\u8fd9\u91cc</a>\u3002\\n\\n1. **\uff08\u91cd\u8981\uff09\u91cd\u542f IPsec \u670d\u52a1**\uff1a\\n\\n   ```bash\\n   service ipsec restart\\n   ```\\n\\n\u5728\u7ee7\u7eed\u4e4b\u524d\uff0c\u4f60**\u5fc5\u987b**\u91cd\u542f IPsec \u670d\u52a1\u3002VPN \u670d\u52a1\u5668\u4e0a\u7684 IKEv2 \u914d\u7f6e\u5230\u6b64\u5df2\u5b8c\u6210\u3002\u4e0b\u4e00\u6b65\uff1a[\u914d\u7f6e VPN \u5ba2\u6237\u7aef](#\u914d\u7f6e-ikev2-vpn-\u5ba2\u6237\u7aef)\u3002\\n\\n## \u6545\u969c\u6392\u9664\\n\\n### \u5728\u5bfc\u5165\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u65f6\u63d0\u793a\u5bc6\u7801\u4e0d\u6b63\u786e\\n\\n\u5982\u679c\u4f60\u5fd8\u8bb0\u4e86\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u7684\u5bc6\u7801\uff0c\u53ef\u4ee5\u91cd\u65b0 [\u5bfc\u51fa IKEv2 \u5ba2\u6237\u7aef\u7684\u914d\u7f6e](#\u5bfc\u51fa\u4e00\u4e2a\u5df2\u6709\u7684\u5ba2\u6237\u7aef\u7684\u914d\u7f6e)\u3002\\n\\nUbuntu 18.04 \u7528\u6237\u5728\u5c1d\u8bd5\u5c06\u751f\u6210\u7684 `.p12` \u6587\u4ef6\u5bfc\u5165\u5230 Windows \u65f6\u53ef\u80fd\u4f1a\u9047\u5230\u9519\u8bef \\"\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u6b63\u786e\\"\u3002\u8fd9\u662f\u7531 `NSS` \u4e2d\u7684\u4e00\u4e2a\u95ee\u9898\u5bfc\u81f4\u7684\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u770b <a href=\\"https://github.com/hwdsl2/setup-ipsec-vpn/issues/414#issuecomment-460495258\\" target=\\"_blank\\">\u8fd9\u91cc</a>\u3002\\n\\nUbuntu 18.04 \u4e0a\u7684 NSS \u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6cd5\\n\\n**\u6ce8\uff1a** \u8be5\u89e3\u51b3\u65b9\u6cd5\u4ec5\u9002\u7528\u4e8e\u8fd0\u884c\u5728 `x86_64` \u67b6\u6784\u4e0b\u7684 Ubuntu 18.04 \u7cfb\u7edf\u3002\u5728 2021-01-21 \u5df2\u66f4\u65b0 IKEv2 \u8f85\u52a9\u811a\u672c\u4ee5\u81ea\u52a8\u5e94\u7528\u8fd9\u4e2a\u89e3\u51b3\u65b9\u6cd5\u3002\\n\\n\u9996\u5148\u5b89\u88c5\u66f4\u65b0\u7248\u672c\u7684 `libnss3` \u76f8\u5173\u7684\u8f6f\u4ef6\u5305\uff1a\\n\\n```\\nwget https://mirrors.kernel.org/ubuntu/pool/main/n/nss/libnss3_3.49.1-1ubuntu1.5_amd64.deb\\nwget https://mirrors.kernel.org/ubuntu/pool/main/n/nss/libnss3-dev_3.49.1-1ubuntu1.5_amd64.deb\\nwget https://mirrors.kernel.org/ubuntu/pool/universe/n/nss/libnss3-tools_3.49.1-1ubuntu1.5_amd64.deb\\napt-get -y update\\napt-get -y install \\"./libnss3_3.49.1-1ubuntu1.5_amd64.deb\\" \\\\\\n \\"./libnss3-dev_3.49.1-1ubuntu1.5_amd64.deb\\" \\\\\\n \\"./libnss3-tools_3.49.1-1ubuntu1.5_amd64.deb\\"\\n```\\n\\n\u7136\u540e\u91cd\u65b0 [\u5bfc\u51fa IKEv2 \u5ba2\u6237\u7aef\u7684\u914d\u7f6e](#\u5bfc\u51fa\u4e00\u4e2a\u5df2\u6709\u7684\u5ba2\u6237\u7aef\u7684\u914d\u7f6e)\u3002\\n\\n### IKEv2 \u5728\u4e00\u5c0f\u65f6\u540e\u65ad\u5f00\u8fde\u63a5\\n\\n\u5982\u679c IKEv2 \u8fde\u63a5\u5728\u4e00\u5c0f\u65f6\uff0860 \u5206\u949f\uff09\u540e\u81ea\u52a8\u65ad\u5f00\uff0c\u53ef\u4ee5\u8fd9\u6837\u89e3\u51b3\uff1a\u7f16\u8f91 VPN \u670d\u52a1\u5668\u4e0a\u7684 `/etc/ipsec.d/ikev2.conf`\uff08\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u7f16\u8f91 `/etc/ipsec.conf`\uff09\u3002\u5728 `conn ikev2-cp` \u4e00\u8282\u7684\u672b\u5c3e\u6dfb\u52a0\u4ee5\u4e0b\u884c\uff0c\u5f00\u5934\u5fc5\u987b\u7a7a\u4e24\u683c\uff1a\\n\\n```\\n  ikelifetime=24h\\n  salifetime=24h\\n```\\n\\n\u4fdd\u5b58\u4fee\u6539\u5e76\u8fd0\u884c `service ipsec restart`\u3002\u8be5\u89e3\u51b3\u65b9\u6848\u5df2\u5728 2021-01-20 \u6dfb\u52a0\u5230\u8f85\u52a9\u811a\u672c\u3002\\n\\n### \u65e0\u6cd5\u540c\u65f6\u8fde\u63a5\u591a\u4e2a IKEv2 \u5ba2\u6237\u7aef\\n\\n\u5982\u679c\u8981\u540c\u65f6\u8fde\u63a5\u591a\u4e2a\u5ba2\u6237\u7aef\uff0c\u5219\u5fc5\u987b\u4e3a\u6bcf\u4e2a\u5ba2\u6237\u7aef [\u751f\u6210\u552f\u4e00\u7684\u8bc1\u4e66](#\u6dfb\u52a0\u4e00\u4e2a\u5ba2\u6237\u7aef\u8bc1\u4e66)\u3002\\n\\n\u5982\u679c\u4f60\u65e0\u6cd5\u540c\u65f6\u8fde\u63a5\u540c\u4e00\u4e2a NAT \uff08\u6bd4\u5982\u5bb6\u7528\u8def\u7531\u5668\uff09\u540e\u9762\u7684\u591a\u4e2a IKEv2 \u5ba2\u6237\u7aef\uff0c\u53ef\u4ee5\u8fd9\u6837\u89e3\u51b3\uff1a\u7f16\u8f91 VPN \u670d\u52a1\u5668\u4e0a\u7684 `/etc/ipsec.d/ikev2.conf`\uff0c\u627e\u5230\u8fd9\u4e00\u884c `leftid=@<your_server_ip>` \u5e76\u53bb\u6389 `@`\uff0c\u4e5f\u5c31\u662f\u8bf4\u5c06\u5b83\u66ff\u6362\u4e3a `leftid=<your_server_ip>`\u3002\u4fdd\u5b58\u4fee\u6539\u5e76\u8fd0\u884c `service ipsec restart`\u3002\u5982\u679c `leftid` \u662f\u4e00\u4e2a\u57df\u540d\u5219\u4e0d\u53d7\u5f71\u54cd\uff0c\u4e0d\u8981\u5e94\u7528\u8fd9\u4e2a\u89e3\u51b3\u65b9\u6848\u3002\u8be5\u89e3\u51b3\u65b9\u6848\u5df2\u5728 2021-02-01 \u6dfb\u52a0\u5230\u8f85\u52a9\u811a\u672c\u3002\\n\\n### \u5176\u5b83\u5df2\u77e5\u95ee\u9898\\n\\n1. Windows \u81ea\u5e26\u7684 VPN \u5ba2\u6237\u7aef\u53ef\u80fd\u4e0d\u652f\u6301 IKEv2 fragmentation\uff08\u8be5\u529f\u80fd<a href=\\"https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-ikee/74df968a-7125-431d-9c98-4ea929e548dc\\" target=\\"_blank\\">\u9700\u8981</a> Windows 10 v1803 \u6216\u66f4\u65b0\u7248\u672c\uff09\u3002\u5728\u6709\u4e9b\u7f51\u7edc\u4e0a\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8fde\u63a5\u9519\u8bef\u6216\u5176\u5b83\u8fde\u63a5\u95ee\u9898\u3002\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u6362\u7528 [IPsec/L2TP](2021-03-06-ipsec-clients-l2tp.md) \u6216 [IPsec/XAuth](2021-03-06-ipsec-clients-xauth.md) \u6a21\u5f0f\u3002\\n1. \u5982\u679c\u4f60\u4f7f\u7528 strongSwan Android VPN \u5ba2\u6237\u7aef\uff0c\u5219\u5fc5\u987b\u5c06\u670d\u52a1\u5668\u4e0a\u7684 Libreswan [\u5347\u7ea7libreswan](2021-03-06-ipsec-clients-l2tp.md)\u5230\u7248\u672c 3.26 \u6216\u4ee5\u4e0a\u3002\\n\\n### \u66f4\u591a\u6545\u969c\u6392\u9664\u4fe1\u606f\\n\\n\u8981\u67e5\u770b\u66f4\u591a\u6545\u969c\u6392\u9664\u4fe1\u606f\uff0c\u8bf7\u770b [\u8fd9\u91cc > \u6545\u969c\u6392\u9664](2021-03-06-ipsec-clients-l2tp.md)\u3002\\n\\n## \u79fb\u9664 IKEv2\\n\\n\u5982\u679c\u4f60\u60f3\u8981\u4ece VPN \u670d\u52a1\u5668\u79fb\u9664 IKEv2\uff0c\u4f46\u662f\u4fdd\u7559 [IPsec/L2TP](2021-03-06-ipsec-clients-l2tp.md) \u548c [IPsec/XAuth (\\"Cisco IPsec\\")](2021-03-06-ipsec-clients-xauth.md) \u6a21\u5f0f\uff0c\u8bf7\u91cd\u65b0\u8fd0\u884c [\u8f85\u52a9\u811a\u672c](#\u4f7f\u7528\u8f85\u52a9\u811a\u672c) \u5e76\u9009\u62e9 \\"Remove IKEv2\\" \u9009\u9879\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u5c06\u5220\u9664\u6240\u6709\u7684 IKEv2 \u914d\u7f6e\uff08\u5305\u62ec\u8bc1\u4e66\u548c\u5bc6\u94a5\uff09\uff0c\u5e76\u4e14**\u4e0d\u53ef\u64a4\u9500**\uff01\\n\\n\u53e6\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u624b\u52a8\u79fb\u9664 IKEv2\u3002\u70b9\u8fd9\u91cc\u67e5\u770b\u6b65\u9aa4\u3002\\n\\n\u8981\u624b\u52a8\u4ece VPN \u670d\u52a1\u5668\u79fb\u9664 IKEv2\uff0c\u4f46\u662f\u4fdd\u7559 [IPsec/L2TP](2021-03-06-ipsec-clients-l2tp.md) \u548c [IPsec/XAuth (\\"Cisco IPsec\\")](2021-03-06-ipsec-clients-xauth.md) \u6a21\u5f0f\uff0c\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\u3002\u8fd9\u4e9b\u547d\u4ee4\u5fc5\u987b\u7528 `root` \u8d26\u6237\u8fd0\u884c\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u5c06\u5220\u9664\u6240\u6709\u7684 IKEv2 \u914d\u7f6e\uff08\u5305\u62ec\u8bc1\u4e66\u548c\u5bc6\u94a5\uff09\uff0c\u5e76\u4e14**\u4e0d\u53ef\u64a4\u9500**\uff01\\n\\n1. \u91cd\u547d\u540d\uff08\u6216\u8005\u5220\u9664\uff09IKEv2 \u914d\u7f6e\u6587\u4ef6\uff1a\\n\\n   ```bash\\n   mv /etc/ipsec.d/ikev2.conf /etc/ipsec.d/ikev2.conf.bak\\n   ```\\n\\n   **\u6ce8\uff1a** \u5982\u679c\u4f60\u4f7f\u7528\u4e86\u8f83\u65e7\u7248\u672c\uff082020-05-31 \u4e4b\u524d\uff09\u7684 IKEv2 \u8f85\u52a9\u811a\u672c\u6216\u8005\u914d\u7f6e\u8bf4\u660e\uff0c\u6587\u4ef6 `/etc/ipsec.d/ikev2.conf` \u53ef\u80fd\u4e0d\u5b58\u5728\u3002\u5728\u8be5\u60c5\u51b5\u4e0b\uff0c\u8bf7\u79fb\u9664\u6587\u4ef6 `/etc/ipsec.conf` \u4e2d\u7684 `conn ikev2-cp` \u90e8\u5206\u3002\\n\\n1. **\uff08\u91cd\u8981\uff09\u91cd\u542f IPsec \u670d\u52a1**\uff1a\\n\\n   ```bash\\n   service ipsec restart\\n   ```\\n\\n1. \u5217\u51fa IPsec \u8bc1\u4e66\u6570\u636e\u5e93\u4e2d\u7684\u8bc1\u4e66\uff1a\\n\\n   ```bash\\n   certutil -L -d sql:/etc/ipsec.d\\n   ```\\n\\n   \u793a\u4f8b\u8f93\u51fa\uff1a\\n\\n   ```\\n   Certificate Nickname                               Trust Attributes\\n                                                      SSL,S/MIME,JAR/XPI\\n\\n   IKEv2 VPN CA                                       CTu,u,u\\n   ($PUBLIC_IP)                                       u,u,u\\n   vpnclient                                          u,u,u\\n   ```\\n\\n1. \u5220\u9664\u8bc1\u4e66\u548c\u5bc6\u94a5\u3002\u5c06\u4e0b\u9762\u7684 \\"Nickname\\" \u66ff\u6362\u4e3a\u6bcf\u4e2a\u8bc1\u4e66\u7684\u6635\u79f0\u3002\u4e3a\u6bcf\u4e2a\u8bc1\u4e66\u91cd\u590d\u8fd9\u4e9b\u547d\u4ee4\u3002\u5728\u5b8c\u6210\u540e\uff0c\u518d\u6b21\u5217\u51fa IPsec \u8bc1\u4e66\u6570\u636e\u5e93\u4e2d\u7684\u8bc1\u4e66\uff0c\u5e76\u786e\u8ba4\u5217\u8868\u4e3a\u7a7a\u3002\\n\\n   ```bash\\n   certutil -F -d sql:/etc/ipsec.d -n \\"Nickname\\"\\n   certutil -D -d sql:/etc/ipsec.d -n \\"Nickname\\" 2>/dev/null\\n   ```\\n\\n## \u53c2\u8003\u94fe\u63a5\\n\\n* https://libreswan.org/wiki/VPN_server_for_remote_clients_using_IKEv2\\n* https://libreswan.org/wiki/HOWTO:_Using_NSS_with_libreswan\\n* https://libreswan.org/man/ipsec.conf.5.html\\n* https://wiki.strongswan.org/projects/strongswan/wiki/WindowsClients\\n* https://wiki.strongswan.org/projects/strongswan/wiki/AndroidVpnClient\\n* https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/tools/NSS_Tools_certutil\\n* https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/tools/NSS_Tools_crlutil\\n\\n> [\u539f\u6587 - IKEv2 \u914d\u7f6e\u548c\u4f7f\u7528\u6307\u5357](https://github.com/hwdsl2/setup-ipsec-vpn/blob/master/docs/ikev2-howto-zh.md)"},{"id":"/2021/03/06/ipsec-clients-l2tp","metadata":{"permalink":"/blog/2021/03/06/ipsec-clients-l2tp","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-06-ipsec-clients-l2tp.md","source":"@site/src/blog/2021-03-06-ipsec-clients-l2tp.md","title":"\u914d\u7f6e IPsec/L2TP \u5ba2\u6237\u7aef","description":"\u5728\u6210\u529f \u642d\u5efa\u81ea\u5df1\u7684 VPN \u670d\u52a1\u5668 \u4e4b\u540e\uff0c\u6309\u7167\u4e0b\u9762\u7684\u6b65\u9aa4\u6765\u914d\u7f6e\u4f60\u7684\u8bbe\u5907\u3002IPsec/L2TP \u5728 Android, iOS, OS X \u548c Windows \u4e0a\u5747\u53d7\u652f\u6301\uff0c\u65e0\u9700\u5b89\u88c5\u989d\u5916\u7684\u8f6f\u4ef6\u3002\u8bbe\u7f6e\u8fc7\u7a0b\u901a\u5e38\u53ea\u9700\u8981\u51e0\u5206\u949f\u3002\u5982\u679c\u65e0\u6cd5\u8fde\u63a5,\u8bf7\u9996\u5148\u68c0\u67e5\u662f\u5426\u8f93\u5165\u4e86\u6b63\u786e\u7684\u767b\u5f55\u51ed\u8bc1\u3002","date":"2021-03-06T00:00:00.000Z","formattedDate":"March 6, 2021","tags":[{"label":"ipsec","permalink":"/blog/tags/ipsec"},{"label":"l2tp","permalink":"/blog/tags/l-2-tp"}],"readingTime":31.76,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u914d\u7f6e IPsec/L2TP \u5ba2\u6237\u7aef","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["ipsec","l2tp"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"IKEv2 \u914d\u7f6e\u548c\u4f7f\u7528\u6307\u5357","permalink":"/blog/2021/03/06/ipsec-clients-ikev2"},"nextItem":{"title":"\u914d\u7f6e IPsec/XAuth VPN \u5ba2\u6237\u7aef","permalink":"/blog/2021/03/06/ipsec-clients-xauth"}},"content":"\u5728\u6210\u529f [\u642d\u5efa\u81ea\u5df1\u7684 VPN \u670d\u52a1\u5668](2021-03-06-ipsec-server.md) \u4e4b\u540e\uff0c\u6309\u7167\u4e0b\u9762\u7684\u6b65\u9aa4\u6765\u914d\u7f6e\u4f60\u7684\u8bbe\u5907\u3002IPsec/L2TP \u5728 Android, iOS, OS X \u548c Windows \u4e0a\u5747\u53d7\u652f\u6301\uff0c\u65e0\u9700\u5b89\u88c5\u989d\u5916\u7684\u8f6f\u4ef6\u3002\u8bbe\u7f6e\u8fc7\u7a0b\u901a\u5e38\u53ea\u9700\u8981\u51e0\u5206\u949f\u3002\u5982\u679c\u65e0\u6cd5\u8fde\u63a5,\u8bf7\u9996\u5148\u68c0\u67e5\u662f\u5426\u8f93\u5165\u4e86\u6b63\u786e\u7684\u767b\u5f55\u51ed\u8bc1\u3002\\n\\n:::note\\n\u4f60\u4e5f\u53ef\u4ee5 [\u914d\u7f6e IKEv2](2021-03-06-ipsec-clients-ikev2.md)\uff08\u63a8\u8350\uff09\uff0c\u6216\u8005\u4f7f\u7528\u66f4\u9ad8\u6548\u7684 [IPsec/XAuth \u6a21\u5f0f](2021-03-06-ipsec-clients-xauth.md) \u8fde\u63a5\u3002\\n:::\\n\\n\x3c!--truncate--\x3e\\n\\n---\\n* \u5e73\u53f0\u540d\u79f0\\n  * [Windows](#windows)\\n  * [OS X (macOS)](#os-x)\\n  * [Android](#android)\\n  * [iOS (iPhone/iPad)](#ios)\\n  * [Chromebook](#chromebook)\\n  * [Linux](#linux)\\n* [\u6545\u969c\u6392\u9664](#\u6545\u969c\u6392\u9664)\\n\\n## Windows\\n\\n### Windows 10 and 8.x\\n\\n1. \u53f3\u952e\u5355\u51fb\u7cfb\u7edf\u6258\u76d8\u4e2d\u7684\u65e0\u7ebf/\u7f51\u7edc\u56fe\u6807\u3002\\n1. \u9009\u62e9 **\u6253\u5f00\u7f51\u7edc\u548c\u5171\u4eab\u4e2d\u5fc3**\u3002\u6216\u8005\uff0c\u5982\u679c\u4f60\u4f7f\u7528 Windows 10 \u7248\u672c 1709 \u6216\u4ee5\u4e0a\uff0c\u9009\u62e9 **\u6253\u5f00\\"\u7f51\u7edc\u548c Internet\\"\u8bbe\u7f6e**\uff0c\u7136\u540e\u5728\u6253\u5f00\u7684\u9875\u9762\u4e2d\u5355\u51fb **\u7f51\u7edc\u548c\u5171\u4eab\u4e2d\u5fc3**\u3002\\n1. \u5355\u51fb **\u8bbe\u7f6e\u65b0\u7684\u8fde\u63a5\u6216\u7f51\u7edc**\u3002\\n1. \u9009\u62e9 **\u8fde\u63a5\u5230\u5de5\u4f5c\u533a**\uff0c\u7136\u540e\u5355\u51fb **\u4e0b\u4e00\u6b65**\u3002\\n1. \u5355\u51fb **\u4f7f\u7528\u6211\u7684Internet\u8fde\u63a5 (VPN)**\u3002\\n1. \u5728 **Internet\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u5728 **\u76ee\u6807\u540d\u79f0** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\u5355\u51fb **\u521b\u5efa**\u3002\\n1. \u8fd4\u56de **\u7f51\u7edc\u548c\u5171\u4eab\u4e2d\u5fc3**\u3002\u5355\u51fb\u5de6\u4fa7\u7684 **\u66f4\u6539\u9002\u914d\u5668\u8bbe\u7f6e**\u3002\\n1. \u53f3\u952e\u5355\u51fb\u65b0\u521b\u5efa\u7684 VPN \u8fde\u63a5\uff0c\u5e76\u9009\u62e9 **\u5c5e\u6027**\u3002\\n1. \u5355\u51fb **\u5b89\u5168** \u9009\u9879\u5361\uff0c\u4ece **VPN \u7c7b\u578b** \u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9 \\"\u4f7f\u7528 IPsec \u7684\u7b2c 2 \u5c42\u96a7\u9053\u534f\u8bae (L2TP/IPSec)\\"\u3002\\n1. \u5355\u51fb **\u5141\u8bb8\u4f7f\u7528\u8fd9\u4e9b\u534f\u8bae**\u3002\u9009\u4e2d \\"\u8d28\u8be2\u63e1\u624b\u8eab\u4efd\u9a8c\u8bc1\u534f\u8bae (CHAP)\\" \u548c \\"Microsoft CHAP \u7248\u672c 2 (MS-CHAP v2)\\" \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **\u9ad8\u7ea7\u8bbe\u7f6e** \u6309\u94ae\u3002\\n1. \u5355\u51fb **\u4f7f\u7528\u9884\u5171\u4eab\u5bc6\u94a5\u4f5c\u8eab\u4efd\u9a8c\u8bc1** \u5e76\u5728 **\u5bc6\u94a5** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u5355\u51fb **\u786e\u5b9a** \u5173\u95ed **\u9ad8\u7ea7\u8bbe\u7f6e**\u3002\\n1. \u5355\u51fb **\u786e\u5b9a** \u4fdd\u5b58 VPN \u8fde\u63a5\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\\n\\n**\u6ce8\uff1a** \u5728\u9996\u6b21\u8fde\u63a5\u4e4b\u524d\u9700\u8981<a href=\\"#windows-\u9519\u8bef-809\\">\u4fee\u6539\u4e00\u6b21\u6ce8\u518c\u8868</a>\uff0c\u4ee5\u89e3\u51b3 VPN \u670d\u52a1\u5668 \u548c/\u6216 \u5ba2\u6237\u7aef\u4e0e NAT \uff08\u6bd4\u5982\u5bb6\u7528\u8def\u7531\u5668\uff09\u7684\u517c\u5bb9\u95ee\u9898\u3002\\n\\n\u8981\u8fde\u63a5\u5230 VPN\uff1a\u5355\u51fb\u7cfb\u7edf\u6258\u76d8\u4e2d\u7684\u65e0\u7ebf/\u7f51\u7edc\u56fe\u6807\uff0c\u9009\u62e9\u65b0\u7684 VPN \u8fde\u63a5\uff0c\u7136\u540e\u5355\u51fb **\u8fde\u63a5**\u3002\u5982\u679c\u51fa\u73b0\u63d0\u793a\uff0c\u5728\u767b\u5f55\u7a97\u53e3\u4e2d\u8f93\u5165 `\u4f60\u7684 VPN \u7528\u6237\u540d` \u548c `\u5bc6\u7801` \uff0c\u5e76\u5355\u51fb **\u786e\u5b9a**\u3002\u6700\u540e\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 <a href=\\"#\u6545\u969c\u6392\u9664\\">\u6545\u969c\u6392\u9664</a>\u3002\\n\\n\u53e6\u5916\uff0c\u9664\u4e86\u6309\u7167\u4ee5\u4e0a\u6b65\u9aa4\u64cd\u4f5c\uff0c\u4f60\u4e5f\u53ef\u4ee5\u8fd0\u884c\u4e0b\u9762\u7684 Windows PowerShell \u547d\u4ee4\u6765\u521b\u5efa VPN \u8fde\u63a5\u3002\u5c06 `\u4f60\u7684 VPN \u670d\u52a1\u5668 IP` \u548c `\u4f60\u7684 VPN IPsec PSK` \u6362\u6210\u4f60\u81ea\u5df1\u7684\u503c\uff0c\u7528\u5355\u5f15\u53f7\u62ec\u8d77\u6765\uff1a\\n\\n```console\\n# \u4e0d\u4fdd\u5b58\u547d\u4ee4\u884c\u5386\u53f2\u8bb0\u5f55\\nSet-PSReadlineOption \u2013HistorySaveStyle SaveNothing\\n# \u521b\u5efa VPN \u8fde\u63a5\\nAdd-VpnConnection -Name \'My IPsec VPN\' -ServerAddress \'\u4f60\u7684 VPN \u670d\u52a1\u5668 IP\' -L2tpPsk \'\u4f60\u7684 VPN IPsec PSK\' -TunnelType L2tp -EncryptionLevel Required -AuthenticationMethod Chap,MSChapv2 -Force -RememberCredential -PassThru\\n# \u5ffd\u7565 data encryption \u8b66\u544a\uff08\u6570\u636e\u5728 IPsec \u96a7\u9053\u4e2d\u5df2\u88ab\u52a0\u5bc6\uff09\\n```\\n\\n### Windows 7, Vista and XP\\n\\n1. \u5355\u51fb\u5f00\u59cb\u83dc\u5355\uff0c\u9009\u62e9\u63a7\u5236\u9762\u677f\u3002\\n1. \u8fdb\u5165 **\u7f51\u7edc\u548cInternet** \u90e8\u5206\u3002\\n1. \u5355\u51fb **\u7f51\u7edc\u548c\u5171\u4eab\u4e2d\u5fc3**\u3002\\n1. \u5355\u51fb **\u8bbe\u7f6e\u65b0\u7684\u8fde\u63a5\u6216\u7f51\u7edc**\u3002\\n1. \u9009\u62e9 **\u8fde\u63a5\u5230\u5de5\u4f5c\u533a**\uff0c\u7136\u540e\u5355\u51fb **\u4e0b\u4e00\u6b65**\u3002\\n1. \u5355\u51fb **\u4f7f\u7528\u6211\u7684Internet\u8fde\u63a5 (VPN)**\u3002\\n1. \u5728 **Internet\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u5728 **\u76ee\u6807\u540d\u79f0** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u9009\u4e2d **\u73b0\u5728\u4e0d\u8fde\u63a5\uff1b\u4ec5\u8fdb\u884c\u8bbe\u7f6e\u4ee5\u4fbf\u7a0d\u540e\u8fde\u63a5** \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **\u4e0b\u4e00\u6b65**\u3002\\n1. \u5728 **\u7528\u6237\u540d** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u7528\u6237\u540d`\u3002\\n1. \u5728 **\u5bc6\u7801** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u5bc6\u7801`\u3002\\n1. \u9009\u4e2d **\u8bb0\u4f4f\u6b64\u5bc6\u7801** \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **\u521b\u5efa**\uff0c\u7136\u540e\u5355\u51fb **\u5173\u95ed** \u6309\u94ae\u3002\\n1. \u8fd4\u56de **\u7f51\u7edc\u548c\u5171\u4eab\u4e2d\u5fc3**\u3002\u5355\u51fb\u5de6\u4fa7\u7684 **\u66f4\u6539\u9002\u914d\u5668\u8bbe\u7f6e**\u3002\\n1. \u53f3\u952e\u5355\u51fb\u65b0\u521b\u5efa\u7684 VPN \u8fde\u63a5\uff0c\u5e76\u9009\u62e9 **\u5c5e\u6027**\u3002\\n1. \u5355\u51fb **\u9009\u9879** \u9009\u9879\u5361\uff0c\u53d6\u6d88\u9009\u4e2d **\u5305\u62ecWindows\u767b\u5f55\u57df** \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **\u5b89\u5168** \u9009\u9879\u5361\uff0c\u4ece **VPN \u7c7b\u578b** \u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9 \\"\u4f7f\u7528 IPsec \u7684\u7b2c 2 \u5c42\u96a7\u9053\u534f\u8bae (L2TP/IPSec)\\"\u3002\\n1. \u5355\u51fb **\u5141\u8bb8\u4f7f\u7528\u8fd9\u4e9b\u534f\u8bae**\u3002\u9009\u4e2d \\"\u8d28\u8be2\u63e1\u624b\u8eab\u4efd\u9a8c\u8bc1\u534f\u8bae (CHAP)\\" \u548c \\"Microsoft CHAP \u7248\u672c 2 (MS-CHAP v2)\\" \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **\u9ad8\u7ea7\u8bbe\u7f6e** \u6309\u94ae\u3002\\n1. \u5355\u51fb **\u4f7f\u7528\u9884\u5171\u4eab\u5bc6\u94a5\u4f5c\u8eab\u4efd\u9a8c\u8bc1** \u5e76\u5728 **\u5bc6\u94a5** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u5355\u51fb **\u786e\u5b9a** \u5173\u95ed **\u9ad8\u7ea7\u8bbe\u7f6e**\u3002\\n1. \u5355\u51fb **\u786e\u5b9a** \u4fdd\u5b58 VPN \u8fde\u63a5\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\\n\\n**\u6ce8\uff1a** \u5728\u9996\u6b21\u8fde\u63a5\u4e4b\u524d\u9700\u8981<a href=\\"#windows-\u9519\u8bef-809\\">\u4fee\u6539\u4e00\u6b21\u6ce8\u518c\u8868</a>\uff0c\u4ee5\u89e3\u51b3 VPN \u670d\u52a1\u5668 \u548c/\u6216 \u5ba2\u6237\u7aef\u4e0e NAT \uff08\u6bd4\u5982\u5bb6\u7528\u8def\u7531\u5668\uff09\u7684\u517c\u5bb9\u95ee\u9898\u3002\\n\\n\u8981\u8fde\u63a5\u5230 VPN\uff1a\u5355\u51fb\u7cfb\u7edf\u6258\u76d8\u4e2d\u7684\u65e0\u7ebf/\u7f51\u7edc\u56fe\u6807\uff0c\u9009\u62e9\u65b0\u7684 VPN \u8fde\u63a5\uff0c\u7136\u540e\u5355\u51fb **\u8fde\u63a5**\u3002\u5982\u679c\u51fa\u73b0\u63d0\u793a\uff0c\u5728\u767b\u5f55\u7a97\u53e3\u4e2d\u8f93\u5165 `\u4f60\u7684 VPN \u7528\u6237\u540d` \u548c `\u5bc6\u7801` \uff0c\u5e76\u5355\u51fb **\u786e\u5b9a**\u3002\u6700\u540e\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 <a href=\\"#\u6545\u969c\u6392\u9664\\">\u6545\u969c\u6392\u9664</a>\u3002\\n\\n## OS X\\n\\n1. \u6253\u5f00\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e\u5e76\u8f6c\u5230\u7f51\u7edc\u90e8\u5206\u3002\\n1. \u5728\u7a97\u53e3\u5de6\u4e0b\u89d2\u5355\u51fb **+** \u6309\u94ae\u3002\\n1. \u4ece **\u63a5\u53e3** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **VPN**\u3002\\n1. \u4ece **VPN\u7c7b\u578b** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **IPSec \u4e0a\u7684 L2TP**\u3002\\n1. \u5728 **\u670d\u52a1\u540d\u79f0** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u5355\u51fb **\u521b\u5efa**\u3002\\n1. \u5728 **\u670d\u52a1\u5668\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u5728 **\u5e10\u6237\u540d\u79f0** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u7528\u6237\u540d`\u3002\\n1. \u5355\u51fb **\u8ba4\u8bc1\u8bbe\u7f6e** \u6309\u94ae\u3002\\n1. \u5728 **\u7528\u6237\u8ba4\u8bc1** \u90e8\u5206\uff0c\u9009\u62e9 **\u5bc6\u7801** \u5355\u9009\u6309\u94ae\uff0c\u7136\u540e\u8f93\u5165`\u4f60\u7684 VPN \u5bc6\u7801`\u3002\\n1. \u5728 **\u673a\u5668\u8ba4\u8bc1** \u90e8\u5206\uff0c\u9009\u62e9 **\u5171\u4eab\u7684\u5bc6\u94a5** \u5355\u9009\u6309\u94ae\uff0c\u7136\u540e\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u4fdd\u6301 **\u7fa4\u7ec4\u540d\u79f0** \u5b57\u6bb5\u7a7a\u767d\u3002\\n1. \u5355\u51fb **\u597d**\u3002\\n1. \u9009\u4e2d **\u5728\u83dc\u5355\u680f\u4e2d\u663e\u793a VPN \u72b6\u6001** \u590d\u9009\u6846\u3002\\n1. **\uff08\u91cd\u8981\uff09** \u5355\u51fb **\u9ad8\u7ea7** \u6309\u94ae\uff0c\u5e76\u9009\u4e2d **\u901a\u8fc7VPN\u8fde\u63a5\u53d1\u9001\u6240\u6709\u901a\u4fe1** \u590d\u9009\u6846\u3002\\n1. **\uff08\u91cd\u8981\uff09** \u5355\u51fb **TCP/IP** \u9009\u9879\u5361\uff0c\u5e76\u5728 **\u914d\u7f6eIPv6** \u90e8\u5206\u4e2d\u9009\u62e9 **\u4ec5\u672c\u5730\u94fe\u63a5**\u3002\\n1. \u5355\u51fb **\u597d** \u5173\u95ed\u9ad8\u7ea7\u8bbe\u7f6e\uff0c\u7136\u540e\u5355\u51fb **\u5e94\u7528** \u4fdd\u5b58VPN\u8fde\u63a5\u4fe1\u606f\u3002\\n\\n\u8981\u8fde\u63a5\u5230 VPN\uff1a\u4f7f\u7528\u83dc\u5355\u680f\u4e2d\u7684\u56fe\u6807\uff0c\u6216\u8005\u6253\u5f00\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e\u7684\u7f51\u7edc\u90e8\u5206\uff0c\u9009\u62e9 VPN \u5e76\u5355\u51fb **\u8fde\u63a5**\u3002\u6700\u540e\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 <a href=\\"#\u6545\u969c\u6392\u9664\\">\u6545\u969c\u6392\u9664</a>\u3002\\n\\n## Android\\n\\n1. \u542f\u52a8 **\u8bbe\u7f6e** \u5e94\u7528\u7a0b\u5e8f\u3002\\n1. \u5355\u51fb **\u7f51\u7edc\u548c\u4e92\u8054\u7f51**\u3002\u6216\u8005\uff0c\u5982\u679c\u4f60\u4f7f\u7528 Android 7 \u6216\u66f4\u65e9\u7248\u672c\uff0c\u5728 **\u65e0\u7ebf\u548c\u7f51\u7edc** \u90e8\u5206\u5355\u51fb **\u66f4\u591a...**\u3002\\n1. \u5355\u51fb **VPN**\u3002\\n1. \u5355\u51fb **\u6dfb\u52a0VPN\u914d\u7f6e\u6587\u4ef6** \u6216\u7a97\u53e3\u53f3\u4e0a\u89d2\u7684 **+**\u3002\\n1. \u5728 **\u540d\u79f0** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u5728 **\u7c7b\u578b** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **L2TP/IPSec PSK**\u3002\\n1. \u5728 **\u670d\u52a1\u5668\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u4fdd\u6301 **L2TP \u5bc6\u94a5** \u5b57\u6bb5\u7a7a\u767d\u3002\\n1. \u4fdd\u6301 **IPSec \u6807\u8bc6\u7b26** \u5b57\u6bb5\u7a7a\u767d\u3002\\n1. \u5728 **IPSec \u9884\u5171\u4eab\u5bc6\u94a5** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u5355\u51fb **\u4fdd\u5b58**\u3002\\n1. \u5355\u51fb\u65b0\u7684VPN\u8fde\u63a5\u3002\\n1. \u5728 **\u7528\u6237\u540d** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u7528\u6237\u540d`\u3002\\n1. \u5728 **\u5bc6\u7801** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u5bc6\u7801`\u3002\\n1. \u9009\u4e2d **\u4fdd\u5b58\u5e10\u6237\u4fe1\u606f** \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **\u8fde\u63a5**\u3002\\n\\nVPN \u8fde\u63a5\u6210\u529f\u540e\uff0c\u4f1a\u5728\u901a\u77e5\u680f\u663e\u793a\u56fe\u6807\u3002\u6700\u540e\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 <a href=\\"#\u6545\u969c\u6392\u9664\\">\u6545\u969c\u6392\u9664</a>\u3002\\n\\n## iOS\\n\\n1. \u8fdb\u5165\u8bbe\u7f6e -> \u901a\u7528 -> VPN\u3002\\n1. \u5355\u51fb **\u6dfb\u52a0VPN\u914d\u7f6e...**\u3002\\n1. \u5355\u51fb **\u7c7b\u578b** \u3002\u9009\u62e9 **L2TP** \u5e76\u8fd4\u56de\u3002\\n1. \u5728 **\u63cf\u8ff0** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u5728 **\u670d\u52a1\u5668** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u5728 **\u5e10\u6237** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u7528\u6237\u540d`\u3002\\n1. \u5728 **\u5bc6\u7801** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u5bc6\u7801`\u3002\\n1. \u5728 **\u5bc6\u94a5** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u542f\u7528 **\u53d1\u9001\u6240\u6709\u6d41\u91cf** \u9009\u9879\u3002\\n1. \u5355\u51fb\u53f3\u4e0a\u89d2\u7684 **\u5b8c\u6210**\u3002\\n1. \u542f\u7528 **VPN** \u8fde\u63a5\u3002\\n\\nVPN \u8fde\u63a5\u6210\u529f\u540e\uff0c\u4f1a\u5728\u901a\u77e5\u680f\u663e\u793a\u56fe\u6807\u3002\u6700\u540e\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 <a href=\\"#\u6545\u969c\u6392\u9664\\">\u6545\u969c\u6392\u9664</a>\u3002\\n\\n## Chromebook\\n\\n1. \u5982\u679c\u4f60\u5c1a\u672a\u767b\u5f55 Chromebook\uff0c\u8bf7\u5148\u767b\u5f55\u3002\\n1. \u5355\u51fb\u72b6\u6001\u533a\uff08\u5176\u4e2d\u663e\u793a\u4f60\u7684\u5e10\u6237\u5934\u50cf\uff09\u3002\\n1. \u5355\u51fb **\u8bbe\u7f6e**\u3002\\n1. \u5728 **\u4e92\u8054\u7f51\u8fde\u63a5** \u90e8\u5206\uff0c\u5355\u51fb **\u6dfb\u52a0\u8fde\u63a5**\u3002\\n1. \u5355\u51fb **\u6dfb\u52a0 OpenVPN / L2TP**\u3002\\n1. \u5728 **\u670d\u52a1\u5668\u4e3b\u673a\u540d** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u5728 **\u670d\u52a1\u540d\u79f0** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u5728 **\u4f9b\u5e94\u5546\u7c7b\u578b** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **L2TP/IPsec + \u9884\u5171\u4eab\u5bc6\u94a5**\u3002\\n1. \u5728 **\u9884\u5171\u4eab\u5bc6\u94a5** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u5728 **\u7528\u6237\u540d** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u7528\u6237\u540d`\u3002\\n1. \u5728 **\u5bc6\u7801** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u5bc6\u7801`\u3002\\n1. \u5355\u51fb **\u8fde\u63a5**\u3002\\n\\nVPN \u8fde\u63a5\u6210\u529f\u540e\uff0c\u7f51\u7edc\u72b6\u6001\u56fe\u6807\u4e0a\u4f1a\u51fa\u73b0 VPN \u6307\u793a\u3002\u6700\u540e\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 <a href=\\"#\u6545\u969c\u6392\u9664\\">\u6545\u969c\u6392\u9664</a>\u3002\\n\\n## Linux\\n\\n### Ubuntu Linux\\n\\nUbuntu 18.04 \u548c\u66f4\u65b0\u7248\u672c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528 `apt` \u5b89\u88c5 <a href=\\"https://packages.ubuntu.com/search?keywords=network-manager-l2tp-gnome\\" target=\\"_blank\\">network-manager-l2tp-gnome</a> \u8f6f\u4ef6\u5305\uff0c\u7136\u540e\u901a\u8fc7 GUI \u914d\u7f6e IPsec/L2TP VPN \u5ba2\u6237\u7aef\u3002Ubuntu 16.04 \u7528\u6237\u53ef\u80fd\u9700\u8981\u6dfb\u52a0 `nm-l2tp` PPA\uff0c\u53c2\u89c1 <a href=\\"https://medium.com/@hkdb/ubuntu-16-04-connecting-to-l2tp-over-ipsec-via-network-manager-204b5d475721\\" target=\\"_blank\\">\u8fd9\u91cc</a>\u3002\\n\\n1. \u8fdb\u5165 Settings -> Network -> VPN\u3002\u5355\u51fb **+** \u6309\u94ae\u3002\\n1. \u9009\u62e9 **Layer 2 Tunneling Protocol (L2TP)**\u3002\\n1. \u5728 **Name** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u5728 **Gateway** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u5728 **User name** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u7528\u6237\u540d`\u3002\\n1. \u53f3\u952e\u5355\u51fb **Password** \u5b57\u6bb5\u4e2d\u7684 **?**\uff0c\u9009\u62e9 **Store the password only for this user**\u3002\\n1. \u5728 **Password** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u5bc6\u7801`\u3002\\n1. \u4fdd\u6301 **NT Domain** \u5b57\u6bb5\u7a7a\u767d\u3002\\n1. \u5355\u51fb **IPsec Settings...** \u6309\u94ae\u3002\\n1. \u9009\u4e2d **Enable IPsec tunnel to L2TP host** \u590d\u9009\u6846\u3002\\n1. \u4fdd\u6301 **Gateway ID** \u5b57\u6bb5\u7a7a\u767d\u3002\\n1. \u5728 **Pre-shared key** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u5c55\u5f00 **Advanced** \u90e8\u5206\u3002\\n1. \u5728 **Phase1 Algorithms** \u5b57\u6bb5\u4e2d\u8f93\u5165 `aes128-sha1-modp2048`\u3002\\n1. \u5728 **Phase2 Algorithms** \u5b57\u6bb5\u4e2d\u8f93\u5165 `aes128-sha1`\u3002\\n1. \u5355\u51fb **OK**\uff0c\u7136\u540e\u5355\u51fb **Add** \u4fdd\u5b58 VPN \u8fde\u63a5\u4fe1\u606f\u3002\\n1. \u542f\u7528 **VPN** \u8fde\u63a5\u3002\\n\\nVPN \u8fde\u63a5\u6210\u529f\u540e\uff0c\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u5c1d\u8bd5 <a href=\\"https://github.com/nm-l2tp/NetworkManager-l2tp/blob/master/README.md#issue-with-not-stopping-system-xl2tpd-service\\" target=\\"_blank\\">\u8fd9\u4e2a\u89e3\u51b3\u65b9\u6848</a>\u3002\\n\\n### Fedora \u548c CentOS\\n\\nFedora 28 \uff08\u548c\u66f4\u65b0\u7248\u672c\uff09\u548c CentOS 8/7 \u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u66f4\u9ad8\u6548\u7684 [IPsec/XAuth](2021-03-06-ipsec-clients-xauth.md#linux) \u6a21\u5f0f\u8fde\u63a5\u3002\\n\\n### \u5176\u5b83 Linux\\n\\n\u9996\u5148\u770b <a href=\\"https://github.com/nm-l2tp/NetworkManager-l2tp/wiki/Prebuilt-Packages\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u4ee5\u786e\u8ba4 `network-manager-l2tp` \u548c `network-manager-l2tp-gnome` \u8f6f\u4ef6\u5305\u662f\u5426\u5728\u4f60\u7684 Linux \u7248\u672c\u4e0a\u53ef\u7528\u3002\u5982\u679c\u53ef\u7528\uff0c\u5b89\u88c5\u5b83\u4eec\uff08\u9009\u62e9\u4f7f\u7528 strongSwan\uff09\u5e76\u53c2\u89c1\u4e0a\u9762\u7684\u8bf4\u660e\u3002\u53e6\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5 [\u4f7f\u7528\u547d\u4ee4\u884c\u914d\u7f6e Linux VPN \u5ba2\u6237\u7aef](#\u4f7f\u7528\u547d\u4ee4\u884c\u914d\u7f6e-linux-vpn-\u5ba2\u6237\u7aef)\u3002\\n\\n## \u6545\u969c\u6392\u9664\\n\\n- [Windows](#windows)\\n  - [Windows 10 and 8.x](#windows-10-and-8x)\\n  - [Windows 7, Vista and XP](#windows-7-vista-and-xp)\\n- [OS X](#os-x)\\n- [Android](#android)\\n- [iOS](#ios)\\n- [Chromebook](#chromebook)\\n- [Linux](#linux)\\n  - [Ubuntu Linux](#ubuntu-linux)\\n  - [Fedora \u548c CentOS](#fedora-\u548c-centos)\\n  - [\u5176\u5b83 Linux](#\u5176\u5b83-linux)\\n- [\u6545\u969c\u6392\u9664](#\u6545\u969c\u6392\u9664)\\n  - [Windows \u9519\u8bef 809](#windows-\u9519\u8bef-809)\\n  - [Windows \u9519\u8bef 628 \u6216 766](#windows-\u9519\u8bef-628-\u6216-766)\\n  - [Windows 10 \u6b63\u5728\u8fde\u63a5](#windows-10-\u6b63\u5728\u8fde\u63a5)\\n  - [Windows 10 \u5347\u7ea7](#windows-10-\u5347\u7ea7)\\n  - [Windows 8/10 DNS \u6cc4\u6f0f](#windows-810-dns-\u6cc4\u6f0f)\\n  - [Android MTU/MSS \u95ee\u9898](#android-mtumss-\u95ee\u9898)\\n  - [Android 6 \u548c 7](#android-6-\u548c-7)\\n  - [macOS \u901a\u8fc7 VPN \u53d1\u9001\u901a\u4fe1](#macos-\u901a\u8fc7-vpn-\u53d1\u9001\u901a\u4fe1)\\n  - [iOS 13/14 \u548c macOS 10.15/11](#ios-1314-\u548c-macos-101511)\\n  - [iOS/Android \u7761\u7720\u6a21\u5f0f](#iosandroid-\u7761\u7720\u6a21\u5f0f)\\n  - [Debian 10 \u5185\u6838](#debian-10-\u5185\u6838)\\n  - [Chromebook \u8fde\u63a5\u95ee\u9898](#chromebook-\u8fde\u63a5\u95ee\u9898)\\n  - [\u5176\u5b83\u9519\u8bef](#\u5176\u5b83\u9519\u8bef)\\n  - [\u68c0\u67e5\u65e5\u5fd7\u53ca VPN \u72b6\u6001](#\u68c0\u67e5\u65e5\u5fd7\u53ca-vpn-\u72b6\u6001)\\n- [\u4f7f\u7528\u547d\u4ee4\u884c\u914d\u7f6e Linux VPN \u5ba2\u6237\u7aef](#\u4f7f\u7528\u547d\u4ee4\u884c\u914d\u7f6e-linux-vpn-\u5ba2\u6237\u7aef)\\n- [\u81f4\u8c22](#\u81f4\u8c22)\\n- [\u6388\u6743\u534f\u8bae](#\u6388\u6743\u534f\u8bae)\\n\\n### Windows \u9519\u8bef 809\\n\\n> \u9519\u8bef 809\uff1a\u65e0\u6cd5\u5efa\u7acb\u8ba1\u7b97\u673a\u4e0e VPN \u670d\u52a1\u5668\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\uff0c\u56e0\u4e3a\u8fdc\u7a0b\u670d\u52a1\u5668\u672a\u54cd\u5e94\u3002\u8fd9\u53ef\u80fd\u662f\u56e0\u4e3a\u672a\u5c06\u8ba1\u7b97\u673a\u4e0e\u8fdc\u7a0b\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u67d0\u79cd\u7f51\u7edc\u8bbe\u5907(\u5982\u9632\u706b\u5899\u3001NAT\u3001\u8def\u7531\u5668\u7b49)\u914d\u7f6e\u4e3a\u5141\u8bb8 VPN \u8fde\u63a5\u3002\u8bf7\u4e0e\u7ba1\u7406\u5458\u6216\u670d\u52a1\u63d0\u4f9b\u5546\u8054\u7cfb\u4ee5\u786e\u5b9a\u54ea\u79cd\u8bbe\u5907\u53ef\u80fd\u4ea7\u751f\u6b64\u95ee\u9898\u3002\\n\\n\u8981\u89e3\u51b3\u6b64\u9519\u8bef\uff0c\u5728\u9996\u6b21\u8fde\u63a5\u4e4b\u524d\u9700\u8981<a href=\\"https://documentation.meraki.com/MX-Z/Client_VPN/Troubleshooting_Client_VPN#Windows_Error_809\\" target=\\"_blank\\">\u4fee\u6539\u4e00\u6b21\u6ce8\u518c\u8868</a>\uff0c\u4ee5\u89e3\u51b3 VPN \u670d\u52a1\u5668 \u548c/\u6216 \u5ba2\u6237\u7aef\u4e0e NAT \uff08\u6bd4\u5982\u5bb6\u7528\u8def\u7531\u5668\uff09\u7684\u517c\u5bb9\u95ee\u9898\u3002\u8bf7\u4e0b\u8f7d\u5e76\u5bfc\u5165\u4e0b\u9762\u7684 `.reg` \u6587\u4ef6\uff0c\u6216\u8005\u6253\u5f00 <a href=\\"http://www.cnblogs.com/xxcanghai/p/4610054.html\\" target=\\"_blank\\">\u63d0\u5347\u6743\u9650\u547d\u4ee4\u63d0\u793a\u7b26</a> \u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002**\u5b8c\u6210\u540e\u5fc5\u987b\u91cd\u542f\u8ba1\u7b97\u673a\u3002**\\n\\n- \u9002\u7528\u4e8e Windows Vista, 7, 8.x \u548c 10 ([\u4e0b\u8f7d .reg \u6587\u4ef6](https://dl.ls20.com/reg-files/v1/Fix_VPN_Error_809_Windows_Vista_7_8_10_Reboot_Required.reg))\\n\\n  ```console\\n  REG ADD HKLM\\\\SYSTEM\\\\CurrentControlSet\\\\Services\\\\PolicyAgent /v AssumeUDPEncapsulationContextOnSendRule /t REG_DWORD /d 0x2 /f\\n  ```\\n\\n- \u4ec5\u9002\u7528\u4e8e Windows XP ([\u4e0b\u8f7d .reg \u6587\u4ef6](https://dl.ls20.com/reg-files/v1/Fix_VPN_Error_809_Windows_XP_ONLY_Reboot_Required.reg))\\n\\n  ```console\\n  REG ADD HKLM\\\\SYSTEM\\\\CurrentControlSet\\\\Services\\\\IPSec /v AssumeUDPEncapsulationContextOnSendRule /t REG_DWORD /d 0x2 /f\\n  ```\\n\\n\u53e6\u5916\uff0c\u67d0\u4e9b\u4e2a\u522b\u7684 Windows \u7cfb\u7edf\u914d\u7f6e\u7981\u7528\u4e86 IPsec \u52a0\u5bc6\uff0c\u6b64\u65f6\u4e5f\u4f1a\u5bfc\u81f4\u8fde\u63a5\u5931\u8d25\u3002\u8981\u91cd\u65b0\u542f\u7528\u5b83\uff0c\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5e76\u91cd\u542f\u3002\\n\\n- \u9002\u7528\u4e8e Windows XP, Vista, 7, 8.x \u548c 10 ([\u4e0b\u8f7d .reg \u6587\u4ef6](https://dl.ls20.com/reg-files/v1/Fix_VPN_Error_809_Allow_IPsec_Reboot_Required.reg))\\n\\n  ```console\\n  REG ADD HKLM\\\\SYSTEM\\\\CurrentControlSet\\\\Services\\\\RasMan\\\\Parameters /v ProhibitIpSec /t REG_DWORD /d 0x0 /f\\n  ```\\n\\n### Windows \u9519\u8bef 628 \u6216 766\\n\\n> \u9519\u8bef 628\uff1a\u5728\u8fde\u63a5\u5b8c\u6210\u524d\uff0c\u8fde\u63a5\u88ab\u8fdc\u7a0b\u8ba1\u7b97\u673a\u7ec8\u6b62\u3002\\n\\n> \u9519\u8bef 766\uff1a\u627e\u4e0d\u5230\u8bc1\u4e66\u3002\u4f7f\u7528\u901a\u8fc7 IPSec \u7684 L2TP \u534f\u8bae\u7684\u8fde\u63a5\u8981\u6c42\u5b89\u88c5\u4e00\u4e2a\u673a\u5668\u8bc1\u4e66\u3002\u5b83\u4e5f\u53eb\u505a\u8ba1\u7b97\u673a\u8bc1\u4e66\u3002\\n\\n\u8981\u89e3\u51b3\u8fd9\u4e9b\u9519\u8bef\uff0c\u8bf7\u6309\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a\\n\\n1. \u53f3\u952e\u5355\u51fb\u7cfb\u7edf\u6258\u76d8\u4e2d\u7684\u65e0\u7ebf/\u7f51\u7edc\u56fe\u6807\u3002\\n1. \u9009\u62e9 **\u6253\u5f00\u7f51\u7edc\u548c\u5171\u4eab\u4e2d\u5fc3**\u3002\u6216\u8005\uff0c\u5982\u679c\u4f60\u4f7f\u7528 Windows 10 \u7248\u672c 1709 \u6216\u4ee5\u4e0a\uff0c\u9009\u62e9 **\u6253\u5f00\\"\u7f51\u7edc\u548c Internet\\"\u8bbe\u7f6e**\uff0c\u7136\u540e\u5728\u6253\u5f00\u7684\u9875\u9762\u4e2d\u5355\u51fb **\u7f51\u7edc\u548c\u5171\u4eab\u4e2d\u5fc3**\u3002\\n1. \u5355\u51fb\u5de6\u4fa7\u7684 **\u66f4\u6539\u9002\u914d\u5668\u8bbe\u7f6e**\u3002\u53f3\u952e\u5355\u51fb\u65b0\u7684 VPN \u8fde\u63a5\uff0c\u5e76\u9009\u62e9 **\u5c5e\u6027**\u3002\\n1. \u5355\u51fb **\u5b89\u5168** \u9009\u9879\u5361\uff0c\u4ece **VPN \u7c7b\u578b** \u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9 \\"\u4f7f\u7528 IPsec \u7684\u7b2c 2 \u5c42\u96a7\u9053\u534f\u8bae (L2TP/IPSec)\\"\u3002\\n1. \u5355\u51fb **\u5141\u8bb8\u4f7f\u7528\u8fd9\u4e9b\u534f\u8bae**\u3002\u9009\u4e2d \\"\u8d28\u8be2\u63e1\u624b\u8eab\u4efd\u9a8c\u8bc1\u534f\u8bae (CHAP)\\" \u548c \\"Microsoft CHAP \u7248\u672c 2 (MS-CHAP v2)\\" \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **\u9ad8\u7ea7\u8bbe\u7f6e** \u6309\u94ae\u3002\\n1. \u5355\u51fb **\u4f7f\u7528\u9884\u5171\u4eab\u5bc6\u94a5\u4f5c\u8eab\u4efd\u9a8c\u8bc1** \u5e76\u5728 **\u5bc6\u94a5** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u5355\u51fb **\u786e\u5b9a** \u5173\u95ed **\u9ad8\u7ea7\u8bbe\u7f6e**\u3002\\n1. \u5355\u51fb **\u786e\u5b9a** \u4fdd\u5b58 VPN \u8fde\u63a5\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\\n\\n![Select CHAP in VPN connection properties](https://raw.githubusercontent.com/hwdsl2/setup-ipsec-vpn/master/docs/images/vpn-properties-zh.png)\\n\\n### Windows 10 \u6b63\u5728\u8fde\u63a5\\n\\n\u5982\u679c\u4f60\u4f7f\u7528 Windows 10 \u5e76\u4e14 VPN \u5361\u5728 \\"\u6b63\u5728\u8fde\u63a5\\" \u72b6\u6001\u8d85\u8fc7\u51e0\u5206\u949f\uff0c\u5c1d\u8bd5\u4ee5\u4e0b\u6b65\u9aa4\uff1a\\n\\n1. \u53f3\u952e\u5355\u51fb\u7cfb\u7edf\u6258\u76d8\u4e2d\u7684\u65e0\u7ebf/\u7f51\u7edc\u56fe\u6807\u3002\\n1. \u9009\u62e9 **\u6253\u5f00\\"\u7f51\u7edc\u548c Internet\\"\u8bbe\u7f6e**\uff0c\u7136\u540e\u5728\u6253\u5f00\u7684\u9875\u9762\u4e2d\u5355\u51fb\u5de6\u4fa7\u7684 **VPN**\u3002\\n1. \u9009\u62e9\u65b0\u7684 VPN \u8fde\u63a5\uff0c\u7136\u540e\u5355\u51fb **\u8fde\u63a5**\u3002\u5982\u679c\u51fa\u73b0\u63d0\u793a\uff0c\u5728\u767b\u5f55\u7a97\u53e3\u4e2d\u8f93\u5165 `\u4f60\u7684 VPN \u7528\u6237\u540d` \u548c `\u5bc6\u7801` \uff0c\u5e76\u5355\u51fb **\u786e\u5b9a**\u3002\\n\\n### Windows 10 \u5347\u7ea7\\n\\n\u5728\u5347\u7ea7 Windows 10 \u7248\u672c\u4e4b\u540e \uff08\u6bd4\u5982\u4ece 1709 \u5230 1803\uff09\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u6309\u7167\u4e0a\u9762\u7684 [Windows \u9519\u8bef 809](#windows-\u9519\u8bef-809) \u4e2d\u7684\u6b65\u9aa4\u4fee\u6539\u6ce8\u518c\u8868\u5e76\u91cd\u542f\u3002\\n\\n### Windows 8/10 DNS \u6cc4\u6f0f\\n\\nWindows 8.x \u548c 10 \u9ed8\u8ba4\u4f7f\u7528 \\"smart multi-homed name resolution\\" \uff08\u667a\u80fd\u591a\u5bbf\u4e3b\u540d\u79f0\u89e3\u6790\uff09\u3002\u5982\u679c\u4f60\u7684\u56e0\u7279\u7f51\u9002\u914d\u5668\u7684 DNS \u670d\u52a1\u5668\u5728\u672c\u5730\u7f51\u6bb5\u4e0a\uff0c\u5728\u4f7f\u7528 Windows \u81ea\u5e26\u7684 IPsec VPN \u5ba2\u6237\u7aef\u65f6\u53ef\u80fd\u4f1a\u5bfc\u81f4 \\"DNS \u6cc4\u6f0f\\"\u3002\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f60\u53ef\u4ee5 <a href=\\"https://www.neowin.net/news/guide-prevent-dns-leakage-while-using-a-vpn-on-windows-10-and-windows-8/\\" target=\\"_blank\\">\u7981\u7528\u667a\u80fd\u591a\u5bbf\u4e3b\u540d\u79f0\u89e3\u6790</a>\uff0c\u6216\u8005\u914d\u7f6e\u4f60\u7684\u56e0\u7279\u7f51\u9002\u914d\u5668\u4ee5\u4f7f\u7528\u5728\u4f60\u7684\u672c\u5730\u7f51\u6bb5\u4e4b\u5916\u7684 DNS \u670d\u52a1\u5668\uff08\u6bd4\u5982 8.8.8.8 \u548c 8.8.4.4\uff09\u3002\u5728\u5b8c\u6210\u540e<a href=\\"https://support.opendns.com/hc/en-us/articles/227988627-How-to-clear-the-DNS-Cache-\\" target=\\"_blank\\">\u6e05\u9664 DNS \u7f13\u5b58</a>\u5e76\u4e14\u91cd\u542f\u8ba1\u7b97\u673a\u3002\\n\\n\u53e6\u5916\uff0c\u5982\u679c\u4f60\u7684\u8ba1\u7b97\u673a\u542f\u7528\u4e86 IPv6\uff0c\u6240\u6709\u7684 IPv6 \u6d41\u91cf\uff08\u5305\u62ec DNS \u8bf7\u6c42\uff09\u90fd\u5c06\u7ed5\u8fc7 VPN\u3002\u8981\u5728 Windows \u4e0a\u7981\u7528 IPv6\uff0c\u8bf7\u770b<a href=\\"https://support.microsoft.com/zh-cn/help/929852/guidance-for-configuring-ipv6-in-windows-for-advanced-users\\" target=\\"_blank\\">\u8fd9\u91cc</a>\u3002\u5982\u679c\u4f60\u9700\u8981\u652f\u6301 IPv6 \u7684 VPN\uff0c\u4f60\u53ef\u4ee5\u53e6\u5916\u5c1d\u8bd5 <a href=\\"https://github.com/Nyr/openvpn-install\\" target=\\"_blank\\">OpenVPN</a>\u3002\\n\\n### Android MTU/MSS \u95ee\u9898\\n\\n\u67d0\u4e9b Android \u8bbe\u5907\u6709 MTU/MSS \u95ee\u9898\uff0c\u8868\u73b0\u4e3a\u4f7f\u7528 IPsec/XAuth (\\"Cisco IPsec\\") \u6a21\u5f0f\u53ef\u4ee5\u8fde\u63a5\u5230 VPN \u4f46\u662f\u65e0\u6cd5\u6253\u5f00\u7f51\u7ad9\u3002\u5982\u679c\u4f60\u9047\u5230\u8be5\u95ee\u9898\uff0c\u5c1d\u8bd5\u5728 VPN \u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002\u5982\u679c\u6210\u529f\u89e3\u51b3\uff0c\u4f60\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u547d\u4ee4\u6dfb\u52a0\u5230 `/etc/rc.local` \u4ee5\u4f7f\u5b83\u4eec\u91cd\u542f\u540e\u7ee7\u7eed\u6709\u6548\u3002\\n\\n```bash\\niptables -t mangle -A FORWARD -m policy --pol ipsec --dir in \\\\\\n  -p tcp -m tcp --tcp-flags SYN,RST SYN -m tcpmss --mss 1361:1536 \\\\\\n  -j TCPMSS --set-mss 1360\\niptables -t mangle -A FORWARD -m policy --pol ipsec --dir out \\\\\\n  -p tcp -m tcp --tcp-flags SYN,RST SYN -m tcpmss --mss 1361:1536 \\\\\\n  -j TCPMSS --set-mss 1360\\n\\necho 1 > /proc/sys/net/ipv4/ip_no_pmtu_disc\\n```\\n\\n**Docker \u7528\u6237\uff1a** \u8981\u4fee\u590d\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e0d\u9700\u8981\u8fd0\u884c\u4ee5\u4e0a\u547d\u4ee4\u3002\u4f60\u53ef\u4ee5\u5728<a href=\\"https://github.com/hwdsl2/docker-ipsec-vpn-server/blob/master/README-zh.md#\u5982\u4f55\u4f7f\u7528\u672c\u955c\u50cf\\" target=\\"_blank\\">\u4f60\u7684 env \u6587\u4ef6</a>\u4e2d\u6dfb\u52a0 `VPN_ANDROID_MTU_FIX=yes`\uff0c\u7136\u540e\u91cd\u65b0\u521b\u5efa Docker \u5bb9\u5668\u3002\\n\\n\u53c2\u8003\u94fe\u63a5\uff1a<a href=\\"https://wiki.strongswan.org/projects/strongswan/wiki/ForwardingAndSplitTunneling#MTUMSS-issues\\" target=\\"_blank\\">[1]</a> <a href=\\"https://www.zeitgeist.se/2013/11/26/mtu-woes-in-ipsec-tunnels-how-to-fix/\\" target=\\"_blank\\">[2]</a>\u3002\\n\\n### Android 6 \u548c 7\\n\\n\u5982\u679c\u4f60\u7684 Android 6.x \u6216\u8005 7.x \u8bbe\u5907\u65e0\u6cd5\u8fde\u63a5\uff0c\u8bf7\u5c1d\u8bd5\u4ee5\u4e0b\u6b65\u9aa4\uff1a\\n\\n1. \u5355\u51fb VPN \u8fde\u63a5\u65c1\u8fb9\u7684\u8bbe\u7f6e\u6309\u94ae\uff0c\u9009\u62e9 \\"Show advanced options\\" \u5e76\u4e14\u6eda\u52a8\u5230\u5e95\u90e8\u3002\u5982\u679c\u9009\u9879 \\"Backward compatible mode\\" \u5b58\u5728\uff08\u770b\u4e0b\u56fe\uff09\uff0c\u8bf7\u542f\u7528\u5b83\u5e76\u91cd\u8bd5\u8fde\u63a5\u3002\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u8bf7\u5c1d\u8bd5\u4e0b\u4e00\u6b65\u3002\\n1. \u7f16\u8f91 VPN \u670d\u52a1\u5668\u4e0a\u7684 `/etc/ipsec.conf`\u3002\u627e\u5230 `sha2-truncbug` \u4e00\u884c\u5e76\u5207\u6362\u5b83\u7684\u503c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5c06 `sha2-truncbug=no` \u66ff\u6362\u4e3a `sha2-truncbug=yes`\uff0c\u6216\u8005\u5c06 `sha2-truncbug=yes` \u66ff\u6362\u4e3a `sha2-truncbug=no`\u3002\u4fdd\u5b58\u4fee\u6539\u5e76\u8fd0\u884c `service ipsec restart`\u3002\u7136\u540e\u91cd\u65b0\u8fde\u63a5 VPN\u3002\\n\\n**Docker \u7528\u6237\uff1a** \u5982\u9700\u5728 `/etc/ipsec.conf` \u4e2d\u8bbe\u7f6e `sha2-truncbug=yes`\uff08\u9ed8\u8ba4\u4e3a `no`\uff09\uff0c\u4f60\u53ef\u4ee5\u5728<a href=\\"https://github.com/hwdsl2/docker-ipsec-vpn-server/blob/master/README-zh.md#\u5982\u4f55\u4f7f\u7528\u672c\u955c\u50cf\\" target=\\"_blank\\">\u4f60\u7684 env \u6587\u4ef6</a>\u4e2d\u6dfb\u52a0 `VPN_SHA2_TRUNCBUG=yes`\uff0c\u7136\u540e\u91cd\u65b0\u521b\u5efa Docker \u5bb9\u5668\u3002\\n\\n![Android VPN workaround](https://raw.githubusercontent.com/hwdsl2/setup-ipsec-vpn/master/docs/images/vpn-profile-Android.png)\\n\\n### macOS \u901a\u8fc7 VPN \u53d1\u9001\u901a\u4fe1\\n\\nOS X (macOS) \u7528\u6237\uff1a \u5982\u679c\u53ef\u4ee5\u6210\u529f\u5730\u4f7f\u7528 IPsec/L2TP \u6a21\u5f0f\u8fde\u63a5\uff0c\u4f46\u662f\u4f60\u7684\u516c\u6709 IP \u6ca1\u6709\u663e\u793a\u4e3a `\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\uff0c\u8bf7\u9605\u8bfb\u4e0a\u9762\u7684 [OS X](#os-x) \u90e8\u5206\u5e76\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9aa4\u3002\u4fdd\u5b58 VPN \u914d\u7f6e\u7136\u540e\u91cd\u65b0\u8fde\u63a5\u3002\\n\\n1. \u5355\u51fb **\u9ad8\u7ea7** \u6309\u94ae\uff0c\u5e76\u9009\u4e2d **\u901a\u8fc7VPN\u8fde\u63a5\u53d1\u9001\u6240\u6709\u901a\u4fe1** \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **TCP/IP** \u9009\u9879\u5361\uff0c\u5e76\u5728 **\u914d\u7f6eIPv6** \u90e8\u5206\u4e2d\u9009\u62e9 **\u4ec5\u672c\u5730\u94fe\u63a5**\u3002\\n\\n\u5982\u679c\u5728\u5c1d\u8bd5\u4e0a\u9762\u6b65\u9aa4\u4e4b\u540e\uff0c\u4f60\u7684\u8ba1\u7b97\u673a\u4ecd\u7136\u4e0d\u80fd\u901a\u8fc7 VPN \u8fde\u63a5\u53d1\u9001\u901a\u4fe1\uff0c\u68c0\u67e5\u4e00\u4e0b\u670d\u52a1\u987a\u5e8f\u3002\u8fdb\u5165\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e\u4e2d\u7684\u7f51\u7edc\u90e8\u5206\uff0c\u5355\u51fb\u5de6\u4fa7\u8fde\u63a5\u5217\u8868\u4e0b\u65b9\u7684\u9f7f\u8f6e\u6309\u94ae\uff0c\u9009\u62e9 \\"\u8bbe\u5b9a\u670d\u52a1\u987a\u5e8f\\"\u3002\u7136\u540e\u5c06 VPN \u8fde\u63a5\u62d6\u52a8\u5230\u9876\u7aef\u3002\\n\\n### iOS 13/14 \u548c macOS 10.15/11\\n\\n\u5982\u679c\u4f60\u7684 iOS 13/14, macOS 10.15 (Catalina) \u6216\u8005 macOS 11 (Big Sur) \u8bbe\u5907\u65e0\u6cd5\u8fde\u63a5\uff0c\u8bf7\u5c1d\u8bd5\u4ee5\u4e0b\u6b65\u9aa4\uff1a\u7f16\u8f91 VPN \u670d\u52a1\u5668\u4e0a\u7684 `/etc/ipsec.conf`\u3002\u627e\u5230 `sha2-truncbug=yes` \u5e76\u5c06\u5b83\u66ff\u6362\u4e3a `sha2-truncbug=no`\u3002\u4fdd\u5b58\u4fee\u6539\u5e76\u8fd0\u884c `service ipsec restart`\u3002\u7136\u540e\u91cd\u65b0\u8fde\u63a5 VPN\u3002\\n\\n\u53e6\u5916\uff0cmacOS Big Sur 11.0 \u7528\u6237\u5e94\u8be5\u66f4\u65b0\u5230\u7248\u672c 11.1 \u6216\u4ee5\u4e0a\uff0c\u4ee5\u4fee\u590d VPN \u8fde\u63a5\u7684\u67d0\u4e9b\u95ee\u9898\u3002\u8981\u68c0\u67e5 macOS \u7248\u672c\u5e76\u5b89\u88c5\u66f4\u65b0\uff0c\u8bf7\u770b<a href=\\"https://www.businessinsider.com/how-to-check-mac-os-version\\" target=\\"_blank\\">\u8fd9\u91cc</a>\u3002\\n\\n### iOS/Android \u7761\u7720\u6a21\u5f0f\\n\\n\u4e3a\u4e86\u8282\u7ea6\u7535\u6c60\uff0ciOS \u8bbe\u5907 (iPhone/iPad) \u5728\u5c4f\u5e55\u53d8\u9ed1\uff08\u7761\u7720\u6a21\u5f0f\uff09\u4e4b\u540e\u4e0d\u4e45\u5c31\u4f1a\u81ea\u52a8\u65ad\u5f00 Wi-Fi \u8fde\u63a5\u3002\u8fd9\u4f1a\u5bfc\u81f4 IPsec VPN \u65ad\u5f00\u3002\u8be5\u884c\u4e3a\u662f\u88ab <a href=\\"https://discussions.apple.com/thread/2333948\\" target=\\"_blank\\">\u6545\u610f\u8bbe\u8ba1\u7684</a> \u5e76\u4e14\u4e0d\u80fd\u88ab\u914d\u7f6e\u3002\\n\\n\u5982\u679c\u9700\u8981 VPN \u5728\u8bbe\u5907\u5524\u9192\u540e\u81ea\u52a8\u91cd\u8fde\uff0c\u4f60\u53ef\u4ee5 [\u914d\u7f6e IKEv2](2021-03-06-ipsec-clients-ikev2.md) \u5e76\u542f\u7528 \\"VPN On Demand\\" \u529f\u80fd\u3002\u6216\u8005\u4f60\u4e5f\u53ef\u4ee5\u53e6\u5916\u5c1d\u8bd5\u4f7f\u7528 <a href=\\"https://github.com/Nyr/openvpn-install\\" target=\\"_blank\\">OpenVPN</a>\uff0c\u5b83\u652f\u6301 <a href=\\"https://docs.openvpn.net/connecting/connecting-to-access-server-with-apple-ios/faq-regarding-openvpn-connect-ios/\\" target=\\"_blank\\">\u4e00\u4e9b\u9009\u9879</a> \u6bd4\u5982 \\"Reconnect on Wakeup\\" \u548c \\"Seamless Tunnel\\"\u3002\\n\\nAndroid \u8bbe\u5907\u5728\u8fdb\u5165\u7761\u7720\u6a21\u5f0f\u4e0d\u4e45\u540e\u4e5f\u4f1a\u65ad\u5f00 Wi-Fi \u8fde\u63a5\uff0c\u5982\u679c\u4f60\u6ca1\u6709\u542f\u7528\u9009\u9879 \\"\u7761\u7720\u671f\u95f4\u4fdd\u6301 WLAN \u5f00\u542f\\" \u7684\u8bdd\u3002\u8be5\u9009\u9879\u5728 Android 8 (Oreo) \u548c\u66f4\u65b0\u7248\u672c\u4e2d\u4e0d\u518d\u53ef\u7528\u3002\u53e6\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5c1d\u8bd5\u6253\u5f00 \\"\u59cb\u7ec8\u5f00\u542f VPN\\" \u9009\u9879\u4ee5\u4fdd\u6301\u8fde\u63a5\u3002\u8be6\u60c5\u8bf7\u770b <a href=\\"https://support.google.com/android/answer/9089766?hl=zh-Hans\\" target=\\"_blank\\">\u8fd9\u91cc</a>\u3002\\n\\n### Debian 10 \u5185\u6838\\n\\nDebian 10 \u7528\u6237\uff1a\u8fd0\u884c `uname -r` \u4ee5\u68c0\u67e5\u4f60\u7684\u670d\u52a1\u5668\u7684 Linux \u5185\u6838\u7248\u672c\u3002\u5982\u679c\u5b83\u5305\u542b `cloud` \u5b57\u6837\uff0c\u5e76\u4e14 `/dev/ppp` \u4e0d\u5b58\u5728\uff0c\u5219\u8be5\u5185\u6838\u7f3a\u5c11 `ppp` \u652f\u6301\u4ece\u800c\u4e0d\u80fd\u4f7f\u7528 IPsec/L2TP \u6a21\u5f0f\u3002VPN \u5b89\u88c5\u811a\u672c\u4f1a\u5c1d\u8bd5\u68c0\u6d4b\u6b64\u60c5\u5f62\uff0c\u5e76\u663e\u793a\u9519\u8bef\u3002\\n\\n\u8981\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u4f60\u53ef\u4ee5\u6362\u7528\u6807\u51c6\u7684 Linux \u5185\u6838\uff0c\u901a\u8fc7\u5b89\u88c5\u6bd4\u5982 `linux-image-amd64` \u8f6f\u4ef6\u5305\u6765\u5b9e\u73b0\u3002\u7136\u540e\u66f4\u65b0 GRUB \u7684\u5185\u6838\u9ed8\u8ba4\u503c\u5e76\u91cd\u542f\u670d\u52a1\u5668\u3002\u6700\u540e\u91cd\u65b0\u8fd0\u884c VPN \u5b89\u88c5\u811a\u672c\u3002\\n\\n### Chromebook \u8fde\u63a5\u95ee\u9898\\n\\nChromebook \u7528\u6237\uff1a \u5982\u679c\u4f60\u65e0\u6cd5\u8fde\u63a5\uff0c\u8bf7\u5c1d\u8bd5\u4ee5\u4e0b\u6b65\u9aa4\uff1a\u7f16\u8f91 VPN \u670d\u52a1\u5668\u4e0a\u7684 `/etc/ipsec.conf`\u3002\u627e\u5230\u8fd9\u4e00\u884c `phase2alg=...` \u5e76\u5728\u7ed3\u5c3e\u52a0\u4e0a `,aes_gcm-null` \u3002\u4fdd\u5b58\u4fee\u6539\u5e76\u8fd0\u884c `service ipsec restart`\u3002\\n\\n### \u5176\u5b83\u9519\u8bef\\n\\n\u5982\u679c\u4f60\u9047\u5230\u5176\u5b83\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1\u4ee5\u4e0b\u94fe\u63a5\uff1a\\n\\n* http://www.tp-link.com/en/faq-1029.html\\n* https://documentation.meraki.com/MX-Z/Client_VPN/Troubleshooting_Client_VPN#Common_Connection_Issues   \\n* https://stackoverflow.com/questions/25245854/windows-8-1-gets-error-720-on-connect-vpn\\n\\n### \u68c0\u67e5\u65e5\u5fd7\u53ca VPN \u72b6\u6001\\n\\n\u4ee5\u4e0b\u547d\u4ee4\u9700\u8981\u4f7f\u7528 `root` \u8d26\u6237\uff08\u6216\u8005 `sudo`\uff09\u8fd0\u884c\u3002\\n\\n\u9996\u5148\uff0c\u91cd\u542f VPN \u670d\u52a1\u5668\u4e0a\u7684\u76f8\u5173\u670d\u52a1\uff1a\\n\\n```bash\\nservice ipsec restart\\nservice xl2tpd restart\\n```\\n\\n**Docker \u7528\u6237\uff1a** \u8fd0\u884c `docker restart ipsec-vpn-server`\u3002\\n\\n\u7136\u540e\u91cd\u542f\u4f60\u7684 VPN \u5ba2\u6237\u7aef\u8bbe\u5907\uff0c\u5e76\u91cd\u8bd5\u8fde\u63a5\u3002\u5982\u679c\u4ecd\u7136\u65e0\u6cd5\u8fde\u63a5\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u5220\u9664\u5e76\u91cd\u65b0\u521b\u5efa VPN \u8fde\u63a5\uff0c\u6309\u7167\u672c\u6587\u6863\u4e2d\u7684\u6b65\u9aa4\u64cd\u4f5c\u3002\u8bf7\u786e\u4fdd\u8f93\u5165\u4e86\u6b63\u786e\u7684 VPN \u767b\u5f55\u51ed\u8bc1\u3002\\n\\n\u68c0\u67e5 Libreswan (IPsec) \u548c xl2tpd \u65e5\u5fd7\u662f\u5426\u6709\u9519\u8bef\uff1a\\n\\n```bash\\n# Ubuntu & Debian\\ngrep pluto /var/log/auth.log\\ngrep xl2tpd /var/log/syslog\\n\\n# CentOS/RHEL & Amazon Linux 2\\ngrep pluto /var/log/secure\\ngrep xl2tpd /var/log/messages\\n```\\n\\n\u67e5\u770b IPsec VPN \u670d\u52a1\u5668\u72b6\u6001\uff1a\\n\\n```bash\\nipsec status\\nipsec verify\\n```\\n\\n\u663e\u793a\u5f53\u524d\u5df2\u5efa\u7acb\u7684 VPN \u8fde\u63a5\uff1a\\n\\n```bash\\nipsec whack --trafficstatus\\n```\\n\\n## \u4f7f\u7528\u547d\u4ee4\u884c\u914d\u7f6e Linux VPN \u5ba2\u6237\u7aef\\n\\n\u5728\u6210\u529f [\u642d\u5efa\u81ea\u5df1\u7684 VPN \u670d\u52a1\u5668](2021-03-06-ipsec-server.md) \u4e4b\u540e\uff0c\u6309\u7167\u4e0b\u9762\u7684\u6b65\u9aa4\u6765\u4f7f\u7528\u547d\u4ee4\u884c\u914d\u7f6e Linux VPN \u5ba2\u6237\u7aef\u3002\u53e6\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5 [\u4f7f\u7528\u56fe\u5f62\u754c\u9762](#linux) \u914d\u7f6e\u3002\u4ee5\u4e0b\u6b65\u9aa4\u662f\u57fa\u4e8e [Peter Sanford \u7684\u5de5\u4f5c](https://gist.github.com/psanford/42c550a1a6ad3cb70b13e4aaa94ddb1c)\u3002\u8fd9\u4e9b\u547d\u4ee4\u5fc5\u987b\u5728\u4f60\u7684 VPN \u5ba2\u6237\u7aef\u4e0a\u4f7f\u7528 `root` \u8d26\u6237\u8fd0\u884c\u3002\\n\\n\u8981\u914d\u7f6e VPN \u5ba2\u6237\u7aef\uff0c\u9996\u5148\u5b89\u88c5\u4ee5\u4e0b\u8f6f\u4ef6\u5305\uff1a\\n\\n```bash\\n# Ubuntu & Debian\\napt-get update\\napt-get -y install strongswan xl2tpd net-tools\\n\\n# CentOS & RHEL\\nyum -y install epel-release\\nyum --enablerepo=epel -y install strongswan xl2tpd net-tools\\n\\n# Fedora\\nyum -y install strongswan xl2tpd net-tools\\n```\\n\\n\u521b\u5efa VPN \u53d8\u91cf \uff08\u66ff\u6362\u4e3a\u4f60\u81ea\u5df1\u7684\u503c\uff09\uff1a\\n\\n```bash\\nVPN_SERVER_IP=\'\u4f60\u7684VPN\u670d\u52a1\u5668IP\'\\nVPN_IPSEC_PSK=\'\u4f60\u7684IPsec\u9884\u5171\u4eab\u5bc6\u94a5\'\\nVPN_USER=\'\u4f60\u7684VPN\u7528\u6237\u540d\'\\nVPN_PASSWORD=\'\u4f60\u7684VPN\u5bc6\u7801\'\\n```\\n\\n\u914d\u7f6e strongSwan\uff1a\\n\\n```bash\\ncat > /etc/ipsec.conf <<EOF\\n# ipsec.conf - strongSwan IPsec configuration file\\n\\nconn myvpn\\n  auto=add\\n  keyexchange=ikev1\\n  authby=secret\\n  type=transport\\n  left=%defaultroute\\n  leftprotoport=17/1701\\n  rightprotoport=17/1701\\n  right=$VPN_SERVER_IP\\n  ike=aes128-sha1-modp2048\\n  esp=aes128-sha1\\nEOF\\n\\ncat > /etc/ipsec.secrets <<EOF\\n: PSK \\"$VPN_IPSEC_PSK\\"\\nEOF\\n\\nchmod 600 /etc/ipsec.secrets\\n\\n# For CentOS/RHEL & Fedora ONLY\\nmv /etc/strongswan/ipsec.conf /etc/strongswan/ipsec.conf.old 2>/dev/null\\nmv /etc/strongswan/ipsec.secrets /etc/strongswan/ipsec.secrets.old 2>/dev/null\\nln -s /etc/ipsec.conf /etc/strongswan/ipsec.conf\\nln -s /etc/ipsec.secrets /etc/strongswan/ipsec.secrets\\n```\\n\\n\u914d\u7f6e xl2tpd\uff1a\\n\\n```bash\\ncat > /etc/xl2tpd/xl2tpd.conf <<EOF\\n[lac myvpn]\\nlns = $VPN_SERVER_IP\\nppp debug = yes\\npppoptfile = /etc/ppp/options.l2tpd.client\\nlength bit = yes\\nEOF\\n\\ncat > /etc/ppp/options.l2tpd.client <<EOF\\nipcp-accept-local\\nipcp-accept-remote\\nrefuse-eap\\nrequire-chap\\nnoccp\\nnoauth\\nmtu 1280\\nmru 1280\\nnoipdefault\\ndefaultroute\\nusepeerdns\\nconnect-delay 5000\\nname \\"$VPN_USER\\"\\npassword \\"$VPN_PASSWORD\\"\\nEOF\\n\\nchmod 600 /etc/ppp/options.l2tpd.client\\n```\\n\\n\u81f3\u6b64 VPN \u5ba2\u6237\u7aef\u914d\u7f6e\u5df2\u5b8c\u6210\u3002\u6309\u7167\u4e0b\u9762\u7684\u6b65\u9aa4\u8fdb\u884c\u8fde\u63a5\u3002\\n\\n**\u6ce8\uff1a** \u5f53\u4f60\u6bcf\u6b21\u5c1d\u8bd5\u8fde\u63a5\u5230 VPN \u65f6\uff0c\u5fc5\u987b\u91cd\u590d\u4e0b\u9762\u7684\u6240\u6709\u6b65\u9aa4\u3002\\n\\n\u521b\u5efa xl2tpd \u63a7\u5236\u6587\u4ef6\uff1a\\n\\n```bash\\nmkdir -p /var/run/xl2tpd\\ntouch /var/run/xl2tpd/l2tp-control\\n```\\n\\n\u91cd\u542f\u670d\u52a1\uff1a\\n\\n```bash\\nservice strongswan restart\\nservice xl2tpd restart\\n```\\n\\n\u5f00\u59cb IPsec \u8fde\u63a5\uff1a\\n\\n```bash\\n# Ubuntu & Debian\\nipsec up myvpn\\n\\n# CentOS/RHEL & Fedora\\nstrongswan up myvpn\\n```\\n\\n\u5f00\u59cb L2TP \u8fde\u63a5\uff1a\\n\\n```bash\\necho \\"c myvpn\\" > /var/run/xl2tpd/l2tp-control\\n```\\n\\n\u8fd0\u884c `ifconfig` \u5e76\u4e14\u68c0\u67e5\u8f93\u51fa\u3002\u73b0\u5728\u4f60\u5e94\u8be5\u770b\u5230\u4e00\u4e2a\u65b0\u7684\u7f51\u7edc\u63a5\u53e3 `ppp0`\u3002\\n\\n\u68c0\u67e5\u4f60\u73b0\u6709\u7684\u9ed8\u8ba4\u8def\u7531\uff1a\\n\\n```bash\\nip route\\n```\\n\\n\u5728\u8f93\u51fa\u4e2d\u67e5\u627e\u4ee5\u4e0b\u884c\uff1a `default via X.X.X.X ...`\u3002\u8bb0\u4e0b\u8fd9\u4e2a\u7f51\u5173 IP\uff0c\u5e76\u4e14\u5728\u4e0b\u9762\u7684\u4e24\u4e2a\u547d\u4ee4\u4e2d\u4f7f\u7528\u3002\\n\\n\u4ece\u65b0\u7684\u9ed8\u8ba4\u8def\u7531\u4e2d\u6392\u9664\u4f60\u7684 VPN \u670d\u52a1\u5668 IP \uff08\u66ff\u6362\u4e3a\u4f60\u81ea\u5df1\u7684\u503c\uff09\uff1a\\n\\n```bash\\nroute add \u4f60\u7684VPN\u670d\u52a1\u5668IP gw X.X.X.X\\n```\\n\\n\u5982\u679c\u4f60\u7684 VPN \u5ba2\u6237\u7aef\u662f\u4e00\u4e2a\u8fdc\u7a0b\u670d\u52a1\u5668\uff0c\u5219\u5fc5\u987b\u4ece\u65b0\u7684\u9ed8\u8ba4\u8def\u7531\u4e2d\u6392\u9664\u4f60\u7684\u672c\u5730\u7535\u8111\u7684\u516c\u6709 IP\uff0c\u4ee5\u907f\u514d SSH \u4f1a\u8bdd\u88ab\u65ad\u5f00 \uff08\u66ff\u6362\u4e3a<a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u5b9e\u9645\u503c</a>\uff09\uff1a\\n\\n```bash\\nroute add \u4f60\u7684\u672c\u5730\u7535\u8111\u7684\u516c\u6709IP gw X.X.X.X\\n```\\n\\n\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u9ed8\u8ba4\u8def\u7531\uff0c\u5e76\u4e14\u5f00\u59cb\u901a\u8fc7 VPN \u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\uff1a\\n\\n```bash\\nroute add default dev ppp0\\n```\\n\\n\u81f3\u6b64 VPN \u8fde\u63a5\u5df2\u6210\u529f\u5b8c\u6210\u3002\u68c0\u67e5 VPN \u662f\u5426\u6b63\u5e38\u5de5\u4f5c\uff1a\\n\\n```bash\\nwget -qO- http://ipv4.icanhazip.com; echo\\n```\\n\\n\u4ee5\u4e0a\u547d\u4ee4\u5e94\u8be5\u8fd4\u56de `\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\\n\u8981\u505c\u6b62\u901a\u8fc7 VPN \u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\uff1a\\n\\n```bash\\nroute del default dev ppp0\\n```\\n\\n\u8981\u65ad\u5f00\u8fde\u63a5\uff1a\\n\\n```bash\\n# Ubuntu & Debian\\necho \\"d myvpn\\" > /var/run/xl2tpd/l2tp-control\\nipsec down myvpn\\n\\n# CentOS/RHEL & Fedora\\necho \\"d myvpn\\" > /var/run/xl2tpd/l2tp-control\\nstrongswan down myvpn\\n```\\n\\n## \u81f4\u8c22\\n\\n\u672c\u6587\u6863\u662f\u5728 <a href=\\"https://github.com/StreisandEffect/streisand\\" target=\\"_blank\\">Streisand</a> \u9879\u76ee\u6587\u6863\u57fa\u7840\u4e0a\u7ffb\u8bd1\u548c\u4fee\u6539\u3002\u8be5\u9879\u76ee\u7531 Joshua Lund \u548c\u5176\u4ed6\u5f00\u53d1\u8005\u7ef4\u62a4\u3002\\n\\n## \u6388\u6743\u534f\u8bae\\n\\n\u6ce8\uff1a \u8fd9\u4e2a\u534f\u8bae\u4ec5\u9002\u7528\u4e8e\u672c\u6587\u6863\u3002\\n\\n\u7248\u6743\u6240\u6709 (C) 2016-2021 Lin Song   \\n\u57fa\u4e8e <a href=\\"https://github.com/StreisandEffect/streisand/blob/6aa6b6b2735dd829ca8c417d72eb2768a89b6639/playbooks/roles/l2tp-ipsec/templates/instructions.md.j2\\" target=\\"_blank\\">Joshua Lund \u7684\u5de5\u4f5c</a> (\u7248\u6743\u6240\u6709 2014-2016)\\n\\n\u672c\u7a0b\u5e8f\u4e3a\u81ea\u7531\u8f6f\u4ef6\uff0c\u5728\u81ea\u7531\u8f6f\u4ef6\u8054\u76df\u53d1\u5e03\u7684<a href=\\"https://www.gnu.org/licenses/gpl.html\\" target=\\"_blank\\"> GNU \u901a\u7528\u516c\u5171\u8bb8\u53ef\u534f\u8bae</a>\u7684\u7ea6\u675f\u4e0b\uff0c\u4f60\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u518d\u53d1\u5e03\u53ca\u4fee\u6539\u3002\u534f\u8bae\u7248\u672c\u4e3a\u7b2c\u4e09\u7248\u6216\uff08\u968f\u4f60\uff09\u66f4\u65b0\u7684\u7248\u672c\u3002\\n\\n\u6211\u4eec\u5e0c\u671b\u53d1\u5e03\u7684\u8fd9\u6b3e\u7a0b\u5e8f\u6709\u7528\uff0c\u4f46\u4e0d\u4fdd\u8bc1\uff0c\u751a\u81f3\u4e0d\u4fdd\u8bc1\u5b83\u6709\u7ecf\u6d4e\u4ef7\u503c\u548c\u9002\u5408\u7279\u5b9a\u7528\u9014\u3002\u8be6\u60c5\u53c2\u89c1GNU\u901a\u7528\u516c\u5171\u8bb8\u53ef\u534f\u8bae\u3002\\n\\n> [\u539f\u6587 - \u914d\u7f6e IPsec/L2TP \u5ba2\u6237\u7aef](https://github.com/hwdsl2/setup-ipsec-vpn/blob/master/docs/clients-zh.md)"},{"id":"/2021/03/06/ipsec-clients-xauth","metadata":{"permalink":"/blog/2021/03/06/ipsec-clients-xauth","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-06-ipsec-clients-xauth.md","source":"@site/src/blog/2021-03-06-ipsec-clients-xauth.md","title":"\u914d\u7f6e IPsec/XAuth VPN \u5ba2\u6237\u7aef","description":"\u5728\u6210\u529f \u642d\u5efa\u81ea\u5df1\u7684 VPN \u670d\u52a1\u5668 \u4e4b\u540e\uff0c\u6309\u7167\u4e0b\u9762\u7684\u6b65\u9aa4\u6765\u914d\u7f6e\u4f60\u7684\u8bbe\u5907\u3002IPsec/XAuth (\\"Cisco IPsec\\") \u5728 Android, iOS \u548c OS X \u4e0a\u5747\u53d7\u652f\u6301\uff0c\u65e0\u9700\u5b89\u88c5\u989d\u5916\u7684\u8f6f\u4ef6\u3002Windows \u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u514d\u8d39\u7684 Shrew Soft \u5ba2\u6237\u7aef\u3002\u5982\u679c\u65e0\u6cd5\u8fde\u63a5,\u8bf7\u9996\u5148\u68c0\u67e5\u662f\u5426\u8f93\u5165\u4e86\u6b63\u786e\u7684 VPN \u767b\u5f55\u51ed\u8bc1\u3002","date":"2021-03-06T00:00:00.000Z","formattedDate":"March 6, 2021","tags":[{"label":"ipsec","permalink":"/blog/tags/ipsec"},{"label":"xauth","permalink":"/blog/tags/xauth"}],"readingTime":8.82,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u914d\u7f6e IPsec/XAuth VPN \u5ba2\u6237\u7aef","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["ipsec","xauth"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u914d\u7f6e IPsec/L2TP \u5ba2\u6237\u7aef","permalink":"/blog/2021/03/06/ipsec-clients-l2tp"},"nextItem":{"title":"\u642d\u5efa IPSec \u670d\u52a1","permalink":"/blog/2021/03/06/ipsec-server"}},"content":"\u5728\u6210\u529f [\u642d\u5efa\u81ea\u5df1\u7684 VPN \u670d\u52a1\u5668](2021-03-06-ipsec-server.md) \u4e4b\u540e\uff0c\u6309\u7167\u4e0b\u9762\u7684\u6b65\u9aa4\u6765\u914d\u7f6e\u4f60\u7684\u8bbe\u5907\u3002IPsec/XAuth (\\"Cisco IPsec\\") \u5728 Android, iOS \u548c OS X \u4e0a\u5747\u53d7\u652f\u6301\uff0c\u65e0\u9700\u5b89\u88c5\u989d\u5916\u7684\u8f6f\u4ef6\u3002Windows \u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u514d\u8d39\u7684 <a href=\\"https://www.shrew.net/download/vpn\\" target=\\"_blank\\">Shrew Soft \u5ba2\u6237\u7aef</a>\u3002\u5982\u679c\u65e0\u6cd5\u8fde\u63a5,\u8bf7\u9996\u5148\u68c0\u67e5\u662f\u5426\u8f93\u5165\u4e86\u6b63\u786e\u7684 VPN \u767b\u5f55\u51ed\u8bc1\u3002\\n\\nIPsec/XAuth \u6a21\u5f0f\u4e5f\u79f0\u4e3a \\"Cisco IPsec\\"\u3002\u8be5\u6a21\u5f0f\u901a\u5e38\u80fd\u591f\u6bd4 IPsec/L2TP **\u66f4\u9ad8\u6548**\u5730\u4f20\u8f93\u6570\u636e\uff08\u8f83\u4f4e\u7684\u989d\u5916\u5f00\u9500\uff09\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n:::note\\n\u4f60\u4e5f\u53ef\u4ee5 [\u914d\u7f6e IKEv2](2021-03-06-ipsec-clients-ikev2.md)\uff08\u63a8\u8350\uff09\uff0c\u6216\u8005\u4f7f\u7528 [IPsec/L2TP \u6a21\u5f0f](2021-03-06-ipsec-clients-l2tp.md) \u8fde\u63a5\u3002\\n:::\\n\\n---\\n* \u5e73\u53f0\u540d\u79f0\\n  * [Windows](#windows)\\n  * [OS X (macOS)](#os-x)\\n  * [Android](#android)\\n  * [iOS (iPhone/iPad)](#ios)\\n  * [Linux](#linux)\\n\\n## Windows\\n\\n**\u6ce8\uff1a** \u4f60\u4e5f\u53ef\u4ee5 [\u914d\u7f6e IKEv2](2021-03-06-ipsec-clients-ikev2.md)\uff08\u63a8\u8350\uff09\uff0c\u6216\u8005\u4f7f\u7528 [IPsec/L2TP \u6a21\u5f0f](2021-03-06-ipsec-clients-l2tp.md) \u8fde\u63a5\u3002\u65e0\u9700\u5b89\u88c5\u989d\u5916\u7684\u8f6f\u4ef6\u3002\\n\\n1. \u4e0b\u8f7d\u5e76\u5b89\u88c5\u514d\u8d39\u7684 <a href=\\"https://www.shrew.net/download/vpn\\" target=\\"_blank\\">Shrew Soft VPN \u5ba2\u6237\u7aef</a>\u3002\u5728\u5b89\u88c5\u65f6\u8bf7\u9009\u62e9 **Standard Edition**\u3002   \\n   **\u6ce8\uff1a** \u8be5 VPN \u5ba2\u6237\u7aef **\u4e0d\u652f\u6301** Windows 10\u3002\\n1. \u5355\u51fb\u5f00\u59cb\u83dc\u5355 -> \u6240\u6709\u7a0b\u5e8f -> ShrewSoft VPN Client -> VPN Access Manager\\n1. \u5355\u51fb\u5de5\u5177\u680f\u4e2d\u7684 **Add (+)** \u6309\u94ae\u3002\\n1. \u5728 **Host Name or IP Address** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u5355\u51fb **Authentication** \u9009\u9879\u5361\uff0c\u4ece **Authentication Method** \u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9 **Mutual PSK + XAuth**\u3002\\n1. \u5728 **Local Identity** \u5b50\u9009\u9879\u5361\u4e2d\uff0c\u4ece **Identification Type** \u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9 **IP Address**\u3002\\n1. \u5355\u51fb **Credentials** \u5b50\u9009\u9879\u5361\uff0c\u5e76\u5728 **Pre Shared Key** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u5355\u51fb **Phase 1** \u9009\u9879\u5361\uff0c\u4ece **Exchange Type** \u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9 **main**\u3002\\n1. \u5355\u51fb **Phase 2** \u9009\u9879\u5361\uff0c\u4ece **HMAC Algorithm** \u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9 **sha1**\u3002\\n1. \u5355\u51fb **Save** \u4fdd\u5b58 VPN \u8fde\u63a5\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\\n1. \u9009\u62e9\u65b0\u6dfb\u52a0\u7684 VPN \u8fde\u63a5\u3002\u5355\u51fb\u5de5\u5177\u680f\u4e2d\u7684 **Connect** \u6309\u94ae\u3002\\n1. \u5728 **Username** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u7528\u6237\u540d`\u3002\\n1. \u5728 **Password** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u5bc6\u7801`\u3002\\n1. \u5355\u51fb **Connect**\u3002\\n\\nVPN \u8fde\u63a5\u6210\u529f\u540e\uff0c\u4f60\u4f1a\u5728 VPN Connect \u72b6\u6001\u7a97\u53e3\u4e2d\u770b\u5230 **tunnel enabled** \u5b57\u6837\u3002\u5355\u51fb \\"Network\\" \u9009\u9879\u5361\uff0c\u5e76\u786e\u8ba4 **Established - 1** \u663e\u793a\u5728 \\"Security Associations\\" \u4e0b\u9762\u3002\u6700\u540e\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 [\u6545\u969c\u6392\u9664](2021-03-06-ipsec-clients-l2tp.md)\u3002\\n\\n## OS X\\n\\n1. \u6253\u5f00\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e\u5e76\u8f6c\u5230\u7f51\u7edc\u90e8\u5206\u3002\\n1. \u5728\u7a97\u53e3\u5de6\u4e0b\u89d2\u5355\u51fb **+** \u6309\u94ae\u3002\\n1. \u4ece **\u63a5\u53e3** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **VPN**\u3002\\n1. \u4ece **VPN\u7c7b\u578b** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **Cisco IPSec**\u3002\\n1. \u5728 **\u670d\u52a1\u540d\u79f0** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u5355\u51fb **\u521b\u5efa**\u3002\\n1. \u5728 **\u670d\u52a1\u5668\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u5728 **\u5e10\u6237\u540d\u79f0** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u7528\u6237\u540d`\u3002\\n1. \u5728 **\u5bc6\u7801** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u5bc6\u7801`\u3002\\n1. \u5355\u51fb **\u8ba4\u8bc1\u8bbe\u7f6e** \u6309\u94ae\u3002\\n1. \u5728 **\u673a\u5668\u8ba4\u8bc1** \u90e8\u5206\uff0c\u9009\u62e9 **\u5171\u4eab\u7684\u5bc6\u94a5** \u5355\u9009\u6309\u94ae\uff0c\u7136\u540e\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u4fdd\u6301 **\u7fa4\u7ec4\u540d\u79f0** \u5b57\u6bb5\u7a7a\u767d\u3002\\n1. \u5355\u51fb **\u597d**\u3002\\n1. \u9009\u4e2d **\u5728\u83dc\u5355\u680f\u4e2d\u663e\u793a VPN \u72b6\u6001** \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **\u5e94\u7528** \u4fdd\u5b58VPN\u8fde\u63a5\u4fe1\u606f\u3002\\n\\n\u8981\u8fde\u63a5\u5230 VPN\uff1a\u4f7f\u7528\u83dc\u5355\u680f\u4e2d\u7684\u56fe\u6807\uff0c\u6216\u8005\u6253\u5f00\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e\u7684\u7f51\u7edc\u90e8\u5206\uff0c\u9009\u62e9 VPN \u5e76\u5355\u51fb **\u8fde\u63a5**\u3002\u6700\u540e\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 [\u6545\u969c\u6392\u9664](2021-03-06-ipsec-clients-l2tp.md)\u3002\\n\\n## Android\\n\\n1. \u542f\u52a8 **\u8bbe\u7f6e** \u5e94\u7528\u7a0b\u5e8f\u3002\\n1. \u5355\u51fb **\u7f51\u7edc\u548c\u4e92\u8054\u7f51**\u3002\u6216\u8005\uff0c\u5982\u679c\u4f60\u4f7f\u7528 Android 7 \u6216\u66f4\u65e9\u7248\u672c\uff0c\u5728 **\u65e0\u7ebf\u548c\u7f51\u7edc** \u90e8\u5206\u5355\u51fb **\u66f4\u591a...**\u3002\\n1. \u5355\u51fb **VPN**\u3002\\n1. \u5355\u51fb **\u6dfb\u52a0VPN\u914d\u7f6e\u6587\u4ef6** \u6216\u7a97\u53e3\u53f3\u4e0a\u89d2\u7684 **+**\u3002\\n1. \u5728 **\u540d\u79f0** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u5728 **\u7c7b\u578b** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **IPSec Xauth PSK**\u3002\\n1. \u5728 **\u670d\u52a1\u5668\u5730\u5740** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u4fdd\u6301 **IPSec \u6807\u8bc6\u7b26** \u5b57\u6bb5\u7a7a\u767d\u3002\\n1. \u5728 **IPSec \u9884\u5171\u4eab\u5bc6\u94a5** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u5355\u51fb **\u4fdd\u5b58**\u3002\\n1. \u5355\u51fb\u65b0\u7684VPN\u8fde\u63a5\u3002\\n1. \u5728 **\u7528\u6237\u540d** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u7528\u6237\u540d`\u3002\\n1. \u5728 **\u5bc6\u7801** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u5bc6\u7801`\u3002\\n1. \u9009\u4e2d **\u4fdd\u5b58\u5e10\u6237\u4fe1\u606f** \u590d\u9009\u6846\u3002\\n1. \u5355\u51fb **\u8fde\u63a5**\u3002\\n\\nVPN \u8fde\u63a5\u6210\u529f\u540e\uff0c\u4f1a\u5728\u901a\u77e5\u680f\u663e\u793a\u56fe\u6807\u3002\u6700\u540e\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 [\u6545\u969c\u6392\u9664](2021-03-06-ipsec-clients-l2tp.md)\u3002\\n\\n## iOS\\n\\n1. \u8fdb\u5165\u8bbe\u7f6e -> \u901a\u7528 -> VPN\u3002\\n1. \u5355\u51fb **\u6dfb\u52a0VPN\u914d\u7f6e...**\u3002\\n1. \u5355\u51fb **\u7c7b\u578b** \u3002\u9009\u62e9 **IPSec** \u5e76\u8fd4\u56de\u3002\\n1. \u5728 **\u63cf\u8ff0** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u5728 **\u670d\u52a1\u5668** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u5728 **\u5e10\u6237** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u7528\u6237\u540d`\u3002\\n1. \u5728 **\u5bc6\u7801** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u5bc6\u7801`\u3002\\n1. \u4fdd\u6301 **\u7fa4\u7ec4\u540d\u79f0** \u5b57\u6bb5\u7a7a\u767d\u3002\\n1. \u5728 **\u5bc6\u94a5** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u5355\u51fb\u53f3\u4e0a\u89d2\u7684 **\u5b8c\u6210**\u3002\\n1. \u542f\u7528 **VPN** \u8fde\u63a5\u3002\\n\\nVPN \u8fde\u63a5\u6210\u529f\u540e\uff0c\u4f1a\u5728\u901a\u77e5\u680f\u663e\u793a\u56fe\u6807\u3002\u6700\u540e\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n\u5982\u679c\u5728\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u9047\u5230\u9519\u8bef\uff0c\u8bf7\u53c2\u89c1 [\u6545\u969c\u6392\u9664](2021-03-06-ipsec-clients-l2tp.md)\u3002\\n\\n## Linux\\n\\n### Fedora \u548c CentOS\\n\\nFedora 28 \uff08\u548c\u66f4\u65b0\u7248\u672c\uff09\u548c CentOS 8/7 \u7528\u6237\u53ef\u4ee5\u4f7f\u7528 `yum` \u5b89\u88c5 `NetworkManager-libreswan-gnome` \u8f6f\u4ef6\u5305\uff0c\u7136\u540e\u901a\u8fc7 GUI \u914d\u7f6e IPsec/XAuth VPN \u5ba2\u6237\u7aef\u3002\\n\\n1. \u8fdb\u5165 Settings -> Network -> VPN\u3002\u5355\u51fb **+** \u6309\u94ae\u3002\\n1. \u9009\u62e9 **IPsec based VPN**\u3002\\n1. \u5728 **Name** \u5b57\u6bb5\u4e2d\u8f93\u5165\u4efb\u610f\u5185\u5bb9\u3002\\n1. \u5728 **Gateway** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n1. \u5728 **Type** \u4e0b\u62c9\u83dc\u5355\u9009\u62e9 **IKEv1 (XAUTH)**\u3002\\n1. \u5728 **User name** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u7528\u6237\u540d`\u3002\\n1. \u53f3\u952e\u5355\u51fb **User password** \u5b57\u6bb5\u4e2d\u7684 **?**\uff0c\u9009\u62e9 **Store the password only for this user**\u3002\\n1. \u5728 **User password** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN \u5bc6\u7801`\u3002\\n1. \u4fdd\u6301 **Group name** \u5b57\u6bb5\u7a7a\u767d\u3002\\n1. \u53f3\u952e\u5355\u51fb **Secret** \u5b57\u6bb5\u4e2d\u7684 **?**\uff0c\u9009\u62e9 **Store the password only for this user**\u3002\\n1. \u5728 **Secret** \u5b57\u6bb5\u4e2d\u8f93\u5165`\u4f60\u7684 VPN IPsec PSK`\u3002\\n1. \u4fdd\u6301 **Remote ID** \u5b57\u6bb5\u7a7a\u767d\u3002\\n1. \u5355\u51fb **Add** \u4fdd\u5b58 VPN \u8fde\u63a5\u4fe1\u606f\u3002\\n1. \u542f\u7528 **VPN** \u8fde\u63a5\u3002\\n\\nVPN \u8fde\u63a5\u6210\u529f\u540e\uff0c\u4f60\u53ef\u4ee5\u5230 <a href=\\"https://www.ipchicken.com\\" target=\\"_blank\\">\u8fd9\u91cc</a> \u68c0\u6d4b\u4f60\u7684 IP \u5730\u5740\uff0c\u5e94\u8be5\u663e\u793a\u4e3a`\u4f60\u7684 VPN \u670d\u52a1\u5668 IP`\u3002\\n\\n### \u5176\u5b83 Linux\\n\\n\u5176\u5b83 Linux \u7248\u672c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528 [IPsec/L2TP](2021-03-06-ipsec-clients-l2tp.md) \u6a21\u5f0f\u8fde\u63a5\u3002\\n\\n## \u81f4\u8c22\\n\\n\u672c\u6587\u6863\u662f\u5728 <a href=\\"https://github.com/StreisandEffect/streisand\\" target=\\"_blank\\">Streisand</a> \u9879\u76ee\u6587\u6863\u57fa\u7840\u4e0a\u7ffb\u8bd1\u548c\u4fee\u6539\u3002\u8be5\u9879\u76ee\u7531 Joshua Lund \u548c\u5176\u4ed6\u5f00\u53d1\u8005\u7ef4\u62a4\u3002\\n\\n## \u6388\u6743\u534f\u8bae\\n\\n\u6ce8\uff1a \u8fd9\u4e2a\u534f\u8bae\u4ec5\u9002\u7528\u4e8e\u672c\u6587\u6863\u3002\\n\\n\u7248\u6743\u6240\u6709 (C) 2016-2021 Lin Song   \\n\u57fa\u4e8e <a href=\\"https://github.com/StreisandEffect/streisand/blob/6aa6b6b2735dd829ca8c417d72eb2768a89b6639/playbooks/roles/l2tp-ipsec/templates/instructions.md.j2\\" target=\\"_blank\\">Joshua Lund \u7684\u5de5\u4f5c</a> (\u7248\u6743\u6240\u6709 2014-2016)\\n\\n\u672c\u7a0b\u5e8f\u4e3a\u81ea\u7531\u8f6f\u4ef6\uff0c\u5728\u81ea\u7531\u8f6f\u4ef6\u8054\u76df\u53d1\u5e03\u7684<a href=\\"https://www.gnu.org/licenses/gpl.html\\" target=\\"_blank\\"> GNU \u901a\u7528\u516c\u5171\u8bb8\u53ef\u534f\u8bae</a>\u7684\u7ea6\u675f\u4e0b\uff0c\u4f60\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u518d\u53d1\u5e03\u53ca\u4fee\u6539\u3002\u534f\u8bae\u7248\u672c\u4e3a\u7b2c\u4e09\u7248\u6216\uff08\u968f\u4f60\uff09\u66f4\u65b0\u7684\u7248\u672c\u3002\\n\\n\u6211\u4eec\u5e0c\u671b\u53d1\u5e03\u7684\u8fd9\u6b3e\u7a0b\u5e8f\u6709\u7528\uff0c\u4f46\u4e0d\u4fdd\u8bc1\uff0c\u751a\u81f3\u4e0d\u4fdd\u8bc1\u5b83\u6709\u7ecf\u6d4e\u4ef7\u503c\u548c\u9002\u5408\u7279\u5b9a\u7528\u9014\u3002\u8be6\u60c5\u53c2\u89c1GNU\u901a\u7528\u516c\u5171\u8bb8\u53ef\u534f\u8bae\u3002\\n\\n\\n> [\u539f\u6587 - \u914d\u7f6e IPsec/XAuth VPN \u5ba2\u6237\u7aef](https://github.com/hwdsl2/setup-ipsec-vpn/blob/master/docs/clients-xauth-zh.md)"},{"id":"/2021/03/06/ipsec-server","metadata":{"permalink":"/blog/2021/03/06/ipsec-server","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-06-ipsec-server.md","source":"@site/src/blog/2021-03-06-ipsec-server.md","title":"\u642d\u5efa IPSec \u670d\u52a1","description":"\u4f7f\u7528\u6280\u672f:","date":"2021-03-06T00:00:00.000Z","formattedDate":"March 6, 2021","tags":[{"label":"ipsec","permalink":"/blog/tags/ipsec"}],"readingTime":1.76,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u642d\u5efa IPSec \u670d\u52a1","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["ipsec"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u914d\u7f6e IPsec/XAuth VPN \u5ba2\u6237\u7aef","permalink":"/blog/2021/03/06/ipsec-clients-xauth"},"nextItem":{"title":"\u914d\u7f6e\u53f3\u51fb\u4f7f\u7528Sublime\u6253\u5f00\u6587\u4ef6\u5939","permalink":"/blog/2021/03/06/sublime-right-click-open"}},"content":"\u4f7f\u7528\u6280\u672f: \\n\\n* [setup-ipsec](https://github.com/hwdsl2/setup-ipsec-vpn)\\n* [docker-ipsec-server](https://github.com/hwdsl2/docker-ipsec-vpn-server)\\n\\n\u672c\u6587\u4ecb\u7ecd\u4f7f\u7528Docker\u65b9\u5f0f\u90e8\u7f72 IPSec \u670d\u52a1\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u670d\u52a1\u5668\u5b89\u88c5Docker\u73af\u5883\\n\\n### Ubuntu\\n\\n```bash\\n# Update the apt package index\\napt-get update\\n\\n# Install packages to allow apt to use a repository over HTTPS\\napt-get install  apt-transport-https ca-certificates curl gnupg-agent software-properties-common -y\\n\\n# Add Docker\u2019s official GPG key\\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\\napt-key fingerprint 0EBFCD88\\n\\n# Set up the stable repository\\nadd-apt-repository \\"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\\"\\napt-get update\\n\\n# install\\napt-get install docker-ce docker-ce-cli containerd.io -y\\n```\\n\\n### CentOS\\n\\n```bash\\n# Install required packages\\nyum install -y yum-utils device-mapper-persistent-data lvm2 -y\\n\\n# Use the following command to set up the stable repository \\nyum-config-manager --add-repo  https://download.docker.com/linux/centos/docker-ce.repo \\n\\n# Install the latest version of Docker CE and containerd\\nyum install docker-ce docker-ce-cli containerd.io -y\\n```\\n\\n## \u8fd0\u884c \\n\\n\u5148\u521b\u5efa `ipsec.env` \u6587\u4ef6, \u7528\u4e8e\u914d\u7f6e\u5ba2\u6237\u7aef\u8fde\u63a5VPN\u670d\u52a1\u5668\u6240\u9700\u8981\u7684\\n\\n```bash\\ntouch ipsec.env # \u521b\u5efa\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u5668\u6240\u9700\u8981\u7684\u8d26\u53f7\u5bc6\u7801\u7b49\u914d\u7f6e\u4fe1\u606f\\necho \\"VPN_IPSEC_PSK=b558fC19z34oa2fa\\" >> ipsec.env # \u5171\u4eab\u5bc6\u94a5, \u5ba2\u6237\u7aef\u8fde\u63a5\u662f\u9700\u8981\\necho \\"VPN_USER=2508681c\\" >> ipsec.env # \u7528\u6237\u540d, \u5ba2\u6237\u7aef\u8fde\u63a5\u9700\u8981\\necho \\"VPN_PASSWORD=76644c20\\" >> ipsec.env # \u5bc6\u7801, \u5ba2\u6237\u7aef\u8fde\u63a5\u9700\u8981\\n\\nmodprobe af_key\\ndocker run --name ipsec-server \\\\\\n    --env-file ./ipsec.env \\\\\\n    --restart=always \\\\\\n    -p 500:500/udp \\\\\\n    -p 4500:4500/udp \\\\\\n    -v /lib/modules:/lib/modules:ro \\\\\\n    -d \\\\\\n    --privileged \\\\\\n    hwdsl2/ipsec-vpn-server\\n```\\n\\n\u4ee5\u4e0b\u662f\u5176\u4ed6\u547d\u4ee4:\\n\\n```bash\\n# \u8fdb\u5165 IPSec \u5bb9\u5668\\ndocker exec -it ipsec-server bash \\n\\n# \u67e5\u770b\u8fde\u63a5\u6570\\ndocker exec -it ipsec-server ipsec whack --trafficstatus\\n\\n# \u6253\u5370\u65e5\u5fd7 \\ndocker logs ipsec-server\\n\\n# \u67e5\u770b\u8fd0\u884c\u72b6\u6001\\ndocker exec -it ipsec-server ipsec status\\n```\\n\\n## \u5ba2\u6237\u7aef\u8fde\u63a5\\n\\n* [IPSec/L2TP \u65b9\u5f0f\u8fde\u63a5](2021-03-06-ipsec-clients-l2tp.md)\\n* [IPSec/IKEv2 \u65b9\u5f0f\u8fde\u63a5](2021-03-06-ipsec-clients-ikev2.md)\\n* [xauth \u65b9\u5f0f\u8fde\u63a5](2021-03-06-ipsec-clients-xauth.md)"},{"id":"/2021/03/06/sublime-right-click-open","metadata":{"permalink":"/blog/2021/03/06/sublime-right-click-open","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-06-sublime-right-click-open.md","source":"@site/src/blog/2021-03-06-sublime-right-click-open.md","title":"\u914d\u7f6e\u53f3\u51fb\u4f7f\u7528Sublime\u6253\u5f00\u6587\u4ef6\u5939","description":"\u5c06\u4ee5\u4e0b\u4ee3\u7801\u4fdd\u5b58\u5230bat\u6587\u4ef6\u4e2d, \u7136\u540e\u6267\u884c:","date":"2021-03-06T00:00:00.000Z","formattedDate":"March 6, 2021","tags":[{"label":"sublime","permalink":"/blog/tags/sublime"},{"label":"editor","permalink":"/blog/tags/editor"},{"label":"windows","permalink":"/blog/tags/windows"}],"readingTime":0.85,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u914d\u7f6e\u53f3\u51fb\u4f7f\u7528Sublime\u6253\u5f00\u6587\u4ef6\u5939","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["sublime","editor","windows"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u642d\u5efa IPSec \u670d\u52a1","permalink":"/blog/2021/03/06/ipsec-server"},"nextItem":{"title":"VSC\u4ee3\u7801\u5757\u6298\u53e0","permalink":"/blog/2021/03/06/vsc-code-folding"}},"content":"\u5c06\u4ee5\u4e0b\u4ee3\u7801\u4fdd\u5b58\u5230bat\u6587\u4ef6\u4e2d, \u7136\u540e\u6267\u884c: \\n\\n\x3c!--truncate--\x3e\\n\\n```bat\\n@echo off\\nSET st3Path=C:\\\\Program Files\\\\Sublime Text 3\\\\sublime_text.exe\\n    \\nrem add it for all file types\\n@reg add \\"HKEY_CLASSES_ROOT\\\\*\\\\shell\\\\Open with Sublime Text 3\\"         /t REG_SZ /v \\"\\" /d \\"Open with Sublime Text 3\\"   /f\\n@reg add \\"HKEY_CLASSES_ROOT\\\\*\\\\shell\\\\Open with Sublime Text 3\\"         /t REG_EXPAND_SZ /v \\"Icon\\" /d \\"%st3Path%,0\\" /f\\n@reg add \\"HKEY_CLASSES_ROOT\\\\*\\\\shell\\\\Open with Sublime Text 3\\\\command\\" /t REG_SZ /v \\"\\" /d \\"%st3Path% \\\\\\"%%1\\\\\\"\\" /f\\n    \\nrem add it for folders\\n@reg add \\"HKEY_CLASSES_ROOT\\\\Folder\\\\shell\\\\Open with Sublime Text 3\\"         /t REG_SZ /v \\"\\" /d \\"Open with Sublime Text 3\\"   /f\\n@reg add \\"HKEY_CLASSES_ROOT\\\\Folder\\\\shell\\\\Open with Sublime Text 3\\"         /t REG_EXPAND_SZ /v \\"Icon\\" /d \\"%st3Path%,0\\" /f\\n@reg add \\"HKEY_CLASSES_ROOT\\\\Folder\\\\shell\\\\Open with Sublime Text 3\\\\command\\" /t REG_SZ /v \\"\\" /d \\"%st3Path% \\\\\\"%%1\\\\\\"\\" /f\\npause\\n```\\n\\n:::note\\n\u5982\u679c\u5b89\u88c5ST3\u7684\u65f6\u5019\u5df2\u7ecf\u52fe\u9009\u4e86\\"Open with Sublime Text 3\\", \u4e0a\u9762\u7684`rem add it for all file types`\u4e0b\u7684\u4e09\u884c\u4ee3\u7801\u53bb\u6389.\\n:::"},{"id":"/2021/03/06/vsc-code-folding","metadata":{"permalink":"/blog/2021/03/06/vsc-code-folding","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-06-vsc-code-folding.md","source":"@site/src/blog/2021-03-06-vsc-code-folding.md","title":"VSC\u4ee3\u7801\u5757\u6298\u53e0","description":"\u4ee5\u4e0b\u662fVisual Studio Code\u652f\u6301\u7684\u4ee3\u7801\u5757\u6298\u53e0\u6807\u8bb0\u53ca\u5feb\u6377\u952e:","date":"2021-03-06T00:00:00.000Z","formattedDate":"March 6, 2021","tags":[{"label":"editor","permalink":"/blog/tags/editor"},{"label":"vsc","permalink":"/blog/tags/vsc"}],"readingTime":2.21,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"VSC\u4ee3\u7801\u5757\u6298\u53e0","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["editor","vsc"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u914d\u7f6e\u53f3\u51fb\u4f7f\u7528Sublime\u6253\u5f00\u6587\u4ef6\u5939","permalink":"/blog/2021/03/06/sublime-right-click-open"},"nextItem":{"title":"VSC \u4ee3\u7801\u7247\u6bb5\u4ecb\u7ecd","permalink":"/blog/2021/03/05/vsc-code-snippets"}},"content":"\u4ee5\u4e0b\u662fVisual Studio Code\u652f\u6301\u7684\u4ee3\u7801\u5757\u6298\u53e0\u6807\u8bb0\u53ca\u5feb\u6377\u952e: \\n\\n\x3c!--truncate--\x3e\\n\\nYou can fold regions of source code using the folding icons on the gutter between line numbers and line start. Move the mouse over the gutter and click to fold and unfold regions. Use `Shift + Click` on the folding icon to fold or unfold the region and all regions inside.\\n\\n![folding](https://code.visualstudio.com/assets/docs/editor/codebasics/folding.png)\\n\\nYou can also use the following actions:\\n\\n* Fold (`Ctrl+Shift+[`) folds the innermost uncollapsed region at the cursor.\\n* Unfold (`Ctrl+Shift+]`) unfolds the collapsed region at the cursor.\\n* Fold Recursively (`Ctrl+K Ctrl+[`) folds the innermost uncollapsed region at the cursor and all regions inside that region.\\n* Unfold Recursively (`Ctrl+K Ctrl+]`) unfolds the region at the cursor and all regions inside that region.\\n* Fold All (`Ctrl+K Ctrl+0`) folds all regions in the editor.\\n* Unfold All (`Ctrl+K Ctrl+J`) unfolds all regions in the editor.\\n* Fold Level X (`Ctrl+K Ctrl+2` for level 2) folds all regions of level X, except the region at the current cursor position.\\n* Fold All Block Comments (`Ctrl+K Ctrl+/`) folds all regions that start with a block comment token.\\n* Folding ranges are by default evaluated based on the indentation of lines. A folding range starts when a line has a smaller indent than one or more following lines, and ends when there is a line with the same or smaller indent.\\n\\nSince the 1.22 release, folding ranges can also be computed based on syntax tokens of the editor\'s configured language. The following languages already provide syntax aware folding: Markdown, HTML, CSS, LESS, SCSS, and JSON.\\n\\nIf you prefer to switch back to indentation-based folding for one (or all) of the languages above, use:\\n\\n```json\\n\\"[html]\\": {\\n    \\"editor.foldingStrategy\\": \\"indentation\\"\\n},\\n ```\\n\\nRegions can also be defined by markers defined by each language. The following languages currently have markers defined:\\n\\n* C#: `#region` and `#endregion`\\n* C/C++: `#pragma` region and `#pragma` endregion\\n* CSS/Less/SCSS: `/*#region*/` and `/*#endregion*/`\\n* Coffeescript: `#region` and `#endregion`\\n* F#: `//#region` and `//#endregion` and `(#_region)` and `(#_endregion)`\\n* Java: `//#region` and `// #endregion` and `//<editor-fold>` and `//</editor-fold>`\\n* HTML:\\n* PHP: `#region` and `#endregion`\\n* Powershell: `#region` and `#endregion`\\n* Python: `#region` and `#endregion`\\n* TypeScript/JavaScript: `//#region` and `/#endregion` and `//region` and `//endregion`\\n* VB: `#Region` and `#End Region`\\n* Bat: ::#region and ::#endregion\\n* Markdown: `\x3c!-- #region --\x3e` and `\x3c!-- #endregion --\x3e`\\n\\nTo fold and unfold only the regions defined by markers use:\\n\\n* Fold Marker Regions (`Ctrl+K Ctrl+8`) folds all marker regions.\\n* Unfold Marker Regions (`Ctrl+K Ctrl+9`) unfolds all marker regions.\\n\\n> [\u539f\u6587 - Folding](https://code.visualstudio.com/docs/editor/codebasics#_folding)"},{"id":"/2021/03/05/vsc-code-snippets","metadata":{"permalink":"/blog/2021/03/05/vsc-code-snippets","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-05-vsc-code-snippets.md","source":"@site/src/blog/2021-03-05-vsc-code-snippets.md","title":"VSC \u4ee3\u7801\u7247\u6bb5\u4ecb\u7ecd","description":"\u7b80\u4ecb","date":"2021-03-05T00:00:00.000Z","formattedDate":"March 5, 2021","tags":[{"label":"vsc","permalink":"/blog/tags/vsc"},{"label":"editor","permalink":"/blog/tags/editor"},{"label":"code snippets","permalink":"/blog/tags/code-snippets"}],"readingTime":4.765,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"VSC \u4ee3\u7801\u7247\u6bb5\u4ecb\u7ecd","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vsc","editor","code snippets"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"VSC\u4ee3\u7801\u5757\u6298\u53e0","permalink":"/blog/2021/03/06/vsc-code-folding"},"nextItem":{"title":"Markdown \u667a\u80fd\u611f\u77e5\u63d2\u5165\u4ee3\u7801\u7247\u6bb5","permalink":"/blog/2021/03/05/vsc-markdown-snippets"}},"content":"## \u7b80\u4ecb\\n\\n\u5728VSC\u91cc, \u4ee3\u7801\u7247\u6bb5\u548c\u5176\u4ed6\u63d0\u793a\u6df7\u5408\u51fa\u73b0\u5728\u667a\u80fd\u611f\u77e5\u4e2d(Windows: `Ctrl + Space`, Mac: `Cmd + Space`), \u4e5f\u53ef\u4ee5\u4f7f\u7528\u901a\u8fc7 `Cmd/Ctrl + Shift + P` > Insert Snippet \u624b\u52a8\u9009\u62e9\u6307\u5b9a\u7684\u4ee3\u7801\u7247\u6bb5, \u540c\u65f6\u652f\u6301\u4f7f\u7528tab\u5b8c\u6210\u4ee3\u7801\u7247\u6bb5\u63d2\u5165: \u4f7f\u7528\u914d\u7f6e`\\"editor.tabCompletion\\": \\"on\\"`\u5f00\u542f, \u8f93\u5165\u4ee3\u7801\u7247\u6bb5\u7684\u524d\u7f00(prefix), \u7136\u540e\u6309\u4e0b __Tab__ \u6309\u952e\u5373\u53ef.\\n\\n\x3c!--truncate--\x3e\\n\\n## \u521b\u5efa\u81ea\u5df1\u7684\u4ee3\u7801\u7247\u6bb5\\n\\n\u9009\u62e9 __File/Code > Preferences > User Snippets__, \u53ef\u4ee5\u9009\u62e9\u521b\u5efa\u4ee5\u4e0b\u7c7b\u578b\u7684\u4ee3\u7801\u7247\u6bb5:\\n\\n* \u9488\u5bf9\u7279\u5b9a\u8bed\u8a00\u7684\u4ee3\u7801\u7247\u6bb5 (\u521b\u5efa\u65f6\u9009\u62e9\u4ee3\u7801\u7247\u6bb5\u652f\u6301\u7684\u8bed\u8a00)\\n* \u9488\u5bf9\u6240\u6709\u8bed\u8a00\u7684\u901a\u7528\u4ee3\u7801\u7247\u6bb5(\u9009\u62e9 __New Global Snippets file__)\\n* \u9488\u5bf9\u5f53\u524d\u9879\u76ee\u7684\u901a\u7528\u4ee3\u7801\u7247\u6bb5, \u5728\u4f60\u7684\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684 __.vscode__ \u6587\u4ef6\u5939\u4e2d\u521b\u5efa\u6269\u5c55\u540d\u4e3a __.json.code-snippets__ \u7684\u6587\u4ef6\u5373\u53ef.\\n\\n\u793a\u4f8b\u7247\u6bb5:\\n\\n```json\\n{\\n  \\"For Loop\\": {\\n    \\"prefix\\": [\\"for\\", \\"for-const\\"],\\n    \\"body\\": [\\"for (const ${2:element} of ${1:array}) {\\", \\"\\\\t$0\\", \\"}\\"],\\n    \\"description\\": \\"A for loop.\\"\\n  }\\n}\\n```\\n\\n* `\\"For Loop\\"`\u662f\u4ee3\u7801\u7247\u6bb5\u7684\u540d\u79f0\\n* `prefix` \u5b9a\u4e49\u4e00\u4e2a\u6216\u591a\u4e2a\u89e6\u53d1\u8bcd, \u5982\u679c\u8f93\u5165\u7684\u5b57\u7b26\u5305\u542b`prefix`\u91cc\u5b9a\u4e49\u7684\u524d\u7f00, \u667a\u80fd\u611f\u77e5\u5217\u8868\u5c31\u4f1a\u51fa\u73b0\u8fd9\u4e2a\u4ee3\u7801\u7247\u6bb5\u4ee5\u4f9b\u9009\u62e9, \u9664\u4e86\u524d\u7f00\u5339\u914d, \u8fd8\u652f\u6301\u9996\u5b57\u6bcd\u5339\u914d, \u5982\u679c\u8f93\u5165`fc`, \u5c31\u4f1a\u5339\u914d\u4e0a\u8ff0\u793a\u4f8b\u4e2d\u7684`for-const`.\\n* `body` \u4ee3\u7801\u7247\u6bb5\u5b9e\u9645\u5185\u5bb9, \u6570\u7ec4\u7684\u8d27\u4f1a\u8fdb\u884c\u591a\u884c\u62fc\u63a5\\n* `description` \u7528\u4e8e\u5728\u667a\u80fd\u611f\u77e5\u4e2d\u63d0\u4f9b\u63cf\u8ff0\u4fe1\u606f, \u53ef\u9009.\\n\\n### \u666e\u901a\u5360\u4f4d\u7b26\\n\\n\u4e0a\u8ff0\u793a\u4f8b\u4e2d\u7684`body`\u6709\u4e09\u4e2a\u5360\u4f4d\u7b26, `${1:array}`, `${2:element}` \u548c `$0`, \u4f60\u53ef\u4ee5\u4f7f\u7528 __Tab__ \u6309\u94ae\u5728\u5360\u4f4d\u7b26\u4e4b\u95f4\u6765\u56de\u5207\u6362, \u5192\u53f7\u540e\u9762\u7684\u6587\u6848\u4e3a\u5360\u4f4d\u7b26\u7684\u9ed8\u8ba4\u6587\u672c, \u5360\u4f4d\u7b26\u7684\u987a\u5e8f\u6309\u7167\u6570\u5b57\u987a\u5e8f, \u4ece0\u5f00\u59cb.\\n\\n* `$2` \u666e\u901a\u5360\u4f4d\u7b26, `2` \u7528\u6765\u6307\u5b9a __Tab__ \u5207\u6362\u65f6\u7684\u987a\u5e8f\\n* `${1:default-text}` \u5192\u53f7\u540e\u9762\u63d0\u4f9b\u9ed8\u8ba4\u6587\u672c\u7684\u5360\u4f4d\u7b26\\n\\n### \u591a\u9009\u503c\\n\\n\u5360\u4f4d\u7b26\u53ef\u4ee5\u6709\u591a\u4e2a\u53ef\u9009\u503c: `${1|one,tow,three}`\\n\\n### \u53d8\u91cf\u5360\u4f4d\u7b26\\n\\n\u5360\u4f4d\u7b26\u652f\u6301\u652f\u6301\u63d2\u5165\u4e00\u4e9b\u7cfb\u7edf\u53d8\u91cf, \u683c\u5f0f\u4e3a `$name` \u6216 `${name:default}` (`default`\u7528\u6765\u7ed9\u5360\u4f4d\u7b26\u63d0\u4f9b\u9ed8\u8ba4\u6587\u672c), \u4e0b\u9762\u662f\u53ef\u4ee5\u4f7f\u7528\u7684\u53d8\u91cf:\\n\\n\\n* `TM_SELECTED_TEXT` The currently selected text or the empty string\\n* `TM_CURRENT_LINE` The contents of the current line\\n* `TM_CURRENT_WORD` The contents of the word under cursor or the empty string\\n* `TM_LINE_INDEX` The zero-index based line number\\n* `TM_LINE_NUMBER` The one-index based line number\\n* `TM_FILENAME` The filename of the current document\\n* `TM_FILENAME_BASE` The filename of the current document without its extensions\\n* `TM_DIRECTORY` The directory of the current document\\n* `TM_FILEPATH` The full file path of the current document\\n* `CLIPBOARD` The contents of your clipboard\\n* `WORKSPACE_NAME` The name of the opened workspace or folder\\n* `WORKSPACE_FOLDER` The path of the opened workspace or folder\\n* `CURRENT_YEAR` The current year\\n* `CURRENT_YEAR_SHORT` The current year\'s last two digits\\n* `CURRENT_MONTH` The month as two digits (example \'02\')\\n* `CURRENT_MONTH_NAME` The full name of the month (example \'July\')\\n* `CURRENT_MONTH_NAME_SHORT` The short name of the month (example \'Jul\')\\n* `CURRENT_DATE` The day of the month\\n* `CURRENT_DAY_NAME` The name of day (example \'Monday\')\\n* `CURRENT_DAY_NAME_SHORT` The short name of the day (example \'Mon\')\\n* `CURRENT_HOUR` The current hour in 24-hour clock format\\n* `CURRENT_MINUTE` The current minute\\n* `CURRENT_SECOND` The current second\\n* `CURRENT_SECONDS_UNIX` The number of seconds since the Unix epoch\\n* `BLOCK_COMMENT_START` Example output: in PHP `/*` or in HTML `\x3c!--`\\n* `BLOCK_COMMENT_END` Example output: in PHP `*/` or in HTML `--\x3e`\\n* `LINE_COMMENT` Example output: in PHP `//`\\n\\n\\n## \u5176\u4ed6\\n\\n\u5982\u679c\u9047\u5230 Markdown \u6587\u4ef6\u6ca1\u6709\u667a\u80fd\u611f\u77e5\u65b9\u5f0f\u63d2\u5165\u4ee3\u7801\u7247\u6bb5, \u53ef\u4ee5\u5728\u914d\u7f6e\u4e2d(`settings.json`)\u6dfb\u52a0\u4e00\u4e0b\u914d\u7f6e\u9879, \u5f3a\u5236\u5f00\u542f:\\n\\n```json\\n{\\n    \\"[markdown]\\": {\\n        \\"editor.wordWrap\\": \\"on\\",\\n        \\"editor.quickSuggestions\\": true \\n    }\\n}\\n```\\n\\n## \u793a\u4f8b\\n\\n\u6bd4\u5982\u4ee5\u4e0b\u4ee3\u7801\u7247\u6bb5:\\n\\n```json title=\\".vscode/ts-function.code-snippets\\"\\n{\\n  \\"TS Function\\": {\\n    \\"prefix\\": \\"ts-function\\",\\n    \\"body\\": [\\n      \\"export type ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Params = {}\\",\\n      \\"export interface ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Result { }\\",\\n      \\" \\",\\n      \\"/**\\",\\n      \\" * \\",\\n      \\" * @author ${1:\u521b\u5efa\u4eba} \\",\\n      \\" * @date $CURRENT_YEAR-$CURRENT_MONTH-$CURRENT_DATE\\",\\n      \\" */\\",\\n      \\"export function ${TM_FILENAME_BASE}(params: ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Params): ${TM_FILENAME_BASE/^(\\\\\\\\w)(.*)/${1:/upcase}${2}/}Result {\\",\\n      \\"}\\",\\n    ],\\n    \\"description\\": \\"\u521b\u5efa TypeScript \u51fd\u6570\\"\\n  }\\n}\\n```\\n\\n\u5f53\u6587\u4ef6\u540d\u4e3a `getRandom.ts` \u6587\u4ef6\u8f93\u5165 `ts-function` \u6309\u56de\u8f66\u4f1a\u751f\u6210\u4ee5\u4e0b\u4ee3\u7801:\\n\\n```typescript title=\\"getRandom.ts\\"\\nexport type GetRandomParams = {}\\nexport interface GetRandomResult { }\\n \\n/**\\n * \\n * @author \u521b\u5efa\u4eba \\n * @date 2021-11-23\\n */\\nexport function getRandom(params: GetRandomParams): GetRandomResult {\\n}\\n```\\n\\n> [\u539f\u6587 - Snippets in Visual Studio Code](https://code.visualstudio.com/docs/editor/userdefinedsnippets)"},{"id":"/2021/03/05/vsc-markdown-snippets","metadata":{"permalink":"/blog/2021/03/05/vsc-markdown-snippets","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-05-vsc-markdown-snippets.md","source":"@site/src/blog/2021-03-05-vsc-markdown-snippets.md","title":"Markdown \u667a\u80fd\u611f\u77e5\u63d2\u5165\u4ee3\u7801\u7247\u6bb5","description":"\u89e3\u51b3 Visual Studio Code Markdown \u6587\u4ef6\u4e0d\u80fd\u63d2\u5165\u4ee3\u7801\u7247\u6bb5\u95ee\u9898","date":"2021-03-05T00:00:00.000Z","formattedDate":"March 5, 2021","tags":[{"label":"vsc","permalink":"/blog/tags/vsc"},{"label":"markdown","permalink":"/blog/tags/markdown"},{"label":"editor","permalink":"/blog/tags/editor"},{"label":"code snippets","permalink":"/blog/tags/code-snippets"}],"readingTime":0.215,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Markdown \u667a\u80fd\u611f\u77e5\u63d2\u5165\u4ee3\u7801\u7247\u6bb5","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vsc","markdown","editor","code snippets"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"VSC \u4ee3\u7801\u7247\u6bb5\u4ecb\u7ecd","permalink":"/blog/2021/03/05/vsc-code-snippets"},"nextItem":{"title":"Mac\u5b89\u88c5Wireguard","permalink":"/blog/2021/03/04/mac-install-wireguard"}},"content":"\u89e3\u51b3 Visual Studio Code Markdown \u6587\u4ef6\u4e0d\u80fd\u63d2\u5165\u4ee3\u7801\u7247\u6bb5\u95ee\u9898\\n\\n[\u539f\u6587 - ](https://stackoverflow.com/questions/32703317/how-to-activate-markdown-user-snippets-in-visual-studio-code)\\n\\n\u5411\u914d\u7f6e\u6587\u4ef6\u589e\u52a0\u4ee5\u4e0b\u914d\u7f6e: \\n\\n```json\\n{\\n    \\"[markdown]\\": {\\n        \\"editor.wordWrap\\": \\"on\\",\\n        \\"editor.quickSuggestions\\": true \\n    },\\n}\\n```"},{"id":"/2021/03/04/mac-install-wireguard","metadata":{"permalink":"/blog/2021/03/04/mac-install-wireguard","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-04-mac-install-wireguard.md","source":"@site/src/blog/2021-03-04-mac-install-wireguard.md","title":"Mac\u5b89\u88c5Wireguard","description":"1. \u5b89\u88c5 WireGuard \u5ba2\u6237\u7aef","date":"2021-03-04T00:00:00.000Z","formattedDate":"March 4, 2021","tags":[{"label":"mac","permalink":"/blog/tags/mac"},{"label":"wireguard","permalink":"/blog/tags/wireguard"}],"readingTime":0.475,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Mac\u5b89\u88c5Wireguard","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["mac","wireguard"]},"prevItem":{"title":"Markdown \u667a\u80fd\u611f\u77e5\u63d2\u5165\u4ee3\u7801\u7247\u6bb5","permalink":"/blog/2021/03/05/vsc-markdown-snippets"},"nextItem":{"title":"Sublime\u5f00\u542fVim\u6a21\u5f0f","permalink":"/blog/2021/03/04/sublime-vim-mode"}},"content":"1. \u5b89\u88c5 WireGuard \u5ba2\u6237\u7aef\\n\\n\x3c!--truncate--\x3e\\n\\n```bash\\nbrew install wireguard-tools\\n```\\n\\n2. \u914d\u7f6e WireGuard \u5ba2\u6237\u7aef\\n\\n```bash\\nsudo mkdir /usr/local/etc/wiregurad \\nsudo touch /usr/local/etc/wiregurad/wg0.conf\\n```\\n\\n__wg0.conf__ \u6587\u4ef6\u5982\u4e0b\uff1a\\n\\n```\\n[Interface]\\nAddress = 10.200.200.2/32\\nPrivateKey = <client_private_key>\\nMTU = 1420\\n\\n[Peer]\\nPublicKey = <server_public_key>\\nEndpoint = <SERVER_IP:SERVER_PORT>\\nAllowedIPs = 10.200.0.0/16\\nPersistentKeepalive = 25\\n```\\n\\n3. \u542f\u52a8 WireGuard\\n\\n```bash\\nsudo wg-quick up wg0-client\\nsudo wg show\\n```\\n\\n:::note\\n\u7ecf [117503445](https://github.com/117503445)[\u63d0\u9192](https://github.com/alanwei43/alanwei43.github.io/issues/1), \u542f\u52a8WireGuard\u7684\u547d\u4ee4\u5e94\u8be5\u662f `sudo wg-quick up wg0`\\n:::\\n\\n> [\u539f\u6587](https://blog.kelu.org/tech/2020/03/13/mac-install-wireguard.html)"},{"id":"/2021/03/04/sublime-vim-mode","metadata":{"permalink":"/blog/2021/03/04/sublime-vim-mode","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-04-sublime-vim-mode.md","source":"@site/src/blog/2021-03-04-sublime-vim-mode.md","title":"Sublime\u5f00\u542fVim\u6a21\u5f0f","description":"Sublime\u5f00\u542fVim\u6a21\u5f0f","date":"2021-03-04T00:00:00.000Z","formattedDate":"March 4, 2021","tags":[{"label":"sublime","permalink":"/blog/tags/sublime"},{"label":"editor","permalink":"/blog/tags/editor"}],"readingTime":0.755,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Sublime\u5f00\u542fVim\u6a21\u5f0f","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","description":"Sublime\u5f00\u542fVim\u6a21\u5f0f","tags":["sublime","editor"]},"prevItem":{"title":"Mac\u5b89\u88c5Wireguard","permalink":"/blog/2021/03/04/mac-install-wireguard"},"nextItem":{"title":"Linux - Structure needs cleaning","permalink":"/blog/2021/03/03/Structure-needs-cleaning"}},"content":"Vintage is a vi mode editing package for Sublime Text. It allows you to combine vi\'s command mode with Sublime Text\'s features, including multiple selections.\\n\\nVintage mode is developed in the open, and patches are more than welcome. If you\'d like to contribute, details are in the [GitHub repo](https://github.com/sublimehq/Vintage). \\n\\n\x3c!--truncate--\x3e\\n## Enabling Vintage\\n\\n Vintage is disabled by default, via the `ignored_packages` setting. If you remove `\\"Vintage\\"` from the list of ignored packages, you\'ll be able to edit with vi keys: \\n\\n1. Select the `Preferences \u25b6 Settings` menu item\\n2. Edit the `ignored_packages` setting, changing it from: \\n\\n```json\\n\\"ignored_packages\\": [\\"Vintage\\"]\\n```\\nto\\n```json\\n\\"ignored_packages\\": []\\n```\\n3. Vintage mode is now enabled \u2013 you\'ll see \\"INSERT MODE\\" listed in the status bar \\n\\nVintage starts in insert mode by default. This can be changed by adding the following setting to your user settings: \\n\\n```json\\n\\"vintage_start_in_command_mode\\": true\\n```\\n\\n> [\u539f\u6587 Vintage Mode](https://www.sublimetext.com/docs/3/vintage.html)"},{"id":"/2021/03/03/Structure-needs-cleaning","metadata":{"permalink":"/blog/2021/03/03/Structure-needs-cleaning","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-03-Structure-needs-cleaning.md","source":"@site/src/blog/2021-03-03-Structure-needs-cleaning.md","title":"Linux - Structure needs cleaning","description":"Linux\u6587\u4ef6\u7cfb\u7edf\u635f\u574f\u4fee\u590d","date":"2021-03-03T00:00:00.000Z","formattedDate":"March 3, 2021","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"ubuntu","permalink":"/blog/tags/ubuntu"},{"label":"file system","permalink":"/blog/tags/file-system"}],"readingTime":0.155,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Linux - Structure needs cleaning","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["linux","ubuntu","file system"]},"prevItem":{"title":"Sublime\u5f00\u542fVim\u6a21\u5f0f","permalink":"/blog/2021/03/04/sublime-vim-mode"},"nextItem":{"title":"\u8bbe\u7f6eMac\u7cfb\u7edfJAVA_HOME","permalink":"/blog/2021/03/03/mac-java-home"}},"content":"Linux\u6587\u4ef6\u7cfb\u7edf\u635f\u574f\u4fee\u590d\\n\\n\u539f\u6587: [Structure needs cleaning\u201d error - cannot mount partition\\n](https://askubuntu.com/questions/910078/structure-needs-cleaning-error-cannot-mount-partition)\\n\\n\x3c!--truncate--\x3e\\n\\n1. unmount \u78c1\u76d8\\n2. \u6267\u884c `sudo fsck.ext4 /dev/sda[NUMBER]`"},{"id":"/2021/03/03/mac-java-home","metadata":{"permalink":"/blog/2021/03/03/mac-java-home","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-03-mac-java-home.md","source":"@site/src/blog/2021-03-03-mac-java-home.md","title":"\u8bbe\u7f6eMac\u7cfb\u7edfJAVA_HOME","description":"\u539f\u6587","date":"2021-03-03T00:00:00.000Z","formattedDate":"March 3, 2021","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"mac","permalink":"/blog/tags/mac"}],"readingTime":0.935,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u8bbe\u7f6eMac\u7cfb\u7edfJAVA_HOME","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["java","mac"]},"prevItem":{"title":"Linux - Structure needs cleaning","permalink":"/blog/2021/03/03/Structure-needs-cleaning"},"nextItem":{"title":"\u8bbe\u7f6eMac VSC\u7684code\u53d8\u91cf","permalink":"/blog/2021/03/03/mac-vsc-path"}},"content":"[\u539f\u6587](https://explainjava.com/set-java-home-mac-os/)\\n\\n\u8bbe\u7f6eMac\u7cfb\u7edf\u7684`JAVA_HOME`\u73af\u5883\u53d8\u91cf:\\n\\n\x3c!--truncate--\x3e\\n\\n1. \u6253\u5f00\u7ec8\u7aef\\n1. \u7f16\u8f91 `~/.bash_profile`\\n1. \u65b0\u589e\u4e00\u884c\u5185\u5bb9 `export JAVA_HOME=$(/usr/libexec/java_home)`\\n1. \u6267\u884c `source .bash_profile`\\n1. \u6d4b\u8bd5: `echo $JAVA_HOME`\\n\\n\\n## \u4ee5\u4e0b\u662f\u539f\u6587\\n\\nIn this tutorial, we show you how to set $JAVA_HOME environment variable on latest or older Mac OSX.\\n\\n### 1. Mac OSX 10.5 or later\\n\\nIn Mac OSX 10.5 or later, Apple recommends to set the `$JAVA_HOME` variable to `/usr/libexec/java_home`, just export `$JAVA_HOME` in file `~/.bash_profile` or `~/.profile`.\\n\\n```bash\\n$ vim .bash_profile\\n    export JAVA_HOME=$(/usr/libexec/java_home)\\n$ source .bash_profile\\n$ echo $JAVA_HOME\\n    /Library/Java/JavaVirtualMachines/1.7.0.jdk/Contents/Home\\n```\\n### Why /usr/libexec/java_home?\\n\\nThis `java_home` can return the Java version specified in Java Preferences for the current user. For examples,\\n\\n```bash\\n/usr/libexec/java_home -V\\n    Matching Java Virtual Machines (3):\\n    1.7.0_05, x86_64:\\t\\"Java SE 7\\"\\t/Library/Java/JavaVirtualMachines/1.7.0.jdk/Contents/Home\\n    1.6.0_41-b02-445, x86_64:\\t\\"Java SE 6\\"\\t/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\\n    1.6.0_41-b02-445, i386:\\t\\"Java SE 6\\"\\t/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\\n```\\n\\nThis Mac OSX has three JDK installed.\\n\\n```bash\\n\\t##return top Java version\\n$ /usr/libexec/java_home\\n\\t/Library/Java/JavaVirtualMachines/1.7.0.jdk/Contents/Home\\n\\n## I want Java version 1.6\\n$ /usr/libexec/java_home -v 1.6\\n\\t/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\\n\\nRef: https://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/"},{"id":"/2021/03/03/mac-vsc-path","metadata":{"permalink":"/blog/2021/03/03/mac-vsc-path","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-03-03-mac-vsc-path.md","source":"@site/src/blog/2021-03-03-mac-vsc-path.md","title":"\u8bbe\u7f6eMac VSC\u7684code\u53d8\u91cf","description":"\u539f\u6587","date":"2021-03-03T00:00:00.000Z","formattedDate":"March 3, 2021","tags":[{"label":"vsc","permalink":"/blog/tags/vsc"},{"label":"mac","permalink":"/blog/tags/mac"}],"readingTime":0.2,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u8bbe\u7f6eMac VSC\u7684code\u53d8\u91cf","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vsc","mac"]},"prevItem":{"title":"\u8bbe\u7f6eMac\u7cfb\u7edfJAVA_HOME","permalink":"/blog/2021/03/03/mac-java-home"},"nextItem":{"title":"Node.js Hash\u8ba1\u7b97","permalink":"/blog/2021/02/28/node-hash"}},"content":"[\u539f\u6587](https://izziswift.com/code-not-working-in-command-line-for-visual-studio-code-on-osx-mac/)\\n\\nMac\u7cfb\u7edf\uff0c\u6dfb\u52a0`code`\u5230`PATH`\u73af\u5883\u53d8\u91cf:\\n\\n\u6309\u4e0b Command + Shift + P\uff0c\u7136\u540e\u8f93\u5165`Shell Command`, \u9009\u62e9 `Shell Command: Install \'code\' command in PATH` \u5373\u53ef."},{"id":"/2021/02/28/node-hash","metadata":{"permalink":"/blog/2021/02/28/node-hash","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-02-28-node-hash.md","source":"@site/src/blog/2021-02-28-node-hash.md","title":"Node.js Hash\u8ba1\u7b97","description":"\u8ba1\u7b97hash\u503c:","date":"2021-02-28T00:00:00.000Z","formattedDate":"February 28, 2021","tags":[{"label":"node.js","permalink":"/blog/tags/node-js"},{"label":"hash","permalink":"/blog/tags/hash"}],"readingTime":0.115,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Node.js Hash\u8ba1\u7b97","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["node.js","hash"]},"prevItem":{"title":"\u8bbe\u7f6eMac VSC\u7684code\u53d8\u91cf","permalink":"/blog/2021/03/03/mac-vsc-path"},"nextItem":{"title":"Spring Boot Hot Swapping","permalink":"/blog/2021/02/24/hot-swapping-in-spring-boot"}},"content":"\u8ba1\u7b97hash\u503c:\\n\\n```js\\nimport crypto from \\"crypto\\";\\n\\nconst clearText = \\"\u5f85\u8ba1\u7b97\u6587\u672c\\";\\nconst hashValue = crypto.createHash(\\"sha256\\").update(clearText).digest(\\"hex\\");\\n```"},{"id":"/2021/02/24/hot-swapping-in-spring-boot","metadata":{"permalink":"/blog/2021/02/24/hot-swapping-in-spring-boot","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-02-24-hot-swapping-in-spring-boot.md","source":"@site/src/blog/2021-02-24-hot-swapping-in-spring-boot.md","title":"Spring Boot Hot Swapping","description":"Spring Boot \u5e94\u7528\u914d\u7f6e Hot Swapping","date":"2021-02-24T00:00:00.000Z","formattedDate":"February 24, 2021","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"spring","permalink":"/blog/tags/spring"},{"label":"spring boot","permalink":"/blog/tags/spring-boot"},{"label":"hot swap","permalink":"/blog/tags/hot-swap"}],"readingTime":0.765,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"Spring Boot Hot Swapping","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["java","spring","spring boot","hot swap"]},"prevItem":{"title":"Node.js Hash\u8ba1\u7b97","permalink":"/blog/2021/02/28/node-hash"},"nextItem":{"title":"\u8bbe\u7f6eJava\u7a0b\u5e8f\u7f51\u7edc\u4ee3\u7406","permalink":"/blog/2021/02/17/java-network-proxy"}},"content":"Spring Boot \u5e94\u7528\u914d\u7f6e Hot Swapping\\n\\nFROM [Hot Swapping In Spring Boot](https://stackoverflow.com/questions/21399586/hot-swapping-in-spring-boot)\\n\\nWhat helped me in IntelliJ 15.0, windows 10, was the following sequence:\\n\\n\x3c!--truncate--\x3e\\n\\nSTEP 1: Added the following dependency in pom (This is mentioned everywhere but this alone dint solve it), as mentioned by @jonashackt\\n\\n```xml\\n<dependency>\\n     <groupId>org.springframework.boot</groupId>\\n     <artifactId>spring-boot-devtools</artifactId>\\n</dependency>\\n```\\n\\nSTEP 2: Then from __File->Settings-> Build-Execution-Deployment -> Compiler__ (make sure main compiler option is selected and not any of its sub-options)\\n\\nenable Make Project Automatically. Click ok and close the dialog Note : In latest version it will be Build project automatically\\n\\nSTEP 3: Hold `Shift+Ctrl+A` (on windows) you will see a search dialog with title __Enter Action or option name__ , type __registry__ Double click the first option that says \\"Registry...\\" it will open another window. Look for the following option:\\n\\n```\\ncompiler.automake.allow.when.app.running\\n```\\n\\nand enable it, click close\\n\\nSTEP 4: Restart IDE\\n\\nElaborated from this [source](https://dzone.com/articles/spring-boot-application-live-reload-hot-swap-with)"},{"id":"/2021/02/17/java-network-proxy","metadata":{"permalink":"/blog/2021/02/17/java-network-proxy","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021-02-17-java-network-proxy.md","source":"@site/src/blog/2021-02-17-java-network-proxy.md","title":"\u8bbe\u7f6eJava\u7a0b\u5e8f\u7f51\u7edc\u4ee3\u7406","description":"\u8bbe\u7f6eJava\u7a0b\u5e8f\u7f51\u7edc\u4ee3\u7406","date":"2021-02-17T00:00:00.000Z","formattedDate":"February 17, 2021","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"proxy","permalink":"/blog/tags/proxy"},{"label":"http","permalink":"/blog/tags/http"},{"label":"network","permalink":"/blog/tags/network"}],"readingTime":0.34,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u8bbe\u7f6eJava\u7a0b\u5e8f\u7f51\u7edc\u4ee3\u7406","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","description":"\u8bbe\u7f6eJava\u7a0b\u5e8f\u7f51\u7edc\u4ee3\u7406","tags":["java","proxy","http","network"]},"prevItem":{"title":"Spring Boot Hot Swapping","permalink":"/blog/2021/02/24/hot-swapping-in-spring-boot"},"nextItem":{"title":"\u6211\u7684 Visual Studio Code \u914d\u7f6e","permalink":"/blog/2020/03/20/visual-studio-code-config"}},"content":"[\u914d\u7f6e\u6765\u6e90](https://docs.telerik.com/fiddler/Configure-Fiddler/Tasks/ConfigureJavaApp)\\n\\nTo configure a Java application to send web traffic to Fiddler, set the proxy using jre:\\n\\n```bash\\njre -DproxySet=true -Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort=8888\\n```\\n\x3c!--truncate--\x3e\\nOr:\\n\\n```bash\\njre -DproxySet=true -DproxyHost=127.0.0.1 -DproxyPort=8888 MyApp\\n```\\n\\nOr, change the Java Virtual Machine\'s proxy settings programmatically:\\n\\n```java\\nSystem.setProperty(\\"http.proxyHost\\", \\"127.0.0.1\\");\\nSystem.setProperty(\\"https.proxyHost\\", \\"127.0.0.1\\");\\nSystem.setProperty(\\"http.proxyPort\\", \\"8888\\");\\nSystem.setProperty(\\"https.proxyPort\\", \\"8888\\");\\n```\\n\\n* [Learn more about Java proxy settings](http://java.sun.com/j2se/1.5.0/docs/guide/net/proxies.html).\\n* [Java Networking and Proxies](https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html)"},{"id":"/2020/03/20/visual-studio-code-config","metadata":{"permalink":"/blog/2020/03/20/visual-studio-code-config","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2020-03-20-visual-studio-code-config.md","source":"@site/src/blog/2020-03-20-visual-studio-code-config.md","title":"\u6211\u7684 Visual Studio Code \u914d\u7f6e","description":"\u6211\u7684 Visual Studio Code \u914d\u7f6e","date":"2020-03-20T00:00:00.000Z","formattedDate":"March 20, 2020","tags":[{"label":"vsc","permalink":"/blog/tags/vsc"},{"label":"visual studio code","permalink":"/blog/tags/visual-studio-code"},{"label":"editor","permalink":"/blog/tags/editor"}],"readingTime":2.95,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u6211\u7684 Visual Studio Code \u914d\u7f6e","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vsc","visual studio code","editor"],"description":"\u6211\u7684 Visual Studio Code \u914d\u7f6e","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u8bbe\u7f6eJava\u7a0b\u5e8f\u7f51\u7edc\u4ee3\u7406","permalink":"/blog/2021/02/17/java-network-proxy"},"nextItem":{"title":"\u6211\u7684 Visual Studio Code \u5feb\u6377\u952e\u914d\u7f6e","permalink":"/blog/2020/03/20/visual-studio-code-keyboard"}},"content":"\u4e0b\u9762\u5c55\u793a\u4e00\u4e0b\u6211\u7684VSC\u914d\u7f6e: \\n\\n\x3c!--truncate--\x3e\\n\\n### Brief\\n\\n```json title=\\".vscode/settings.json\\"\\n{\\n    \\"extensions.autoUpdate\\": false, // \u7981\u7528\u6269\u5c55\u81ea\u52a8\u66f4\u65b0\\n    \\"extensions.autoCheckUpdates\\": false, // \u7981\u7528\u6269\u5c55\u81ea\u52a8\u66f4\u65b0\\n    \\"update.mode\\": \\"manual\\", // VSC\u66f4\u65b0\u6a21\u5f0f\u6539\u4e3a\u624b\u52a8\u68c0\u6d4b\\n    \\"editor.lineNumbers\\": \\"relative\\", // \u4f7f\u7528\u76f8\u5bf9\u884c\u53f7(\u65b9\u4fbfVim\u8df3\u8f6c)\\n    \\"window.closeWhenEmpty\\": true, // \u5982\u679c\u6253\u5f00\u6587\u4ef6\u4e3a\u7a7a\uff0c\u5173\u95edVSC\u7f16\u8f91\u5668\\n    \\"files.eol\\": \\"\\\\n\\", // \u6587\u4ef6\u6362\u884c\u7b26\\n    \\"files.encoding\\": \\"utf8\\", // \u6587\u4ef6\u7f16\u7801\\n    \\"editor.minimap.enabled\\": false, // \u662f\u5426\u663e\u793a\u5c0f\u5730\u56fe\\n    \\"explorer.confirmDelete\\": false, // \u5220\u9664\u6587\u4ef6\u786e\u8ba4\\n    \\"[html]\\": {\\n        \\"editor.defaultFormatter\\": \\"vscode.html-language-features\\"\\n    },\\n    \\"[json]\\": {\\n        \\"editor.defaultFormatter\\": \\"vscode.json-language-features\\"\\n    },\\n    \\"[javascript]\\": {\\n        \\"editor.defaultFormatter\\": \\"vscode.typescript-language-features\\"\\n    },\\n    \\"[vue]\\": {\\n        \\"editor.defaultFormatter\\": \\"esbenp.prettier-vscode\\"\\n    },\\n    \\"[typescript]\\": {\\n        \\"editor.defaultFormatter\\": \\"vscode.typescript-language-features\\"\\n    },\\n    \\"[jsonc]\\": {\\n        \\"editor.defaultFormatter\\": \\"vscode.json-language-features\\"\\n    },\\n    // Markdown\u6587\u4ef6\u914d\u7f6e\\n    \\"[markdown]\\": {\\n        \\"editor.wordWrap\\": \\"on\\",\\n        \\"editor.quickSuggestions\\": {\\n            \\"comments\\": \\"on\\",\\n            \\"other\\": \\"on\\",\\n            \\"strings\\": \\"on\\"\\n        } // markdown\u6587\u4ef6\u667a\u80fd\u63d0\u793a\u9ed8\u8ba4\u5f00\u542f(\u7528\u4e8e\u652f\u6301Snippets)\\n    },\\n    \\"emmet.triggerExpansionOnTab\\": true,\\n    \\"todohighlight.maxFilesForSearch\\": 5120,\\n    \\"editor.smoothScrolling\\": true,\\n    \\"workbench.list.smoothScrolling\\": true,\\n    \\"explorer.autoReveal\\": \\"focusNoScroll\\",\\n    \\"extensions.ignoreRecommendations\\": true,\\n    \\"editor.tabSize\\": 2,\\n    \\"files.associations\\": {\\n        \\"*.wxml\\": \\"vue-html\\",\\n        \\"*.mdx\\": \\"markdown\\"\\n    },\\n    \\"editor.suggestSelection\\": \\"first\\",\\n    \\"editor.formatOnSave\\": false,\\n    \\"json.maxItemsComputed\\": 500,\\n    \\"editor.unicodeHighlight.invisibleCharacters\\": false,\\n    \\"window.zoomLevel\\": 1,\\n    \\"editor.experimental.stickyScroll.enabled\\": true,\\n    \\"vim.useCtrlKeys\\": false\\n}\\n```\\n\\n### 2022-01-04\\n\\n```json title=\\"settings.json\\n{\\n    \\"extensions.autoUpdate\\": false, // \u7981\u7528\u6269\u5c55\u81ea\u52a8\u66f4\u65b0\\n    \\"extensions.autoCheckUpdates\\": false, // \u7981\u7528\u6269\u5c55\u81ea\u52a8\u66f4\u65b0\\n    \\"update.mode\\": \\"manual\\", // VSC\u66f4\u65b0\u6a21\u5f0f\u6539\u4e3a\u624b\u52a8\u68c0\u6d4b\\n    \\"editor.suggestSelection\\": \\"first\\",\\n    \\"vsintellicode.modify.editor.suggestSelection\\": \\"automaticallyOverrodeDefaultValue\\",\\n    \\"vim.useCtrlKeys\\": false,\\n    \\"vim.easymotion\\": true,\\n    \\"vim.leader\\": \\"\\\\\\\\\\",\\n    \\"vim.surround\\": true,\\n    \\"vim.hlsearch\\": true,\\n    \\"editor.largeFileOptimizations\\": true,\\n    \\"breadcrumbs.enabled\\": true,\\n    \\"editor.renderControlCharacters\\": true,\\n    \\"editor.lineNumbers\\": \\"relative\\",\\n    \\"window.restoreWindows\\": \\"none\\",\\n    \\"editor.renderWhitespace\\": \\"all\\",\\n    \\"editor.renderIndentGuides\\": true,\\n    \\"files.eol\\": \\"\\\\n\\",\\n    \\"files.encoding\\": \\"utf8\\",\\n    \\"editor.minimap.enabled\\": false,\\n    \\"explorer.confirmDelete\\": false,\\n    \\"explorer.openEditors.visible\\": 0,\\n    \\"editor.cursorBlinking\\": \\"phase\\",\\n    \\"editor.smoothScrolling\\": true,\\n    \\"editor.tokenColorCustomizations\\": {\\n        \\"textMateRules\\": [\\n            {\\n                \\"scope\\": [\\n                    \\"entity.name.function\\",\\n                    \\"support.function\\"\\n                ],\\n                \\"settings\\": {\\n                    \\"fontStyle\\": \\"italic bold\\"\\n                }\\n            }\\n        ]\\n    },\\n    \\"java.configuration.checkProjectSettingsExclusions\\": false,\\n    \\"[html]\\": {\\n        \\"editor.defaultFormatter\\": \\"vscode.html-language-features\\"\\n    },\\n    \\"[json]\\": {\\n        \\"editor.defaultFormatter\\": \\"vscode.json-language-features\\"\\n    },\\n    \\"[javascript]\\": {\\n        \\"editor.defaultFormatter\\": \\"vscode.typescript-language-features\\"\\n    },\\n    // \\"window.zoomLevel\\": 2, // \u653e\u5927\u7f29\u5c0f\\n    \\"html.format.wrapLineLength\\": 0,\\n    \\"editor.fontLigatures\\": true,\\n    // \\"editor.fontFamily\\": \\"\'Cascadia Code\', \'\u601d\u6e90\u9ed1\u4f53 Light\', Consolas, \'Courier New\', monospace\\",\\n    \\"[jsonc]\\": {\\n        \\"editor.defaultFormatter\\": \\"vscode.json-language-features\\"\\n    },\\n    \\"diffEditor.ignoreTrimWhitespace\\": true,\\n    \\"gitlens.blame.ignoreWhitespace\\": true,\\n    \\"java.semanticHighlighting.enabled\\": true,\\n    \\"workbench.editor.scrollToSwitchTabs\\": true,\\n    \\"yaml.schemas\\": {\\n        \\"file:///toc.schema.json\\": \\"/toc\\\\\\\\.yml/i\\"\\n    },\\n    \\"gitlens.views.compare.files.layout\\": \\"list\\",\\n    \\"explorer.confirmDragAndDrop\\": false,\\n    \\"window.titleBarStyle\\": \\"custom\\",\\n    \\"[dart]\\": {\\n        \\"editor.formatOnSave\\": true,\\n        \\"editor.formatOnType\\": true,\\n        \\"editor.rulers\\": [\\n            80\\n        ],\\n        \\"editor.selectionHighlight\\": false,\\n        \\"editor.suggest.snippetsPreventQuickSuggestions\\": false,\\n        \\"editor.suggestSelection\\": \\"first\\",\\n        \\"editor.tabCompletion\\": \\"onlySnippets\\",\\n        \\"editor.wordBasedSuggestions\\": false\\n    },\\n    \\"settingsSync.keybindingsPerPlatform\\": false, // \u9690\u85cftitle bar\\n    \\"files.watcherExclude\\": {\\n        \\"**/.git/objects/**\\": true,\\n        \\"**/.git/subtree-cache/**\\": true,\\n        \\"**/node_modules/**\\": true,\\n        \\"**/.hg/store/**\\": true,\\n    },\\n    \\"workbench.activityBar.visible\\": true,\\n    \\"[markdown]\\": {\\n        \\"editor.wordWrap\\": \\"on\\",\\n        \\"editor.quickSuggestions\\": true\\n    },\\n    \\"explorer.autoReveal\\": \\"focusNoScroll\\",\\n    \\"[vue]\\": {\\n        \\"editor.defaultFormatter\\": \\"octref.vetur\\"\\n    },\\n    \\"[typescript]\\": {\\n        \\"editor.defaultFormatter\\": \\"vscode.typescript-language-features\\"\\n    },\\n    \\"editor.tabSize\\": 2,\\n    \\"rest-client.previewColumn\\": \\"current\\",\\n    \\"[typescriptreact]\\": {\\n        \\"editor.defaultFormatter\\": \\"vscode.typescript-language-features\\"\\n    },\\n    \\"[css]\\": {\\n        \\"editor.defaultFormatter\\": \\"esbenp.prettier-vscode\\"\\n    },\\n    \\"[yaml]\\": {\\n        \\"editor.defaultFormatter\\": \\"redhat.vscode-yaml\\"\\n    },\\n    \\"emmet.showExpandedAbbreviation\\": \\"inMarkupAndStylesheetFilesOnly\\",\\n    \\"emmet.excludeLanguages\\": [\\n        \\"markdown\\",\\n        \\"tsx\\",\\n    ],\\n    \\"window.closeWhenEmpty\\": true,\\n    \\"files.exclude\\": {\\n        \\"**/.git\\": true,\\n        \\"**/.svn\\": true,\\n        \\"**/.hg\\": true,\\n        \\"**/CVS\\": true,\\n        \\"**/.DS_Store\\": true,\\n        \\"node_modules\\": true\\n    },\\n    \\"files.watcherExclude\\": {\\n        \\"**/.git/objects/**\\": true,\\n        \\"**/.git/subtree-cache/**\\": true,\\n        \\"**/node_modules/*/**\\": true,\\n        \\"**/.hg/store/**\\": true\\n    }\\n}\\n```\\n\\n\\n```json title=\\"keybindings.json\\"\\n[\\n    {\\n        \\"key\\": \\"ctrl+shift+i\\",\\n        \\"command\\": \\"editor.action.formatDocument\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+shift+w\\",\\n        \\"command\\": \\"workbench.action.closeOtherEditors\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+shift+r\\",\\n        \\"command\\": \\"revealInExplorer\\"\\n    },\\n    {\\n        \\"key\\": \\"alt+left\\",\\n        \\"command\\": \\"workbench.action.navigateBack\\"\\n    },\\n    {\\n        \\"key\\": \\"alt+right\\",\\n        \\"command\\": \\"workbench.action.navigateForward\\"\\n    },\\n    {\\n        \\"key\\": \\"f12\\",\\n        \\"command\\": \\"editor.action.revealDefinition\\",\\n        \\"when\\": \\"editorHasDefinitionProvider && editorTextFocus && !isInEmbeddedEditor\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+shift+d\\",\\n        \\"command\\": \\"workbench.action.splitEditorDown\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+shift+l\\",\\n        \\"command\\": \\"workbench.action.splitEditorLeft\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+shift+s\\",\\n        \\"command\\": \\"saveAll\\"\\n    },\\n    {\\n        \\"key\\": \\"ctl+shift+m\\",\\n        \\"command\\": \\"workbench.action.terminal.sendSequence\\",\\n        \\"args\\": {\\n            \\"text\\": \\"git status\\\\u000D\\"\\n        }\\n    },\\n    {\\n        \\"key\\": \\"ctrl+e\\",\\n        \\"command\\": \\"-workbench.action.quickOpen\\"\\n    }\\n]\\n```"},{"id":"/2020/03/20/visual-studio-code-keyboard","metadata":{"permalink":"/blog/2020/03/20/visual-studio-code-keyboard","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2020-03-20-visual-studio-code-keyboard.md","source":"@site/src/blog/2020-03-20-visual-studio-code-keyboard.md","title":"\u6211\u7684 Visual Studio Code \u5feb\u6377\u952e\u914d\u7f6e","description":"\u6211\u7684 Visual Studio Code \u5feb\u6377\u952e\u914d\u7f6e","date":"2020-03-20T00:00:00.000Z","formattedDate":"March 20, 2020","tags":[{"label":"vsc","permalink":"/blog/tags/vsc"},{"label":"visual studio code","permalink":"/blog/tags/visual-studio-code"},{"label":"editor","permalink":"/blog/tags/editor"}],"readingTime":0.855,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u6211\u7684 Visual Studio Code \u5feb\u6377\u952e\u914d\u7f6e","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vsc","visual studio code","editor"],"description":"\u6211\u7684 Visual Studio Code \u5feb\u6377\u952e\u914d\u7f6e","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u6211\u7684 Visual Studio Code \u914d\u7f6e","permalink":"/blog/2020/03/20/visual-studio-code-config"},"nextItem":{"title":"ASP.Net \u8eab\u4efd\u6a21\u5757\u4ecb\u7ecd","permalink":"/blog/2019/05/14/asp-net-identity-module"}},"content":"\u8fc1\u79fb\u81f3[Visual Studio Code\u914d\u7f6e](./2020-03-20-visual-studio-code-config.md);\\n\\n\u4e0b\u9762\u5c55\u793a\u4e00\u4e0b\u6211\u7684VSC\u5feb\u6377\u952e\u914d\u7f6e: \\n\\n\x3c!--truncate--\x3e\\n\\n\\n## macOS\\n\\n```json title=\\".vscode/keybindings.json\\"\\n[\\n    // \u683c\u5f0f\u5316\u6587\u6863\\n    {\\n        \\"key\\": \\"shift+cmd+i\\",\\n        \\"command\\": \\"editor.action.formatDocument\\",\\n    },\\n    // \u5173\u95ed\u5176\u4ed6\u6587\u6863\\n    {\\n        \\"key\\": \\"shift+cmd+w\\",\\n        \\"command\\": \\"workbench.action.closeOtherEditors\\"\\n    },\\n    {\\n        \\"key\\": \\"shift+cmd+w\\",\\n        \\"command\\": \\"-workbench.action.closeWindow\\"\\n    },\\n    // \u4fa7\u8fb9\u680f\u5b9a\u4f4d\u5f53\u524d\u6587\u4ef6\\n    {\\n        \\"key\\": \\"shift+cmd+r\\",\\n        \\"command\\":\\"revealInExplorer\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+r\\",\\n        \\"command\\": \\"renameFile\\"\\n    }\\n]\\n```\\n\\n## Windows\\n\\n```json title=\\".vscode/keybindings.json\\"\\n[\\n    {\\n        \\"key\\": \\"ctrl+shift+i\\",\\n        \\"command\\": \\"editor.action.formatDocument\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+shift+w\\",\\n        \\"command\\": \\"workbench.action.closeOtherEditors\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+shift+r\\",\\n        \\"command\\": \\"revealInExplorer\\"\\n    },\\n    {\\n        \\"key\\": \\"alt+left\\",\\n        \\"command\\": \\"workbench.action.navigateBack\\"\\n    },\\n    {\\n        \\"key\\": \\"alt+right\\",\\n        \\"command\\": \\"workbench.action.navigateForward\\"\\n    },\\n    {\\n        \\"key\\": \\"f12\\",\\n        \\"command\\": \\"editor.action.revealDefinition\\",\\n        \\"when\\": \\"editorHasDefinitionProvider && editorTextFocus && !isInEmbeddedEditor\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+shift+d\\",\\n        \\"command\\": \\"workbench.action.splitEditorDown\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+shift+l\\",\\n        \\"command\\": \\"workbench.action.splitEditorLeft\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+shift+s\\",\\n        \\"command\\": \\"saveAll\\"\\n    },\\n    {\\n        \\"key\\": \\"ctl+shift+m\\",\\n        \\"command\\": \\"workbench.action.terminal.sendSequence\\",\\n        \\"args\\": {\\n            \\"text\\": \\"git status\\\\u000D\\"\\n        }\\n    },\\n    {\\n        \\"key\\": \\"ctrl+e\\",\\n        \\"command\\": \\"-workbench.action.quickOpen\\"\\n    },\\n    {\\n        \\"key\\": \\"ctrl+r\\",\\n        \\"command\\": \\"renameFile\\"\\n    }\\n]\\n```"},{"id":"/2019/05/14/asp-net-identity-module","metadata":{"permalink":"/blog/2019/05/14/asp-net-identity-module","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2019-05-14-asp-net-identity-module.md","source":"@site/src/blog/2019-05-14-asp-net-identity-module.md","title":"ASP.Net \u8eab\u4efd\u6a21\u5757\u4ecb\u7ecd","description":"\u539f\u6587","date":"2019-05-14T00:00:00.000Z","formattedDate":"May 14, 2019","tags":[{"label":".net","permalink":"/blog/tags/net"},{"label":"asp.net","permalink":"/blog/tags/asp-net"}],"readingTime":11.53,"hasTruncateMarker":false,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"ASP.Net \u8eab\u4efd\u6a21\u5757\u4ecb\u7ecd","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":[".net","asp.net"]},"prevItem":{"title":"\u6211\u7684 Visual Studio Code \u5feb\u6377\u952e\u914d\u7f6e","permalink":"/blog/2020/03/20/visual-studio-code-keyboard"},"nextItem":{"title":"\u6211\u7684Vim\u914d\u7f6e","permalink":"/blog/2019/03/20/vim-config"}},"content":"[\u539f\u6587](http://www.asp.net/identity/overview/getting-started/introduction-to-aspnet-identity)\\n\\n### \u524d\u8a00(Preface)\\n\\nASP.Net \u4f1a\u5458\u7cfb\u7edf\u57282005\u5e74\u53d1\u5e03ASP.Net 2.0\u7684\u65f6\u5019\u540c\u65f6\u53d1\u5e03(\u4ecb\u7ecd), \u800c\u4e14\u4ece\u90a3\u4ee5\u540eWeb\u5e94\u7528\u5728\u5904\u7406\u8ba4\u8bc1\u548c\u6388\u6743\u65b9\u9762\u5df2\u7ecf\u53d1\u751f\u4e86\u5f88\u591a\u6539\u53d8.\u5bf9\u4e8e\u4f1a\u5458\u7cfb\u7edf\u5e94\u8be5\u662f\u4ec0\u4e48\u6837\u5b50\u7684, ASP.Net Identity\u662f\u4e00\u4e2a\u65b0\u7684\u5c1d\u8bd5, \u5f53\u4f60\u4e3aWeb, Phone, Tablet(\u5e73\u677f)\u521b\u5efa\u73b0\u4ee3\u5e94\u7528\u7684\u65f6\u5019.\\n\u8fd9\u7bc7\u6587\u7ae0\u662f\u7531Pranav Rastogi, Jon Galloway, Tom Dykstra, and Rick Anderson\u6240\u5199.\\n\\n\x3c!--splitor--\x3e\\n\\n## \u80cc\u666f: ASP.Net\u4f1a\u5458\u7cfb\u7edf(ASP.Net Membership)\\n\\n\u57282005\u5e74, \u4e3a\u4e86\u89e3\u51b3\u5927\u90e8\u5206\u7f51\u7ad9\u5bf9\u4f1a\u5458\u529f\u80fd\u7684\u9700\u6c42, ASP.Net Membership\u88ab\u8bbe\u8ba1\u51fa\u6765, \u5b83\u9700\u8981\u8868\u5355\u8ba4\u8bc1\u548c\u5305\u542b\u7528\u6237\u540d,\u5bc6\u7801\u548c\u4e2a\u4eba\u4fe1\u606f\u7684SQL Server\u6570\u636e\u5e93. \u73b0\u5728\u5bf9\u4e8eWeb\u5e94\u7528, \u6709\u66f4\u52a0\u5e7f\u6cdb(broader)\u7684\u53ef\u4f9b\u9009\u62e9\u6570\u636e\u5b58\u50a8\u65b9\u5f0f, \u800c\u4e14\u5927\u90e8\u5206\u5f00\u53d1\u8005\u60f3\u4f7f\u4ed6\u4eec\u7684\u7ad9\u70b9\u4f7f\u7528\u793e\u4ea4\u767b\u5f55\u6765\u63d0\u4f9b\u8ba4\u8bc1\u548c\u6388\u6743\u529f\u80fd. \u4e0b\u9762\u4ecb\u7ecd\u7684ASP.Net Membership\u7684\u8bbe\u8ba1\u9650\u5236\u4f7f\u4e0a\u8ff0\u7684\u9700\u6c42\u5b9e\u73b0\u53d8\u5f97\u5f88\u56f0\u96be:\\n\\n* \u6570\u636e\u5e93\u67b6\u6784\u88ab\u8bbe\u8ba1\u6210\u4f7f\u7528SQL Server, \u800c\u4e14\u4f60\u4e0d\u53ef\u4ee5\u6539\u53d8. \u4f60\u53ef\u4ee5\u6dfb\u52a0\u914d\u7f6e\u4fe1\u606f, \u4f46\u662f\u5176\u4ed6\u6570\u636e\u88ab\u653e\u5728\u4e86\u5176\u4ed6\u8868\u4e2d, \u4f7f\u7528\u4efb\u4f55\u624b\u6bb5(means)\u8bbf\u95ee\u8fd9\u4e9b\u4fe1\u606f\u90fd\u662f\u56f0\u96be\u7684, \u9664\u975e\u901a\u8fc7Profile Provider API(\u914d\u7f6e\u63d0\u4f9b\u5668API).\\n* \u63d0\u4f9b\u5668\u7cfb\u7edf\u80fd\u591f\u8ba9\u4f60\u6539\u53d8\u80cc\u540e\u7684\u6570\u636e\u5b58\u50a8\u65b9\u5f0f, \u4f46\u662f\u7cfb\u7edf\u88ab\u8bbe\u8ba1\u6210\u5047\u8bbe\u4f60\u4f7f\u7528\u7684\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93. \u4f60\u53ef\u4ee5\u5b9e\u73b0\u5728\u975e\u5173\u7cfb\u578b\u5b58\u50a8\u673a\u5236\u5b58\u50a8\u4f1a\u5458\u4fe1\u606f\u7684\u63d0\u4f9b\u5668, \u6bd4\u5982 Azure Storage Tables, \u4f46\u662f\u4e4b\u540e\u4f60\u5c31\u4e0d\u5f97\u4e0d\u56f4\u7ed5\u7740\u5173\u7cfb\u578b\u8bbe\u8ba1\u6765\u5199\u5927\u91cf\u7684\u4ee3\u7801, \u800c\u4e14\u5bf9\u4e8e\u4e0d\u9002\u7528\u4e8e\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u65b9\u6cd5\u9700\u8981\u5199\u5927\u91cf\u7684System.NotImplementationException\u5f02\u5e38\u629b\u51fa.\\n* \u81ea\u4ece\u767b\u9646/\u767b\u51fa\u529f\u80fd\u662f\u57fa\u4e8e\u8868\u5355\u8ba4\u8bc1\u7684, \u4f1a\u5458\u7cfb\u7edf\u5c31\u4e0d\u80fd\u591f\u4f7f\u7528OWIN, OWIN\u5305\u542b\u4e86\u5bf9\u4e8e\u8ba4\u8bc1\u7684\u4e2d\u95f4\u4ef6, \u4e5f\u5305\u62ec\u4e86\u5bf9\u4e8e\u5916\u90e8\u8eab\u4efd\u7cfb\u7edf(\u50cfMicrsoft Account, Facebook, Google, Twitter)\u767b\u9646\u7684\u652f\u6301, \u800c\u4e14log-ins\u53ef\u4ee5\u4ece\u6d3b\u52a8\u76ee\u5f55\u6216\u8005Azure\u6d3b\u52a8\u76ee\u5f55\u4f7f\u7528\u7ec4\u7ec7\u8d26\u53f7. OWIN\u4e5f\u5305\u62ec\u4e86\u5bf9\u4e8eOAuth 2.0\uff0c JWT(JSON Web Token)\u548cCORS(Corss Origin Request Source)\u7684\u652f\u6301.  (Alan: [Using JWT to implement Authentication on Asp.net web api](http://stackoverflow.com/questions/23674613/using-jwt-to-implement-authentication-on-asp-net-web-api))\\n\\n### ASP.Net Simple Membership\\n\\nASP.net simple membership \u88ab\u5f00\u53d1\u6210ASP.Net Web Pages\u7684\u4f1a\u5458\u7cfb\u7edf. \u5b83\u968f\u540cWebMatrix\u548cVisual Studio 2010 SP1\u4e00\u8d77\u53d1\u5e03. Simple Membership\u7684\u76ee\u6807\u662f\u4f7fWeb Pages\u5e94\u7528\u6dfb\u52a0\u4f1a\u5458\u529f\u80fd\u66f4\u52a0\u5bb9\u6613.\\nSimple Membership \u4f7f\u81ea\u5b9a\u4e49\u7528\u6237\u914d\u7f6e\u4fe1\u606f\u66f4\u52a0\u5bb9\u6613, \u4f46\u662f\u5728\u548cASP.Net Membership\u5171\u4eab(Alan: \u5e94\u8be5\u662f\u5171\u5b58\u7684\u610f\u601d)\u6709\u4e00\u4e9b\u5176\u4ed6\u95ee\u9898, \u800c\u4e14\u6709\u4e00\u4e9b\u9650\u5236:\\n\\n* \u5f88\u96be\u5728\u975e\u5173\u7cfb\u578b\u6570\u636e\u5b58\u50a8\u4e2d\u6301\u4e45\u5316\u4f1a\u5458\u7cfb\u7edf.\\n* \u4f60\u4e0d\u53ef\u4ee5\u4f7f\u7528OWIN.\\n* \u4ed6\u4e0d\u80fd\u548c\u73b0\u6709\u5df2\u7ecf\u5b58\u5728\u7684ASP.Net Mebership\u5b9e\u73b0(provider)\u5f88\u597d\u5730\u5de5\u4f5c, \u800c\u4e14\u5b83\u4e0d\u53ef\u6269\u5c55.\\n\\n### ASP.Net Universal Providers\\n\\n\u4e3a\u4e86\u80fd\u591f\u5728Microsoft Azure SQL Database\u4e2d\u6301\u4e45\u5316\u4f1a\u5458\u4fe1\u606f, ASP.Net Universal Provider(\u901a\u7528\u63d0\u4f9b\u5668)\u88ab\u5f00\u53d1\u51fa\u6765, \u800c\u4e14\u5b83\u4e5f\u53ef\u4ee5\u548cSQL Server Compact\u4e00\u8d77\u5de5\u4f5c. Universal Providers \u4f9d\u8d56\u4e8eEF Code First, \u8fd9\u610f\u5473\u7740Universal Providers\u53ef\u4ee5\u5728\u4efb\u4f55\u652f\u6301EF\u7684\u5b58\u50a8\u65b9\u5f0f\u4e0a\u6301\u4e45\u5316\u6570\u636e(Alan: \u4e5f\u5c31\u662f\u4f7f\u7528). \u4f7f\u7528Universal Provider, \u6570\u636e\u5e93\u67b6\u6784\u4e5f\u53d8\u7684\u975e\u5e38\u7b80\u6d01.\\nUniversal Providers\u662f\u57fa\u4e8eASP.Net Membership\u57fa\u7840\u8bbe\u65bd, \u56e0\u6b64, \u4f5c\u4e3aSQLMembership Provider, Universal Provider\u4e5f\u5e26\u6765\u4e86\u540c\u6837\u7684\u9650\u5236. \u90a3\u5c31\u662f\u4ed6\u4eec\u90fd\u88ab\u8bbe\u8ba1\u6210\u9488\u5bf9\u5173\u7cfb\u578b\u6570\u636e\u5e93, \u800c\u4e14\u5f88\u96be\u81ea\u5b9a\u4e49\u914d\u7f6e\u548c\u7528\u6237\u4fe1\u606f. \u8fd9\u4e9b\u63d0\u4f9b\u5668\u4e5f\u4e00\u76f4\u4f7f\u7528\u8868\u5355\u8ba4\u8bc1\u7684\u767b\u5165/\u767b\u51fa\u529f\u80fd.\\n\\n### ASP.Net Identity\\n\\nASP.Net\u7684\u4f1a\u5458\u7cfb\u7edf\u7ecf\u8fc7\u8fd9\u4e48\u591a\u5e74\u7684\u8fdb\u5316, ASP.Net\u56e2\u961f\u4ece\u5ba2\u6237\u90a3\u91cc\u83b7\u5f97\u4e86\u5e76\u5438\u6536\u4e86\u5f88\u591a\u53cd\u9988.\\n\u5982\u679c\u7528\u6237\u4f7f\u7528\u5b83\u4eec\u6ce8\u518c\u65f6\u586b\u5199\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u6765\u767b\u9646\u7684\u5047\u8bbe\u4e0d\u518d\u6709\u6548(Alan: \u5927\u6982\u610f\u601d\u5e94\u8be5\u662f\u7528\u6237\u90fd\u4e0d\u518d\u901a\u8fc7\u6ce8\u518c\u7136\u540e\u767b\u9646\u7684\u5f62\u5f0f\u6765\u8bbf\u95ee\u7f51\u7ad9). Web\u5c31\u53d8\u5f97\u66f4\u52a0\u793e\u4ea4(\u793e\u4f1a\u5316). \u7528\u6237\u901a\u8fc7\u793e\u4ea4\u9891\u9053(\u6bd4\u5982FB, Twitter, \u6216\u8005\u5176\u4ed6\u793e\u4ea4\u7f51\u7ad9)\u5b9e\u65f6\u4e0e\u4ed6\u4eba\u4ea4\u6d41. \u5f00\u53d1\u8005\u7cfb\u7edf\u7528\u6237\u80fd\u591f\u4f7f\u7528\u5b83\u4eec\u7684\u793e\u4ea4\u8d26\u53f7\u6765\u767b\u9646, \u8fd9\u6837\u7528\u6237\u5728\u4ed6\u4eec(\u5f00\u53d1\u8005)\u7684\u7f51\u7ad9\u4e0a\u80fd\u591f\u83b7\u5f97\u66f4\u52a0\u4e30\u5bcc\u7684\u4f53\u9a8c. \u4e00\u4e2a\u73b0\u4ee3\u7684\u5e94\u7528\u5fc5\u987b\u62e5\u6709\u57fa\u4e8e\u8df3\u8f6c-\u767b\u9646\u7684\u8ba4\u8bc1\u63d0\u4f9b\u5668(\u6bd4\u5982FB, Twitter\u6216\u8005\u5176\u4ed6)(Alan: \u5c31\u662f\u7b2c\u4e09\u65b9\u767b\u9646).\\n\u56e0\u4e3aWeb\u5f00\u53d1\u7684\u6f14\u8fdb, Web\u5f00\u53d1\u51fa\u73b0\u4e86\u4e00\u4e9b\u8bbe\u8ba1\u6a21\u5f0f/\u7f51\u7ad9\u67b6\u6784.(Alan: \u5927\u6982\u662f\u8fd9\u4e2a\u610f\u601d) \u5e94\u7528\u4ee3\u7801\u7684\u5355\u5143\u6d4b\u8bd5\u53d8\u6210\u4e86\u5e94\u7528\u5f00\u53d1\u8005\u7684\u6838\u5fc3\u90e8\u5206. \u57282008\u5e74, ASP.Net\u6dfb\u52a0\u4e86\u57fa\u4e8eMVC\u6a21\u5f0f\u7684\u65b0\u6846\u67b6, \u4f5c\u4e3a\u5e2e\u52a9\u5f00\u53d1\u8005\u5f00\u53d1\u53ef\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u7684ASP.Net\u5e94\u7528\u7684\u90e8\u5206. \u5e0c\u671b\u80fd\u591f\u5bf9\u5e94\u7528\u7a0b\u5e8f\u7684\u903b\u8f91\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u7684\u5f00\u53d1\u8005\u540c\u6837\u4e5f\u5e0c\u671b\u80fd\u591f\u5bf9\u4f1a\u5458\u7cfb\u7edf\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5.\\n\u8003\u8651\u5230Web\u5e94\u7528\u5f00\u53d1\u4e2d\u7684\u8fd9\u4e9b\u6539\u53d8, Asp.Net Identity\u4e3a\u4e86\u5b9e\u73b0\u4e00\u4e0b\u76ee\u6807\u88ab\u5f00\u53d1\u51fa\u6765:\\n\\n* \u4e00\u7edf\u6c5f\u6e56\u7684ASP.Net Identity\u7cfb\u7edf\\n\\t* ASP.Net Identity \u53ef\u4ee5\u5e94\u7528\u4e8e\u6240\u6709\u7684ASP.Net\u6846\u67b6, \u6bd4\u5982ASP.Net MVC, Web Forms, Web Pages, Web API\u548cSignalR\u3002\\n\\t* \u5f53\u4f60\u521b\u5efaWeb, Phone, Store\u6216\u8005\u6df7\u5408\u5e94\u7528\u7684\u65f6\u5019\u4e5f\u53ef\u4ee5\u4f7f\u7528ASP.Net Identity.\\n\\n* \u7528\u6237\u4e2a\u4eba\u4fe1\u606f\u6570\u636e\u6613\u4e8e\u6269\u5c55(Ease of plugging in profile data about the user)\\n\\t* \u4f60\u53ef\u4ee5\u63a7\u5236\u7528\u6237\u548c\u914d\u7f6e\u4fe1\u606f\u7684\u67b6\u6784(Alan: \u4e00\u822c\u6307\u8868\u7ed3\u6784). \u6bd4\u5982, \u5f53\u7528\u6237\u5728\u4f60\u7684\u5e94\u7528\u4e2d\u6ce8\u518c\u65f6, \u4f60\u53ef\u4ee5\u5f88\u5bb9\u6613\u5b58\u50a8\u7528\u6c49\u8bed\u7684\u751f\u65e5.\\n\\n* \u6301\u4e45\u5316\u63a7\u5236(Alan: \u5176\u5b9e\u5c31\u662f\u6570\u636e\u5b58\u50a8\u65b9\u6848\u7684\u9009\u62e9, \u6bd4\u5982\u5173\u7cfb\u578b\u6570\u636e\u5e93, \u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93, \u751a\u81f3XML)\\n\\t* \u9ed8\u8ba4\u60c5\u51b5\u4e0b, ASP.Net Identity\u5c06\u6240\u6709\u7684\u7528\u6237\u4fe1\u606f\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d. ASP.Net Identity\u4f7f\u7528EF Code First\u6765\u5b9e\u73b0\u6240\u6709\u7684\u6301\u4e45\u5316\u673a\u5236.\\n\\t* \u4f60\u53ef\u4ee5\u63a7\u5236\u6570\u636e\u67b6\u6784\u548c\u5e38\u89c1\u7684\u4efb\u52a1, \u6bd4\u5982\u6539\u53d8\u8868\u540d\u6216\u8005\u6539\u53d8\u4e3b\u952e\u6570\u636e\u7c7b\u578b.\\n\\t* \u5f88\u5bb9\u5c31\u80fd\u66ff\u6362\u6210\u5176\u4ed6\u7684\u5b58\u50a8\u673a\u5236\uff0c \u6bd4\u5982SharePoint, Azure Storage Table Service, NoSQL\u6570\u636e\u5e93\u7b49\u7b49, \u800c\u4e14\u4e0d\u9700\u8981\u5fc5\u987b\u629b\u51faSystem.NotImplementedException\u5f02\u5e38.\\n\\n* \u53ef\u5355\u5143\u6d4b\u8bd5\\n\\t* ASP.Net Identity \u4f7fWeb\u5e94\u7528\u53ef\u5355\u5143\u6d4b\u8bd5. \u4f60\u53ef\u4ee5\u5199ASP.Net Identity\u90e8\u5206\u7684\u5355\u5143\u6d4b\u8bd5.\\n\\n* \u89d2\u8272\u63d0\u4f9b\u5668\\n\\t* \u6709\u4e00\u4e2a\u89d2\u8272\u63d0\u4f9b\u5668\u80fd\u591f\u8ba9\u4f60\u9650\u5236\u8bbf\u95ee\u4f60\u7684\u5e94\u7528\u7684\u67d0\u4e2a\u90e8\u5206. \u4f60\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u521b\u5efa\u89d2\u8272, \u6bd4\u5982\\"Admin\\" \u7136\u540e\u6dfb\u52a0\u7528\u6237\u5230\u89d2\u8272.\\n\\n* \u57fa\u4e8eClaims (Alan: claims\u662fASP.Net\u5f88\u5e95\u5c42\u7684\u4e00\u4e2a\u4e1c\u897f\u4e86, HttpContext.Current\u4e2d\u7684[User](https://msdn.microsoft.com/en-us/library/system.web.httpcontext.user.aspx)\u8fd4\u56de\u7684\u5c31\u662f\u5b9e\u73b0\u4e86IPrincipal\u7684\u4e00\u4e2a\u5bf9\u8c61. [Note](http://stackoverflow.com/questions/1064271/asp-net-mvc-set-custom-iidentity-or-iprincipal/10524305#10524305))\\n\\t* ASP.Net Identity\u652f\u6301claims-base\u7684\u8ba4\u8bc1, \u7528\u6237\u7684\u8eab\u4efd\u88ab\u8868\u793a\u6210\u4e00\u4e2aclaims\u96c6\u5408. Claims\u5141\u8bb8\u5f00\u53d1\u8005\u63cf\u8ff0\u89d2\u8272\u5141\u8bb8\u7684\u7528\u6237\u8eab\u4efd. \u800c\u89d2\u8272\u4ec5\u4ec5\u662f\u4e00\u4e2a\u5e03\u5c14\u503c(\u662f\u89d2\u8272\u6210\u5458\u6216\u4e0d\u662f), claim\u53ef\u4ee5\u5305\u62ec\u7528\u6237\u8eab\u4efd\u548c\u5173\u7cfb\u7684\u4e30\u5bcc\u4fe1\u606f.\\n\\n* \u793e\u4ea4\u767b\u5f55\u63d0\u4f9b\u5668\\n\\t* \u4f60\u53ef\u4ee5\u5f88\u5bb9\u6613\u6dfb\u52a0\u793e\u4ea4\u767b\u5f55\u529f\u80fd\u4f7f\u7528Azure\u6d3b\u52a8\u76ee\u5f55, \u7136\u540e\u5728\u4f60\u7684\u5e94\u7528\u91cc\u5b58\u50a8\u7528\u6237\u7279\u6b8a\u6570\u636e.\\n\\n* \u96c6\u6210OWIN\\n\\t* ASP.Net Identity \u8ba4\u8bc1\u73b0\u5728\u662f\u57fa\u4e8eOWIN\u4e2d\u95f4\u4ef6, \u53ef\u4ee5\u88ab\u4f7f\u7528\u5728\u4efb\u4f55\u57fa\u4e8eOWIN\u7684\u5bbf\u4e3b\u4e0a. ASP.Net Identity\u5728System.Web\u4e0a\u6ca1\u6709\u4efb\u4f55\u4f9d\u8d56. \u5b83\u5b8c\u5168\u517c\u5bb9OWIN\u6846\u67b6, \u5e76\u53ef\u4ee5\u88ab\u4f7f\u7528\u5728\u4efb\u4f55\u57fa\u4e8eOWIN\u7684\u5bbf\u4e3b\u5e94\u7528\u4e2d.\\n\\n* NugGet\u5305\u7ba1\u7406\\n\\t* ASP.Net Identity\u4f7f\u7528NuGet\u5305\u7ba1\u7406\u8fdb\u884c\u5206\u53d1. \u800cNuGet\u5de5\u5177\u88ab\u5b89\u88c5\u5728VS 2013\u4e2d. \u4f60\u53ef\u4ee5\u4eceNuGet\u4e0a\u4e0b\u8f7d.\\n\\t* \u5c06ASP.Net Identity\u53d1\u5e03\u5728NuGet\u4e0a, \u53ef\u4f7fASP.Net\u56e2\u961f\u5f88\u5bb9\u6613\u8fed\u4ee3\u65b0\u7279\u6027\u548c\u4fee\u590dbug, \u800c\u4e14\u53ef\u4ee5\u66f4\u5feb\u6377\u5730\u5206\u53d1\u5230\u5f00\u53d1\u8005\u624b\u91cc.\\n\\n\\n### ASP.Net Identity\u8d77\u6b65\\n\\nASP.Net Identity\u88ab\u7528\u5728VS 2013 \u7684MVC, Web Forms, Web API\u548cSPA\u6a21\u677f\u91cc. \u5728\u8fd9\u4e2a\u6f14\u7ec3\u91cc, \u6211\u4eec\u5c06\u8bf4\u660e\u9879\u76ee\u6a21\u677f\u5982\u679c\u4f7f\u7528ASP.Net Identity\u7684\u6ce8\u518c, \u767b\u9646\u548c\u767b\u51fa\u529f\u80fd\u7684.\\nASP.Net Identity\u88ab\u5b9e\u73b0\u4f7f\u7528\u4e0b\u9762\u6b65\u9aa4. \u8fd9\u7bc7\u6587\u7ae0\u7684\u76ee\u7684\u662f\u8ba9\u4f60\u5bf9ASP.Net Identity\u6709\u4e00\u4e2a\u6982\u89c8; \u4f60\u53ef\u4ee5\u8ddf\u7740\u4e00\u6b65\u4e00\u6b65\u7684\u64cd\u4f5c\u6216\u8005\u4ec5\u4ec5\u9605\u8bfb\u8be6\u7ec6\u4fe1\u606f. \u50cf\u83b7\u5f97\u4f7f\u7528ASP.Net Identity\u521b\u5efa\u5e94\u7528\u7684\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd, \u5305\u62ec\u4f7f\u7528\u65b0\u7684API\u6765\u6dfb\u52a0\u7528\u6237, \u89d2\u8272\u548c\u914d\u7f6e\u4fe1\u606f, \u53ef\u4ee5\u67e5\u770b\u6587\u7ae0\u5e95\u90e8\u7684\u4e0b\u4e00\u6b65\u8282.\\n\\n+ \u4f7f\u7528\u72ec\u7acb\u8d26\u53f7(Individual User Accounts)\u521b\u5efaASP.Net MVC\u5e94\u7528.\u4f60\u53ef\u4ee5\u4f7f\u7528ASP.Net Identity\u5728ASP.Net MVC, Web Forms, Web API, SignalR\u7b49\u7b49\u9879\u76ee\u4e2d. \u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\u6211\u4eec\u5f00\u59cb\u521b\u5efa\u4e00\u4e2aASP.Net MVC\u5e94\u7528. [\u56fe\u7247](http://i2.asp.net/media/4459035/mvc.PNG?cdn_id=2015-05-22-001)\\n+ \u521b\u5efa\u7684\u9879\u76ee\u5305\u542b\u4ee5\u4e0b\u4e09\u4e2aASP.Net Identity\u76f8\u5173\u7684\u5305\\n\\t* *Microsoft.AspNet.Identity.EntityFramework*\\n\\t\u8fd9\u4e2a\u5305\u6709ASP.Net Identity\u7684EF\u5b9e\u73b0, \u5b83\u5c06\u4f1a\u6301\u4e45\u5316ASP.Net Identity\u6570\u636e\u548c\u67b6\u6784\u5728SQL Server\u91cc.\\n\\t* *Microsoft.AspNet.Identity.Core*\\n\\t\u8fd9\u4e2a\u5305\u5305\u542bASP.Net Identity\u7684\u6838\u5fc3\u63a5\u53e3. \u8fd9\u4e2a\u5305\u53ef\u4ee5\u88ab\u7528\u6765\u5b9e\u73b0\u4e0d\u540c\u7684\u6301\u4e45\u5316\u5b58\u50a8, \u6bd4\u5982Azure Table Storage, NoSQL\u6570\u636e\u5e93\u7b49.\\n\\t* *Microsoft.AspNet.Identity.OWIN*\\n\\t\u8fd9\u4e2a\u5305\u5305\u542b\u5c06ASP.Net Identity\u7684OWIN\u8ba4\u8bc1\u63d2\u5165\u5230ASP.Net\u5e94\u7528\u7684\u529f\u80fd. \u8fd9\u88ab\u7528\u6765\u7ed9\u4f60\u7684\u5e94\u7528\u6dfb\u52a0\u767b\u9646\u529f\u80fd\u5e76\u8c03\u7528OWIN Cookie Authentication\u4e2d\u95f4\u4ef6\u6765\u751f\u6210Cookie\u7684\u529f\u80fd.\\n\\n+ \u521b\u5efa\u7528\u6237"},{"id":"/2019/03/20/vim-config","metadata":{"permalink":"/blog/2019/03/20/vim-config","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2019-03-20-vim-config.md","source":"@site/src/blog/2019-03-20-vim-config.md","title":"\u6211\u7684Vim\u914d\u7f6e","description":"\u6211\u7684Vim\u914d\u7f6e","date":"2019-03-20T00:00:00.000Z","formattedDate":"March 20, 2019","tags":[{"label":"vim","permalink":"/blog/tags/vim"},{"label":"editor","permalink":"/blog/tags/editor"}],"readingTime":1.035,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u6211\u7684Vim\u914d\u7f6e","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["vim","editor"],"description":"\u6211\u7684Vim\u914d\u7f6e","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"ASP.Net \u8eab\u4efd\u6a21\u5757\u4ecb\u7ecd","permalink":"/blog/2019/05/14/asp-net-identity-module"},"nextItem":{"title":"\u5f02\u6b65\u7f16\u7a0b\u7b80\u4ecb","permalink":"/blog/2019/03/06/async"}},"content":"\u6211\u7684Vim\u57fa\u672c\u914d\u7f6e: \\n\\n\x3c!--truncate--\x3e\\n\\n## \u914d\u7f6e\\n\\nWindows\u914d\u7f6e\u6587\u4ef6\u4e3a `~/_vimrc`, Unix\u914d\u7f6e\u6587\u4ef6\u4e3a `~/.vimrc`\\n\\n\u914d\u7f6e\u5185\u5bb9\u4e3a: \\n\\n```rc title=\\".vimrc\\"\\n\\"colo koehler\\nfiletype plugin on\\nset rnu\\nset nu\\nset nocompatible\\nset noswapfile\\nset noswf\\nset encoding=utf-8\\nset fileencoding=utf-8\\nset autoindent\\nset showcmd\\n\\nset shiftwidth=4\\nset tabstop=4\\nset softtabstop=4\\n```\\n\\n## \u5176\u4ed6\\n\\n### Vim Ctrl + S\\n\\n* [Pressing \\"Ctrl + S\\" by mistake while using Vim](https://superuser.com/questions/1390977/pressing-ctrl-s-by-mistake-while-using-vim)\\n* [Vim Trick: Map CTRL+S to Save](https://www.rockyourcode.com/vim-trick-map-ctrl-s-to-save/)\\n\\n**\u89e3\u91ca**\\n\\n\u5f53\u4f60\u5728vim\u4f7f\u7528**ctrl+s**\u5feb\u6377\u952e\u4e4b\u540e, vim\u597d\u50cf\u88ab\u9501\u5b9a\u4e86, \u9664\u975e\u4f60\u6309\u4e0b**ctrl+q**\u9000\u51fa\u8be5\u6a21\u5f0f. \u8fd9\u4e2a\u53eb\u505a [Software flow control](https://en.wikipedia.org/wiki/Software_flow_control).\\n\\n**\u7981\u7528**\\n\\n\u7f16\u8f91`~/.bashrc`\u589e\u52a0\u4e00\u884c`stty -ixon`\u5373\u53ef\u7981\u7528vim\u7684`ctrl+s`\u529f\u80fd.\\n\\n**\u6539\u9020\u6210\u6587\u4ef6\u4fdd\u5b58**\\n\\n\u7981\u7528`ctrl+s`\u529f\u80fd\u4e4b\u540e, \u4fee\u6539vim\u914d\u7f6e\u6587\u4ef6(*.vimrc*), \u53ef\u4ee5\u628avim\u7684`ctrl+s`\u5feb\u6377\u952e\u6539\u6210\u4fdd\u5b58\u5f53\u524d\u6587\u4ef6:\\n```rc title=\\".vimrc\\"\\n\\" normal mode\\nnnoremap <silent><c-s> :<c-u>update<cr> \\n\\" visual mode\\nvnoremap <silent><c-s> <c-c>:update<cr>gv\\n\\" insert mode\\ninoremap <silent><c-s> <c-o>:update<cr>\\n```"},{"id":"/2019/03/06/async","metadata":{"permalink":"/blog/2019/03/06/async","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2019-03-06-async.md","source":"@site/src/blog/2019-03-06-async.md","title":"\u5f02\u6b65\u7f16\u7a0b\u7b80\u4ecb","description":"JavaScript","date":"2019-03-06T00:00:00.000Z","formattedDate":"March 6, 2019","tags":[{"label":"async","permalink":"/blog/tags/async"},{"label":"javascript","permalink":"/blog/tags/javascript"},{"label":"csharp","permalink":"/blog/tags/csharp"}],"readingTime":5.69,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u5f02\u6b65\u7f16\u7a0b\u7b80\u4ecb","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["async","javascript","csharp"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u6211\u7684Vim\u914d\u7f6e","permalink":"/blog/2019/03/20/vim-config"},"nextItem":{"title":"\u54f2\u5b66\u601d\u7ef4\u8bb2\u5802 - \u5361\u5c14\xb7\u96c5\u65af\u8d1d\u5c14\u65af","permalink":"/blog/2014/09/09/philosophy-note"}},"content":"## JavaScript\\n\\n### Promise\\n\\n#### \u7b80\u8ff0Promise\u53d1\u5c55\u5386\u7a0b\\n\\nPromise \u4e00\u8bcd\u6700\u65e9\u7531\u4e00\u4e2aC++\u5de5\u7a0b\u5e08\u7528\u5728Xanadu\u9879\u76ee\u4e2d, \u968f\u540ePromise\u88ab\u7528\u5728E\u8bed\u8a00\u5f53\u4e2d, \u8fd9\u53c8\u6fc0\u53d1\u4e86Python\u5f00\u53d1\u4eba\u5458\u7684\u7075\u611f, \u5c06\u5b83\u5b9e\u73b0\u6210\u4e86Twisted\u6846\u67b6\u7684`Deferred`\u5bf9\u8c61. 2007\u5e74, JavaScript\u6846\u67b6Dojo\u501f\u9274Twisted\u65b0\u589e\u4e86`dojo.Deferred`\u5bf9\u8c61. 2009\u5e74, Kris Zyp\u63d0\u51fa\u4e86CommonJS\u4e2d\u7684Promises/A\u89c4\u8303. #1\\n\\n\x3c!--truncate--\x3e\\n\\nQ.js\u662fPromises/A\u89c4\u8303\u6bd4\u8f83\u8457\u540d\u7684\u5b9e\u73b0. jQuery\u57281.5\u7248\u672c\u57fa\u4e8ePromises\uff0fA\u89c4\u8303\u52a0\u5165\u4e86Promise\u5b9e\u73b0, \u4e0d\u8fc7\u548cPromises/A\u6709\u4e00\u4e9b\u7ec6\u5fae\u7684\u5dee\u522b.\\n\\n\u4e3b\u8981\u533a\u522b\u662fDeferred\u548cPromise\u4e4b\u95f4\u7684\u533a\u522b, \u5728Q.js\u4e2ddeferred\u6709\u4e00\u4e2a`promise`\u5c5e\u6027\u4f5c\u4e3a\u552f\u4e00\u63a5\u53e3\u76d1\u542c\u72b6\u6001\u53d8\u5316, \u4f7f\u7528deferred\u5bf9\u8c61\u4e0a\u7684`resolve`\u548c`reject`\u51fd\u6570\u6539\u53d8\u72b6\u6001. \u800c\u5728jQuery\u4e2d`$.Deferred`\u5bf9\u8c61\u65e2\u662fpromise\u4e5f\u662fdeferred, \u80fd\u76d1\u542c\u72b6\u6001\u53d8\u5316, \u4e5f\u80fd\u6539\u53d8\u72b6\u6001. \u4e0d\u8fc7jQuery\u5728`$.Deferred`\u5bf9\u8c61\u4e0a\u63d0\u4f9b\u4e86`promise()`\u65b9\u6cd5\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2apromise #2.\\n\\n```javascript\\nfunction foo() {\\n    var result = Q.defer();\\n    result.resolve(10);\\n    return result.promise;\\n}\\n```\\n\\n```javascript\\nfunction foo() {\\n    var result = $.Deferred();\\n    result.resolve(10);\\n    return result; // or\\n    return result.promise();\\n}\\n```\\n\\n\u53e6\u5916\u5728ES6\u6807\u51c6\u4e2d\u5b9a\u4e49\u4e86\u539f\u751fPromise\u5bf9\u8c61 #3.\\n\\n#### \u5c55\u793aPromise\u5728Ajax\u8bf7\u6c42\u4e0a\u7684\u5e94\u7528\\n\\n```javascript\\n//Callback\\n$.get(url, {\\n    success: function() { \\n        renderPage();\\n        startAnimation();\\n        ...\\n    },\\n    fail: function() {\\n        alertError();\\n        ...\\n    }\\n})\\n\\n//Promise\\nlet promise = $.get(url);\\npromise.fail(function(){\\n     alertError();\\n     ...\\n});\\n\\n....//do other\\nrenderPage(promise);\\nstartAnimation(promise);\\n...\\n```\\n\\nPromise\u76f8\u5bf9\u4e8e\u4f20\u7edf\u7684\u56de\u8c03\u51fd\u6570\u65b9\u5f0f\u6700\u5927\u7684\u4f18\u52bf\u5c31\u662f\u5c01\u88c5, \u53ef\u4ee5\u628a\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u5f53\u6210\u4e00\u4e2a\u53c2\u6570\u8fdb\u884c\u4f20\u9012. \u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5f88\u8f7b\u677e\u4ece\u4e00\u4e2aPromise\u5bf9\u8c61\u6d3e\u751f\u51fa\u6765\u4e00\u4e2aPromise:\\n\\n```javascript\\n//ref: http://api.jquery.com/deferred.then/\\nvar defer = $.Deferred();\\nvar filtered = defer.then(function(value){\\n    return value * 2;\\n});\\n\\ndefer.resolve(10);\\nfiltered.then(function(value){\\n    console.log(value);  //value => 20\\n});\\n\\n//ref: https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\\nfetch(\'flowers.jpg\').then(function(response) {\\n  return response.blob();\\n}).then(function(myBlob) {\\n  var objectURL = URL.createObjectURL(myBlob);\\n  myImage.src = objectURL;\\n});\\n```\\n\\n\u4e5f\u53ef\u4ee5\u5c06\u591a\u4e2a\u5e76\u884c\u7684Promise\u5408\u5e76\u6210\u4e00\u4e2aPromise, \u7531\u540e\u8005\u8d1f\u8d23\u901a\u77e5\u524d\u9762\u7684\u4efb\u52a1\u90fd\u5df2\u7ecf\u5b8c\u6210:\\n\\n```javascript\\n$.when($.get(\\"/users\\"), $.get(\\"/roles\\"))\\n.then((data) => {\\n    let users = data[0];\\n    let roles =  data[1]\\n});\\n\\nPromise.all([fetch(\\"/users\\").then(data => data.json()), fetch(\\"/roles\\").then(data => data.json())])\\n.then(data => { \\n    let users = data[0];\\n    let roles = data[1];sa\\n}); \\n```\\n\\n#### \u7b80\u8ff0Promise\u548cPub/Sub\u7684\u533a\u522b\\n\\n* Promise\u4e00\u822c\u7528\u4e8e\u4e00\u6b21\u6027\u4e8b\u4ef6, \u4e8b\u4ef6\u7684\u7ed3\u679c\u6709\u4e24\u79cd. \u6bd4\u5982Ajax\u8bf7\u6c42, \u6587\u4ef6\u8bfb\u53d6.\\n\\n\\n```javascript\\nfetch(url).then(response => {}, error => {});\\nreadFile(path).then(data => {}, error => {});\\n```\\n\\n* Pub/Sub \u6a21\u5f0f\u4e00\u822c\u7528\u4e8e\u9700\u8981\u591a\u6b21\u89e6\u53d1, \u6709\u591a\u79cd\u7ed3\u679c. \u6bd4\u5982HTTP\u670d\u52a1\u5668: \\n\\n\\n```javascript\\nlet server = require(\\"http\\").createServer((req, res) => {\\n    res.end();\\n});\\nserver.on(\\"connection\\", socket => {\\n    //new connection\\n});\\nserver.on(\\"error\\", error => { });\\nserver.on(\\"close\\", () => { });\\nserver.listen(3001, () => {\\n    console.log(\\"listen 3001\\");\\n});\\n```\\n\\n\u6216\u8005Web\u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1, \u6bd4\u5982Angular 1.X\u4e2d\u7236\u5b50\u63a7\u5236\u5668\u901a\u8fc7\u4e8b\u4ef6\u4f20\u64ad\u901a\u4fe1.\\n\\n\u53e6\u5916\u4f7f\u7528 $({}) \u53ef\u4ee5\u5feb\u901f\u5b9e\u73b0\u4e00\u4e2a Pub/Sub \u6a21\u5f0f:\\n\\n```javascript\\nlet $pubSub = $({});\\n$pubSub.on(\\"message\\", (e, message) => {\\n    console.log(message); //=> Hello\\n});\\n$pubSub.trigger(\\"message\\", [\\"Hello\\"]);\\n```\\n\\n### Generator\\n\\nES6\u9664\u4e86\u5185\u7f6ePromise\u51fd\u6570, \u4e5f\u589e\u52a0\u4e86\u751f\u6210\u5668\u7279\u6027. \\n\u5229\u7528\u751f\u6210\u5668\u53ef\u4ee5\u6a21\u4effC#\u4ee3\u7801\u4e2d\u7684async/await\u6a21\u5f0f, \u8ba9\u5f02\u6b65\u4ee3\u7801\u7f16\u5199\u8d77\u6765\u66f4\u50cf\u540c\u6b65\u4ee3\u7801.\\n\\n#### \u4e00\u4e2a\u7b80\u5355\u7684\u751f\u6210\u5668\u51fd\u6570\u4f8b\u5b50\\n\\n```javascript\\nfunction* generator(){\\n    console.log(yield \\"hello\\"); \\n    console.log(\\"continue\\");\\n    console.log(yield \\"world\\");\\n}\\nlet gen = generator(); \\nconsole.log(gen.next()); \\nconsole.log(gen.next(\\"first\\")); \\nconsole.log(gen.next(\\"second\\")); \\n\\n/* output:\\n{ value: \'hello\', done: false }\\nfirst\\ncontinue\\n{ value: \'world\', done: false }\\nsecond\\n{ value: undefined, done: true } //undfined \u662f\u56e0\u4e3a\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\\n*/\\n```\\n\\n\u53ef\u4ee5\u5229\u7528\u751f\u6210\u5668\u7684`yield async()`\u8ba9\u51fd\u6570\u6682\u505c, \u518d\u4f7f\u7528`next(data)`\u5f02\u6b65\u5c06\u7ed3\u679c\u4f20\u9012\u51fa\u53bb\u6765\u6a21\u62dfasync/await\u7279\u6027: \\n\\n```javascript\\nlet fs = require(\\"fs\\");\\nfunction readFile(path){\\n    fs.readFile(__dirname + path, (error, data) => {\\n        gen.next(data.toString());\\n    });\\n    return path;\\n}\\n\\nfunction* generator(){\\n    let pkg = yield readFile(\\"/package.json\\");\\n    let index = yield readFile(\\"/index.html\\");\\n}\\nlet gen = generator();\\ngen.next(); //=> { value: \'/package.json\', done: false }\\n```\\n\\n\u8fdb\u4e00\u6b65\u5c01\u88c5\\n\\n```javascript\\nlet fs = require(\\"fs\\");\\nfunction runAsync(generator) {\\n    let it = generator(), yieldValue;\\n\\n    function recurise(value) {\\n        yieldValue = it.next(value);\\n        if (yieldValue.done) { return; }\\n\\n        yieldValue.value.then(response => {\\n            recurise(response);\\n        }, error => {\\n            it.throw(error);\\n        });\\n    }\\n    recurise();\\n}\\nfunction readFile(path) { //\u8bfb\u53d6\u6587\u4ef6\\n    return new Promise((resolve, reject) => {\\n        fs.readFile(__dirname + path, (error, data) => {\\n            if (error) reject(error);\\n            else resolve(data.toString());\\n        });\\n    });\\n}\\nrunAsync(function* () { //\u4f7f\u7528\\n    let pkg = yield readFile(\\"/package.json\\");\\n    let index = yield readFile(\\"/index.html\\");\\n});\\n```\\n\\n### async/await\\n\\n\u4eceES7\u5f00\u59cb, JavaScript\u5185\u7f6e\u4e86async/await\u7279\u6027, \u53ef\u4ee5\u66f4\u65b9\u4fbf\u7f16\u5199\u5f02\u6b65\u4ee3\u7801.\\n\\n> The async and await keywords first hit the scene way back in 2010, when it was introduced in FSharp, CSharp, and VB followed fairly quickly in 2012, with Python and TypeScript adopting them in 2015.\\n[Async JavaScript](https://blog.stephencleary.com/2017/06/async-javascript.html)\\n\\n\\n## C#\\n\\n* \u4e0a\u4e0b\u6587\u6355\u83b7 \u5bfc\u81f4\u5f02\u5e38 \\n* \u95ed\u5305 \u548c JS \u95ed\u5305\u53d8\u91cf\u6355\u83b7\u7684\u533a\u522b\\n\\n```csharp\\n/// <summary>\\n/// \u8fed\u4ee3\u5b50\u90e8\u95e8\\n/// </summary>\\n/// <param name=\\"departments\\">\u6240\u6709\u90e8\u95e8</param>\\n/// <param name=\\"root\\">\u6839\u90e8\u95e8</param>\\n/// <returns></returns>\\npublic static IEnumerable<Department> IterateDepartments(IEnumerable<Department> departments, Department root)\\n{\\n    if (departments == null) throw new ArgumentNullException(\\"departments\\");\\n    if (root == null) throw new ArgumentNullException(\\"root\\");\\n    if (String.IsNullOrWhiteSpace(root.DeptID)) throw new ArgumentNullException(\\"DeptId\\", \\"\u90e8\u95e8Id\u4e0d\u80fd\u4e3a\u7a7a\\");\\n\\n    foreach (Department child in departments.Where(dept => dept.ParentID == root.DeptID))\\n    {\\n        yield return child;\\n        foreach (var iterator in IterateDepartments(departments, child))\\n        {\\n            yield return iterator;\\n        }\\n    }\\n}\\n\\npublic IEnumerator<IEnumerator<Foo>> GetEnumerator()\\n{\\n    yield return Database[id].GetEnumerator();\\n}\\n```\\n\\nRxJS\\n\\n\\n* [1](https://en.wikipedia.org/wiki/Futures_and_promises)\\n* [2](https://github.com/kriskowal/q/wiki/Coming-from-jQuery)\\n* [3](http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects)"},{"id":"/2014/09/09/philosophy-note","metadata":{"permalink":"/blog/2014/09/09/philosophy-note","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2014-09-09-philosophy-note.md","source":"@site/src/blog/2014-09-09-philosophy-note.md","title":"\u54f2\u5b66\u601d\u7ef4\u8bb2\u5802 - \u5361\u5c14\xb7\u96c5\u65af\u8d1d\u5c14\u65af","description":"\u300a\u54f2\u5b66\u601d\u7ef4\u8bb2\u5802 - \u5361\u5c14\xb7\u96c5\u65af\u8d1d\u5c14\u65af\u300b\u6458\u6284","date":"2014-09-09T00:00:00.000Z","formattedDate":"September 9, 2014","tags":[{"label":"\u54f2\u5b66\u601d\u7ef4\u8bb2\u5802","permalink":"/blog/tags/\u54f2\u5b66\u601d\u7ef4\u8bb2\u5802"}],"readingTime":1.915,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4"}],"frontMatter":{"title":"\u54f2\u5b66\u601d\u7ef4\u8bb2\u5802 - \u5361\u5c14\xb7\u96c5\u65af\u8d1d\u5c14\u65af","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://avatars.githubusercontent.com/u/2927578?s=460&u=153132e7aa3be8295a1703af9b759ca22338f557&v=4","tags":["\u54f2\u5b66\u601d\u7ef4\u8bb2\u5802"],"description":"\u300a\u54f2\u5b66\u601d\u7ef4\u8bb2\u5802 - \u5361\u5c14\xb7\u96c5\u65af\u8d1d\u5c14\u65af\u300b\u6458\u6284","draft":false,"hide_table_of_contents":false},"prevItem":{"title":"\u5f02\u6b65\u7f16\u7a0b\u7b80\u4ecb","permalink":"/blog/2019/03/06/async"},"nextItem":{"title":"\u6570\u5b66\u7cfb\u548c\u7269\u7406\u7cfb\u5b66\u751f\u6709\u4ec0\u4e48\u5dee\u522b\uff1f","permalink":"/blog/2014/09/04/math-physics-diff"}},"content":"\u300a\u54f2\u5b66\u601d\u7ef4\u8bb2\u5802 - \u5361\u5c14\xb7\u96c5\u65af\u8d1d\u5c14\u65af\u300b\u6458\u6284\\n\\n\x3c!--truncate--\x3e\\n\\n1. \u6211\u4eec\u4e0d\u5e94\u539a\u53e4\u8584\u4eca\u3002\u4eca\u5929\u5355\u4e2a\u7684\u4eba\u62d2\u7edd\u865a\u5047\u7684\u5b89\u6170\uff0c\u9762\u5bf9\u6700\u7cdf\u7cd5\u7684\u72b6\u6001\uff0c\u4ecd\u7136\u4fdd\u6301\u5766\u7387\u7684\u771f\u8bda\uff0c\u4ece\u65e0\u77e5\u7684\u4fe1\u4ef0\u51fa\u53d1\uff0c\u7b80\u6734\u5730\u5c65\u884c\u65e5\u5e38\u5de5\u4f5c\uff0c\u5e76\u4e14\u4e50\u89c2\u5730\u6b7b\u53bb\u3002\u8fd9\u6837\u7684\u4eba\u662f\u591a\u4e48\u81ea\u7531\uff0c\u591a\u4e48\u5177\u6709\u7d20\u6734\u7684\u5c0a\u4e25\uff01\u4e00\u4e2a\u81ea\u8eab\u6240\u662f\u7684\u4eba\uff0c\u8fd9\u662f\u591a\u4e48\u707f\u70c2\u593a\u76ee\u7684\u4eba\u7684\u3002\\n2. \u4e16\u754c\u89e3\u9664\u4e86\u5deb\u672f\u3002\u79d1\u5b66\u548c\u6280\u672f\u628a\u6211\u4eec\u4ece\u5deb\u672f\u4e2d\u89e3\u653e\u51fa\u6765\uff0c\u800c\u4e14\u4f7f\u5f97\u6211\u4eec\u5728\u81ea\u7136\u4e2d\u5f88\u5bb9\u6613\u7ef4\u6301\u6211\u4eec\u7684\u7269\u8d28\u751f\u5b58\u3002\u4eca\u5929\uff0c\u5deb\u672f\u64cd\u4f5c\u4e0d\u4ec5\u5728\u5b9e\u8df5\u4e0a\u662f\u4e00\u79cd\u4e0d\u6cd5\u884c\u4e3a\uff0c\u800c\u4e14\u662f\u4e00\u79cd\u80cc\u53db\u81ea\u8eab\u77e5\u6027\u7684\u4eba\u7684\u4e0d\u8bda\u5b9e\u884c\u4e3a\u3002\u5c3d\u7ba1\u4e16\u754c\u89e3\u9664\u4e86\u5deb\u672f\uff0c\u4f46\u662f\u4eba\u4eec\u5728\u6280\u672f\u5b9e\u8df5\u65b9\u9762\u4ea7\u751f\u7684\u611f\u53d7\u5374\u662f\u5b8c\u5168\u76f8\u53cd\u7684\u3002\u5b9e\u9645\u4e0a\uff0c\u5f53\u4eba\u4eec\u5f00\u7535\u706f\uff0c\u8c03\u51c6\u6536\u97f3\u673a\uff0c\u9a7e\u9a76\u6c7d\u8f66\u65f6\uff0c\u4ed6\u4eec\u5e76\u4e0d\u77e5\u9053\u90a3\u91cc\u53d1\u751f\u4ec0\u4e48\u4e8b\u60c5\u3002\u4eba\u4eec\u5b66\u4e60\u6280\u672f\u64cd\u4f5c\uff0c\u4f46\u4ed6\u4eec\u53ea\u77e5\u9053\u8fd9\u4ef6\u4e8b\u4e0d\u8db3\u4e3a\u5947\uff0c\u4ea6\u5373\u79d1\u5b66\u6280\u672f\u4f7f\u7136\u3002\u4f46\u662f\uff0c\u4eba\u4eec\u671f\u671b\u4e16\u754c\u4e2d\u7684\u4e00\u5207\u90fd\u53d8\u6210\u8fd9\u4e2a\u6837\u5b50\u3002\u5e76\u4e14\uff0c\u4ed6\u4eec\u4f1a\u8fd9\u6837\u60f3\uff1a\u6211\u4eec\u7406\u89e3\u8bf8\u591a\u4e8b\u60c5\uff0c\u5c3d\u7ba1\u6211\u4eec\u5e76\u4e0d\u7406\u89e3\u4e00\u5207\uff0c\u4f46\u662f\u4ece\u539f\u5219\u4e0a\u6240\u6709\u7684\u4e8b\u90fd\u53ef\u4ee5\u88ab\u5b8c\u5168\u8ba4\u8bc6\u3002\u79d1\u5b66\u8fd8\u4e0d\u80fd\u5236\u9020\u751f\u7269\u6216\u4eba\uff0c\u4f46\u4eba\u4eec\u8ba4\u4e3a\uff0c\u6709\u671d\u4e00\u65e5\u80fd\u591f\u5236\u9020\u3002"},{"id":"/2014/09/04/math-physics-diff","metadata":{"permalink":"/blog/2014/09/04/math-physics-diff","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2014-09-04-math-physics-diff.md","source":"@site/src/blog/2014-09-04-math-physics-diff.md","title":"\u6570\u5b66\u7cfb\u548c\u7269\u7406\u7cfb\u5b66\u751f\u6709\u4ec0\u4e48\u5dee\u522b\uff1f","description":"\u6211\u66fe\u7ecf\u6700\u5927\u7684\u68a6\u60f3\uff0c\u5c31\u662f\u5ac1\u7ed9\u4e00\u4e2a\u6570\u5b66\u5bb6\u3002","date":"2014-09-04T00:00:00.000Z","formattedDate":"September 4, 2014","tags":[{"label":"\u8f6c\u6458","permalink":"/blog/tags/\u8f6c\u6458"},{"label":"\u77e5\u4e4e","permalink":"/blog/tags/\u77e5\u4e4e"}],"readingTime":4.255,"hasTruncateMarker":true,"authors":[{"name":"\u5510\u77e5Tata","title":"\u77e5\u4e4e\u7528\u6237","url":"http://www.zhihu.com/people/tang-zhi-tata"}],"frontMatter":{"title":"\u6570\u5b66\u7cfb\u548c\u7269\u7406\u7cfb\u5b66\u751f\u6709\u4ec0\u4e48\u5dee\u522b\uff1f","author":"\u5510\u77e5Tata","author_title":"\u77e5\u4e4e\u7528\u6237","author_url":"http://www.zhihu.com/people/tang-zhi-tata","tags":["\u8f6c\u6458","\u77e5\u4e4e"]},"prevItem":{"title":"\u54f2\u5b66\u601d\u7ef4\u8bb2\u5802 - \u5361\u5c14\xb7\u96c5\u65af\u8d1d\u5c14\u65af","permalink":"/blog/2014/09/09/philosophy-note"}},"content":"import { NetworkCopyRight } from \\"@site/src/components\\";\\n\\n<NetworkCopyRight author=\\"\u5510\u77e5Tata\\" link=\\"http://zhi.hu/4k68\\" />\\n\\n\\n\u6211\u66fe\u7ecf\u6700\u5927\u7684\u68a6\u60f3\uff0c\u5c31\u662f\u5ac1\u7ed9\u4e00\u4e2a\u6570\u5b66\u5bb6\u3002\\n\\n\u4ed6\u8981\u5f53\u4e2a\u9ed1\u5323\u5b50\u3002\u6211\u89e3\u4e0d\u51fa\u6765\u7684\u65b9\u7a0b\uff0c\u79ef\u4e0d\u51fa\u6765\u7684\u79ef\u5206\uff0c\u5f80\u4ed6\u54ea\u91cc\u4e00\u4e22\uff0c\u8fc7\u4e00\u4f1a\u513f\u5c31\u6765\u53d6\u65b0\u9c9c\u7684\u6696\u70d8\u70d8\u7684\u7b54\u6848\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u4ed6\u8bf4\uff1a\u6211\u5e2e\u4f60\u89e3\u51fa\u6765\u4e86\uff0c\u6709\u4ec0\u4e48\u5956\u52b1\u5440\uff1f\\n\\n\u6211\u8bf4\uff1a\u660e\u5929\u518d\u5956\u52b1\u4f60\u4e00\u9053\u3002\\n\\n\u4ed6\u975e\u5e38\u5f00\u5fc3\u5730\u7528\u5f88\u9ad8\u7684\u9891\u7387\u70b9\u5934\uff0c\u6211\u5982\u679c\u5728\u4ed6\u4e0b\u5df4\u5b89\u6839\u9488\uff0c\u5c31\u53ef\u4ee5\u7528\u4ed6\u6765\u7f1d\u8863\u670d\u3002\\n\\n\u6211\u6000\u63e3\u7740\u8fd9\u4e2a\u68a6\u60f3\u53bb\u65c1\u542c\u4e86\u6570\u5b66\u7cfb\u7684\u8bfe\u3002\u539f\u56e0\u4e4b\u4e00\u662f\u4e3a\u4e86\u9003\u907f\u6211\u4eec\u7cfb\u559c\u6b22\u5750\u524d\u6392\u7684\u4e0d\u6d17\u5934\u7684\u7537\u751f\u3002\\n\\n\u7ed3\u679c\u6211\u4ec0\u4e48\u90fd\u6ca1\u542c\u61c2\u3002\u4e0d\u3002\u6211\u4eec\u5b66\u7269\u7406\u7684\u4e5f\u90fd\u5f88\u806a\u660e\u7684\u3002\u542c\u4e0d\u61c2\u4e0d\u662f\u56e0\u4e3a\u542c\u4e0d\u61c2\uff0c\u662f\u56e0\u4e3a\u6570\u5b66\u7cfb\u7684\u7537\u751f\u957f\u5f97\u5b9e\u5728\u592a\u597d\u770b\u4e86\u3002\u5e72\u5e72\u51c0\u51c0\u7684\uff0c\u53ef\u4ee5\u4e0d\u7528\u6d17\u76f4\u63a5\u5403\u3002\\n\\n\u6211\u6311\u6765\u6311\u53bb\uff0c\u6700\u540e\u6311\u5b9a\u4e86\u4e00\u4e2a\u6570\u5b66\u7cfb\u7537\u751f\uff0c\u636e\u8bf4\u7ee9\u70b93.78\uff0c\u4e0d\u7528\u6d17\u76f4\u63a5\u5403\u3002\\n\\n\u90a3\u5929\u6211\u8ddf\u5e26\u6211\u53bb\u6570\u5b66\u7cfb\u65c1\u542c\u7684\u6570\u5b66\u7cfb\u5973\u751f\u4e00\u8d77\u5728\u56fe\u4e66\u9986\u81ea\u4e60\u3002\u90a3\u4e2a\u7537\u751f\u4e5f\u8fc7\u6765\u4e86\u3002\u9664\u4e86\u6211\u4e4b\u5916\uff0c\u6211\u4eec\u90fd\u5728\u8ba4\u8ba4\u771f\u771f\u5730\u770b\u4e66\u3002\\n\\n\u90a3\u4e2a\u5973\u751f\u7a81\u7136\u5f00\u53e3\u8bf4\u8bdd\u4e86:\u6b63\u4ea4\u77e9\u9635\u662f\u4ec0\u4e48\u554a\uff1f\u597d\u591a\u77e9\u9635\u554a\u6211\u90fd\u4e00\u76f4\u5f88\u6df7\u6dc6\u3002\\n\\n\u6211\u4eec\u7269\u7406\u7cfb\u5148\u5b66\u4e86\u7ebf\u6027\u4ee3\u6570\uff0c\u4f46\u662f\u4ed6\u4eec\u5b66\u5f97\u6bd4\u8f83\u4ed4\u7ec6\u6240\u4ee5\u5f88\u6162\u3002\u6211\u5f53\u65f6\u975e\u5e38\u6fc0\u52a8\uff0c\u6ca1\u7b49\u90a3\u4e2a\u7537\u751f\u5f00\u53e3\uff0c\u5c31\u8bf4\u6211\u77e5\u9053\u6211\u77e5\u9053\uff0c\u7136\u540e\u5c31\u628a\u7b54\u6848\u8bf4\u51fa\u6765\u4e86\u3002\u8fd8\u89e3\u91ca\u4e86\u5979\u6df7\u6dc6\u7684\u5176\u4ed6\u51e0\u4e2a\u77e9\u9635\u3002\\n\\n\u90a3\u4e2a\u7537\u751f\u5fae\u7b11\u770b\u7740\u6211\uff0c\u70b9\u70b9\u5934\u8bf4\u5979\u8bf4\u5f97\u5bf9\uff0c\u8fd8\u8865\u5145\u4e86\u4e00\u70b9\u6211\u6ca1\u8bf4\u6e05\u695a\u7684\uff0c\u6211\u5f53\u7136\u662f\u6ca1\u6709\u542c\u8fdb\u53bb\u4ed6\u8865\u5145\u7684\u4ec0\u4e48\u3002\\n\\n\u6211\u5f00\u5fc3\u5f97\u5dee\u70b9\u6655\u8fc7\u53bb\uff0c\u89c9\u5f97\u4ed6\u5df2\u7ecf\u662f\u6211\u7684\u9ed1\u5323\u5b50\u4e86\u3002\\n\\n\u540e\u6765\u90a3\u4e2a\u6570\u5b66\u7cfb\u7684\u5973\u751f\u544a\u8bc9\u6211\uff0c\u90a3\u4e2a\u7537\u751f\u5728\u5979\u751f\u65e5\u7684\u65f6\u5019\u7ed9\u5979\u4e70\u4e86\u4e00\u4e2a\u633a\u8d35\u7684\u793c\u7269\u3002\u6211\u624d\u77e5\u9053\u6211\u6311\u9519\u4eba\u4e86\u3002\u4f46\u662f\u5fc3\u91cc\u8fd8\u662f\u4e0d\u670d\u6c14\u5730\u60f3\uff0c\u4e24\u4e2a\u8bfb\u6570\u5b66\u7684\u5728\u4e00\u8d77\uff0c\u5c31\u4e0d\u662f\u9ed1\u5323\u5b50\u4e86\uff0c\u662f\u4e24\u4e2a\u900f\u660e\u7684\u76d2\u5b50\uff0c\u91cc\u9762\u7684\u96f6\u4ef6\uff0c\u9f7f\u8f6e\uff0c\u770b\u5f97\u6e05\u6e05\u695a\u695a\uff0c\u6709\u4ec0\u4e48\u610f\u601d\u5462\u3002\u8981\u7269\u7406\u7cfb\u7684\u8ddf\u6570\u5b66\u7cfb\u7684\uff0c\u4ed6\u662f\u6211\u7684\u9ed1\u5323\u5b50\uff0c\u6211\u662f\u4ed6\u7684\u732b\uff0c\u8fd9\u6837\u624d\u597d\u3002\\n\\n\u4f46\u662f\u6211\u540e\u6765\u5c31\u6ca1\u4ec0\u4e48\u673a\u4f1a\u63a5\u89e6\u6570\u5b66\u7cfb\u7684\u7537\u751f\u4e86\u3002\u53ea\u662f\u5fc3\u91cc\u8fd8\u4e00\u76f4\u5b58\u7740\u5f53\u5e74\u7b2c\u4e00\u6b21\u5728\u6570\u5b66\u7cfb\u9633\u5149\u5145\u8db3\u7684\u6559\u5ba4\u91cc\u9762\u5fc3\u91cc\u7684\u60ca\u53f9\uff1a\u6570\u5b66\u7cfb\u7684\u4eba\u4e3a\u4ec0\u4e48\u770b\u8d77\u6765\u8fd9\u4e48\u5e72\u51c0\uff01\\n\\n\u6211\u8ddf\u670b\u53cb\u804a\uff0c\u670b\u53cb\u8bf4\uff0c\u53ef\u80fd\u662f\u6570\u5b66\u672c\u6765\u5c31\u6bd4\u7269\u7406\u5e72\u51c0\u5f88\u591a\u3002\u6240\u4ee5\u5b66\u6570\u5b66\u7684\u4eba\u5c31\u662f\u7231\u5e72\u51c0\u7684\u4eba\uff0c\u5b66\u7269\u7406\u7684\u4eba\u603b\u662f\u8981\u63a5\u53d7\u810f\u7684\u3002\u6570\u5b66\u7cfb\u7684\u89c1\u4e86\u6211\u4eec\u8fd9\u7406\u8bba\u6050\u6015\u53c8\u8981\u8bf4\u903b\u8f91\u4e0d\u4e25\u5bc6\u4e86\u3002\u7136\u800c\u6211\u4eec\u5c31\u662f\u770b\u5230\u4e86\u5b9e\u9a8c\u73b0\u8c61\uff0c\u5c31\u80e1\u8bcc\u51fa\u4e00\u4e2a\u7406\u8bba\u6765\u7684\uff0c\u76f4\u5230\u7406\u8bba\u7684\u9884\u8a00\u518d\u88ab\u5b9e\u9a8c\u63a8\u7ffb\uff0c\u5426\u5219\u662f\u6b7b\u4e0d\u8ba4\u8d26\u7684\u3002\\n\\n\u867d\u7136\u5176\u5b9e\u540e\u6765\u4e5f\u53d1\u73b0\u4e86\u6211\u4eec\u7cfb\u5f88\u591a\u4f1a\u6d17\u5934\u53d1\u7684\u7537\u795e\uff0c\u5374\u4e5f\u603b\u662f\u62b9\u4e0d\u6389\u201c\u5b66\u6570\u5b66\u7684\u4eba\u5e72\u51c0\u5b66\u7269\u7406\u7684\u4eba\u810f\u201d\u7684\u5370\u8c61\u4e86\u3002\\n\\n\u5176\u5b9e\u4e5f\u8bb8\u53ea\u662f\u90a3\u5929\u9633\u5149\u592a\u597d\u7f62\u4e86\u3002"}]}')}}]);