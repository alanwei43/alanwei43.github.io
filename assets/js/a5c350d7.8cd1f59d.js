"use strict";(self.webpackChunkalan_blog=self.webpackChunkalan_blog||[]).push([[39907],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>c});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},m=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),h=s(a),c=r,d=h["".concat(p,".").concat(c)]||h[c]||u[c]||i;return a?n.createElement(d,l(l({ref:t},m),{},{components:a})):n.createElement(d,l({ref:t},m))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=h;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=a[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},30382:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var n=a(87462),r=(a(67294),a(3905));const i={title:"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26",author:"\u7f51\u7edc",author_url:"https://www.cyberciti.biz/tips/howto-linux-unix-bash-shell-setup-prompt.html",tags:["linux","bash"],description:"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26",draft:!1,hide_table_of_contents:!1},l=void 0,o={permalink:"/blog/2021/04/11/customize-bash-prompt",editUrl:"https://github.com/alanwei43/blog/tree/master/src/blog/2021/04/11-customize-bash-prompt.md",source:"@site/src/blog/2021/04/11-customize-bash-prompt.md",title:"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26",description:"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26",date:"2021-04-11T00:00:00.000Z",formattedDate:"April 11, 2021",tags:[{label:"linux",permalink:"/blog/tags/linux"},{label:"bash",permalink:"/blog/tags/bash"}],readingTime:4.1,hasTruncateMarker:!0,authors:[{name:"\u7f51\u7edc",url:"https://www.cyberciti.biz/tips/howto-linux-unix-bash-shell-setup-prompt.html"}],frontMatter:{title:"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26",author:"\u7f51\u7edc",author_url:"https://www.cyberciti.biz/tips/howto-linux-unix-bash-shell-setup-prompt.html",tags:["linux","bash"],description:"\u81ea\u5b9a\u4e49Linux Bash\u7ec8\u7aef\u63d0\u793a\u7b26",draft:!1,hide_table_of_contents:!1},prevItem:{title:"\u521b\u5efaWindows\u670d\u52a1",permalink:"/blog/2021/04/11/create-windows-service"},nextItem:{title:"\u4f7f\u7528 Docker \u90e8\u7f72 Sentry",permalink:"/blog/2021/04/11/docker-sentry-deploy"}},p={authorsImageUrls:[void 0]},s=[{value:"How do I display current bash shell prompt setting?",id:"how-do-i-display-current-bash-shell-prompt-setting",level:2},{value:"How do I modify or change the prompt?",id:"how-do-i-modify-or-change-the-prompt",level:3},{value:"How do I add colors to my prompt?",id:"how-do-i-add-colors-to-my-prompt",level:2},{value:"Putting it all together",id:"putting-it-all-together",level:2}],m={toc:s};function u(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Prompt is control via a special shell variable. You need to set ",(0,r.kt)("inlineCode",{parentName:"p"},"PS1"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"PS2"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"PS3")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"PS4")," variable. If set, the value is executed as a command prior to issuing each primary prompt."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PS1")," \u2013 The value of this parameter is expanded (see PROMPTING below) and used as the primary prompt string. The default value is \\s-\\v\\$ ."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PS2")," \u2013 The value of this parameter is expanded as with PS1 and used as the secondary prompt string. The default is >"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PS3")," \u2013 The value of this parameter is used as the prompt for the select command"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PS4")," \u2013 The value of this parameter is expanded as with PS1 and the value is printed before each command bash displays during an execution trace. The first character of PS4 is replicated multiple times, as necessary, to indicate multiple levels of indirection. The default is ",(0,r.kt)("inlineCode",{parentName:"li"},"+"))),(0,r.kt)("h2",{id:"how-do-i-display-current-bash-shell-prompt-setting"},"How do I display current bash shell prompt setting?"),(0,r.kt)("p",null,"Simply use the echo command, enter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ echo $PS1\n")),(0,r.kt)("p",null,"Sample output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[\\u@\\h \\W]\\$\n")),(0,r.kt)("h3",{id:"how-do-i-modify-or-change-the-prompt"},"How do I modify or change the prompt?"),(0,r.kt)("p",null,"Modifying the prompt is easy task. Just assign a new value to PS1 and hit enter key:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'PS1="touch me : "\n')),(0,r.kt)("p",null,"Sample outputs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"touch me : \n")),(0,r.kt)("p",null,"So when executing interactively, bash displays the primary prompt ",(0,r.kt)("inlineCode",{parentName:"p"},"PS1")," when it is ready to read a command, and the secondary prompt ",(0,r.kt)("inlineCode",{parentName:"p"},"PS2")," when it needs more input to complete a command. Bash allows these prompt strings to be customized by inserting a number of backslash-escaped special characters that are decoded as follows:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\a")," : an ASCII bell character (07)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\d")," : the date in \u201cWeekday Month Date\u201d format (e.g., \u201cTue May 26\u201d)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\D{format}")," : the format is passed to strftime(3) and the result is inserted into the prompt string; an empty format results in a locale-specific time representation. The braces are required"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\e")," : an ASCII escape character (033)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\h")," : the hostname up to the first \u2018.\u2019"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\H")," : the hostname"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\j")," : the number of jobs currently managed by the shell"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\l")," : the basename of the shell\xe2\u20ac\u2122s terminal device name"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\n")," : newline"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\r")," : carriage return"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\s")," : the name of the shell, the basename of $0 (the portion following the final slash)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\t")," : the current time in 24-hour HH:MM:SS format"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\T")," : the current time in 12-hour HH:MM:SS format"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\@")," : the current time in 12-hour am/pm format"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\A")," : the current time in 24-hour HH:MM format"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\u")," : the username of the current user"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\v")," : the version of bash (e.g., 2.00)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\V")," : the release of bash, version + patch level (e.g., 2.00.0)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\w")," : the current working directory, with $HOME abbreviated with a tilde"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\W")," : the basename of the current working directory, with $HOME abbreviated with a tilde"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\!")," : the history number of this command"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\#")," : the command number of this command"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\$")," : if the effective UID is 0, a #, otherwise a $"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\nnn")," : the character corresponding to the octal number nnn"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\\\")," : a backslash"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\[")," : begin a sequence of non-printing characters, which could be used to embed a terminal control sequence into the prompt"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"\\]")," : end a sequence of non-printing characters")),(0,r.kt)("p",null,"Examples"),(0,r.kt)("p",null,"Let us try to set the prompt so that it can display today\u2019s date and hostname:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'PS1="\\d \\h $ "\n')),(0,r.kt)("p",null,"Sample output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Sat Jun 02 server $ \n")),(0,r.kt)("p",null,"Now setup prompt to display date/time, hostname and the current working directory:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'PS1="[\\d \\t \\u@\\h:\\w ] $ "\n')),(0,r.kt)("p",null,"Sample utputs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[Sat Jun 02 14:24:12 vivek@server:~ ] $\n")),(0,r.kt)("h2",{id:"how-do-i-add-colors-to-my-prompt"},"How do I add colors to my prompt?"),(0,r.kt)("p",null,"You can change the ",(0,r.kt)("a",{parentName:"p",href:"https://www.cyberciti.biz/faq/bash-shell-change-the-color-of-my-shell-prompt-under-linux-or-unix/"},"color of your shell prompt")," to impress your friend or to make your own life quite easy while working at command prompt."),(0,r.kt)("h2",{id:"putting-it-all-together"},"Putting it all together"),(0,r.kt)("p",null,"Let us say when you login as root/superuser, you want to get visual confirmation using red color prompt. To distinguish between superuser and normal user you use last character in the prompt, if it changes from $ to #, you have superuser privileges. So let us set your prompt color to RED when you login as root, otherwise display normal prompt."),(0,r.kt)("p",null,"Open ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/bashrc")," (Redhat and friends) ",(0,r.kt)("inlineCode",{parentName:"p"},"/")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/bash.bashrc")," (Debian/Ubuntu) or ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/bash.bashrc.local")," (Suse and others) file and append following code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"vi /etc/bashrc\n")),(0,r.kt)("p",null,"Append the code as follows"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'# If id command returns zero, you got root access.\nif [ $(id -u) -eq 0 ];\nthen # you are root, set red colour prompt\n  PS1="\\\\[$(tput setaf 1)\\\\]\\\\u@\\\\h:\\\\w #\\\\[$(tput sgr0)\\\\]"\nelse # normal\n  PS1="[\\\\u@\\\\h:\\\\w] $"\nfi\n')),(0,r.kt)("p",null,"Close and save the file."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cyberciti.biz/tips/howto-linux-unix-bash-shell-setup-prompt.html"},"\u539f\u6587 - How To Customize Bash Prompt In Linux"))))}u.isMDXComponent=!0}}]);