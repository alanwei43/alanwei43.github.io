"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[89864],{11337:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var o=r(46455),n=r(74848),a=r(28453);const i={title:"Dockerfile \u6307\u5b9a entrypoint \u4e4b\u540e\u8fd0\u884c\u62a5 exec format error \u9519\u8bef",author:"Alan",author_title:"Maintainer of blog",author_url:"https://github.com/alanwei43",author_image_url:"https://github.com/alanwei43.png",tags:["docker"],draft:!1,hide_table_of_contents:!1},c=void 0,s={authorsImageUrls:[void 0]},l=[];function h(e){const t={a:"a",blockquote:"blockquote",code:"code",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"Dockerfile"})," \u6307\u5b9a ",(0,n.jsx)(t.code,{children:"entrypoint"})," \u811a\u672c\u540e, \u8fd0\u884c\u63d0\u793a\u4e00\u4e0b\u9519\u8bef:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"standard_init_linux.go:228: exec user process caused: exec format error\n"})}),"\n",(0,n.jsxs)(t.p,{children:["\u8fd9\u79cd\u60c5\u51b5\u5c1d\u8bd5\u7ed9 ",(0,n.jsx)(t.code,{children:"entrypoint"})," \u6307\u5b9a\u7684shell\u811a\u672c\u6dfb\u52a0shebang:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",metastring:'title="entrypoint.sh"',children:"#!/bin/bash\n\ncode-server --config /code-server/config.yaml /app # \u4f60\u7684\u811a\u672c\u5185\u5bb9\n"})}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["\u6765\u6e90: ",(0,n.jsx)(t.a,{href:"https://bobcares.com/blog/docker-exec-format-error/",children:"Docker exec format error \u2013 How we sort it out?"}),":"]}),"\n"]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["The shebang is always on the first line of the script, and is composed of ",(0,n.jsx)(t.code,{children:"#!"})," Characters. So the Shebang (",(0,n.jsx)(t.code,{children:"#!/bin/bash"}),") should be put on the first line of the script because the first bytes were checked by kernel. So we add the shebang in the script."]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>i,x:()=>c});var o=r(96540);const n={},a=o.createContext(n);function i(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),o.createElement(a.Provider,{value:t},e.children)}},46455:e=>{e.exports=JSON.parse('{"permalink":"/blog/2022/05/15/docker-entrypoint-exec-format-error","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2022/05/15-docker-entrypoint-exec-format-error.md","source":"@site/src/blog/2022/05/15-docker-entrypoint-exec-format-error.md","title":"Dockerfile \u6307\u5b9a entrypoint \u4e4b\u540e\u8fd0\u884c\u62a5 exec format error \u9519\u8bef","description":"Dockerfile \u6307\u5b9a entrypoint \u811a\u672c\u540e, \u8fd0\u884c\u63d0\u793a\u4e00\u4e0b\u9519\u8bef:","date":"2022-05-15T00:00:00.000Z","tags":[{"inline":true,"label":"docker","permalink":"/blog/tags/docker"}],"readingTime":0.585,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png","key":null,"page":null}],"frontMatter":{"title":"Dockerfile \u6307\u5b9a entrypoint \u4e4b\u540e\u8fd0\u884c\u62a5 exec format error \u9519\u8bef","author":"Alan","author_title":"Maintainer of blog","author_url":"https://github.com/alanwei43","author_image_url":"https://github.com/alanwei43.png","tags":["docker"],"draft":false,"hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"\u4f7f\u7528Linux\u547d\u4ee4\u884c\u68c0\u6d4b\u786c\u4ef6\u4fe1\u606f","permalink":"/blog/2022/05/21/linux-devices-info"},"nextItem":{"title":"\u5f00\u653e docker daemon TCP \u7aef\u53e3\u53f7 2375","permalink":"/blog/2022/05/14/docker-daemon-tcp-port"}}')}}]);