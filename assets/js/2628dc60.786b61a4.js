"use strict";(self.webpackChunkalan_blog=self.webpackChunkalan_blog||[]).push([[26984],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>y});var i=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,i,o=function(e,t){if(null==e)return{};var r,i,o={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var a=i.createContext({}),p=function(e){var t=i.useContext(a),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=p(e.components);return i.createElement(a.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var r=e.components,o=e.mdxType,n=e.originalType,a=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(r),y=o,w=d["".concat(a,".").concat(y)]||d[y]||c[y]||n;return r?i.createElement(w,s(s({ref:t},u),{},{components:r})):i.createElement(w,s({ref:t},u))}));function y(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=r.length,s=new Array(n);s[0]=d;var l={};for(var a in t)hasOwnProperty.call(t,a)&&(l[a]=t[a]);l.originalType=e,l.mdxType="string"==typeof e?e:o,s[1]=l;for(var p=2;p<n;p++)s[p]=r[p];return i.createElement.apply(null,s)}return i.createElement.apply(null,r)}d.displayName="MDXCreateElement"},94545:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>a,contentTitle:()=>s,default:()=>w,frontMatter:()=>n,metadata:()=>l,toc:()=>p});var i=r(87462),o=(r(67294),r(3905));const n={title:"How to Setup Reverse Proxy on IIS with URL-Rewrite",author:"\u8f6c\u6458",author_url:"https://tecadmin.net/set-up-reverse-proxy-using-iis/",tags:["iis","reverse proxy","url rewrite"],description:"\u4f7f\u7528IIS\u7684URL Rewrite\u8bbe\u7f6e\u53cd\u5411\u4ee3\u7406",draft:!1,hide_table_of_contents:!1},s=void 0,l={permalink:"/blog/2021/04/11/iis-reverse-proxy-url-rewrite",editUrl:"https://github.com/alanwei43/blog/tree/master/src/blog/2021/04/11-iis-reverse-proxy-url-rewrite.md",source:"@site/src/blog/2021/04/11-iis-reverse-proxy-url-rewrite.md",title:"How to Setup Reverse Proxy on IIS with URL-Rewrite",description:"\u4f7f\u7528IIS\u7684URL Rewrite\u8bbe\u7f6e\u53cd\u5411\u4ee3\u7406",date:"2021-04-11T00:00:00.000Z",formattedDate:"April 11, 2021",tags:[{label:"iis",permalink:"/blog/tags/iis"},{label:"reverse proxy",permalink:"/blog/tags/reverse-proxy"},{label:"url rewrite",permalink:"/blog/tags/url-rewrite"}],readingTime:2.045,hasTruncateMarker:!0,authors:[{name:"\u8f6c\u6458",url:"https://tecadmin.net/set-up-reverse-proxy-using-iis/"}],frontMatter:{title:"How to Setup Reverse Proxy on IIS with URL-Rewrite",author:"\u8f6c\u6458",author_url:"https://tecadmin.net/set-up-reverse-proxy-using-iis/",tags:["iis","reverse proxy","url rewrite"],description:"\u4f7f\u7528IIS\u7684URL Rewrite\u8bbe\u7f6e\u53cd\u5411\u4ee3\u7406",draft:!1,hide_table_of_contents:!1},prevItem:{title:"\u4f7f\u7528 Docker \u90e8\u7f72 Sentry",permalink:"/blog/2021/04/11/docker-sentry-deploy"},nextItem:{title:"\u67e5\u770b\u5f53\u524d\u673a\u5668\u7684\u6240\u6709SSH\u8fde\u63a5",permalink:"/blog/2021/04/11/linux-show-ssh-connection"}},a={authorsImageUrls:[void 0]},p=[{value:"What is URL Rewrite Module?",id:"what-is-url-rewrite-module",level:2},{value:"Set Up Reverse Proxy Using IIS",id:"set-up-reverse-proxy-using-iis",level:2}],u=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)},c=u("ResourceLink"),d=u("GiteeImage"),y={toc:p};function w(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,i.Z)({},y,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Most of the system administrator is aware of the reverse proxy. It is a type of proxy server which fetches the resources from one or more computers on clients requests and send back to the client. In simple terms, it works as an intermediate server, which listens to clients query. Then requests to server bases of clients query and returns results to client sent by the server. This tutorial will help you to setup reverse proxy using IIS with URL rewrite and application request routing extension."),(0,o.kt)("p",null,"We can configure reverse proxy in IIS using URL Rewrite module. This is similar to the mod_rewrite module in Apache. Before starting work make sure you have installed and enabled URL Rewrite module in IIS server."),(0,o.kt)("h2",{id:"what-is-url-rewrite-module"},"What is URL Rewrite Module?"),(0,o.kt)("p",null,"URL Rewrite Module is officially provided by IIS development tool to extend the functionality of IIS web server. It provides additional functionality to rewrite application URL. This helps to make clean and SEO friendly URLs."),(0,o.kt)("p",null,"You can visit below URL and download and install URL rewrite IIS extension:"),(0,o.kt)(c,{href:"files/iis-reverse-proxy/IIS_ARR_requestRouter_amd64.msi",mdxType:"ResourceLink"}," http://www.iis.net/downloads/microsoft/url-rewrite "),(0,o.kt)("p",null,"You also need Application Request Routing extension to install on your system. Visit the following URL to download the extension and install on your system."),(0,o.kt)(c,{href:"files/iis-reverse-proxy/IIS_URL_Rewriter_rewrite_amd64_en-US.msi",mdxType:"ResourceLink"}," https://www.iis.net/downloads/microsoft/application-request-routing "),(0,o.kt)("p",null,"For more details, visit our other article here."),(0,o.kt)("h2",{id:"set-up-reverse-proxy-using-iis"},"Set Up Reverse Proxy Using IIS"),(0,o.kt)("p",null,"Let\u2019s start with the configuration of the reverse proxy. For this tutorial, I have created a dummy web application running on port 3000 using node.js. You can see the below screenshot of the web application."),(0,o.kt)(d,{src:"files/iis-reverse-proxy/site-access-without-proxy.png",mdxType:"GiteeImage"}),(0,o.kt)("p",null,"Now, open the IIS by typing \u201cinetmgr\u201d in run window. Select your website under sites in left side section. Now select \u201cURL Rewrite\u201d option."),(0,o.kt)(d,{src:"files/iis-reverse-proxy/iis-url-rewrite.png",mdxType:"GiteeImage"}),(0,o.kt)("p",null,"Now click on \u201cAdd Rule(s)\u2026\u201d in actions section on the right side. See below screenshot for this link."),(0,o.kt)(d,{src:"files/iis-reverse-proxy/add-rule-iis-rewrite.png",mdxType:"GiteeImage"}),(0,o.kt)("p",null,"Now select Reverse Proxy under inbound and outbound section."),(0,o.kt)(d,{src:"files/iis-reverse-proxy/select-reverse-proxy.png",mdxType:"GiteeImage"}),(0,o.kt)("p",null,"The above option will open a window, Add the server name or IP address with port under inbound rules input box. This is the URL from where reverse proxy will server data on clients request."),(0,o.kt)(d,{src:"files/iis-reverse-proxy/backend-server-url.png",mdxType:"GiteeImage"}),(0,o.kt)("p",null,"At this point, the reverse proxy setup has been done. Now access web site configured with IIS. You will see the backend application is accessible here. This is the reverse proxy in working."),(0,o.kt)(d,{src:"files/iis-reverse-proxy/site-access-with-proxy.png",mdxType:"GiteeImage"}),(0,o.kt)("p",null,"This is the reverse proxy in working."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("a",{parentName:"p",href:"https://tecadmin.net/set-up-reverse-proxy-using-iis/"},"\u539f\u6587"))))}w.isMDXComponent=!0}}]);