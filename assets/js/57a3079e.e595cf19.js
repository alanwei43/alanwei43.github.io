"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[33550],{9521:(e,i,s)=>{s.d(i,{A:()=>r});const r=s.p+"assets/images/IIS-Proxy-Tutorial-3-75e4abdf0a10a1a52f6da1ae449e3c5e.png"},15656:(e,i,s)=>{s.d(i,{A:()=>r});const r=s.p+"assets/images/IIS-Proxy-Tutorial-2-5e46763e48355cdf1ba395a035fd3940.png"},28453:(e,i,s)=>{s.d(i,{R:()=>t,x:()=>l});var r=s(96540);const n={},o=r.createContext(n);function t(e){const i=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),r.createElement(o.Provider,{value:i},e.children)}},28533:(e,i,s)=>{s.d(i,{A:()=>r});const r=s.p+"assets/images/IIS-Proxy-Tutorial-7-d44020cedc500a4eb03d0ff025dc8c2a.png"},42782:(e,i,s)=>{s.d(i,{A:()=>r});const r=s.p+"assets/images/IIS-Proxy-Tutorial-4-c24f532abb6500cc1536c0a5b0de7181.png"},52515:(e,i,s)=>{s.d(i,{A:()=>r});const r=s.p+"assets/images/IIS-Proxy-Tutorial-1-c6ede66318fcec5b737e9fc11719c0f1.png"},54775:e=>{e.exports=JSON.parse('{"permalink":"/blog/2021/04/11/iis-reverse-proxy","editUrl":"https://github.com/alanwei43/blog/tree/master/src/blog/2021/04/11-iis-reverse-proxy/index.md","source":"@site/src/blog/2021/04/11-iis-reverse-proxy/index.md","title":"\u914d\u7f6eIIS\u53cd\u5411\u4ee3\u7406\u6559\u7a0b","description":"IIS\u914d\u7f6e\u53cd\u5411\u4ee3\u7406","date":"2021-04-11T00:00:00.000Z","tags":[{"inline":true,"label":"iis","permalink":"/blog/tags/iis"},{"inline":true,"label":"proxy reverse","permalink":"/blog/tags/proxy-reverse"}],"readingTime":1.305,"hasTruncateMarker":true,"authors":[{"name":"Alan","title":"Maintainer of the Blog","url":"https://github.com/alanwei43","imageURL":"https://github.com/alanwei43.png","key":"alan","page":null}],"frontMatter":{"authors":["alan"],"tags":["iis","proxy reverse"],"description":"IIS\u914d\u7f6e\u53cd\u5411\u4ee3\u7406","draft":false,"hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"\u5236\u4f5cWindows\u542f\u52a8\u76d8","permalink":"/blog/2021/04/11/windows-bootable-device"},"nextItem":{"title":"Node.js require \u7f13\u5b58","permalink":"/blog/2021/04/10/node-require-cache"}}')},57682:(e,i,s)=>{s.d(i,{A:()=>r});const r=s.p+"assets/images/IIS-Proxy-Tutorial-8-b824f59b3b432c0060f8ae654ae392c9.png"},72507:(e,i,s)=>{s.d(i,{A:()=>r});const r=s.p+"assets/images/IIS-Proxy-Tutorial-9-f51bc7d70925ed7e8221daaedba641a0.png"},77443:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>a});var r=s(54775),n=s(74848),o=s(28453);const t={authors:["alan"],tags:["iis","proxy reverse"],description:"IIS\u914d\u7f6e\u53cd\u5411\u4ee3\u7406",draft:!1,hide_table_of_contents:!1},l="\u914d\u7f6eIIS\u53cd\u5411\u4ee3\u7406\u6559\u7a0b",d={authorsImageUrls:[void 0]},a=[{value:"\u51c6\u5907\u5de5\u4f5c",id:"\u51c6\u5907\u5de5\u4f5c",level:2},{value:"ARR\u8bbe\u7f6e",id:"arr\u8bbe\u7f6e",level:2},{value:"\u914d\u7f6e\u7ad9\u70b9",id:"\u914d\u7f6e\u7ad9\u70b9",level:2}];function c(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components},{ResourceLink:r}=i;return r||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ResourceLink",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.p,{children:["\u5047\u8bbe\u5c06\u57df\u540d",(0,n.jsx)(i.code,{children:"www.helloworld.com"}),"\u4ee3\u7406\u5230\u672c\u5730\u7684",(0,n.jsx)(i.code,{children:"8080"}),"\u7aef\u53e3"]}),"\n",(0,n.jsx)(i.h2,{id:"\u51c6\u5907\u5de5\u4f5c",children:"\u51c6\u5907\u5de5\u4f5c"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"\u5b89\u88c5 IIS"}),"\n",(0,n.jsxs)(i.li,{children:["\u5b89\u88c5 ",(0,n.jsx)(i.a,{href:"https://www.iis.net/downloads/microsoft/url-rewrite",children:"URL Rewrite"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(r,{href:"files/iis-reverse-proxy/IIS_ARR_requestRouter_amd64.msi",children:"Gitee"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\u5b98\u65b9\u4e0b\u8f7d","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["English: ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/D/8/1/D81E5DD6-1ABB-46B0-9B4B-21894E18B77F/rewrite_x86_en-US.msi",children:"x86 installer"})," ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/1/2/8/128E2E22-C1B9-44A4-BE2A-5859ED1D4592/rewrite_amd64_en-US.msi",children:"x64 installer"})]}),"\n",(0,n.jsxs)(i.li,{children:["German: ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/D/8/1/D81E5DD6-1ABB-46B0-9B4B-21894E18B77F/rewrite_x86_de-DE.msi",children:"x86 installer"})," ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/1/2/8/128E2E22-C1B9-44A4-BE2A-5859ED1D4592/rewrite_amd64_de-DE.msi",children:"x64 installer"})]}),"\n",(0,n.jsxs)(i.li,{children:["Spanish: ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/D/8/1/D81E5DD6-1ABB-46B0-9B4B-21894E18B77F/rewrite_x86_es-ES.msi",children:"x86 installer"})," ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/1/2/8/128E2E22-C1B9-44A4-BE2A-5859ED1D4592/rewrite_amd64_es-ES.msi",children:"x64 installer"})]}),"\n",(0,n.jsxs)(i.li,{children:["French: ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/D/8/1/D81E5DD6-1ABB-46B0-9B4B-21894E18B77F/rewrite_x86_fr-FR.msi",children:"x86 installer"})," ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/1/2/8/128E2E22-C1B9-44A4-BE2A-5859ED1D4592/rewrite_amd64_fr-FR.msi",children:"x64 installer"})]}),"\n",(0,n.jsxs)(i.li,{children:["Italian: ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/D/8/1/D81E5DD6-1ABB-46B0-9B4B-21894E18B77F/rewrite_x86_it-IT.msi",children:"x86 installer"})," ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/1/2/8/128E2E22-C1B9-44A4-BE2A-5859ED1D4592/rewrite_amd64_it-IT.msi",children:"x64 installer"})]}),"\n",(0,n.jsxs)(i.li,{children:["Japanese: ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/D/8/1/D81E5DD6-1ABB-46B0-9B4B-21894E18B77F/rewrite_x86_ja-JP.msi",children:"x86 installer"})," ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/1/2/8/128E2E22-C1B9-44A4-BE2A-5859ED1D4592/rewrite_amd64_ja-JP.msi",children:"x64 installer"})]}),"\n",(0,n.jsxs)(i.li,{children:["Korean: ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/D/8/1/D81E5DD6-1ABB-46B0-9B4B-21894E18B77F/rewrite_x86_ko-KR.msi",children:"x86 installer"})," ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/1/2/8/128E2E22-C1B9-44A4-BE2A-5859ED1D4592/rewrite_amd64_ko-KR.msi",children:"x64 installer"})]}),"\n",(0,n.jsxs)(i.li,{children:["Russian: ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/D/8/1/D81E5DD6-1ABB-46B0-9B4B-21894E18B77F/rewrite_x86_ru-RU.msi",children:"x86 installer"})," ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/1/2/8/128E2E22-C1B9-44A4-BE2A-5859ED1D4592/rewrite_amd64_ru-RU.msi",children:"x64 installer"})]}),"\n",(0,n.jsxs)(i.li,{children:["Chinese Simplified: ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/D/8/1/D81E5DD6-1ABB-46B0-9B4B-21894E18B77F/rewrite_x86_zh-CN.msi",children:"x86 installer"})," ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/1/2/8/128E2E22-C1B9-44A4-BE2A-5859ED1D4592/rewrite_amd64_zh-CN.msi",children:"x64 installer"})]}),"\n",(0,n.jsxs)(i.li,{children:["Chinese Traditional: ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/D/8/1/D81E5DD6-1ABB-46B0-9B4B-21894E18B77F/rewrite_x86_zh-TW.msi",children:"x86 installer"})," ",(0,n.jsx)(i.a,{href:"https://download.microsoft.com/download/1/2/8/128E2E22-C1B9-44A4-BE2A-5859ED1D4592/rewrite_amd64_zh-TW.msi",children:"x64 installer"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\u5b89\u88c5 ",(0,n.jsx)(i.a,{href:"https://www.iis.net/downloads/microsoft/application-request-routing",children:"Application Request Routing"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(r,{href:"files/iis-reverse-proxy/IIS_URL_Rewriter_rewrite_amd64_en-US.msi",children:"Gitee\u4e0b\u8f7d"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\u5b98\u65b9\u4e0b\u8f7d","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://go.microsoft.com/fwlink/?LinkID=615135",children:"x86 installer"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.a,{href:"https://go.microsoft.com/fwlink/?LinkID=615136",children:"x64 installer"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\u5728 ",(0,n.jsx)(i.code,{children:"C:\\Windows\\System32\\drivers\\etc\\hosts"})," \u6587\u4ef6\u589e\u52a0\u57df\u540d\u89e3\u6790 ",(0,n.jsx)(i.code,{children:"127.0.0.1 www.helloworld.com"})]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"arr\u8bbe\u7f6e",children:"ARR\u8bbe\u7f6e"}),"\n",(0,n.jsxs)(i.p,{children:["\u8fdb\u5165\u5230 ARR \u8bbe\u7f6e:\n",(0,n.jsx)(i.img,{alt:"1",src:s(52515).A+"",width:"1632",height:"937"})]}),"\n",(0,n.jsxs)(i.p,{children:["\u53f3\u4fa7\u70b9\u51fb ",(0,n.jsx)(i.em,{children:"Server Proxy Settings"}),":\n",(0,n.jsx)(i.img,{alt:"2",src:s(15656).A+"",width:"1632",height:"937"})]}),"\n",(0,n.jsxs)(i.p,{children:["\u5f00\u542f ",(0,n.jsx)(i.em,{children:"Enable Proxy"})," \u5e76\u70b9\u51fb ",(0,n.jsx)(i.em,{children:"Apply"})," \u4fdd\u5b58\u8bbe\u7f6e:\n",(0,n.jsx)(i.img,{alt:"3",src:s(9521).A+"",width:"1632",height:"937"})]}),"\n",(0,n.jsx)(i.h2,{id:"\u914d\u7f6e\u7ad9\u70b9",children:"\u914d\u7f6e\u7ad9\u70b9"}),"\n",(0,n.jsxs)(i.p,{children:["\u65b0\u5efa\u4e00\u4e2a\u7ad9\u70b9",(0,n.jsx)(i.code,{children:"helloworld"}),"(\u7ad9\u70b9\u540d\u79f0\u968f\u610f), \u5e76\u7ed1\u5b9a\u57df\u540d",(0,n.jsx)(i.code,{children:"www.helloworld.com"}),":"]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"4",src:s(42782).A+"",width:"731",height:"840"})}),"\n",(0,n.jsx)(i.admonition,{type:"note",children:(0,n.jsxs)(i.p,{children:["\u6ce8\u610f\u7aef\u53e3\u53f7\u8981\u662f ",(0,n.jsx)(i.code,{children:"80"}),", ",(0,n.jsx)(i.em,{children:"Host name"})," \u586b\u5199\u8981\u7ed1\u5b9a\u7684\u57df\u540d"]})}),"\n",(0,n.jsxs)(i.p,{children:["\u914d\u7f6e",(0,n.jsx)(i.code,{children:"helloworld"}),"\u7ad9\u70b9\u7684URL Rewrite:"]}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.img,{alt:"tutorial",src:s(95271).A+"",width:"1632",height:"937"}),"\n",(0,n.jsx)(i.img,{alt:"tutorial",src:s(92620).A+"",width:"1632",height:"937"}),"\n",(0,n.jsx)(i.img,{alt:"tutorial",src:s(28533).A+"",width:"1632",height:"937"}),"\n",(0,n.jsx)(i.img,{alt:"tutorial",src:s(57682).A+"",width:"710",height:"717"})]}),"\n",(0,n.jsxs)(i.p,{children:["\u914d\u7f6e\u5b8c\u6210\u4e4b\u540e\u8bbf\u95ee ",(0,n.jsx)(i.code,{children:"www.helloworld.com"})," \u5b9e\u9645\u4e0a\u8bbf\u95ee\u7684\u662fIIS\u7684\u7ad9\u70b9",(0,n.jsx)(i.code,{children:"helloworld"}),", \u7136\u540eIIS\u4f1a\u5c06\u8bf7\u6c42\u8def\u7531\u5230",(0,n.jsx)(i.code,{children:"127.0.0.1:8080"}),", \u770b\u5230\u7684\u6548\u679c\u5982\u4e0b:"]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"tutorial",src:s(72507).A+"",width:"946",height:"255"})})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},92620:(e,i,s)=>{s.d(i,{A:()=>r});const r=s.p+"assets/images/IIS-Proxy-Tutorial-6-8dad2fbc915f46ae21bce17b937feed8.png"},95271:(e,i,s)=>{s.d(i,{A:()=>r});const r=s.p+"assets/images/IIS-Proxy-Tutorial-5-cf595aa8efdfd6c87a6c2ef919cac795.png"}}]);